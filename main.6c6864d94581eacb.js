(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{14:(Cn,mt,P)=>{"use strict";P.d(mt,{nm:()=>Vt});var y=P(4556);P(5879),P(4097);var $e=P(5861),Ee=P(534),je=P(4537),z=P(9058),Re=P(7879);const ve=new Map,we={activated:!1,tokenObservers:[]},We={initialized:!1,enabled:!1};function lt(ft){return ve.get(ft)||Object.assign({},we)}function ht(){return We}const It="https://content-firebaseappcheck.googleapis.com/v1",Me="exchangeDebugToken",Q={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Le{constructor(bt,Ct,dn,Nn,qn){if(this.operation=bt,this.retryPolicy=Ct,this.getWaitDuration=dn,this.lowerBound=Nn,this.upperBound=qn,this.pending=null,this.nextErrorWaitInterval=Nn,Nn>qn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(bt){var Ct=this;return(0,$e.Z)(function*(){Ct.stop();try{Ct.pending=new z.BH,yield function vt(ft){return new Promise(bt=>{setTimeout(bt,ft)})}(Ct.getNextRun(bt)),Ct.pending.resolve(),yield Ct.pending.promise,Ct.pending=new z.BH,yield Ct.operation(),Ct.pending.resolve(),yield Ct.pending.promise,Ct.process(!0).catch(()=>{})}catch(dn){Ct.retryPolicy(dn)?Ct.process(!1).catch(()=>{}):Ct.stop()}})()}getNextRun(bt){if(bt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ct=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ct}}}const xt=new z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xt(ft){if(!lt(ft).activated)throw xt.create("use-before-activation",{appName:ft.name})}function Nt(ft,bt){return tn.apply(this,arguments)}function tn(){return(tn=(0,$e.Z)(function*({url:ft,body:bt},Ct){const dn={"Content-Type":"application/json"},Nn=Ct.getImmediate({optional:!0});if(Nn){const yi=yield Nn.getHeartbeatsHeader();yi&&(dn["X-Firebase-Client"]=yi)}const qn={method:"POST",body:JSON.stringify(bt),headers:dn};let kn,Pn;try{kn=yield fetch(ft,qn)}catch(yi){throw xt.create("fetch-network-error",{originalErrorMessage:null==yi?void 0:yi.message})}if(200!==kn.status)throw xt.create("fetch-status-error",{httpStatus:kn.status});try{Pn=yield kn.json()}catch(yi){throw xt.create("fetch-parse-error",{originalErrorMessage:null==yi?void 0:yi.message})}const Xn=Pn.ttl.match(/^([\d.]+)(s)$/);if(!Xn||!Xn[2]||isNaN(Number(Xn[1])))throw xt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Pn.ttl}`});const vi=1e3*Number(Xn[1]),Os=Date.now();return{token:Pn.token,expireTimeMillis:Os+vi,issuedAtTimeMillis:Os}})).apply(this,arguments)}function Bn(ft,bt){const{projectId:Ct,appId:dn,apiKey:Nn}=ft.options;return{url:`${It}/projects/${Ct}/apps/${dn}:${Me}?key=${Nn}`,body:{debug_token:bt}}}const $n="firebase-app-check-database",tr=1,Ar="firebase-app-check-store";let sr=null;function Br(){return(Br=(0,$e.Z)(function*(ft,bt){const dn=(yield function Fr(){return sr||(sr=new Promise((ft,bt)=>{try{const Ct=indexedDB.open($n,tr);Ct.onsuccess=dn=>{ft(dn.target.result)},Ct.onerror=dn=>{var Nn;bt(xt.create("storage-open",{originalErrorMessage:null===(Nn=dn.target.error)||void 0===Nn?void 0:Nn.message}))},Ct.onupgradeneeded=dn=>{0===dn.oldVersion&&dn.target.result.createObjectStore(Ar,{keyPath:"compositeKey"})}}catch(Ct){bt(xt.create("storage-open",{originalErrorMessage:null==Ct?void 0:Ct.message}))}}),sr)}()).transaction(Ar,"readwrite"),qn=dn.objectStore(Ar).put({compositeKey:ft,value:bt});return new Promise((kn,Pn)=>{qn.onsuccess=Xn=>{kn()},dn.onerror=Xn=>{var vi;Pn(xt.create("storage-set",{originalErrorMessage:null===(vi=Xn.target.error)||void 0===vi?void 0:vi.message}))}})})).apply(this,arguments)}const fr=new Re.Yd("@firebase/app-check");function Hi(ft,bt){return(0,z.hl)()?function Yr(ft,bt){return function hr(ft,bt){return Br.apply(this,arguments)}(function Ei(ft){return`${ft.options.appId}-${ft.name}`}(ft),bt)}(ft,bt).catch(Ct=>{fr.warn(`Failed to write token to IndexedDB. Error: ${Ct}`)}):Promise.resolve()}function Xr(){return ht().enabled}function gi(){return mi.apply(this,arguments)}function mi(){return(mi=(0,$e.Z)(function*(){const ft=ht();if(ft.enabled&&ft.token)return ft.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ii={error:"UNKNOWN_ERROR"};function ei(ft){return z.US.encodeString(JSON.stringify(ft),!1)}function si(ft){return pi.apply(this,arguments)}function pi(){return(pi=(0,$e.Z)(function*(ft,bt=!1){const Ct=ft.app;Xt(Ct);const dn=lt(Ct);let qn,Nn=dn.token;if(Nn&&!Fe(Nn)&&(dn.token=void 0,Nn=void 0),!Nn){const Xn=yield dn.cachedTokenPromise;Xn&&(Fe(Xn)?Nn=Xn:yield Hi(Ct,void 0))}if(!bt&&Nn&&Fe(Nn))return{token:Nn.token};let Pn,kn=!1;if(Xr()){dn.exchangeTokenPromise||(dn.exchangeTokenPromise=Nt(Bn(Ct,yield gi()),ft.heartbeatServiceProvider).finally(()=>{dn.exchangeTokenPromise=void 0}),kn=!0);const Xn=yield dn.exchangeTokenPromise;return yield Hi(Ct,Xn),dn.token=Xn,{token:Xn.token}}try{dn.exchangeTokenPromise||(dn.exchangeTokenPromise=dn.provider.getToken().finally(()=>{dn.exchangeTokenPromise=void 0}),kn=!0),Nn=yield lt(Ct).exchangeTokenPromise}catch(Xn){"appCheck/throttled"===Xn.code?fr.warn(Xn.message):fr.error(Xn),qn=Xn}return Nn?qn?Pn=Fe(Nn)?{token:Nn.token,internalError:qn}:Ut(qn):(Pn={token:Nn.token},dn.token=Nn,yield Hi(Ct,Nn)):Pn=Ut(qn),kn&&function Se(ft,bt){const Ct=lt(ft).tokenObservers;for(const dn of Ct)try{"EXTERNAL"===dn.type&&null!=bt.error?dn.error(bt.error):dn.next(bt)}catch{}}(Ct,Pn),Pn})).apply(this,arguments)}function hi(ft){return ti.apply(this,arguments)}function ti(){return(ti=(0,$e.Z)(function*(ft){const bt=ft.app;Xt(bt);const{provider:Ct}=lt(bt);if(Xr()){const dn=yield gi(),{token:Nn}=yield Nt(Bn(bt,dn),ft.heartbeatServiceProvider);return{token:Nn}}{const{token:dn}=yield Ct.getToken();return{token:dn}}})).apply(this,arguments)}function st(ft,bt){const Ct=lt(ft),dn=Ct.tokenObservers.filter(Nn=>Nn.next!==bt);0===dn.length&&Ct.tokenRefresher&&Ct.tokenRefresher.isRunning()&&Ct.tokenRefresher.stop(),Ct.tokenObservers=dn}function ye(ft){const{app:bt}=ft,Ct=lt(bt);let dn=Ct.tokenRefresher;dn||(dn=function _e(ft){const{app:bt}=ft;return new Le((0,$e.Z)(function*(){let dn;if(dn=lt(bt).token?yield si(ft,!0):yield si(ft),dn.error)throw dn.error;if(dn.internalError)throw dn.internalError}),()=>!0,()=>{const Ct=lt(bt);if(Ct.token){let dn=Ct.token.issuedAtTimeMillis+.5*(Ct.token.expireTimeMillis-Ct.token.issuedAtTimeMillis)+3e5;return dn=Math.min(dn,Ct.token.expireTimeMillis-3e5),Math.max(0,dn-Date.now())}return 0},Q.RETRIAL_MIN_WAIT,Q.RETRIAL_MAX_WAIT)}(ft),Ct.tokenRefresher=dn),!dn.isRunning()&&Ct.isTokenAutoRefreshEnabled&&dn.start()}function Fe(ft){return ft.expireTimeMillis-Date.now()>0}function Ut(ft){return{token:ei(ii),error:ft}}class ln{constructor(bt,Ct){this.app=bt,this.heartbeatServiceProvider=Ct}_delete(){const{tokenObservers:bt}=lt(this.app);for(const Ct of bt)st(this.app,Ct.next);return Promise.resolve()}}const Ae="app-check-internal";!function Et(){(0,Ee._registerComponent)(new je.wA("app-check",ft=>function En(ft,bt){return new ln(ft,bt)}(ft.getProvider("app").getImmediate(),ft.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ft,bt,Ct)=>{ft.getProvider(Ae).initialize()})),(0,Ee._registerComponent)(new je.wA(Ae,ft=>function ir(ft){return{getToken:bt=>si(ft,bt),getLimitedUseToken:()=>hi(ft),addTokenListener:bt=>function oi(ft,bt,Ct,dn){const{app:Nn}=ft,qn=lt(Nn);if(qn.tokenObservers=[...qn.tokenObservers,{next:Ct,error:dn,type:bt}],qn.token&&Fe(qn.token)){const Pn=qn.token;Promise.resolve().then(()=>{Ct({token:Pn.token}),ye(ft)}).catch(()=>{})}qn.cachedTokenPromise.then(()=>ye(ft))}(ft,"INTERNAL",bt),removeTokenListener:bt=>st(ft.app,bt)}}(ft.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)("@firebase/app-check","0.8.0")}();class Vt{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},6298:(Cn,mt,P)=>{"use strict";P.d(mt,{L6:()=>Ee,Qv:()=>$e,_Q:()=>je,f7:()=>ve,lh:()=>Re,nw:()=>we,rT:()=>z,ww:()=>lt,zQ:()=>We});var y=P(5879),_=P(8645),re=P(2096),se=P(5592),xe=P(2459),ze=P(3019),G=P(3093),Ve=P(4664),Ce=P(7398),he=P(7081),ne=P(1374),me=P(4867),Ne=P(5137),be=P(2181),qe=P(4556),ut=P(6304),ce=P(6814),ke=P(14),St=P(120);const $e=new y.OlP("angularfire2.auth.use-emulator"),Ee=new y.OlP("angularfire2.auth.settings"),je=new y.OlP("angularfire2.auth.tenant-id"),z=new y.OlP("angularfire2.auth.langugage-code"),Re=new y.OlP("angularfire2.auth.use-device-language"),ve=new y.OlP("angularfire.auth.persistence"),we=(it,ht,It,an,dt,Me,Q,de)=>(0,ut.cc)(`${it.name}.auth`,"AngularFireAuth",it.name,()=>{const Le=ht.runOutsideAngular(()=>it.auth());if(It&&Le.useEmulator(...It),an&&(Le.tenantId=an),Le.languageCode=dt,Me&&Le.useDeviceLanguage(),Q)for(const[vt,Tt]of Object.entries(Q))Le.settings[vt]=Tt;return de&&Le.setPersistence(de),Le},[It,an,dt,Me,Q,de]);let We=(()=>{class it{constructor(It,an,dt,Me,Q,de,Le,vt,Tt,xt,on,Xt){const Zt=new _.x,Ft=(0,re.of)(void 0).pipe((0,G.Q)(Q.outsideAngular),(0,Ve.w)(()=>Me.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8977)))),(0,Ce.U)(()=>(0,ut.on)(It,Me,an)),(0,Ce.U)(Nt=>we(Nt,Me,de,vt,Tt,xt,Le,on)),(0,he.d)({bufferSize:1,refCount:!1}));if((0,ce.PM)(dt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,re.of)(null);else{Ft.pipe((0,ne.P)()).subscribe();const tn=Ft.pipe((0,Ve.w)(Bn=>Bn.getRedirectResult().then($n=>$n,()=>null)),qe.iC,(0,he.d)({bufferSize:1,refCount:!1})),nn=Ft.pipe((0,Ve.w)(Bn=>new se.y($n=>({unsubscribe:Me.runOutsideAngular(()=>Bn.onAuthStateChanged(tr=>$n.next(tr),tr=>$n.error(tr),()=>$n.complete()))})))),xn=Ft.pipe((0,Ve.w)(Bn=>new se.y($n=>({unsubscribe:Me.runOutsideAngular(()=>Bn.onIdTokenChanged(tr=>$n.next(tr),tr=>$n.error(tr),()=>$n.complete()))}))));this.authState=tn.pipe((0,me.c)(nn),(0,Ne.R)(Q.outsideAngular),(0,G.Q)(Q.insideAngular)),this.user=tn.pipe((0,me.c)(xn),(0,Ne.R)(Q.outsideAngular),(0,G.Q)(Q.insideAngular)),this.idToken=this.user.pipe((0,Ve.w)(Bn=>Bn?(0,xe.D)(Bn.getIdToken()):(0,re.of)(null))),this.idTokenResult=this.user.pipe((0,Ve.w)(Bn=>Bn?(0,xe.D)(Bn.getIdTokenResult()):(0,re.of)(null))),this.credential=(0,ze.T)(tn,Zt,this.authState.pipe((0,be.h)(Bn=>!Bn))).pipe((0,Ce.U)(Bn=>null!=Bn&&Bn.user?Bn:null),(0,Ne.R)(Q.outsideAngular),(0,G.Q)(Q.insideAngular))}return(0,ut.pX)(this,Ft,Me,{spy:{apply:(Nt,tn,nn)=>{(Nt.startsWith("signIn")||Nt.startsWith("createUser"))&&nn.then(xn=>Zt.next(xn))}}})}}return it.\u0275fac=function(It){return new(It||it)(y.LFG(ut.Dh),y.LFG(ut.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(qe.HU),y.LFG($e,8),y.LFG(Ee,8),y.LFG(je,8),y.LFG(z,8),y.LFG(Re,8),y.LFG(ve,8),y.LFG(ke.nm,8))},it.\u0275prov=y.Yz7({token:it,factory:it.\u0275fac,providedIn:"any"}),it})(),lt=(()=>{class it{constructor(){St.Z.registerVersion("angularfire",qe.q4.full,"auth-compat")}}return it.\u0275fac=function(It){return new(It||it)},it.\u0275mod=y.oAB({type:it}),it.\u0275inj=y.cJS({providers:[We]}),it})()},6573:(Cn,mt,P)=>{"use strict";P.d(mt,{ST:()=>Q_,yb:()=>A0});var z,y=P(5879),_=P(6321),re=P(5592),se=P(2459),xe=P(2096),ze=P(4556),G=P(7921),Ve=P(9384),Ce=P(7398),he=P(6424),ne=P(3997),me=P(2181),Ne=P(6304),be=P(6814),ut=(P(8977),P(3106)),ce=P(5861),ke=P(534),St=P(4537),Bt=P(7879),$e=P(9058),Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je={},Re=Re||{},ve=Ee||self;function we(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function We(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var it="closure_uid_"+(1e9*Math.random()>>>0),ht=0;function It(s,e,n){return s.call.apply(s.bind,arguments)}function an(s,e,n){if(!s)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,l),s.apply(e,h)}}return function(){return s.apply(e,arguments)}}function dt(s,e,n){return(dt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?It:an).apply(null,arguments)}function Me(s,e){var n=Array.prototype.slice.call(arguments,1);return function(){var l=n.slice();return l.push.apply(l,arguments),s.apply(this,l)}}function Q(s,e){function n(){}n.prototype=e.prototype,s.$=e.prototype,s.prototype=new n,s.prototype.constructor=s,s.ac=function(l,h,m){for(var I=Array(arguments.length-2),$=2;$<arguments.length;$++)I[$-2]=arguments[$];return e.prototype[h].apply(l,I)}}function de(){this.s=this.s,this.o=this.o}de.prototype.s=!1,de.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lt(s){Object.prototype.hasOwnProperty.call(s,it)&&s[it]||(s[it]=++ht)}(this)},de.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vt=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let n=0;n<s.length;n++)if(n in s&&s[n]===e)return n;return-1};function Tt(s){const e=s.length;if(0<e){const n=Array(e);for(let l=0;l<e;l++)n[l]=s[l];return n}return[]}function xt(s,e){for(let n=1;n<arguments.length;n++){const l=arguments[n];if(we(l)){const h=s.length||0,m=l.length||0;s.length=h+m;for(let I=0;I<m;I++)s[h+I]=l[I]}else s.push(l)}}function on(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}on.prototype.h=function(){this.defaultPrevented=!0};var Xt=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{ve.addEventListener("test",()=>{},e),ve.removeEventListener("test",()=>{},e)}catch{}return s}();function Zt(s){return/^[\s\xa0]*$/.test(s)}function Ft(){var s=ve.navigator;return s&&(s=s.userAgent)?s:""}function Nt(s){return-1!=Ft().indexOf(s)}function tn(s){return tn[" "](s),s}tn[" "]=function(){};var Fr,s,xn=Nt("Opera"),Bn=Nt("Trident")||Nt("MSIE"),$n=Nt("Edge"),tr=$n||Bn,Ar=Nt("Gecko")&&!(-1!=Ft().toLowerCase().indexOf("webkit")&&!Nt("Edge"))&&!(Nt("Trident")||Nt("MSIE"))&&!Nt("Edge"),Hr=-1!=Ft().toLowerCase().indexOf("webkit")&&!Nt("Edge");function sr(){var s=ve.document;return s?s.documentMode:void 0}e:{var mn="",Yr=(s=Ft(),Ar?/rv:([^\);]+)(\)|;)/.exec(s):$n?/Edge\/([\d\.]+)/.exec(s):Bn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Hr?/WebKit\/(\S+)/.exec(s):xn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Yr&&(mn=Yr?Yr[1]:""),Bn){var qr=sr();if(null!=qr&&qr>parseFloat(mn)){Fr=String(qr);break e}}Fr=mn}var Br=ve.document&&Bn&&(sr()||parseInt(Fr,10))||void 0;function dr(s,e){if(on.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var n=this.type=s.type,l=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Ar){e:{try{tn(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==n?e=s.fromElement:"mouseout"==n&&(e=s.toElement);this.relatedTarget=e,l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:$r[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&dr.$.h.call(this)}}Q(dr,on);var $r={2:"touch",3:"pen",4:"mouse"};dr.prototype.h=function(){dr.$.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Ei="closure_listenable_"+(1e6*Math.random()|0),fr=0;function Pi(s,e,n,l,h){this.listener=s,this.proxy=null,this.src=e,this.type=n,this.capture=!!l,this.la=h,this.key=++fr,this.fa=this.ia=!1}function xr(s){s.fa=!0,s.listener=null,s.proxy=null,s.src=null,s.la=null}function Hi(s,e,n){for(const l in s)e.call(n,s[l],l,s)}function Jr(s){const e={};for(const n in s)e[n]=s[n];return e}const Xr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gi(s,e){let n,l;for(let h=1;h<arguments.length;h++){for(n in l=arguments[h],l)s[n]=l[n];for(let m=0;m<Xr.length;m++)n=Xr[m],Object.prototype.hasOwnProperty.call(l,n)&&(s[n]=l[n])}}function mi(s){this.src=s,this.g={},this.h=0}function Di(s,e){var n=e.type;if(n in s.g){var m,l=s.g[n],h=vt(l,e);(m=0<=h)&&Array.prototype.splice.call(l,h,1),m&&(xr(e),0==s.g[n].length&&(delete s.g[n],s.h--))}}function ii(s,e,n,l){for(var h=0;h<s.length;++h){var m=s[h];if(!m.fa&&m.listener==e&&m.capture==!!n&&m.la==l)return h}return-1}mi.prototype.add=function(s,e,n,l,h){var m=s.toString();(s=this.g[m])||(s=this.g[m]=[],this.h++);var I=ii(s,e,l,h);return-1<I?(e=s[I],n||(e.ia=!1)):((e=new Pi(e,this.src,m,!!l,h)).ia=n,s.push(e)),e};var ei="closure_lm_"+(1e6*Math.random()|0),si={};function pi(s,e,n,l,h){if(l&&l.once)return oi(s,e,n,l,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)pi(s,e[m],n,l,h);return null}return n=ln(n),s&&s[Ei]?s.O(e,n,We(l)?!!l.capture:!!l,h):hi(s,e,n,!1,l,h)}function hi(s,e,n,l,h,m){if(!e)throw Error("Invalid event type");var I=We(h)?!!h.capture:!!h,$=Fe(s);if($||(s[ei]=$=new mi(s)),(n=$.add(e,n,l,I,m)).proxy)return n;if(l=function ti(){const e=Se;return function s(n){return e.call(s.src,s.listener,n)}}(),n.proxy=l,l.src=s,l.listener=n,s.addEventListener)Xt||(h=I),void 0===h&&(h=!1),s.addEventListener(e.toString(),l,h);else if(s.attachEvent)s.attachEvent(_e(e.toString()),l);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(l)}return n}function oi(s,e,n,l,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)oi(s,e[m],n,l,h);return null}return n=ln(n),s&&s[Ei]?s.P(e,n,We(l)?!!l.capture:!!l,h):hi(s,e,n,!0,l,h)}function st(s,e,n,l,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)st(s,e[m],n,l,h);else l=We(l)?!!l.capture:!!l,n=ln(n),s&&s[Ei]?(s=s.i,(e=String(e).toString())in s.g&&-1<(n=ii(m=s.g[e],n,l,h))&&(xr(m[n]),Array.prototype.splice.call(m,n,1),0==m.length&&(delete s.g[e],s.h--))):s&&(s=Fe(s))&&(e=s.g[e.toString()],s=-1,e&&(s=ii(e,n,l,h)),(n=-1<s?e[s]:null)&&ye(n))}function ye(s){if("number"!=typeof s&&s&&!s.fa){var e=s.src;if(e&&e[Ei])Di(e.i,s);else{var n=s.type,l=s.proxy;e.removeEventListener?e.removeEventListener(n,l,s.capture):e.detachEvent?e.detachEvent(_e(n),l):e.addListener&&e.removeListener&&e.removeListener(l),(n=Fe(e))?(Di(n,s),0==n.h&&(n.src=null,e[ei]=null)):xr(s)}}}function _e(s){return s in si?si[s]:si[s]="on"+s}function Se(s,e){if(s.fa)s=!0;else{e=new dr(e,this);var n=s.listener,l=s.la||s.src;s.ia&&ye(s),s=n.call(l,e)}return s}function Fe(s){return(s=s[ei])instanceof mi?s:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function ln(s){return"function"==typeof s?s:(s[Ut]||(s[Ut]=function(e){return s.handleEvent(e)}),s[Ut])}function En(){de.call(this),this.i=new mi(this),this.S=this,this.J=null}function ir(s,e){var n,l=s.J;if(l)for(n=[];l;l=l.J)n.push(l);if(s=s.S,l=e.type||e,"string"==typeof e)e=new on(e,s);else if(e instanceof on)e.target=e.target||s;else{var h=e;gi(e=new on(l,s),h)}if(h=!0,n)for(var m=n.length-1;0<=m;m--){var I=e.g=n[m];h=pr(I,l,!0,e)&&h}if(h=pr(I=e.g=s,l,!0,e)&&h,h=pr(I,l,!1,e)&&h,n)for(m=0;m<n.length;m++)h=pr(I=e.g=n[m],l,!1,e)&&h}function pr(s,e,n,l){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var I=e[m];if(I&&!I.fa&&I.capture==n){var $=I.listener,X=I.la||I.src;I.ia&&Di(s.i,I),h=!1!==$.call(X,l)&&h}}return h&&!l.defaultPrevented}Q(En,de),En.prototype[Ei]=!0,En.prototype.removeEventListener=function(s,e,n,l){st(this,s,e,n,l)},En.prototype.N=function(){if(En.$.N.call(this),this.i){var e,s=this.i;for(e in s.g){for(var n=s.g[e],l=0;l<n.length;l++)xr(n[l]);delete s.g[e],s.h--}}this.J=null},En.prototype.O=function(s,e,n,l){return this.i.add(String(s),e,!1,n,l)},En.prototype.P=function(s,e,n,l){return this.i.add(String(s),e,!0,n,l)};var br=ve.JSON.stringify;function ai(){var s=Rn;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Li=new class Gn{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Dt,s=>s.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Xe(s){var e=1;s=s.split(":");const n=[];for(;0<e&&s.length;)n.push(s.shift()),e--;return s.length&&n.push(s.join(":")),n}function pt(s){ve.setTimeout(()=>{throw s},0)}let jt,Sn=!1,Rn=new class Gi{constructor(){this.h=this.g=null}add(e,n){const l=Li.get();l.set(e,n),this.h?this.h.next=l:this.g=l,this.h=l}},or=()=>{const s=ve.Promise.resolve(void 0);jt=()=>{s.then(kr)}};var kr=()=>{for(var s;s=ai();){try{s.h.call(s.g)}catch(n){pt(n)}var e=Li;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}Sn=!1};function jr(s,e){En.call(this),this.h=s||1,this.g=e||ve,this.j=dt(this.qb,this),this.l=Date.now()}function ni(s){s.ga=!1,s.T&&(s.g.clearTimeout(s.T),s.T=null)}function Gr(s,e,n){if("function"==typeof s)n&&(s=dt(s,n));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=dt(s.handleEvent,s)}return 2147483647<Number(e)?-1:ve.setTimeout(s,e||0)}function ar(s){s.g=Gr(()=>{s.g=null,s.i&&(s.i=!1,ar(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Q(jr,En),(z=jr.prototype).ga=!1,z.T=null,z.qb=function(){if(this.ga){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-s):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ir(this,"tick"),this.ga&&(ni(this),this.start()))}},z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.N=function(){jr.$.N.call(this),ni(this),delete this.g};class Zr extends de{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ar(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(s){de.call(this),this.h=s,this.g={}}Q(ts,de);var Wi=[];function $i(s,e,n,l){Array.isArray(n)||(n&&(Wi[0]=n.toString()),n=Wi);for(var h=0;h<n.length;h++){var m=pi(e,n[h],l||s.handleEvent,!1,s.h||s);if(!m)break;s.g[m.key]=m}}function Yi(s){Hi(s.g,function(e,n){this.g.hasOwnProperty(n)&&ye(e)},s),s.g={}}function Ui(){this.g=!0}function Ae(s,e,n,l){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ze(s,e){if(!s.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(s=0;s<n.length;s++)if(Array.isArray(n[s])){var l=n[s];if(!(2>l.length)){var h=l[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var I=1;I<h.length;I++)h[I]=""}}}return br(n)}catch{return e}}(s,n)+(l?" "+l:"")})}ts.prototype.N=function(){ts.$.N.call(this),Yi(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ui.prototype.Ea=function(){this.g=!1},Ui.prototype.info=function(){};var Rt={},Vt=null;function q(){return Vt=Vt||new En}function pe(s){on.call(this,Rt.Ta,s)}function ue(s){const e=q();ir(e,new pe(e))}function Y(s,e){on.call(this,Rt.STAT_EVENT,s),this.stat=e}function ie(s){const e=q();ir(e,new Y(e,s))}function ge(s,e){on.call(this,Rt.Ua,s),this.size=e}function ot(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){s()},e)}Rt.Ta="serverreachability",Q(pe,on),Rt.STAT_EVENT="statevent",Q(Y,on),Rt.Ua="timingevent",Q(ge,on);var kt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$t={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ht(){}function Mn(){}Ht.prototype.h=null;var ft,Kn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lr(){on.call(this,"d")}function wr(){on.call(this,"c")}function bt(){}function Ct(s,e,n,l){this.l=s,this.j=e,this.m=n,this.W=l||1,this.U=new ts(this),this.P=Nn,this.V=new jr(s=tr?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dn}function dn(){this.i=null,this.g="",this.h=!1}Q(lr,on),Q(wr,on),Q(bt,Ht),bt.prototype.g=function(){return new XMLHttpRequest},bt.prototype.i=function(){return{}},ft=new bt;var Nn=45e3,qn={},kn={};function Pn(s,e,n){s.L=1,s.v=Or(at(e)),s.s=n,s.S=!0,Xn(s,null)}function Xn(s,e){s.G=Date.now(),ji(s),s.A=at(s.v);var n=s.A,l=s.W;Array.isArray(l)||(l=[String(l)]),jn(n.i,"t",l),s.C=0,n=s.l.J,s.h=new dn,s.g=La(s.l,n?e:null,!s.s),0<s.O&&(s.M=new Zr(dt(s.Pa,s,s.g),s.O)),$i(s.U,s.g,"readystatechange",s.nb),e=s.I?Jr(s.I):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ha(s.A,s.u,s.s,e)):(s.u="GET",s.g.ha(s.A,s.u,null,e)),ue(),function Vi(s,e,n,l,h,m){s.info(function(){if(s.g)if(m)for(var I="",$=m.split("&"),X=0;X<$.length;X++){var ae=$[X].split("=");if(1<ae.length){var Be=ae[0];ae=ae[1];var wt=Be.split("_");I=2<=wt.length&&"type"==wt[1]?I+(Be+"=")+ae+"&":I+(Be+"=redacted&")}}else I=null;else I=m;return"XMLHTTP REQ ("+l+") [attempt "+h+"]: "+e+"\n"+n+"\n"+I})}(s.j,s.u,s.A,s.m,s.W,s.s)}function vi(s){return!!s.g&&"GET"==s.u&&2!=s.L&&s.l.Ha}function Os(s,e,n){let h,l=!0;for(;!s.J&&s.C<n.length;){if(h=yi(s,n),h==kn){4==e&&(s.o=4,ie(14),l=!1),Ae(s.j,s.m,null,"[Incomplete Response]");break}if(h==qn){s.o=4,ie(15),Ae(s.j,s.m,n,"[Invalid Chunk]"),l=!1;break}Ae(s.j,s.m,h,null),Ns(s,h)}vi(s)&&h!=kn&&h!=qn&&(s.h.g="",s.C=0),4!=e||0!=n.length||s.h.h||(s.o=1,ie(16),l=!1),s.i=s.i&&l,l?0<n.length&&!s.ba&&(s.ba=!0,(e=s.l).g==s&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nl(e),e.M=!0,ie(11))):(Ae(s.j,s.m,n,"[Invalid Chunked Response]"),_r(s),ws(s))}function yi(s,e){var n=s.C,l=e.indexOf("\n",n);return-1==l?kn:(n=Number(e.substring(n,l)),isNaN(n)?qn:(l+=1)+n>e.length?kn:(e=e.slice(l,l+n),s.C=l+n,e))}function ji(s){s.Y=Date.now()+s.P,Ti(s,s.P)}function Ti(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=ot(dt(s.lb,s),e)}function Is(s){s.B&&(ve.clearTimeout(s.B),s.B=null)}function ws(s){0==s.l.H||s.J||ua(s.l,s)}function _r(s){Is(s);var e=s.M;e&&"function"==typeof e.sa&&e.sa(),s.M=null,ni(s.V),Yi(s.U),s.g&&(e=s.g,s.g=null,e.abort(),e.sa())}function Ns(s,e){try{var n=s.l;if(0!=n.H&&(n.g==s||as(n.i,s)))if(!s.K&&as(n.i,s)&&3==n.H){try{var l=n.Ja.g.parse(e)}catch{l=null}if(Array.isArray(l)&&3==l.length){var h=l;if(0==h[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<s.G))break e;vc(n),ca(n)}gl(n),ie(18)}}else n.Fa=h[1],0<n.Fa-n.V&&37500>h[2]&&n.G&&0==n.A&&!n.v&&(n.v=ot(dt(n.ib,n),6e3));if(1>=bi(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ba(n,11)}else if((s.K||n.g==s)&&vc(n),!Zt(e))for(h=n.Ja.g.parse(e),e=0;e<h.length;e++){let ae=h[e];if(n.V=ae[0],ae=ae[1],2==n.H)if("c"==ae[0]){n.K=ae[1],n.pa=ae[2];const Be=ae[3];null!=Be&&(n.ra=Be,n.l.info("VER="+n.ra));const wt=ae[4];null!=wt&&(n.Ga=wt,n.l.info("SVER="+n.Ga));const en=ae[5];null!=en&&"number"==typeof en&&0<en&&(n.L=l=1.5*en,n.l.info("backChannelRequestTimeoutMs_="+l)),l=n;const In=s.g;if(In){const cr=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var m=l.i;m.g||-1==cr.indexOf("spdy")&&-1==cr.indexOf("quic")&&-1==cr.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(to(m,m.h),m.h=null))}if(l.F){const Mr=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Mr&&(l.Da=Mr,er(l.I,l.F,Mr))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-s.G,n.l.info("Handshake RTT: "+n.S+"ms"));var I=s;if((l=n).wa=ka(l,l.J?l.pa:null,l.Y),I.K){la(l.i,I);var $=I,X=l.L;X&&$.setTimeout(X),$.B&&(Is($),ji($)),l.g=I}else Cd(l);0<n.j.length&&_a(n)}else"stop"!=ae[0]&&"close"!=ae[0]||ba(n,7);else 3==n.H&&("stop"==ae[0]||"close"==ae[0]?"stop"==ae[0]?ba(n,7):gc(n):"noop"!=ae[0]&&n.h&&n.h.Aa(ae),n.A=0)}ue()}catch{}}function rs(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(we(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var n=function js(s){if(s.ta&&"function"==typeof s.ta)return s.ta();if(!s.Z||"function"!=typeof s.Z){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(we(s)||"string"==typeof s){var e=[];s=s.length;for(var n=0;n<s;n++)e.push(n);return e}e=[],n=0;for(const l in s)e[n++]=l;return e}}}(s),l=function ks(s){if(s.Z&&"function"==typeof s.Z)return s.Z();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(we(s)){for(var e=[],n=s.length,l=0;l<n;l++)e.push(s[l]);return e}for(l in e=[],n=0,s)e[n++]=s[l];return e}(s),h=l.length,m=0;m<h;m++)e.call(void 0,l[m],n&&n[m],s)}(z=Ct.prototype).setTimeout=function(s){this.P=s},z.nb=function(s){s=s.target;const e=this.M;e&&3==Ho(s)?e.l():this.Pa(s)},z.Pa=function(s){try{if(s==this.g)e:{const Be=Ho(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Be)&&(3!=Be||tr||this.g&&(this.h.h||this.g.ja()||pl(this.g)))){this.J||4!=Be||7==e||ue(),Is(this);var n=this.g.da();this.ca=n;t:if(vi(this)){var l=pl(this.g);s="";var h=l.length,m=4==Ho(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),ws(this);var I="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,s+=this.h.i.decode(l[e],{stream:m&&e==h-1});l.splice(0,h),this.h.g+=s,this.C=0,I=this.h.g}else I=this.g.ja();if(this.i=200==n,function gs(s,e,n,l,h,m,I){s.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+e+"\n"+n+"\n"+m+" "+I})}(this.j,this.u,this.A,this.m,this.W,Be,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var $,X=this.g;if(($=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zt($)){var ae=$;break t}}ae=null}if(!(n=ae)){this.i=!1,this.o=3,ie(12),_r(this),ws(this);break e}Ae(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,n)}this.S?(Os(this,Be,I),tr&&this.i&&3==Be&&($i(this.U,this.V,"tick",this.mb),this.V.start())):(Ae(this.j,this.m,I,null),Ns(this,I)),4==Be&&_r(this),this.i&&!this.J&&(4==Be?ua(this.l,this):(this.i=!1,ji(this)))}else(function fc(s){const e={};s=(s.g&&2<=Ho(s)&&s.g.getAllResponseHeaders()||"").split("\r\n");for(let l=0;l<s.length;l++){if(Zt(s[l]))continue;var n=Xe(s[l]);const h=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const m=e[h]||[];e[h]=m,m.push(n)}!function Sr(s,e){for(const n in s)e.call(void 0,s[n],n,s)}(e,function(l){return l.join(", ")})})(this.g),400==n&&0<I.indexOf("Unknown SID")?(this.o=3,ie(12)):(this.o=0,ie(13)),_r(this),ws(this)}}}catch{}},z.mb=function(){if(this.g){var s=Ho(this.g),e=this.g.ja();this.C<e.length&&(Is(this),Os(this,s,e),this.i&&4!=s&&ji(this))}},z.cancel=function(){this.J=!0,_r(this)},z.lb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function Et(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ue(),ie(17)),_r(this),this.o=2,ws(this)):Ti(this,this.Y-s)};var fe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oe(s){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof Oe){this.h=s.h,Gt(this,s.j),this.s=s.s,this.g=s.g,cn(this,s.m),this.l=s.l;var e=s.i,n=new et;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_n(this,n),this.o=s.o}else s&&(e=String(s).match(fe))?(this.h=!1,Gt(this,e[1]||"",!0),this.s=nr(e[2]||""),this.g=nr(e[3]||"",!0),cn(this,e[4]),this.l=nr(e[5]||"",!0),_n(this,e[6]||"",!0),this.o=nr(e[7]||"")):(this.h=!1,this.i=new et(null,this.h))}function at(s){return new Oe(s)}function Gt(s,e,n){s.j=n?nr(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function cn(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function _n(s,e,n){e instanceof et?(s.i=e,function Vr(s,e){e&&!s.j&&(_t(s),s.i=null,s.g.forEach(function(n,l){var h=l.toLowerCase();l!=h&&(Yt(this,l),jn(this,h,n))},s)),s.j=e}(s.i,s.h)):(n||(e=Ki(e,aa)),s.i=new et(e,s.h))}function er(s,e,n){s.i.set(e,n)}function Or(s){return er(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function nr(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ki(s,e,n){return"string"==typeof s?(s=encodeURI(s).replace(e,Ai),n&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Ai(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Oe.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Ki(e,Mi,!0),":");var n=this.g;return(n||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Ki(e,Mi,!0),"@"),s.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&s.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&s.push("/"),s.push(Ki(n,"/"==n.charAt(0)?ms:Fi,!0))),(n=this.i.toString())&&s.push("?",n),(n=this.o)&&s.push("#",Ki(n,ct)),s.join("")};var Mi=/[#\/\?@]/g,Fi=/[#\?:]/g,ms=/[#\?]/g,aa=/[#\?@]/g,ct=/#/g;function et(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function _t(s){s.g||(s.g=new Map,s.h=0,s.i&&function yt(s,e){if(s){s=s.split("&");for(var n=0;n<s.length;n++){var l=s[n].indexOf("="),h=null;if(0<=l){var m=s[n].substring(0,l);h=s[n].substring(l+1)}else m=s[n];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(s.i,function(e,n){s.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yt(s,e){_t(s),e=rr(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function un(s,e){return _t(s),e=rr(s,e),s.g.has(e)}function jn(s,e,n){Yt(s,e),0<n.length&&(s.i=null,s.g.set(rr(s,e),Tt(n)),s.h+=n.length)}function rr(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function li(s){this.l=s||Ri,s=ve.PerformanceNavigationTiming?0<(s=ve.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(z=et.prototype).add=function(s,e){_t(this),this.i=null,s=rr(this,s);var n=this.g.get(s);return n||this.g.set(s,n=[]),n.push(e),this.h+=1,this},z.forEach=function(s,e){_t(this),this.g.forEach(function(n,l){n.forEach(function(h){s.call(e,h,l,this)},this)},this)},z.ta=function(){_t(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let l=0;l<e.length;l++){const h=s[l];for(let m=0;m<h.length;m++)n.push(e[l])}return n},z.Z=function(s){_t(this);let e=[];if("string"==typeof s)un(this,s)&&(e=e.concat(this.g.get(rr(this,s))));else{s=Array.from(this.g.values());for(let n=0;n<s.length;n++)e=e.concat(s[n])}return e},z.set=function(s,e){return _t(this),this.i=null,un(this,s=rr(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},z.get=function(s,e){return s&&0<(s=this.Z(s)).length?String(s[0]):e},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var l=e[n];const m=encodeURIComponent(String(l)),I=this.Z(l);for(l=0;l<I.length;l++){var h=m;""!==I[l]&&(h+="="+encodeURIComponent(String(I[l]))),s.push(h)}}return this.i=s.join("&")};var Ri=10;function Cs(s){return!!s.h||!!s.g&&s.g.size>=s.j}function bi(s){return s.h?1:s.g?s.g.size:0}function as(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function to(s,e){s.g?s.g.add(e):s.h=e}function la(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Po(s){if(null!=s.h)return s.i.concat(s.h.F);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const n of s.g.values())e=e.concat(n.F);return e}return Tt(s.i)}li.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}};var vs=class{stringify(s){return ve.JSON.stringify(s,void 0)}parse(s){return ve.JSON.parse(s,void 0)}};function Es(){this.g=new vs}function zo(s,e,n){const l=n||"";try{rs(s,function(h,m){let I=h;We(h)&&(I=br(h)),e.push(l+m+"="+encodeURIComponent(I))})}catch(h){throw e.push(l+"type="+encodeURIComponent("_badmap")),h}}function tl(s,e,n,l,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(l)}catch{}}function Ro(s){this.l=s.fc||null,this.j=s.ob||!1}function M(s,e){En.call(this),this.F=s,this.u=e,this.m=void 0,this.readyState=S,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Q(Ro,Ht),Ro.prototype.g=function(){return new M(this.l,this.j)},Ro.prototype.i=function(s){return function(){return s}}({}),Q(M,En);var S=0;function g(s){s.j.read().then(s.Xa.bind(s)).catch(s.ka.bind(s))}function C(s){s.readyState=4,s.l=null,s.j=null,s.A=null,U(s)}function U(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(z=M.prototype).open=function(s,e){if(this.readyState!=S)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,U(this)},z.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,C(this)),this.readyState=S},z.$a=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,U(this)),this.g&&(this.readyState=3,U(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g(this)}else s.text().then(this.Za.bind(this),this.ka.bind(this))},z.Xa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?C(this):U(this),3==this.readyState&&g(this)}},z.Za=function(s){this.g&&(this.response=this.responseText=s,C(this))},z.Ya=function(s){this.g&&(this.response=s,C(this))},z.ka=function(){this.g&&C(this)},z.setRequestHeader=function(s,e){this.v.append(s,e)},z.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var n=e.next();!n.done;)s.push((n=n.value)[0]+": "+n[1]),n=e.next();return s.join("\r\n")},Object.defineProperty(M.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var rt=ve.JSON.parse;function zt(s){En.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Qn,this.L=this.M=!1}Q(zt,En);var Qn="",zr=/^https?$/i,Ii=["POST","PUT"];function mo(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Ws(s),Io(s)}function Ws(s){s.F||(s.F=!0,ir(s,"complete"),ir(s,"error"))}function oo(s){if(s.h&&typeof Re<"u"&&(!s.C[1]||4!=Ho(s)||2!=s.da()))if(s.v&&4==Ho(s))Gr(s.La,0,s);else if(ir(s,"readystatechange"),4==Ho(s)){s.h=!1;try{const I=s.da();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var l;if(l=0===I){var h=String(s.I).match(fe)[1]||null;!h&&ve.self&&ve.self.location&&(h=ve.self.location.protocol.slice(0,-1)),l=!zr.test(h?h.toLowerCase():"")}n=l}if(n)ir(s,"complete"),ir(s,"success");else{s.m=6;try{var m=2<Ho(s)?s.g.statusText:""}catch{m=""}s.j=m+" ["+s.da()+"]",Ws(s)}}finally{Io(s)}}}function Io(s,e){if(s.g){Xo(s);const n=s.g,l=s.C[0]?()=>{}:null;s.g=null,s.C=null,e||ir(s,"ready");try{n.onreadystatechange=l}catch{}}}function Xo(s){s.g&&s.L&&(s.g.ontimeout=null),s.A&&(ve.clearTimeout(s.A),s.A=null)}function Ho(s){return s.g?s.g.readyState:0}function pl(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.K){case Qn:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function ao(s){let e="";return Hi(s,function(n,l){e+=l,e+=":",e+=n,e+="\r\n"}),e}function Oo(s,e,n){e:{for(l in n){var l=!1;break e}l=!0}l||(n=ao(n),"string"==typeof s?null!=n&&encodeURIComponent(String(n)):er(s,e,n))}function ss(s,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[s]||e}function pc(s){this.Ga=0,this.j=[],this.l=new Ui,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ss("failFast",!1,s),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ss("baseRetryDelayMs",5e3,s),this.hb=ss("retryDelaySeedMs",1e4,s),this.eb=ss("forwardChannelMaxRetries",2,s),this.xa=ss("forwardChannelRequestTimeoutMs",2e4,s),this.va=s&&s.xmlHttpFactory||void 0,this.Ha=s&&s.dc||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.i=new li(s&&s.concurrentRequestLimit),this.Ja=new Es,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=s&&s.bc||!1,s&&s.Ea&&this.l.Ea(),s&&s.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&s&&s.detectBufferingProxy||!1,this.qa=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.qa=s.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gc(s){if(ya(s),3==s.H){var e=s.W++,n=at(s.I);if(er(n,"SID",s.K),er(n,"RID",e),er(n,"TYPE","terminate"),Ea(s,n),(e=new Ct(s,s.l,e)).L=2,e.v=Or(at(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon)try{n=ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ve.Image&&((new Image).src=e.v,n=!0),n||(e.g=La(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ji(e)}kl(s)}function ca(s){s.g&&(nl(s),s.g.cancel(),s.g=null)}function ya(s){ca(s),s.u&&(ve.clearTimeout(s.u),s.u=null),vc(s),s.i.cancel(),s.m&&("number"==typeof s.m&&ve.clearTimeout(s.m),s.m=null)}function _a(s){if(!Cs(s.i)&&!s.m){s.m=!0;var e=s.Na;jt||or(),Sn||(jt(),Sn=!0),Rn.add(e,s),s.C=0}}function mc(s,e){var n;n=e?e.m:s.W++;const l=at(s.I);er(l,"SID",s.K),er(l,"RID",n),er(l,"AID",s.V),Ea(s,l),s.o&&s.s&&Oo(l,s.o,s.s),n=new Ct(s,s.l,n,s.C+1),null===s.o&&(n.I=s.s),e&&(s.j=e.F.concat(s.j)),e=Nl(s,n,1e3),n.setTimeout(Math.round(.5*s.xa)+Math.round(.5*s.xa*Math.random())),to(s.i,n),Pn(n,l,e)}function Ea(s,e){s.na&&Hi(s.na,function(n,l){er(e,l,n)}),s.h&&rs({},function(n,l){er(e,l,n)})}function Nl(s,e,n){n=Math.min(s.j.length,n);var l=s.h?dt(s.h.Va,s.h,s):null;e:{var h=s.j;let m=-1;for(;;){const I=["count="+n];-1==m?0<n?(m=h[0].g,I.push("ofs="+m)):m=0:I.push("ofs="+m);let $=!0;for(let X=0;X<n;X++){let ae=h[X].g;const Be=h[X].map;if(ae-=m,0>ae)m=Math.max(0,h[X].g-100),$=!1;else try{zo(Be,I,"req"+ae+"_")}catch{l&&l(Be)}}if($){l=I.join("&");break e}}}return s=s.j.splice(0,n),e.F=s,l}function Cd(s){if(!s.g&&!s.u){s.ba=1;var e=s.Ma;jt||or(),Sn||(jt(),Sn=!0),Rn.add(e,s),s.A=0}}function gl(s){return!(s.g||s.u||3<=s.A||(s.ba++,s.u=ot(dt(s.Ma,s),ml(s,s.A)),s.A++,0))}function nl(s){null!=s.B&&(ve.clearTimeout(s.B),s.B=null)}function Ah(s){s.g=new Ct(s,s.l,"rpc",s.ba),null===s.o&&(s.g.I=s.s),s.g.O=0;var e=at(s.wa);er(e,"RID","rpc"),er(e,"SID",s.K),er(e,"AID",s.V),er(e,"CI",s.G?"0":"1"),!s.G&&s.qa&&er(e,"TO",s.qa),er(e,"TYPE","xmlhttp"),Ea(s,e),s.o&&s.s&&Oo(e,s.o,s.s),s.L&&s.g.setTimeout(s.L);var n=s.g;s=s.pa,n.L=1,n.v=Or(at(e)),n.s=null,n.S=!0,Xn(n,s)}function vc(s){null!=s.v&&(ve.clearTimeout(s.v),s.v=null)}function ua(s,e){var n=null;if(s.g==e){vc(s),nl(s),s.g=null;var l=2}else{if(!as(s.i,e))return;n=e.F,la(s.i,e),l=1}if(0!=s.H)if(e.i)if(1==l){n=e.s?e.s.length:0,e=Date.now()-e.G;var h=s.C;ir(l=q(),new ge(l,n)),_a(s)}else Cd(s);else if(3==(h=e.o)||0==h&&0<e.ca||!(1==l&&function wa(s,e){return!(bi(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.j=e.F.concat(s.j),0):1==s.H||2==s.H||s.C>=(s.cb?0:s.eb)||(s.m=ot(dt(s.Na,s,e),ml(s,s.C)),s.C++,0)))}(s,e)||2==l&&gl(s)))switch(n&&0<n.length&&(e=s.i,e.i=e.i.concat(n)),h){case 1:ba(s,5);break;case 4:ba(s,10);break;case 3:ba(s,6);break;default:ba(s,2)}}function ml(s,e){let n=s.ab+Math.floor(Math.random()*s.hb);return s.isActive()||(n*=2),n*e}function ba(s,e){if(s.l.info("Error code "+e),2==e){var n=null;s.h&&(n=null);var l=dt(s.pb,s);n||(n=new Oe("//www.google.com/images/cleardot.gif"),ve.location&&"http"==ve.location.protocol||Gt(n,"https"),Or(n)),function _i(s,e){const n=new Ui;if(ve.Image){const l=new Image;l.onload=Me(tl,n,l,"TestLoadImage: loaded",!0,e),l.onerror=Me(tl,n,l,"TestLoadImage: error",!1,e),l.onabort=Me(tl,n,l,"TestLoadImage: abort",!1,e),l.ontimeout=Me(tl,n,l,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=s}else e(!1)}(n.toString(),l)}else ie(2);s.H=0,s.h&&s.h.za(e),kl(s),ya(s)}function kl(s){if(s.H=0,s.ma=[],s.h){const e=Po(s.i);(0!=e.length||0!=s.j.length)&&(xt(s.ma,e),xt(s.ma,s.j),s.i.i.length=0,Tt(s.j),s.j.length=0),s.h.ya()}}function ka(s,e,n){var l=n instanceof Oe?at(n):new Oe(n);if(""!=l.g)e&&(l.g=e+"."+l.g),cn(l,l.m);else{var h=ve.location;l=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new Oe(null);l&&Gt(m,l),e&&(m.g=e),h&&cn(m,h),n&&(m.l=n),l=m}return e=s.Da,(n=s.F)&&e&&er(l,n,e),er(l,"VER",s.ra),Ea(s,l),l}function La(s,e,n){if(e&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zt(n&&s.Ha&&!s.va?new Ro({ob:!0}):s.va)).Oa(s.J),e}function Fa(){}function Qo(){if(Bn&&!(10<=Number(Br)))throw Error("Environmental error: no available transport.")}function zs(s,e){En.call(this),this.g=new pc(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(s?s["X-WebChannel-Client-Profile"]=e.Ca:s={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=s,(s=e&&e.cc)&&!Zt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zt(e)&&(this.g.F=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new Jo(this)}function yc(s){lr.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var e=s.__sm__;if(e){e:{for(const n in e){s=n;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Sd(){wr.call(this),this.status=1}function Jo(s){this.g=s}function Fs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rl(s,e,n){n||(n=0);var l=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)l[h]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(h=0;16>h;++h)l[h]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var m=s.g[3],I=(e=s.g[0])+(m^(n=s.g[1])&((h=s.g[2])^m))+l[0]+3614090360&4294967295;I=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=n+(I<<7&4294967295|I>>>25))+((I=m+(h^e&(n^h))+l[1]+3905402710&4294967295)<<12&4294967295|I>>>20))+((I=h+(n^m&(e^n))+l[2]+606105819&4294967295)<<17&4294967295|I>>>15))+((I=n+(e^h&(m^e))+l[3]+3250441966&4294967295)<<22&4294967295|I>>>10))+((I=e+(m^n&(h^m))+l[4]+4118548399&4294967295)<<7&4294967295|I>>>25))+((I=m+(h^e&(n^h))+l[5]+1200080426&4294967295)<<12&4294967295|I>>>20))+((I=h+(n^m&(e^n))+l[6]+2821735955&4294967295)<<17&4294967295|I>>>15))+((I=n+(e^h&(m^e))+l[7]+4249261313&4294967295)<<22&4294967295|I>>>10))+((I=e+(m^n&(h^m))+l[8]+1770035416&4294967295)<<7&4294967295|I>>>25))+((I=m+(h^e&(n^h))+l[9]+2336552879&4294967295)<<12&4294967295|I>>>20))+((I=h+(n^m&(e^n))+l[10]+4294925233&4294967295)<<17&4294967295|I>>>15))+((I=n+(e^h&(m^e))+l[11]+2304563134&4294967295)<<22&4294967295|I>>>10))+((I=e+(m^n&(h^m))+l[12]+1804603682&4294967295)<<7&4294967295|I>>>25))+((I=m+(h^e&(n^h))+l[13]+4254626195&4294967295)<<12&4294967295|I>>>20))+((I=h+(n^m&(e^n))+l[14]+2792965006&4294967295)<<17&4294967295|I>>>15))+((I=n+(e^h&(m^e))+l[15]+1236535329&4294967295)<<22&4294967295|I>>>10))+((I=e+(h^m&(n^h))+l[1]+4129170786&4294967295)<<5&4294967295|I>>>27))+((I=m+(n^h&(e^n))+l[6]+3225465664&4294967295)<<9&4294967295|I>>>23))+((I=h+(e^n&(m^e))+l[11]+643717713&4294967295)<<14&4294967295|I>>>18))+((I=n+(m^e&(h^m))+l[0]+3921069994&4294967295)<<20&4294967295|I>>>12))+((I=e+(h^m&(n^h))+l[5]+3593408605&4294967295)<<5&4294967295|I>>>27))+((I=m+(n^h&(e^n))+l[10]+38016083&4294967295)<<9&4294967295|I>>>23))+((I=h+(e^n&(m^e))+l[15]+3634488961&4294967295)<<14&4294967295|I>>>18))+((I=n+(m^e&(h^m))+l[4]+3889429448&4294967295)<<20&4294967295|I>>>12))+((I=e+(h^m&(n^h))+l[9]+568446438&4294967295)<<5&4294967295|I>>>27))+((I=m+(n^h&(e^n))+l[14]+3275163606&4294967295)<<9&4294967295|I>>>23))+((I=h+(e^n&(m^e))+l[3]+4107603335&4294967295)<<14&4294967295|I>>>18))+((I=n+(m^e&(h^m))+l[8]+1163531501&4294967295)<<20&4294967295|I>>>12))+((I=e+(h^m&(n^h))+l[13]+2850285829&4294967295)<<5&4294967295|I>>>27))+((I=m+(n^h&(e^n))+l[2]+4243563512&4294967295)<<9&4294967295|I>>>23))+((I=h+(e^n&(m^e))+l[7]+1735328473&4294967295)<<14&4294967295|I>>>18))+((I=n+(m^e&(h^m))+l[12]+2368359562&4294967295)<<20&4294967295|I>>>12))+((I=e+(n^h^m)+l[5]+4294588738&4294967295)<<4&4294967295|I>>>28))+((I=m+(e^n^h)+l[8]+2272392833&4294967295)<<11&4294967295|I>>>21))+((I=h+(m^e^n)+l[11]+1839030562&4294967295)<<16&4294967295|I>>>16))+((I=n+(h^m^e)+l[14]+4259657740&4294967295)<<23&4294967295|I>>>9))+((I=e+(n^h^m)+l[1]+2763975236&4294967295)<<4&4294967295|I>>>28))+((I=m+(e^n^h)+l[4]+1272893353&4294967295)<<11&4294967295|I>>>21))+((I=h+(m^e^n)+l[7]+4139469664&4294967295)<<16&4294967295|I>>>16))+((I=n+(h^m^e)+l[10]+3200236656&4294967295)<<23&4294967295|I>>>9))+((I=e+(n^h^m)+l[13]+681279174&4294967295)<<4&4294967295|I>>>28))+((I=m+(e^n^h)+l[0]+3936430074&4294967295)<<11&4294967295|I>>>21))+((I=h+(m^e^n)+l[3]+3572445317&4294967295)<<16&4294967295|I>>>16))+((I=n+(h^m^e)+l[6]+76029189&4294967295)<<23&4294967295|I>>>9))+((I=e+(n^h^m)+l[9]+3654602809&4294967295)<<4&4294967295|I>>>28))+((I=m+(e^n^h)+l[12]+3873151461&4294967295)<<11&4294967295|I>>>21))+((I=h+(m^e^n)+l[15]+530742520&4294967295)<<16&4294967295|I>>>16))+((I=n+(h^m^e)+l[2]+3299628645&4294967295)<<23&4294967295|I>>>9))+((I=e+(h^(n|~m))+l[0]+4096336452&4294967295)<<6&4294967295|I>>>26))+((I=m+(n^(e|~h))+l[7]+1126891415&4294967295)<<10&4294967295|I>>>22))+((I=h+(e^(m|~n))+l[14]+2878612391&4294967295)<<15&4294967295|I>>>17))+((I=n+(m^(h|~e))+l[5]+4237533241&4294967295)<<21&4294967295|I>>>11))+((I=e+(h^(n|~m))+l[12]+1700485571&4294967295)<<6&4294967295|I>>>26))+((I=m+(n^(e|~h))+l[3]+2399980690&4294967295)<<10&4294967295|I>>>22))+((I=h+(e^(m|~n))+l[10]+4293915773&4294967295)<<15&4294967295|I>>>17))+((I=n+(m^(h|~e))+l[1]+2240044497&4294967295)<<21&4294967295|I>>>11))+((I=e+(h^(n|~m))+l[8]+1873313359&4294967295)<<6&4294967295|I>>>26))+((I=m+(n^(e|~h))+l[15]+4264355552&4294967295)<<10&4294967295|I>>>22))+((I=h+(e^(m|~n))+l[6]+2734768916&4294967295)<<15&4294967295|I>>>17))+((I=n+(m^(h|~e))+l[13]+1309151649&4294967295)<<21&4294967295|I>>>11))+((m=(e=n+((I=e+(h^(n|~m))+l[4]+4149444226&4294967295)<<6&4294967295|I>>>26))+((I=m+(n^(e|~h))+l[11]+3174756917&4294967295)<<10&4294967295|I>>>22))^((h=m+((I=h+(e^(m|~n))+l[2]+718787259&4294967295)<<15&4294967295|I>>>17))|~e))+l[9]+3951481745&4294967295,s.g[0]=s.g[0]+e&4294967295,s.g[1]=s.g[1]+(h+(I<<21&4294967295|I>>>11))&4294967295,s.g[2]=s.g[2]+h&4294967295,s.g[3]=s.g[3]+m&4294967295}function Oi(s,e){this.h=e;for(var n=[],l=!0,h=s.length-1;0<=h;h--){var m=0|s[h];l&&m==e||(n[h]=m,l=!1)}this.g=n}(z=zt.prototype).Oa=function(s){this.M=s},z.ha=function(s,e,n,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+s);e=e?e.toUpperCase():"GET",this.I=s,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ft.g(),this.C=function sn(s){return s.h||(s.h=s.i())}(this.u?this.u:ft),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(s),!0),this.G=!1}catch(m){return void mo(this,m)}if(s=n||"",n=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var h in l)n.set(h,l[h]);else{if("function"!=typeof l.keys||"function"!=typeof l.get)throw Error("Unknown input type for opt_headers: "+String(l));for(const m of l.keys())n.set(m,l.get(m))}l=Array.from(n.keys()).find(m=>"content-type"==m.toLowerCase()),h=ve.FormData&&s instanceof ve.FormData,!(0<=vt(Ii,e))||l||h||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,I]of n)this.g.setRequestHeader(m,I);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xo(this),0<this.B&&((this.L=function Gs(s){return Bn&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=Gr(this.ua,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(m){mo(this,m)}},z.ua=function(){typeof Re<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))},z.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,ir(this,"complete"),ir(this,"abort"),Io(this))},z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Io(this,!0)),zt.$.N.call(this)},z.La=function(){this.s||(this.G||this.v||this.l?oo(this):this.kb())},z.kb=function(){oo(this)},z.isActive=function(){return!!this.g},z.da=function(){try{return 2<Ho(this)?this.g.status:-1}catch{return-1}},z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},z.Wa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),rt(e)}},z.Ia=function(){return this.m},z.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=pc.prototype).ra=8,z.H=1,z.Na=function(s){if(this.m)if(this.m=null,1==this.H){if(!s){this.W=Math.floor(1e5*Math.random()),s=this.W++;const h=new Ct(this,this.l,s);let m=this.s;if(this.U&&(m?(m=Jr(m),gi(m,this.U)):m=this.U),null!==this.o||this.O||(h.I=m,m=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var l=this.j[n];if(void 0===(l="__data__"in l.map&&"string"==typeof(l=l.map.__data__)?l.length:void 0))break;if(4096<(e+=l)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Nl(this,h,e),er(n=at(this.I),"RID",s),er(n,"CVER",22),this.F&&er(n,"X-HTTP-Session-Id",this.F),Ea(this,n),m&&(this.O?e="headers="+encodeURIComponent(String(ao(m)))+"&"+e:this.o&&Oo(n,this.o,m)),to(this.i,h),this.bb&&er(n,"TYPE","init"),this.P?(er(n,"$req",e),er(n,"SID","null"),h.aa=!0,Pn(h,n,null)):Pn(h,n,e),this.H=2}}else 3==this.H&&(s?mc(this,s):0==this.j.length||Cs(this.i)||mc(this))},z.Ma=function(){if(this.u=null,Ah(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var s=2*this.S;this.l.info("BP detection timer enabled: "+s),this.B=ot(dt(this.jb,this),s)}},z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ie(10),ca(this),Ah(this))},z.ib=function(){null!=this.v&&(this.v=null,ca(this),gl(this),ie(19))},z.pb=function(s){s?(this.l.info("Successfully pinged google.com"),ie(2)):(this.l.info("Failed to ping google.com"),ie(1))},z.isActive=function(){return!!this.h&&this.h.isActive(this)},(z=Fa.prototype).Ba=function(){},z.Aa=function(){},z.za=function(){},z.ya=function(){},z.isActive=function(){return!0},z.Va=function(){},Qo.prototype.g=function(s,e){return new zs(s,e)},Q(zs,En),zs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var s=this.g,e=this.l,n=this.h||void 0;ie(0),s.Y=e,s.na=n||{},s.G=s.aa,s.I=ka(s,null,s.Y),_a(s)},zs.prototype.close=function(){gc(this.g)},zs.prototype.u=function(s){var e=this.g;if("string"==typeof s){var n={};n.__data__=s,s=n}else this.v&&((n={}).__data__=br(s),s=n);e.j.push(new class{constructor(s,e){this.g=s,this.map=e}}(e.fb++,s)),3==e.H&&_a(e)},zs.prototype.N=function(){this.g.h=null,delete this.j,gc(this.g),delete this.g,zs.$.N.call(this)},Q(yc,lr),Q(Sd,wr),Q(Jo,Fa),Jo.prototype.Ba=function(){ir(this.g,"a")},Jo.prototype.Aa=function(s){ir(this.g,new yc(s))},Jo.prototype.za=function(s){ir(this.g,new Sd)},Jo.prototype.ya=function(){ir(this.g,"b")},Q(Fs,function Dd(){this.blockSize=-1}),Fs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fs.prototype.j=function(s,e){void 0===e&&(e=s.length);for(var n=e-this.blockSize,l=this.m,h=this.h,m=0;m<e;){if(0==h)for(;m<=n;)rl(this,s,m),m+=this.blockSize;if("string"==typeof s){for(;m<e;)if(l[h++]=s.charCodeAt(m++),h==this.blockSize){rl(this,l),h=0;break}}else for(;m<e;)if(l[h++]=s[m++],h==this.blockSize){rl(this,l),h=0;break}}this.h=h,this.i+=e},Fs.prototype.l=function(){var s=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);s[0]=128;for(var e=1;e<s.length-8;++e)s[e]=0;var n=8*this.i;for(e=s.length-8;e<s.length;++e)s[e]=255&n,n/=256;for(this.j(s),s=Array(16),e=n=0;4>e;++e)for(var l=0;32>l;l+=8)s[n++]=this.g[e]>>>l&255;return s};var Xi={};function L(s){return-128<=s&&128>s?function nn(s,e){var n=Xi;return Object.prototype.hasOwnProperty.call(n,s)?n[s]:n[s]=e(s)}(s,function(e){return new Oi([0|e],0>e?-1:0)}):new Oi([0|s],0>s?-1:0)}function le(s){if(isNaN(s)||!isFinite(s))return nt;if(0>s)return ci(le(-s));for(var e=[],n=1,l=0;s>=n;l++)e[l]=s/n|0,n*=Te;return new Oi(e,0)}var Te=4294967296,nt=L(0),Qt=L(1),gn=L(16777216);function Cr(s){if(0!=s.h)return!1;for(var e=0;e<s.g.length;e++)if(0!=s.g[e])return!1;return!0}function Ci(s){return-1==s.h}function ci(s){for(var e=s.g.length,n=[],l=0;l<e;l++)n[l]=~s.g[l];return new Oi(n,~s.h).add(Qt)}function ri(s,e){return s.add(ci(e))}function wi(s,e){for(;(65535&s[e])!=s[e];)s[e+1]+=s[e]>>>16,s[e]&=65535,e++}function is(s,e){this.g=s,this.h=e}function Qi(s,e){if(Cr(e))throw Error("division by zero");if(Cr(s))return new is(nt,nt);if(Ci(s))return e=Qi(ci(s),e),new is(ci(e.g),ci(e.h));if(Ci(e))return e=Qi(s,ci(e)),new is(ci(e.g),e.h);if(30<s.g.length){if(Ci(s)||Ci(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qt,l=e;0>=l.X(s);)n=fs(n),l=fs(l);var h=Bs(n,1),m=Bs(l,1);for(l=Bs(l,2),n=Bs(n,2);!Cr(l);){var I=m.add(l);0>=I.X(s)&&(h=h.add(n),m=I),l=Bs(l,1),n=Bs(n,1)}return e=ri(s,h.R(e)),new is(h,e)}for(h=nt;0<=s.X(e);){for(n=Math.max(1,Math.floor(s.ea()/e.ea())),l=48>=(l=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,l-48),I=(m=le(n)).R(e);Ci(I)||0<I.X(s);)I=(m=le(n-=l)).R(e);Cr(m)&&(m=Qt),h=h.add(m),s=ri(s,I)}return new is(h,s)}function fs(s){for(var e=s.g.length+1,n=[],l=0;l<e;l++)n[l]=s.D(l)<<1|s.D(l-1)>>>31;return new Oi(n,s.h)}function Bs(s,e){var n=e>>5;e%=32;for(var l=s.g.length-n,h=[],m=0;m<l;m++)h[m]=0<e?s.D(m+n)>>>e|s.D(m+n+1)<<32-e:s.D(m+n);return new Oi(h,s.h)}(z=Oi.prototype).ea=function(){if(Ci(this))return-ci(this).ea();for(var s=0,e=1,n=0;n<this.g.length;n++){var l=this.D(n);s+=(0<=l?l:Te+l)*e,e*=Te}return s},z.toString=function(s){if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if(Cr(this))return"0";if(Ci(this))return"-"+ci(this).toString(s);for(var e=le(Math.pow(s,6)),n=this,l="";;){var h=Qi(n,e).g,m=((0<(n=ri(n,h.R(e))).g.length?n.g[0]:n.h)>>>0).toString(s);if(Cr(n=h))return m+l;for(;6>m.length;)m="0"+m;l=m+l}},z.D=function(s){return 0>s?0:s<this.g.length?this.g[s]:this.h},z.X=function(s){return Ci(s=ri(this,s))?-1:Cr(s)?0:1},z.abs=function(){return Ci(this)?ci(this):this},z.add=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],l=0,h=0;h<=e;h++){var m=l+(65535&this.D(h))+(65535&s.D(h)),I=(m>>>16)+(this.D(h)>>>16)+(s.D(h)>>>16);l=I>>>16,n[h]=(I&=65535)<<16|(m&=65535)}return new Oi(n,-2147483648&n[n.length-1]?-1:0)},z.R=function(s){if(Cr(this)||Cr(s))return nt;if(Ci(this))return Ci(s)?ci(this).R(ci(s)):ci(ci(this).R(s));if(Ci(s))return ci(this.R(ci(s)));if(0>this.X(gn)&&0>s.X(gn))return le(this.ea()*s.ea());for(var e=this.g.length+s.g.length,n=[],l=0;l<2*e;l++)n[l]=0;for(l=0;l<this.g.length;l++)for(var h=0;h<s.g.length;h++){var m=this.D(l)>>>16,I=65535&this.D(l),$=s.D(h)>>>16,X=65535&s.D(h);n[2*l+2*h]+=I*X,wi(n,2*l+2*h),n[2*l+2*h+1]+=m*X,wi(n,2*l+2*h+1),n[2*l+2*h+1]+=I*$,wi(n,2*l+2*h+1),n[2*l+2*h+2]+=m*$,wi(n,2*l+2*h+2)}for(l=0;l<e;l++)n[l]=n[2*l+1]<<16|n[2*l];for(l=e;l<2*e;l++)n[l]=0;return new Oi(n,0)},z.gb=function(s){return Qi(this,s).h},z.and=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],l=0;l<e;l++)n[l]=this.D(l)&s.D(l);return new Oi(n,this.h&s.h)},z.or=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],l=0;l<e;l++)n[l]=this.D(l)|s.D(l);return new Oi(n,this.h|s.h)},z.xor=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],l=0;l<e;l++)n[l]=this.D(l)^s.D(l);return new Oi(n,this.h^s.h)},Qo.prototype.createWebChannel=Qo.prototype.g,zs.prototype.send=zs.prototype.u,zs.prototype.open=zs.prototype.m,zs.prototype.close=zs.prototype.close,kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,$t.COMPLETE="complete",Mn.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",En.prototype.listen=En.prototype.O,zt.prototype.listenOnce=zt.prototype.P,zt.prototype.getLastError=zt.prototype.Sa,zt.prototype.getLastErrorCode=zt.prototype.Ia,zt.prototype.getStatus=zt.prototype.da,zt.prototype.getResponseJson=zt.prototype.Wa,zt.prototype.getResponseText=zt.prototype.ja,zt.prototype.send=zt.prototype.ha,zt.prototype.setWithCredentials=zt.prototype.Oa,Fs.prototype.digest=Fs.prototype.l,Fs.prototype.reset=Fs.prototype.reset,Fs.prototype.update=Fs.prototype.j,Oi.prototype.add=Oi.prototype.add,Oi.prototype.multiply=Oi.prototype.R,Oi.prototype.modulo=Oi.prototype.gb,Oi.prototype.compare=Oi.prototype.X,Oi.prototype.toNumber=Oi.prototype.ea,Oi.prototype.toString=Oi.prototype.toString,Oi.prototype.getBits=Oi.prototype.D,Oi.fromNumber=le,Oi.fromString=function W(s,e){if(0==s.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==s.charAt(0))return ci(W(s.substring(1),e));if(0<=s.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=le(Math.pow(e,8)),l=nt,h=0;h<s.length;h+=8){var m=Math.min(8,s.length-h),I=parseInt(s.substring(h,h+m),e);8>m?(m=le(Math.pow(e,m)),l=l.R(m).add(le(I))):l=(l=l.R(n)).add(le(I))}return l};var Co=je.createWebChannelTransport=function(){return new Qo},Qr=je.getStatEventTarget=function(){return q()},So=je.ErrorCode=kt,Qs=je.EventType=$t,vl=je.Event=Rt,da=je.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xf=je.FetchXmlHttpFactory=Ro,Ll=je.WebChannel=Mn,Ba=je.XhrIo=zt,xh=je.Md5=Fs,yl=je.Integer=Oi;const Td="@firebase/firestore";class Js{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Js.UNAUTHENTICATED=new Js(null),Js.GOOGLE_CREDENTIALS=new Js("google-credentials-uid"),Js.FIRST_PARTY=new Js("first-party-uid"),Js.MOCK_USER=new Js("mock-user");let Fl="9.23.0";const On=new Bt.Yd("@firebase/firestore");function ns(){return On.logLevel}function Zn(s,...e){if(On.logLevel<=Bt.in.DEBUG){const n=e.map(_c);On.debug(`Firestore (${Fl}): ${s}`,...n)}}function xi(s,...e){if(On.logLevel<=Bt.in.ERROR){const n=e.map(_c);On.error(`Firestore (${Fl}): ${s}`,...n)}}function No(s,...e){if(On.logLevel<=Bt.in.WARN){const n=e.map(_c);On.warn(`Firestore (${Fl}): ${s}`,...n)}}function _c(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function mr(s="Unexpected state"){const e=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: `+s;throw xi(e),new Error(e)}function Ur(s,e){s||mr()}function Er(s,e){return s}const hn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ln extends $e.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class $a{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Js.UNAUTHENTICATED))}shutdown(){}}class wc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _l{constructor(e){this.t=e,this.currentUser=Js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var l=this;let h=this.i;const m=ae=>this.i!==h?(h=this.i,n(ae)):Promise.resolve();let I=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new qi,e.enqueueRetryable(()=>m(this.currentUser))};const $=()=>{const ae=I;e.enqueueRetryable((0,ce.Z)(function*(){yield ae.promise,yield m(l.currentUser)}))},X=ae=>{Zn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ae,this.auth.addAuthTokenListener(this.o),$()};this.t.onInit(ae=>X(ae)),setTimeout(()=>{if(!this.auth){const ae=this.t.getImmediate({optional:!0});ae?X(ae):(Zn("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new qi)}},0),$()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(l=>this.i!==e?(Zn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Ur("string"==typeof l.accessToken),new $a(l.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ur(null===e||"string"==typeof e),new Js(e)}}class Xc{constructor(e,n,l){this.h=e,this.l=n,this.m=l,this.type="FirstParty",this.user=Js.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Qc{constructor(e,n,l){this.h=e,this.l=n,this.m=l}getToken(){return Promise.resolve(new Xc(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Js.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class il{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const l=m=>{null!=m.error&&Zn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const I=m.token!==this.T;return this.T=m.token,Zn("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?n(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>l(m))};const h=m=>{Zn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?h(m):Zn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ur("string"==typeof n.token),this.T=n.token,new il(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ec(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let l=0;l<s;l++)n[l]=Math.floor(256*Math.random());return n}class bc{static A(){const n=62*Math.floor(256/62);let l="";for(;l.length<20;){const h=Ec(40);for(let m=0;m<h.length;++m)l.length<20&&h[m]<n&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[m]%62))}return l}}function fi(s,e){return s<e?-1:s>e?1:0}function Ic(s,e,n){return s.length===e.length&&s.every((l,h)=>n(l,e[h]))}function eu(s){return s+"\0"}class Ss{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ln(hn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ln(hn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ln(hn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ln(hn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ss.fromMillis(Date.now())}static fromDate(e){return Ss.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),l=Math.floor(1e6*(e-1e3*n));return new Ss(n,l)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fi(this.nanoseconds,e.nanoseconds):fi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wr(e)}static min(){return new Wr(new Ss(0,0))}static max(){return new Wr(new Ss(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cc{constructor(e,n,l){void 0===n?n=0:n>e.length&&mr(),void 0===l?l=e.length-n:l>e.length-n&&mr(),this.segments=e,this.offset=n,this.len=l}get length(){return this.len}isEqual(e){return 0===Cc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cc?e.forEach(l=>{n.push(l)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,l=this.limit();n<l;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const l=Math.min(e.length,n.length);for(let h=0;h<l;h++){const m=e.get(h),I=n.get(h);if(m<I)return-1;if(m>I)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class os extends Cc{construct(e,n,l){return new os(e,n,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const l of e){if(l.indexOf("//")>=0)throw new Ln(hn.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);n.push(...l.split("/").filter(h=>h.length>0))}return new os(n)}static emptyPath(){return new os([])}}const Bl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $s extends Cc{construct(e,n,l){return new $s(e,n,l)}static isValidIdentifier(e){return Bl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$s.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $s(["__name__"])}static fromServerFormat(e){const n=[];let l="",h=0;const m=()=>{if(0===l.length)throw new Ln(hn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(l),l=""};let I=!1;for(;h<e.length;){const $=e[h];if("\\"===$){if(h+1===e.length)throw new Ln(hn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const X=e[h+1];if("\\"!==X&&"."!==X&&"`"!==X)throw new Ln(hn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);l+=X,h+=2}else"`"===$?(I=!I,h++):"."!==$||I?(l+=$,h++):(m(),h++)}if(m(),I)throw new Ln(hn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $s(n)}static emptyPath(){return new $s([])}}class yr{constructor(e){this.path=e}static fromPath(e){return new yr(os.fromString(e))}static fromName(e){return new yr(os.fromString(e).popFirst(5))}static empty(){return new yr(os.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===os.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return os.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yr(new os(e.slice()))}}class Bu{constructor(e,n,l,h){this.indexId=e,this.collectionGroup=n,this.fields=l,this.indexState=h}}function To(s){return s.fields.find(e=>2===e.kind)}function O(s){return s.fields.filter(e=>2!==e.kind)}Bu.UNKNOWN_ID=-1;class x{constructor(e,n){this.fieldPath=e,this.kind=n}}class oe{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new oe(0,Lt.min())}}function He(s,e){const n=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,h=Wr.fromTimestamp(1e9===l?new Ss(n+1,0):new Ss(n,l));return new Lt(h,yr.empty(),e)}function Ue(s){return new Lt(s.readTime,s.key,-1)}class Lt{constructor(e,n,l){this.readTime=e,this.documentKey=n,this.largestBatchId=l}static min(){return new Lt(Wr.min(),yr.empty(),-1)}static max(){return new Lt(Wr.max(),yr.empty(),-1)}}function An(s,e){let n=s.readTime.compareTo(e.readTime);return 0!==n?n:(n=yr.comparator(s.documentKey,e.documentKey),0!==n?n:fi(s.largestBatchId,e.largestBatchId))}const vr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ui{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dr(s){return us.apply(this,arguments)}function us(){return us=(0,ce.Z)(function*(s){if(s.code!==hn.FAILED_PRECONDITION||s.message!==vr)throw s;Zn("LocalStore","Unexpectedly lost primary lease")}),us.apply(this,arguments)}class Kt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&mr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Kt((l,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(l,h)},this.catchCallback=m=>{this.wrapFailure(n,m).next(l,h)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Kt?n:Kt.resolve(n)}catch(n){return Kt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Kt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Kt.reject(n)}static resolve(e){return new Kt((n,l)=>{n(e)})}static reject(e){return new Kt((n,l)=>{l(e)})}static waitFor(e){return new Kt((n,l)=>{let h=0,m=0,I=!1;e.forEach($=>{++h,$.next(()=>{++m,I&&m===h&&n()},X=>l(X))}),I=!0,m===h&&n()})}static or(e){let n=Kt.resolve(!1);for(const l of e)n=n.next(h=>h?Kt.resolve(h):l());return n}static forEach(e,n){const l=[];return e.forEach((h,m)=>{l.push(n.call(this,h,m))}),this.waitFor(l)}static mapArray(e,n){return new Kt((l,h)=>{const m=e.length,I=new Array(m);let $=0;for(let X=0;X<m;X++){const ae=X;n(e[ae]).next(Be=>{I[ae]=Be,++$,$===m&&l(I)},Be=>h(Be))}})}static doWhile(e,n){return new Kt((l,h)=>{const m=()=>{!0===e()?n().next(()=>{m()},h):l()};m()})}}class Hs{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new qi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new sl(e,n.error)):this.v.resolve()},this.transaction.onerror=l=>{const h=Sc(l.target.error);this.v.reject(new sl(e,h))}}static open(e,n,l,h){try{return new Hs(n,e.transaction(h,l))}catch(m){throw new sl(n,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Zn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ol(n)}}class Ms{constructor(e,n,l){this.name=e,this.version=n,this.V=l,12.2===Ms.S((0,$e.z$)())&&xi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Zn("SimpleDb","Removing database:",e),El(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,$e.hl)())return!1;if(Ms.C())return!0;const e=(0,$e.z$)(),n=Ms.S(e),l=0<n&&n<10,h=Ms.N(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||l||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),l=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(l)}static N(e){const n=e.match(/Android ([\d.]+)/i),l=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(l)}$(e){var n=this;return(0,ce.Z)(function*(){return n.db||(Zn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((l,h)=>{const m=indexedDB.open(n.name,n.version);m.onsuccess=I=>{l(I.target.result)},m.onblocked=()=>{h(new sl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=I=>{const $=I.target.error;h("VersionError"===$.name?new Ln(hn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===$.name?new Ln(hn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+$):new sl(e,$))},m.onupgradeneeded=I=>{Zn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',I.oldVersion),n.V.O(I.target.result,m.transaction,I.oldVersion,n.version).next(()=>{Zn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=l=>n.F(l)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,l,h){var m=this;return(0,ce.Z)(function*(){const I="readonly"===n;let $=0;for(;;){++$;try{m.db=yield m.$(e);const X=Hs.open(m.db,e,I?"readonly":"readwrite",l),ae=h(X).next(Be=>(X.P(),Be)).catch(Be=>(X.abort(Be),Kt.reject(Be))).toPromise();return ae.catch(()=>{}),yield X.R,ae}catch(X){const ae=X,Be="FirebaseError"!==ae.name&&$<3;if(Zn("SimpleDb","Transaction failed with error:",ae.message,"Retrying:",Be),m.close(),!Be)return Promise.reject(ae)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wl{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return El(this.L.delete())}}class sl extends Ln{constructor(e,n){super(hn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ko(s){return"IndexedDbTransactionError"===s.name}class ol{constructor(e){this.store=e}put(e,n){let l;return void 0!==n?(Zn("SimpleDb","PUT",this.store.name,e,n),l=this.store.put(n,e)):(Zn("SimpleDb","PUT",this.store.name,"<auto-key>",e),l=this.store.put(e)),El(l)}add(e){return Zn("SimpleDb","ADD",this.store.name,e,e),El(this.store.add(e))}get(e){return El(this.store.get(e)).next(n=>(void 0===n&&(n=null),Zn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Zn("SimpleDb","DELETE",this.store.name,e),El(this.store.delete(e))}count(){return Zn("SimpleDb","COUNT",this.store.name),El(this.store.count())}j(e,n){const l=this.options(e,n);if(l.index||"function"!=typeof this.store.getAll){const h=this.cursor(l),m=[];return this.W(h,(I,$)=>{m.push($)}).next(()=>m)}{const h=this.store.getAll(l.range);return new Kt((m,I)=>{h.onerror=$=>{I($.target.error)},h.onsuccess=$=>{m($.target.result)}})}}H(e,n){const l=this.store.getAll(e,null===n?void 0:n);return new Kt((h,m)=>{l.onerror=I=>{m(I.target.error)},l.onsuccess=I=>{h(I.target.result)}})}J(e,n){Zn("SimpleDb","DELETE ALL",this.store.name);const l=this.options(e,n);l.Y=!1;const h=this.cursor(l);return this.W(h,(m,I,$)=>$.delete())}X(e,n){let l;n?l=e:(l={},n=e);const h=this.cursor(l);return this.W(h,n)}Z(e){const n=this.cursor({});return new Kt((l,h)=>{n.onerror=m=>{const I=Sc(m.target.error);h(I)},n.onsuccess=m=>{const I=m.target.result;I?e(I.primaryKey,I.value).next($=>{$?I.continue():l()}):l()}})}W(e,n){const l=[];return new Kt((h,m)=>{e.onerror=I=>{m(I.target.error)},e.onsuccess=I=>{const $=I.target.result;if(!$)return void h();const X=new wl($),ae=n($.primaryKey,$.value,X);if(ae instanceof Kt){const Be=ae.catch(wt=>(X.done(),Kt.reject(wt)));l.push(Be)}X.isDone?h():null===X.K?$.continue():$.continue(X.K)}}).next(()=>Kt.waitFor(l))}options(e,n){let l;return void 0!==e&&("string"==typeof e?l=e:n=e),{index:l,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const l=this.store.index(e.index);return e.Y?l.openKeyCursor(e.range,n):l.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function El(s){return new Kt((e,n)=>{s.onsuccess=l=>{e(l.target.result)},s.onerror=l=>{const h=Sc(l.target.error);n(h)}})}let bl=!1;function Sc(s){const e=Ms.S((0,$e.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(n)>=0){const l=new Ln("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bl||(bl=!0,setTimeout(()=>{throw l},0)),l}}return s}class $l{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Zn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ce.Z)(function*(){n.task=null;try{Zn("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(l){ko(l)?Zn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",l):yield Dr(l)}yield n.et(6e4)}))}}class Ad{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,ce.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",l=>n.st(l,e))})()}st(e,n){const l=new Set;let h=n,m=!0;return Kt.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(I=>{if(null!==I&&!l.has(I))return Zn("IndexBackiller",`Processing collection: ${I}`),this.it(e,I,h).next($=>{h-=$,l.add(I)});m=!1})).next(()=>n-h)}it(e,n,l){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(h=>this.localStore.localDocuments.getNextDocuments(e,n,h,l).next(m=>{const I=m.changes;return this.localStore.indexManager.updateIndexEntries(e,I).next(()=>this.rt(h,m)).next($=>(Zn("IndexBackiller",`Updating offset: ${$}`),this.localStore.indexManager.updateCollectionGroup(e,n,$))).next(()=>I.size)}))}rt(e,n){let l=e;return n.changes.forEach((h,m)=>{const I=Ue(m);An(I,l)>0&&(l=I)}),new Lt(l.readTime,l.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ea=(()=>{class s{constructor(n,l){this.previousValue=n,l&&(l.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>l.writeSequenceNumber(h))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return s.ct=-1,s})();function Dc(s){return null==s}function Il(s){return 0===s&&1/s==-1/0}function Tc(s){return"number"==typeof s&&Number.isInteger(s)&&!Il(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function lo(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=tu(e)),e=Em(s.get(n),e);return tu(e)}function Em(s,e){let n=e;const l=s.length;for(let h=0;h<l;h++){const m=s.charAt(h);switch(m){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=m}}return n}function tu(s){return s+"\x01\x01"}function Lo(s){const e=s.length;if(Ur(e>=2),2===e)return Ur("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),os.emptyPath();const n=e-2,l=[];let h="";for(let m=0;m<e;){const I=s.indexOf("\x01",m);switch((I<0||I>n)&&mr(),s.charAt(I+1)){case"\x01":const $=s.substring(m,I);let X;0===h.length?X=$:(h+=$,X=h,h=""),l.push(X);break;case"\x10":h+=s.substring(m,I),h+="\0";break;case"\x11":h+=s.substring(m,I+1);break;default:mr()}m=I+2}return new os(l)}const $u=["userId","batchId"];function Ac(s,e){return[s,lo(e)]}function Ph(s,e,n){return[s,lo(e),n]}const xd={},ag=["prefixPath","collectionGroup","readTime","documentId"],Go=["prefixPath","collectionGroup","documentId"],Rh=["collectionGroup","readTime","prefixPath","documentId"],xc=["canonicalId","targetId"],nu=["targetId","path"],Oh=["path","targetId"],ru=["collectionId","parent"],iu=["indexId","uid"],bm=["uid","sequenceNumber"],Nh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kh=["indexId","uid","orderedDocumentKey"],Uu=["userId","collectionPath","documentId"],Lh=["userId","collectionPath","largestBatchId"],Jf=["userId","collectionGroup","largestBatchId"],su=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mc=[...su,"documentOverlays"],lg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fh=lg,Vu=[...Fh,"indexConfiguration","indexState","indexEntries"];class Cl extends ui{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function co(s,e){const n=Er(s);return Ms.M(n.ht,e)}function Pc(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Wo(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Bh(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bs{constructor(e,n){this.comparator=e,this.root=n||Ps.EMPTY}insert(e,n){return new bs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(e){return new bs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const l=this.comparator(e,n.key);if(0===l)return n.value;l<0?n=n.left:l>0&&(n=n.right)}return null}indexOf(e){let n=0,l=this.root;for(;!l.isEmpty();){const h=this.comparator(e,l.key);if(0===h)return n+l.left.size;h<0?l=l.left:(n+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,l)=>(e(n,l),!1))}toString(){const e=[];return this.inorderTraversal((n,l)=>(e.push(`${n}:${l}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,n,l,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=n?l(e.key,n):1,n&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ps{constructor(e,n,l,h,m){this.key=e,this.value=n,this.color=null!=l?l:Ps.RED,this.left=null!=h?h:Ps.EMPTY,this.right=null!=m?m:Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,l,h,m){return new Ps(null!=e?e:this.key,null!=n?n:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,l){let h=this;const m=l(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,n,l),null):0===m?h.copy(null,n,null,null,null):h.copy(null,null,null,null,h.right.insert(e,n,l)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let l,h=this;if(n(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,n),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===n(e,h.key)){if(h.right.isEmpty())return Ps.EMPTY;l=h.right.min(),h=h.copy(l.key,l.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,n))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mr();const e=this.left.check();if(e!==this.right.check())throw mr();return e+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw mr()}get value(){throw mr()}get color(){throw mr()}get left(){throw mr()}get right(){throw mr()}copy(s,e,n,l,h){return this}insert(s,e,n){return new Ps(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ls{constructor(e){this.comparator=e,this.data=new bs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,l)=>(e(n),!1))}forEachInRange(e,n){const l=this.data.getIteratorFrom(e[0]);for(;l.hasNext();){const h=l.getNext();if(this.comparator(h.key,e[1])>=0)return;n(h.key)}}forEachWhile(e,n){let l;for(l=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();l.hasNext();)if(!e(l.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ul(this.data.getIterator())}getIteratorFrom(e){return new Ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(l=>{n=n.add(l)}),n}isEqual(e){if(!(e instanceof ls)||this.size!==e.size)return!1;const n=this.data.getIterator(),l=e.data.getIterator();for(;n.hasNext();){const h=n.getNext().key,m=l.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ls(this.comparator);return n.data=e,n}}class Ul{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ua(s){return s.hasNext()?s.getNext():void 0}class uo{constructor(e){this.fields=e,e.sort($s.comparator)}static empty(){return new uo([])}unionWith(e){let n=new ls($s.comparator);for(const l of this.fields)n=n.add(l);for(const l of e)n=n.add(l);return new uo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ic(this.fields,e.fields,(n,l)=>n.isEqual(l))}}class ou extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ho{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ou("Invalid base64 string: "+h):h}}(e);return new ho(n)}static fromUint8Array(e){const n=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(e);return new ho(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ho.EMPTY_BYTE_STRING=new ho("");const ep=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sl(s){if(Ur(!!s),"string"==typeof s){let e=0;const n=ep.exec(s);if(Ur(!!n),n[1]){let h=n[1];h=(h+"000000000").substr(0,9),e=Number(h)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:e}}return{seconds:Ys(s.seconds),nanos:Ys(s.nanos)}}function Ys(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Dl(s){return"string"==typeof s?ho.fromBase64String(s):ho.fromUint8Array(s)}function au(s){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Va(s){const e=s.mapValue.fields.__previous_value__;return au(e)?Va(e):e}function ha(s){const e=Sl(s.mapValue.fields.__local_write_time__.timestampValue);return new Ss(e.seconds,e.nanos)}class tp{constructor(e,n,l,h,m,I,$,X,ae){this.databaseId=e,this.appId=n,this.persistenceKey=l,this.host=h,this.ssl=m,this.forceLongPolling=I,this.autoDetectLongPolling=$,this.longPollingOptions=X,this.useFetchStreams=ae}}class Vl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}const Ds={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jl={nullValue:"NULL_VALUE"};function Yo(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?au(s)?4:uu(s)?9007199254740991:10:mr()}function Ia(s,e){if(s===e)return!0;const n=Yo(s);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ha(s).isEqual(ha(e));case 3:return function(l,h){if("string"==typeof l.timestampValue&&"string"==typeof h.timestampValue&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=Sl(l.timestampValue),I=Sl(h.timestampValue);return m.seconds===I.seconds&&m.nanos===I.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return h=e,Dl(s.bytesValue).isEqual(Dl(h.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,h){return Ys(l.geoPointValue.latitude)===Ys(h.geoPointValue.latitude)&&Ys(l.geoPointValue.longitude)===Ys(h.geoPointValue.longitude)}(s,e);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Ys(l.integerValue)===Ys(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=Ys(l.doubleValue),I=Ys(h.doubleValue);return m===I?Il(m)===Il(I):isNaN(m)&&isNaN(I)}return!1}(s,e);case 9:return Ic(s.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:return function(l,h){const m=l.mapValue.fields||{},I=h.mapValue.fields||{};if(Pc(m)!==Pc(I))return!1;for(const $ in m)if(m.hasOwnProperty($)&&(void 0===I[$]||!Ia(m[$],I[$])))return!1;return!0}(s,e);default:return mr()}var h}function Rs(s,e){return void 0!==(s.values||[]).find(n=>Ia(n,e))}function Ca(s,e){if(s===e)return 0;const n=Yo(s),l=Yo(e);if(n!==l)return fi(n,l);switch(n){case 0:case 9007199254740991:return 0;case 1:return fi(s.booleanValue,e.booleanValue);case 2:return function(h,m){const I=Ys(h.integerValue||h.doubleValue),$=Ys(m.integerValue||m.doubleValue);return I<$?-1:I>$?1:I===$?0:isNaN(I)?isNaN($)?0:-1:1}(s,e);case 3:return np(s.timestampValue,e.timestampValue);case 4:return np(ha(s),ha(e));case 5:return fi(s.stringValue,e.stringValue);case 6:return function(h,m){const I=Dl(h),$=Dl(m);return I.compareTo($)}(s.bytesValue,e.bytesValue);case 7:return function(h,m){const I=h.split("/"),$=m.split("/");for(let X=0;X<I.length&&X<$.length;X++){const ae=fi(I[X],$[X]);if(0!==ae)return ae}return fi(I.length,$.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,m){const I=fi(Ys(h.latitude),Ys(m.latitude));return 0!==I?I:fi(Ys(h.longitude),Ys(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(h,m){const I=h.values||[],$=m.values||[];for(let X=0;X<I.length&&X<$.length;++X){const ae=Ca(I[X],$[X]);if(ae)return ae}return fi(I.length,$.length)}(s.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===Ds.mapValue&&m===Ds.mapValue)return 0;if(h===Ds.mapValue)return 1;if(m===Ds.mapValue)return-1;const I=h.fields||{},$=Object.keys(I),X=m.fields||{},ae=Object.keys(X);$.sort(),ae.sort();for(let Be=0;Be<$.length&&Be<ae.length;++Be){const wt=fi($[Be],ae[Be]);if(0!==wt)return wt;const en=Ca(I[$[Be]],X[ae[Be]]);if(0!==en)return en}return fi($.length,ae.length)}(s.mapValue,e.mapValue);default:throw mr()}}function np(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return fi(s,e);const n=Sl(s),l=Sl(e),h=fi(n.seconds,l.seconds);return 0!==h?h:fi(n.nanos,l.nanos)}function ja(s){return Rc(s)}function Rc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(l){const h=Sl(l);return`time(${h.seconds},${h.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Dl(s.bytesValue).toBase64():"referenceValue"in s?yr.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(l){let h="[",m=!0;for(const I of l.values||[])m?m=!1:h+=",",h+=Rc(I);return h+"]"}(s.arrayValue):"mapValue"in s?function(l){const h=Object.keys(l.fields||{}).sort();let m="{",I=!0;for(const $ of h)I?I=!1:m+=",",m+=`${$}:${Rc(l.fields[$])}`;return m+"}"}(s.mapValue):mr();var e}function lu(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function rp(s){return!!s&&"integerValue"in s}function cu(s){return!!s&&"arrayValue"in s}function fa(s){return!!s&&"nullValue"in s}function $h(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zl(s){return!!s&&"mapValue"in s}function Md(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Wo(s.mapValue.fields,(n,l)=>e.mapValue.fields[n]=Md(l)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Md(s.arrayValue.values[n]);return e}return Object.assign({},s)}function uu(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function ip(s){return"nullValue"in s?jl:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?lu(Vl.empty(),yr.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:mr()}function cg(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?lu(Vl.empty(),yr.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Ds:mr()}function ug(s,e){const n=Ca(s.value,e.value);return 0!==n?n:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function Uh(s,e){const n=Ca(s.value,e.value);return 0!==n?n:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class fo{constructor(e){this.value=e}static empty(){return new fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let l=0;l<e.length-1;++l)if(n=(n.mapValue.fields||{})[e.get(l)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(n)}setAll(e){let n=$s.emptyPath(),l={},h=[];e.forEach((I,$)=>{if(!n.isImmediateParentOf($)){const X=this.getFieldsMap(n);this.applyChanges(X,l,h),l={},h=[],n=$.popLast()}I?l[$.lastSegment()]=Md(I):h.push($.lastSegment())});const m=this.getFieldsMap(n);this.applyChanges(m,l,h)}delete(e){const n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let l=0;l<e.length;++l){let h=n.mapValue.fields[e.get(l)];zl(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},n.mapValue.fields[e.get(l)]=h),n=h}return n.mapValue.fields}applyChanges(e,n,l){Wo(n,(h,m)=>e[h]=m);for(const h of l)delete e[h]}clone(){return new fo(Md(this.value))}}function dg(s){const e=[];return Wo(s.fields,(n,l)=>{const h=new $s([n]);if(zl(l)){const m=dg(l.mapValue).fields;if(0===m.length)e.push(h);else for(const I of m)e.push(h.child(I))}else e.push(h)}),new uo(e)}class ys{constructor(e,n,l,h,m,I,$){this.key=e,this.documentType=n,this.version=l,this.readTime=h,this.createTime=m,this.data=I,this.documentState=$}static newInvalidDocument(e){return new ys(e,0,Wr.min(),Wr.min(),Wr.min(),fo.empty(),0)}static newFoundDocument(e,n,l,h){return new ys(e,1,n,Wr.min(),l,h,0)}static newNoDocument(e,n){return new ys(e,2,n,Wr.min(),Wr.min(),fo.empty(),0)}static newUnknownDocument(e,n){return new ys(e,3,n,Wr.min(),Wr.min(),fo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Wr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sa{constructor(e,n){this.position=e,this.inclusive=n}}function hg(s,e,n){let l=0;for(let h=0;h<s.position.length;h++){const m=e[h],I=s.position[h];if(l=m.field.isKeyField()?yr.comparator(yr.fromName(I.referenceValue),n.key):Ca(I,n.data.field(m.field)),"desc"===m.dir&&(l*=-1),0!==l)break}return l}function du(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ia(s.position[n],e.position[n]))return!1;return!0}class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pd(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class fg{}class Ji extends fg{constructor(e,n,l){super(),this.field=e,this.op=n,this.value=l}static create(e,n,l){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,l):new fu(e,n,l):"array-contains"===n?new pg(e,l):"in"===n?new jh(e,l):"not-in"===n?new Ha(e,l):"array-contains-any"===n?new zh(e,l):new Ji(e,n,l)}static createKeyFieldInFilter(e,n,l){return"in"===n?new Sm(e,l):new Dm(e,l)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ca(n,this.value)):null!==n&&Yo(this.value)===Yo(n)&&this.matchesComparison(Ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ds extends fg{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ds(e,n)}matches(e){return Hl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Hl(s){return"and"===s.op}function zu(s){return"or"===s.op}function Gl(s){return za(s)&&Hl(s)}function za(s){for(const e of s.filters)if(e instanceof ds)return!1;return!0}function Wl(s){if(s instanceof Ji)return s.field.canonicalString()+s.op.toString()+ja(s.value);if(Gl(s))return s.filters.map(e=>Wl(e)).join(",");{const e=s.filters.map(n=>Wl(n)).join(",");return`${s.op}(${e})`}}function Yl(s,e){return s instanceof Ji?(n=s,(l=e)instanceof Ji&&n.op===l.op&&n.field.isEqual(l.field)&&Ia(n.value,l.value)):s instanceof ds?function(n,l){return l instanceof ds&&n.op===l.op&&n.filters.length===l.filters.length&&n.filters.reduce((h,m,I)=>h&&Yl(m,l.filters[I]),!0)}(s,e):void mr();var n,l}function Rd(s,e){const n=s.filters.concat(e);return ds.create(n,s.op)}function Cm(s){return s instanceof Ji?`${(e=s).field.canonicalString()} ${e.op} ${ja(e.value)}`:s instanceof ds?function(e){return e.op.toString()+" {"+e.getFilters().map(Cm).join(" ,")+"}"}(s):"Filter";var e}class fu extends Ji{constructor(e,n,l){super(e,n,l),this.key=yr.fromName(l.referenceValue)}matches(e){const n=yr.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sm extends Ji{constructor(e,n){super(e,"in",n),this.keys=Vh(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Dm extends Ji{constructor(e,n){super(e,"not-in",n),this.keys=Vh(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vh(s,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(l=>yr.fromName(l.referenceValue))}class pg extends Ji{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cu(n)&&Rs(n.arrayValue,this.value)}}class jh extends Ji{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Rs(this.value.arrayValue,n)}}class Ha extends Ji{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Rs(this.value.arrayValue,n)}}class zh extends Ji{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(l=>Rs(this.value.arrayValue,l))}}class Tm{constructor(e,n=null,l=[],h=[],m=null,I=null,$=null){this.path=e,this.collectionGroup=n,this.orderBy=l,this.filters=h,this.limit=m,this.startAt=I,this.endAt=$,this.dt=null}}function Hu(s,e=null,n=[],l=[],h=null,m=null,I=null){return new Tm(s,e,n,l,h,m,I)}function Oc(s){const e=Er(s);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(l=>Wl(l)).join(","),n+="|ob:",n+=e.orderBy.map(l=>{return(h=l).field.canonicalString()+h.dir;var h}).join(","),Dc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(l=>ja(l)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(l=>ja(l)).join(",")),e.dt=n}return e.dt}function Nc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Pd(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Yl(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!du(s.startAt,e.startAt)&&du(s.endAt,e.endAt)}function Hh(s){return yr.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Gh(s,e){return s.filters.filter(n=>n instanceof Ji&&n.field.isEqual(e))}function Od(s,e,n){let l=jl,h=!0;for(const m of Gh(s,e)){let I=jl,$=!0;switch(m.op){case"<":case"<=":I=ip(m.value);break;case"==":case"in":case">=":I=m.value;break;case">":I=m.value,$=!1;break;case"!=":case"not-in":I=jl}ug({value:l,inclusive:h},{value:I,inclusive:$})<0&&(l=I,h=$)}if(null!==n)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const I=n.position[m];ug({value:l,inclusive:h},{value:I,inclusive:n.inclusive})<0&&(l=I,h=n.inclusive);break}return{value:l,inclusive:h}}function Nd(s,e,n){let l=Ds,h=!0;for(const m of Gh(s,e)){let I=Ds,$=!0;switch(m.op){case">=":case">":I=cg(m.value),$=!1;break;case"==":case"in":case"<=":I=m.value;break;case"<":I=m.value,$=!1;break;case"!=":case"not-in":I=Ds}Uh({value:l,inclusive:h},{value:I,inclusive:$})>0&&(l=I,h=$)}if(null!==n)for(let m=0;m<s.orderBy.length;++m)if(s.orderBy[m].field.isEqual(e)){const I=n.position[m];Uh({value:l,inclusive:h},{value:I,inclusive:n.inclusive})>0&&(l=I,h=n.inclusive);break}return{value:l,inclusive:h}}class Tl{constructor(e,n=null,l=[],h=[],m=null,I="F",$=null,X=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=l,this.filters=h,this.limit=m,this.limitType=I,this.startAt=$,this.endAt=X,this.wt=null,this._t=null}}function Wh(s,e,n,l,h,m,I,$){return new Tl(s,e,n,l,h,m,I,$)}function no(s){return new Tl(s)}function Yh(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Kl(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Gu(s){for(const e of s.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Da(s){return null!==s.collectionGroup}function Ta(s){const e=Er(s);if(null===e.wt){e.wt=[];const n=Gu(e),l=Kl(e);if(null!==n&&null===l)n.isKeyField()||e.wt.push(new hu(n)),e.wt.push(new hu($s.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new hu($s.keyField(),m))}}}return e.wt}function Ao(s){const e=Er(s);if(!e._t)if("F"===e.limitType)e._t=Hu(e.path,e.collectionGroup,Ta(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const m of Ta(e))n.push(new hu(m.field,"desc"===m.dir?"asc":"desc"));const l=e.endAt?new Sa(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new Sa(e.startAt.position,e.startAt.inclusive):null;e._t=Hu(e.path,e.collectionGroup,n,e.filters,e.limit,l,h)}return e._t}function pu(s,e){e.getFirstInequalityField(),Gu(s);const n=s.filters.concat([e]);return new Tl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Aa(s,e,n){return new Tl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function gu(s,e){return Nc(Ao(s),Ao(e))&&s.limitType===e.limitType}function kd(s){return`${Oc(Ao(s))}|lt:${s.limitType}`}function Kh(s){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(l=>Cm(l)).join(", ")}]`),Dc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(l=>{return`${(h=l).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(l=>ja(l)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(l=>ja(l)).join(",")),`Target(${n})`}(Ao(s))}; limitType=${s.limitType})`}function Ga(s,e){return e.isFoundDocument()&&function(n,l){const h=l.key.path;return null!==n.collectionGroup?l.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(h):yr.isDocumentKey(n.path)?n.path.isEqual(h):n.path.isImmediateParentOf(h)}(s,e)&&function(n,l){for(const h of Ta(n))if(!h.field.isKeyField()&&null===l.data.field(h.field))return!1;return!0}(s,e)&&function(n,l){for(const h of n.filters)if(!h.matches(l))return!1;return!0}(s,e)&&(l=e,!((n=s).startAt&&!function(h,m,I){const $=hg(h,m,I);return h.inclusive?$<=0:$<0}(n.startAt,Ta(n),l)||n.endAt&&!function(h,m,I){const $=hg(h,m,I);return h.inclusive?$>=0:$>0}(n.endAt,Ta(n),l)));var n,l}function Wu(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function sp(s){return(e,n)=>{let l=!1;for(const h of Ta(s)){const m=qh(h,e,n);if(0!==m)return m;l=l||h.field.isKeyField()}return 0}}function qh(s,e,n){const l=s.field.isKeyField()?yr.comparator(e.key,n.key):function(h,m,I){const $=m.data.field(h),X=I.data.field(h);return null!==$&&null!==X?Ca($,X):mr()}(s.field,e,n);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return mr()}}class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0!==l)for(const[h,m]of l)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,n){const l=this.mapKeyFn(e),h=this.inner[l];if(void 0===h)return this.inner[l]=[[e,n]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,n]);h.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),l=this.inner[n];if(void 0===l)return!1;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return 1===l.length?delete this.inner[n]:l.splice(h,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,l)=>{for(const[h,m]of l)e(h,m)})}isEmpty(){return Bh(this.inner)}size(){return this.innerSize}}const ql=new bs(yr.comparator);function Fo(){return ql}const Yu=new bs(yr.comparator);function mu(...s){let e=Yu;for(const n of s)e=e.insert(n.key,n);return e}function Zh(s){let e=Yu;return s.forEach((n,l)=>e=e.insert(n,l.overlayedDocument)),e}function Bo(){return vu()}function op(){return vu()}function vu(){return new Wa(s=>s.toString(),(s,e)=>s.isEqual(e))}const gg=new bs(yr.comparator),Ya=new ls(yr.comparator);function Ni(...s){let e=Ya;for(const n of s)e=e.add(n);return e}const Am=new ls(fi);function $o(){return Am}function Ku(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Il(e)?"-0":e}}function qu(s){return{integerValue:""+s}}function Ld(s,e){return Tc(e)?qu(e):Ku(s,e)}class vo{constructor(){this._=void 0}}function yu(s,e,n){return s instanceof Al?function(l,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&au(h)&&(h=Va(h)),h&&(m.fields.__previous_value__=h),{mapValue:m}}(n,e):s instanceof Zl?vg(s,e):s instanceof xl?Xh(s,e):function(l,h){const m=ta(l,h),I=ap(m)+ap(l.gt);return rp(m)&&rp(l.gt)?qu(I):Ku(l.serializer,I)}(s,e)}function mg(s,e,n){return s instanceof Zl?vg(s,e):s instanceof xl?Xh(s,e):n}function ta(s,e){return s instanceof _u?rp(n=e)||(l=n)&&"doubleValue"in l?e:{integerValue:0}:null;var l,n}class Al extends vo{}class Zl extends vo{constructor(e){super(),this.elements=e}}function vg(s,e){const n=yg(e);for(const l of s.elements)n.some(h=>Ia(h,l))||n.push(l);return{arrayValue:{values:n}}}class xl extends vo{constructor(e){super(),this.elements=e}}function Xh(s,e){let n=yg(e);for(const l of s.elements)n=n.filter(h=>!Ia(h,l));return{arrayValue:{values:n}}}class _u extends vo{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ap(s){return Ys(s.integerValue||s.doubleValue)}function yg(s){return cu(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class pa{constructor(e,n){this.field=e,this.transform=n}}class xm{constructor(e,n){this.version=e,this.transformResults=n}}class Ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ts}static exists(e){return new Ts(void 0,e)}static updateTime(e){return new Ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ga(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Fd{}function xo(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Xu(s.key,Ts.none()):new al(s.key,s.data,Ts.none());{const n=s.data,l=fo.empty();let h=new ls($s.comparator);for(let m of e.fields)if(!h.has(m)){let I=n.field(m);null===I&&m.length>1&&(m=m.popLast(),I=n.field(m)),null===I?l.delete(m):l.set(m,I),h=h.add(m)}return new Ka(s.key,l,new uo(h.toArray()),Ts.none())}}function Bd(s,e,n){s instanceof al?function(l,h,m){const I=l.value.clone(),$=lp(l.fieldTransforms,h,m.transformResults);I.setAll($),h.convertToFoundDocument(m.version,I).setHasCommittedMutations()}(s,e,n):s instanceof Ka?function(l,h,m){if(!ga(l.precondition,h))return void h.convertToUnknownDocument(m.version);const I=lp(l.fieldTransforms,h,m.transformResults),$=h.data;$.setAll(Zu(l)),$.setAll(I),h.convertToFoundDocument(m.version,$).setHasCommittedMutations()}(s,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function kc(s,e,n,l){return s instanceof al?function(h,m,I,$){if(!ga(h.precondition,m))return I;const X=h.value.clone(),ae=Jh(h.fieldTransforms,$,m);return X.setAll(ae),m.convertToFoundDocument(m.version,X).setHasLocalMutations(),null}(s,e,n,l):s instanceof Ka?function(h,m,I,$){if(!ga(h.precondition,m))return I;const X=Jh(h.fieldTransforms,$,m),ae=m.data;return ae.setAll(Zu(h)),ae.setAll(X),m.convertToFoundDocument(m.version,ae).setHasLocalMutations(),null===I?null:I.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(Be=>Be.field))}(s,e,n,l):(I=n,ga(s.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):I);var m,I}function wu(s,e){let n=null;for(const l of s.fieldTransforms){const h=e.data.field(l.field),m=ta(l.transform,h||null);null!=m&&(null===n&&(n=fo.empty()),n.set(l.field,m))}return n||null}function xa(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(n=s.fieldTransforms)&&void 0===l||n&&l&&Ic(n,l,(h,m)=>function Qh(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(n=s.transform)instanceof Zl&&l instanceof Zl||n instanceof xl&&l instanceof xl?Ic(n.elements,l.elements,Ia):n instanceof _u&&l instanceof _u?Ia(n.gt,l.gt):n instanceof Al&&l instanceof Al);var n,l}(h,m))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var n,l}class al extends Fd{constructor(e,n,l,h=[]){super(),this.key=e,this.value=n,this.precondition=l,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Ka extends Fd{constructor(e,n,l,h,m=[]){super(),this.key=e,this.data=n,this.fieldMask=l,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Zu(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const l=s.data.field(n);e.set(n,l)}}),e}function lp(s,e,n){const l=new Map;Ur(s.length===n.length);for(let h=0;h<n.length;h++){const m=s[h],I=m.transform,$=e.data.field(m.field);l.set(m.field,mg(I,$,n[h]))}return l}function Jh(s,e,n){const l=new Map;for(const h of s){const m=h.transform,I=n.data.field(h.field);l.set(h.field,yu(m,I,e))}return l}class Xu extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _g extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ef{constructor(e,n,l,h){this.batchId=e,this.localWriteTime=n,this.baseMutations=l,this.mutations=h}applyToRemoteDocument(e,n){const l=n.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&Bd(m,e,l[h])}}applyToLocalView(e,n){for(const l of this.baseMutations)l.key.isEqual(e.key)&&(n=kc(l,e,n,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(e.key)&&(n=kc(l,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const l=op();return this.mutations.forEach(h=>{const m=e.get(h.key),I=m.overlayedDocument;let $=this.applyToLocalView(I,m.mutatedFields);$=n.has(h.key)?null:$;const X=xo(I,$);null!==X&&l.set(h.key,X),I.isValidDocument()||I.convertToNoDocument(Wr.min())}),l}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ni())}isEqual(e){return this.batchId===e.batchId&&Ic(this.mutations,e.mutations,(n,l)=>xa(n,l))&&Ic(this.baseMutations,e.baseMutations,(n,l)=>xa(n,l))}}class cp{constructor(e,n,l,h){this.batch=e,this.commitVersion=n,this.mutationResults=l,this.docVersions=h}static from(e,n,l){Ur(e.mutations.length===l.length);let h=gg;const m=e.mutations;for(let I=0;I<m.length;I++)h=h.insert(m[I].key,l[I].version);return new cp(e,n,l,h)}}class A{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class b{constructor(e,n){this.count=e,this.unchangedNames=n}}var R,J;function Pe(s){switch(s){default:return mr();case hn.CANCELLED:case hn.UNKNOWN:case hn.DEADLINE_EXCEEDED:case hn.RESOURCE_EXHAUSTED:case hn.INTERNAL:case hn.UNAVAILABLE:case hn.UNAUTHENTICATED:return!1;case hn.INVALID_ARGUMENT:case hn.NOT_FOUND:case hn.ALREADY_EXISTS:case hn.PERMISSION_DENIED:case hn.FAILED_PRECONDITION:case hn.ABORTED:case hn.OUT_OF_RANGE:case hn.UNIMPLEMENTED:case hn.DATA_LOSS:return!0}}function At(s){if(void 0===s)return xi("GRPC error has no .code"),hn.UNKNOWN;switch(s){case R.OK:return hn.OK;case R.CANCELLED:return hn.CANCELLED;case R.UNKNOWN:return hn.UNKNOWN;case R.DEADLINE_EXCEEDED:return hn.DEADLINE_EXCEEDED;case R.RESOURCE_EXHAUSTED:return hn.RESOURCE_EXHAUSTED;case R.INTERNAL:return hn.INTERNAL;case R.UNAVAILABLE:return hn.UNAVAILABLE;case R.UNAUTHENTICATED:return hn.UNAUTHENTICATED;case R.INVALID_ARGUMENT:return hn.INVALID_ARGUMENT;case R.NOT_FOUND:return hn.NOT_FOUND;case R.ALREADY_EXISTS:return hn.ALREADY_EXISTS;case R.PERMISSION_DENIED:return hn.PERMISSION_DENIED;case R.FAILED_PRECONDITION:return hn.FAILED_PRECONDITION;case R.ABORTED:return hn.ABORTED;case R.OUT_OF_RANGE:return hn.OUT_OF_RANGE;case R.UNIMPLEMENTED:return hn.UNIMPLEMENTED;case R.DATA_LOSS:return hn.DATA_LOSS;default:return mr()}}(J=R||(R={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";class qt{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fn}static getOrCreateInstance(){return null===Fn&&(Fn=new qt),Fn}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Fn=null;function gr(){return new TextEncoder}const Pr=new yl([4294967295,4294967295],0);function Nr(s){const e=gr().encode(s),n=new xh;return n.update(e),new Uint8Array(n.digest())}function Ks(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),l=e.getUint32(4,!0),h=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new yl([n,l],0),new yl([h,m],0)]}class Uo{constructor(e,n,l){if(this.bitmap=e,this.padding=n,this.hashCount=l,n<0||n>=8)throw new Lc(`Invalid padding: ${n}`);if(l<0)throw new Lc(`Invalid hash count: ${l}`);if(e.length>0&&0===this.hashCount)throw new Lc(`Invalid hash count: ${l}`);if(0===e.length&&0!==n)throw new Lc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=yl.fromNumber(this.It)}Et(e,n,l){let h=e.add(n.multiply(yl.fromNumber(l)));return 1===h.compare(Pr)&&(h=new yl([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Nr(e),[l,h]=Ks(n);for(let m=0;m<this.hashCount;m++){const I=this.Et(l,h,m);if(!this.At(I))return!1}return!0}static create(e,n,l){const h=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),I=new Uo(m,h,n);return l.forEach($=>I.insert($)),I}insert(e){if(0===this.It)return;const n=Nr(e),[l,h]=Ks(n);for(let m=0;m<this.hashCount;m++){const I=this.Et(l,h,m);this.Rt(I)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eu{constructor(e,n,l,h,m){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=l,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,n,l){const h=new Map;return h.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,n,l)),new Eu(Wr.min(),h,new bs(fi),Fo(),Ni())}}class Fc{constructor(e,n,l,h,m){this.resumeToken=e,this.current=n,this.addedDocuments=l,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,n,l){return new Fc(l,n,Ni(),Ni(),Ni())}}class Qu{constructor(e,n,l,h){this.Pt=e,this.removedTargetIds=n,this.key=l,this.bt=h}}class qa{constructor(e,n){this.targetId=e,this.Vt=n}}class ro{constructor(e,n,l=ho.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=n,this.resumeToken=l,this.cause=h}}class Mo{constructor(){this.St=0,this.Dt=Ud(),this.Ct=ho.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ni(),n=Ni(),l=Ni();return this.Dt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:n=n.add(h);break;case 1:l=l.add(h);break;default:mr()}}),new Fc(this.Ct,this.xt,e,n,l)}Ft(){this.Nt=!1,this.Dt=Ud()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ml{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fo(),this.zt=$d(),this.Wt=new bs(fi)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const l=this.Zt(n);switch(e.state){case 0:this.te(n)&&l.$t(e.resumeToken);break;case 1:l.Ut(),l.kt||l.Ft(),l.$t(e.resumeToken);break;case 2:l.Ut(),l.kt||this.removeTarget(n);break;case 3:this.te(n)&&(l.Kt(),l.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),l.$t(e.resumeToken));break;default:mr()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((l,h)=>{this.te(h)&&n(h)})}ne(e){var n;const l=e.targetId,h=e.Vt.count,m=this.se(l);if(m){const I=m.target;if(Hh(I))if(0===h){const $=new yr(I.path);this.Yt(l,$,ys.newNoDocument($,Wr.min()))}else Ur(1===h);else{const $=this.ie(l);if($!==h){const X=this.re(e,$);0!==X&&(this.ee(l),this.Wt=this.Wt.insert(l,2===X?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=qt.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(ae,Be,wt){var en,In,cr,Mr,Rr,zi;const _s={localCacheCount:Be,existenceFilterCount:wt.count},Zi=wt.unchangedNames;return Zi&&(_s.bloomFilter={applied:0===ae,hashCount:null!==(en=null==Zi?void 0:Zi.hashCount)&&void 0!==en?en:0,bitmapLength:null!==(Mr=null===(cr=null===(In=null==Zi?void 0:Zi.bits)||void 0===In?void 0:In.bitmap)||void 0===cr?void 0:cr.length)&&void 0!==Mr?Mr:0,padding:null!==(zi=null===(Rr=null==Zi?void 0:Zi.bits)||void 0===Rr?void 0:Rr.padding)&&void 0!==zi?zi:0}),_s}(X,$,e.Vt))}}}}re(e,n){const{unchangedNames:l,count:h}=e.Vt;if(!l||!l.bits)return 1;const{bits:{bitmap:m="",padding:I=0},hashCount:$=0}=l;let X,ae;try{X=Dl(m).toUint8Array()}catch(Be){if(Be instanceof ou)return No("Decoding the base64 bloom filter in existence filter failed ("+Be.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Be}try{ae=new Uo(X,I,$)}catch(Be){return No(Be instanceof Lc?"BloomFilter error: ":"Applying bloom filter failed: ",Be),1}return 0===ae.It?1:h!==n-this.oe(e.targetId,ae)?2:0}oe(e,n){const l=this.Gt.getRemoteKeysForTarget(e);let h=0;return l.forEach(m=>{const I=this.Gt.ue(),$=`projects/${I.projectId}/databases/${I.database}/documents/${m.path.canonicalString()}`;n.vt($)||(this.Yt(e,m,null),h++)}),h}ce(e){const n=new Map;this.Qt.forEach((m,I)=>{const $=this.se(I);if($){if(m.current&&Hh($.target)){const X=new yr($.target.path);null!==this.jt.get(X)||this.ae(I,X)||this.Yt(I,X,ys.newNoDocument(X,e))}m.Mt&&(n.set(I,m.Ot()),m.Ft())}});let l=Ni();this.zt.forEach((m,I)=>{let $=!0;I.forEachWhile(X=>{const ae=this.se(X);return!ae||"TargetPurposeLimboResolution"===ae.purpose||($=!1,!1)}),$&&(l=l.add(m))}),this.jt.forEach((m,I)=>I.setReadTime(e));const h=new Eu(e,n,this.Wt,this.jt,l);return this.jt=Fo(),this.zt=$d(),this.Wt=new bs(fi),h}Jt(e,n){if(!this.te(e))return;const l=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,l),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,l){if(!this.te(e))return;const h=this.Zt(e);this.ae(e,n)?h.Bt(n,1):h.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),l&&(this.jt=this.jt.insert(n,l))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Mo,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ls(fi),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Zn("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Mo),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function $d(){return new bs(yr.comparator)}function Ud(){return new bs(yr.comparator)}const tf={asc:"ASCENDING",desc:"DESCENDING"},nf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rf={and:"AND",or:"OR"};class sf{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(s,e){return s.useProto3Json||Dc(e)?e:{value:e}}function Vd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pm(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Xv(s,e){return Vd(s,e.toTimestamp())}function po(s){return Ur(!!s),Wr.fromTimestamp(function(e){const n=Sl(e);return new Ss(n.seconds,n.nanos)}(s))}function up(s,e){return(n=s,new os(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function jd(s){const e=os.fromString(s);return Ur(o_(e)),e}function Ju(s,e){return up(s.databaseId,e.path)}function ll(s,e){const n=jd(e);if(n.get(1)!==s.databaseId.projectId)throw new Ln(hn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Ln(hn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new yr(Jv(n))}function ed(s,e){return up(s.databaseId,e)}function Qv(s){const e=jd(s);return 4===e.length?os.emptyPath():Jv(e)}function af(s){return new os(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Jv(s){return Ur(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Rm(s,e,n){return{name:Ju(s,e),fields:n.value.mapValue.fields}}function wg(s,e,n){const l=ll(s,e.name),h=po(e.updateTime),m=e.createTime?po(e.createTime):Wr.min(),I=new fo({mapValue:{fields:e.fields}}),$=ys.newFoundDocument(l,h,m,I);return n&&$.setHasCommittedMutations(),n?$.setHasCommittedMutations():$}function bu(s,e){let n;if(e instanceof al)n={update:Rm(s,e.key,e.value)};else if(e instanceof Xu)n={delete:Ju(s,e.key)};else if(e instanceof Ka)n={update:Rm(s,e.key,e.data),updateMask:l0(e.fieldMask)};else{if(!(e instanceof _g))return mr();n={verify:Ju(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(l=>function(h,m){const I=m.transform;if(I instanceof Al)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof Zl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof xl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof _u)return{fieldPath:m.field.canonicalString(),increment:I.gt};throw mr()}(0,l))),e.precondition.isNone||(n.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:Xv(s,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:mr()),n;var h}function hp(s,e){const n=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?Ts.updateTime(po(h.updateTime)):void 0!==h.exists?Ts.exists(h.exists):Ts.none():Ts.none(),l=e.updateTransforms?e.updateTransforms.map(h=>function(m,I){let $=null;"setToServerValue"in I?(Ur("REQUEST_TIME"===I.setToServerValue),$=new Al):"appendMissingElements"in I?$=new Zl(I.appendMissingElements.values||[]):"removeAllFromArray"in I?$=new xl(I.removeAllFromArray.values||[]):"increment"in I?$=new _u(m,I.increment):mr();const X=$s.fromServerFormat(I.fieldPath);return new pa(X,$)}(s,h)):[];var h;if(e.update){const h=ll(s,e.update.name),m=new fo({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new uo((e.updateMask.fieldPaths||[]).map(ae=>$s.fromServerFormat(ae)));return new Ka(h,m,I,n,l)}return new al(h,m,n,l)}if(e.delete){const h=ll(s,e.delete);return new Xu(h,n)}if(e.verify){const h=ll(s,e.verify);return new _g(h,n)}return mr()}function Eg(s,e){return{documents:[ed(s,e.path)]}}function bg(s,e){const n={structuredQuery:{}},l=e.path;null!==e.collectionGroup?(n.parent=ed(s,l),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ed(s,l.popLast()),n.structuredQuery.from=[{collectionId:l.lastSegment()}]);const h=function(X){if(0!==X.length)return Nm(ds.create(X,"and"))}(e.filters);h&&(n.structuredQuery.where=h);const m=function(X){if(0!==X.length)return X.map(ae=>{return{field:Ma((Be=ae).field),direction:i_(Be.dir)};var Be})}(e.orderBy);m&&(n.structuredQuery.orderBy=m);const I=Mm(s,e.limit);var $,X;return null!==I&&(n.structuredQuery.limit=I),e.startAt&&(n.structuredQuery.startAt={before:($=e.startAt).inclusive,values:$.position}),e.endAt&&(n.structuredQuery.endAt={before:!(X=e.endAt).inclusive,values:X.position}),n}function Om(s){let e=Qv(s.parent);const n=s.structuredQuery,l=n.from?n.from.length:0;let h=null;if(l>0){Ur(1===l);const Be=n.from[0];Be.allDescendants?h=Be.collectionId:e=e.child(Be.collectionId)}let m=[];n.where&&(m=function(Be){const wt=ty(Be);return wt instanceof ds&&Gl(wt)?wt.getFilters():[wt]}(n.where));let I=[];n.orderBy&&(I=n.orderBy.map(Be=>{return new hu(Xl((wt=Be).field),function(en){switch(en){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wt.direction));var wt}));let $=null;n.limit&&($=function(Be){let wt;return wt="object"==typeof Be?Be.value:Be,Dc(wt)?null:wt}(n.limit));let X=null;var Be;n.startAt&&(X=new Sa((Be=n.startAt).values||[],!!Be.before));let ae=null;return n.endAt&&(ae=function(Be){return new Sa(Be.values||[],!Be.before)}(n.endAt)),Wh(e,h,I,m,$,"F",X,ae)}function ty(s){return void 0!==s.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Xl(e.unaryFilter.field);return Ji.create(n,"==",{doubleValue:NaN});case"IS_NULL":const l=Xl(e.unaryFilter.field);return Ji.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Xl(e.unaryFilter.field);return Ji.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Xl(e.unaryFilter.field);return Ji.create(m,"!=",{nullValue:"NULL_VALUE"});default:return mr()}}(s):void 0!==s.fieldFilter?Ji.create(Xl((e=s).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mr()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==s.compositeFilter?function(e){return ds.create(e.compositeFilter.filters.map(n=>ty(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return mr()}}(e.compositeFilter.op))}(s):mr();var e}function i_(s){return tf[s]}function s_(s){return nf[s]}function Ig(s){return rf[s]}function Ma(s){return{fieldPath:s.canonicalString()}}function Xl(s){return $s.fromServerFormat(s.fieldPath)}function Nm(s){return s instanceof Ji?function(e){if("=="===e.op){if($h(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NAN"}};if(fa(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($h(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NOT_NAN"}};if(fa(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(e.field),op:s_(e.op),value:e.value}}}(s):s instanceof ds?function(e){const n=e.getFilters().map(l=>Nm(l));return 1===n.length?n[0]:{compositeFilter:{op:Ig(e.op),filters:n}}}(s):mr()}function l0(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function o_(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class td{constructor(e,n,l,h,m=Wr.min(),I=Wr.min(),$=ho.EMPTY_BYTE_STRING,X=null){this.target=e,this.targetId=n,this.purpose=l,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=$,this.expectedCount=X}withSequenceNumber(e){return new td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class io{constructor(e){this.fe=e}}function fp(s,e){const n=e.key,l={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())l.document={name:Ju(h=s.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Vd(h,m.version.toTimestamp()),createTime:Vd(h,m.createTime.toTimestamp())};else if(e.isNoDocument())l.noDocument={path:n.path.toArray(),readTime:zd(e.version)};else{if(!e.isUnknownDocument())return mr();l.unknownDocument={path:n.path.toArray(),version:zd(e.version)}}var h,m;return l}function lf(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function zd(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hd(s){const e=new Ss(s.seconds,s.nanoseconds);return Wr.fromTimestamp(e)}function Gd(s,e){const n=(e.baseMutations||[]).map(m=>hp(s.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const l=e.mutations.map(m=>hp(s.fe,m)),h=Ss.fromMillis(e.localWriteTimeMs);return new ef(e.batchId,h,n,l)}function Wd(s){const e=Hd(s.readTime),n=void 0!==s.lastLimboFreeSnapshotVersion?Hd(s.lastLimboFreeSnapshotVersion):Wr.min();let l;var h;return void 0!==s.query.documents?(Ur(1===(h=s.query).documents.length),l=Ao(no(Qv(h.documents[0])))):l=Ao(Om(s.query)),new td(l,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,n,ho.fromBase64String(s.resumeToken))}function Bc(s,e){const n=zd(e.snapshotVersion),l=zd(e.lastLimboFreeSnapshotVersion);let h;h=Hh(e.target)?Eg(s.fe,e.target):bg(s.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oc(e.target),readTime:n,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:l,query:h}}function nd(s){const e=Om({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Aa(e,e.limit,"L"):e}function pp(s,e){return new A(e.largestBatchId,hp(s.fe,e.overlayMutation))}function km(s,e){const n=e.path.lastSegment();return[s,lo(e.path.popLast()),n]}function Lm(s,e,n,l){return{indexId:s,uid:e.uid||"",sequenceNumber:n,readTime:zd(l.readTime),documentKey:lo(l.documentKey.path),largestBatchId:l.largestBatchId}}class c0{getBundleMetadata(e,n){return ny(e).get(n).next(l=>{if(l)return{id:(h=l).bundleId,createTime:Hd(h.createTime),version:h.version};var h})}saveBundleMetadata(e,n){return ny(e).put({bundleId:(l=n).id,createTime:zd(po(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return a_(e).get(n).next(l=>{if(l)return{name:(h=l).name,query:nd(h.bundledQuery),readTime:Hd(h.readTime)};var h})}saveNamedQuery(e,n){return a_(e).put({name:(l=n).name,readTime:zd(po(l.readTime)),bundledQuery:l.bundledQuery});var l}}function ny(s){return co(s,"bundles")}function a_(s){return co(s,"namedQueries")}class cf{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new cf(e,n.uid||"")}getOverlay(e,n){return Yd(e).get(km(this.userId,n)).next(l=>l?pp(this.serializer,l):null)}getOverlays(e,n){const l=Bo();return Kt.forEach(n,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,n,l){const h=[];return l.forEach((m,I)=>{const $=new A(n,I);h.push(this.we(e,$))}),Kt.waitFor(h)}removeOverlaysForBatchId(e,n,l){const h=new Set;n.forEach(I=>h.add(lo(I.getCollectionPath())));const m=[];return h.forEach(I=>{const $=IDBKeyRange.bound([this.userId,I,l],[this.userId,I,l+1],!1,!0);m.push(Yd(e).J("collectionPathOverlayIndex",$))}),Kt.waitFor(m)}getOverlaysForCollection(e,n,l){const h=Bo(),m=lo(n),I=IDBKeyRange.bound([this.userId,m,l],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Yd(e).j("collectionPathOverlayIndex",I).next($=>{for(const X of $){const ae=pp(this.serializer,X);h.set(ae.getKey(),ae)}return h})}getOverlaysForCollectionGroup(e,n,l,h){const m=Bo();let I;const $=IDBKeyRange.bound([this.userId,n,l],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Yd(e).X({index:"collectionGroupOverlayIndex",range:$},(X,ae,Be)=>{const wt=pp(this.serializer,ae);m.size()<h||wt.largestBatchId===I?(m.set(wt.getKey(),wt),I=wt.largestBatchId):Be.done()}).next(()=>m)}we(e,n){return Yd(e).put(function(l,h,m){const[I,$,X]=km(h,m.mutation.key);return{userId:h,collectionPath:$,documentId:X,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:bu(l.fe,m.mutation)}}(this.serializer,this.userId,n))}}function Yd(s){return co(s,"documentOverlays")}class Ql{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ys(e.integerValue));else if("doubleValue"in e){const l=Ys(e.doubleValue);isNaN(l)?this.ye(n,13):(this.ye(n,15),Il(l)?n.pe(0):n.pe(l))}else if("timestampValue"in e){const l=e.timestampValue;this.ye(n,20),"string"==typeof l?n.Ie(l):(n.Ie(`${l.seconds||""}`),n.pe(l.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Dl(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const l=e.geoPointValue;this.ye(n,45),n.pe(l.latitude||0),n.pe(l.longitude||0)}else"mapValue"in e?uu(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):mr()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const l=e.fields||{};this.ye(n,55);for(const h of Object.keys(l))this.Te(h,n),this.me(l[h],n)}Pe(e,n){const l=e.values||[];this.ye(n,50);for(const h of l)this.me(h,n)}ve(e,n){this.ye(n,37),yr.fromName(e).path.forEach(l=>{this.ye(n,60),this.be(l,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function l_(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function Cg(s){const e=64-function(n){let l=0;for(let h=0;h<8;++h){const m=l_(255&n[h]);if(l+=m,8!==m)break}return l}(s);return Math.ceil(e/8)}Ql.Ve=new Ql;class gp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let l=n.next();for(;!l.done;)this.De(l.value),l=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let l=n.next();for(;!l.done;)this.Ne(l.value),l=n.next();this.ke()}Me(e){for(const n of e){const l=n.charCodeAt(0);if(l<128)this.De(l);else if(l<2048)this.De(960|l>>>6),this.De(128|63&l);else if(n<"\ud800"||"\udbff"<n)this.De(480|l>>>12),this.De(128|63&l>>>6),this.De(128|63&l);else{const h=n.codePointAt(0);this.De(240|h>>>18),this.De(128|63&h>>>12),this.De(128|63&h>>>6),this.De(128|63&h)}}this.Ce()}$e(e){for(const n of e){const l=n.charCodeAt(0);if(l<128)this.Ne(l);else if(l<2048)this.Ne(960|l>>>6),this.Ne(128|63&l);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l);else{const h=n.codePointAt(0);this.Ne(240|h>>>18),this.Ne(128|63&h>>>12),this.Ne(128|63&h>>>6),this.Ne(128|63&h)}}this.ke()}Oe(e){const n=this.Fe(e),l=Cg(n);this.Be(1+l),this.buffer[this.position++]=255&l;for(let h=n.length-l;h<n.length;++h)this.buffer[this.position++]=255&n[h]}Le(e){const n=this.Fe(e),l=Cg(n);this.Be(1+l),this.buffer[this.position++]=~(255&l);for(let h=n.length-l;h<n.length;++h)this.buffer[this.position++]=~(255&n[h])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),l=0!=(128&n[0]);n[0]^=l?255:128;for(let h=1;h<n.length;++h)n[h]^=l?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let l=2*this.buffer.length;l<n&&(l=n);const h=new Uint8Array(l);h.set(this.buffer),this.buffer=h}}class mp{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ma{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class vp{constructor(){this.je=new gp,this.ze=new mp(this.je),this.We=new ma(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class rd{constructor(e,n,l,h){this.indexId=e,this.documentKey=n,this.arrayValue=l,this.directionalValue=h}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,l=new Uint8Array(n);return l.set(this.directionalValue,0),n!==e?l.set([0],this.directionalValue.length):++l[l.length-1],new rd(this.indexId,this.documentKey,this.arrayValue,l)}}function Jl(s,e){let n=s.indexId-e.indexId;return 0!==n?n:(n=ry(s.arrayValue,e.arrayValue),0!==n?n:(n=ry(s.directionalValue,e.directionalValue),0!==n?n:yr.comparator(s.documentKey,e.documentKey)))}function ry(s,e){for(let n=0;n<s.length&&n<e.length;++n){const l=s[n]-e[n];if(0!==l)return l}return s.length-e.length}class Fm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const l=n;l.isInequality()?this.Ze=l:this.Xe.push(l)}}tn(e){Ur(e.collectionGroup===this.collectionId);const n=To(e);if(void 0!==n&&!this.en(n))return!1;const l=O(e);let h=new Set,m=0,I=0;for(;m<l.length&&this.en(l[m]);++m)h=h.add(l[m].fieldPath.canonicalString());if(m===l.length)return!0;if(void 0!==this.Ze){if(!h.has(this.Ze.field.canonicalString())){const $=l[m];if(!this.nn(this.Ze,$)||!this.sn(this.Ye[I++],$))return!1}++m}for(;m<l.length;++m)if(I>=this.Ye.length||!this.sn(this.Ye[I++],l[m]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function iy(s){var e,n;if(Ur(s instanceof Ji||s instanceof ds),s instanceof Ji){if(s instanceof jh){const h=(null===(n=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(m=>Ji.create(s.field,"==",m)))||[];return ds.create(h,"or")}return s}const l=s.filters.map(h=>iy(h));return ds.create(l,s.op)}function Iu(s){if(0===s.getFilters().length)return[];const e=Pl(iy(s));return Ur(uf(e)),Sg(e)||yp(e)?[e]:e.getFilters()}function Sg(s){return s instanceof Ji}function yp(s){return s instanceof ds&&Gl(s)}function uf(s){return Sg(s)||yp(s)||function(e){if(e instanceof ds&&zu(e)){for(const n of e.getFilters())if(!Sg(n)&&!yp(n))return!1;return!0}return!1}(s)}function Pl(s){if(Ur(s instanceof Ji||s instanceof ds),s instanceof Ji)return s;if(1===s.filters.length)return Pl(s.filters[0]);const e=s.filters.map(l=>Pl(l));let n=ds.create(e,s.op);return n=_p(n),uf(n)?n:(Ur(n instanceof ds),Ur(Hl(n)),Ur(n.filters.length>1),n.filters.reduce((l,h)=>Dg(l,h)))}function Dg(s,e){let n;return Ur(s instanceof Ji||s instanceof ds),Ur(e instanceof Ji||e instanceof ds),n=s instanceof Ji?e instanceof Ji?ds.create([s,e],"and"):Kd(s,e):e instanceof Ji?Kd(e,s):function(l,h){if(Ur(l.filters.length>0&&h.filters.length>0),Hl(l)&&Hl(h))return Rd(l,h.getFilters());const m=zu(l)?l:h,I=zu(l)?h:l,$=m.filters.map(X=>Dg(X,I));return ds.create($,"or")}(s,e),_p(n)}function Kd(s,e){if(Hl(e))return Rd(e,s.getFilters());{const n=e.filters.map(l=>Dg(s,l));return ds.create(n,"or")}}function _p(s){if(Ur(s instanceof Ji||s instanceof ds),s instanceof Ji)return s;const e=s.getFilters();if(1===e.length)return _p(e[0]);if(za(s))return s;const n=e.map(h=>_p(h)),l=[];return n.forEach(h=>{h instanceof Ji?l.push(h):h instanceof ds&&(h.op===s.op?l.push(...h.filters):l.push(h))}),1===l.length?l[0]:ds.create(l,s.op)}class c_{constructor(){this.rn=new qd}addToCollectionParentIndex(e,n){return this.rn.add(n),Kt.resolve()}getCollectionParents(e,n){return Kt.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Kt.resolve()}deleteFieldIndex(e,n){return Kt.resolve()}getDocumentsMatchingTarget(e,n){return Kt.resolve(null)}getIndexType(e,n){return Kt.resolve(0)}getFieldIndexes(e,n){return Kt.resolve([])}getNextCollectionGroupToUpdate(e){return Kt.resolve(null)}getMinOffset(e,n){return Kt.resolve(Lt.min())}getMinOffsetFromCollectionGroup(e,n){return Kt.resolve(Lt.min())}updateCollectionGroup(e,n,l){return Kt.resolve()}updateIndexEntries(e,n){return Kt.resolve()}}class qd{constructor(){this.index={}}add(e){const n=e.lastSegment(),l=e.popLast(),h=this.index[n]||new ls(os.comparator),m=!h.has(l);return this.index[n]=h.add(l),m}has(e){const n=e.lastSegment(),l=e.popLast(),h=this.index[n];return h&&h.has(l)}getEntries(e){return(this.index[e]||new ls(os.comparator)).toArray()}}const Bm=new Uint8Array(0);class u0{constructor(e,n){this.user=e,this.databaseId=n,this.on=new qd,this.un=new Wa(l=>Oc(l),(l,h)=>Nc(l,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const l=n.lastSegment(),h=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const m={collectionId:l,parent:lo(h)};return df(e).put(m)}return Kt.resolve()}getCollectionParents(e,n){const l=[],h=IDBKeyRange.bound([n,""],[eu(n),""],!1,!0);return df(e).j(h).next(m=>{for(const I of m){if(I.collectionId!==n)break;l.push(Lo(I.parent))}return l})}addFieldIndex(e,n){const l=id(e),h={indexId:(I=n).indexId,collectionGroup:I.collectionGroup,fields:I.fields.map($=>[$.fieldPath.canonicalString(),$.kind])};var I;delete h.indexId;const m=l.add(h);if(n.indexState){const I=Zd(e);return m.next($=>{I.put(Lm($,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return m.next()}deleteFieldIndex(e,n){const l=id(e),h=Zd(e),m=hs(e);return l.delete(n.indexId).next(()=>h.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const l=hs(e);let h=!0;const m=new Map;return Kt.forEach(this.cn(n),I=>this.an(e,I).next($=>{h&&(h=!!$),m.set(I,$)})).next(()=>{if(h){let I=Ni();const $=[];return Kt.forEach(m,(X,ae)=>{var Be;Zn("IndexedDbIndexManager",`Using index ${Be=X,`id=${Be.indexId}|cg=${Be.collectionGroup}|f=${Be.fields.map(Zi=>`${Zi.fieldPath}:${Zi.kind}`).join(",")}`} to execute ${Oc(n)}`);const wt=function(Zi,bo){const Ls=To(bo);if(void 0===Ls)return null;for(const Xs of Gh(Zi,Ls.fieldPath))switch(Xs.op){case"array-contains-any":return Xs.value.arrayValue.values||[];case"array-contains":return[Xs.value]}return null}(ae,X),en=function(Zi,bo){const Ls=new Map;for(const Xs of O(bo))for(const Ja of Gh(Zi,Xs.fieldPath))switch(Ja.op){case"==":case"in":Ls.set(Xs.fieldPath.canonicalString(),Ja.value);break;case"not-in":case"!=":return Ls.set(Xs.fieldPath.canonicalString(),Ja.value),Array.from(Ls.values())}return null}(ae,X),In=function(Zi,bo){const Ls=[];let Xs=!0;for(const Ja of O(bo)){const og=0===Ja.kind?Od(Zi,Ja.fieldPath,Zi.startAt):Nd(Zi,Ja.fieldPath,Zi.startAt);Ls.push(og.value),Xs&&(Xs=og.inclusive)}return new Sa(Ls,Xs)}(ae,X),cr=function(Zi,bo){const Ls=[];let Xs=!0;for(const Ja of O(bo)){const og=0===Ja.kind?Nd(Zi,Ja.fieldPath,Zi.endAt):Od(Zi,Ja.fieldPath,Zi.endAt);Ls.push(og.value),Xs&&(Xs=og.inclusive)}return new Sa(Ls,Xs)}(ae,X),Mr=this.hn(X,ae,In),Rr=this.hn(X,ae,cr),zi=this.ln(X,ae,en),_s=this.fn(X.indexId,wt,Mr,In.inclusive,Rr,cr.inclusive,zi);return Kt.forEach(_s,Zi=>l.H(Zi,n.limit).next(bo=>{bo.forEach(Ls=>{const Xs=yr.fromSegments(Ls.documentKey);I.has(Xs)||(I=I.add(Xs),$.push(Xs))})}))}).next(()=>$)}return Kt.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Iu(ds.create(e.filters,"and")).map(l=>Hu(e.path,e.collectionGroup,e.orderBy,l.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,l,h,m,I,$){const X=(null!=n?n.length:1)*Math.max(l.length,m.length),ae=X/(null!=n?n.length:1),Be=[];for(let wt=0;wt<X;++wt){const en=n?this.dn(n[wt/ae]):Bm,In=this.wn(e,en,l[wt%ae],h),cr=this._n(e,en,m[wt%ae],I),Mr=$.map(Rr=>this.wn(e,en,Rr,!0));Be.push(...this.createRange(In,cr,Mr))}return Be}wn(e,n,l,h){const m=new rd(e,yr.empty(),n,l);return h?m:m.Je()}_n(e,n,l,h){const m=new rd(e,yr.empty(),n,l);return h?m.Je():m}an(e,n){const l=new Fm(n),h=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let I=null;for(const $ of m)l.tn($)&&(!I||$.fields.length>I.fields.length)&&(I=$);return I})}getIndexType(e,n){let l=2;const h=this.cn(n);return Kt.forEach(h,m=>this.an(e,m).next(I=>{I?0!==l&&I.fields.length<function($){let X=new ls($s.comparator),ae=!1;for(const Be of $.filters)for(const wt of Be.getFlattenedFilters())wt.field.isKeyField()||("array-contains"===wt.op||"array-contains-any"===wt.op?ae=!0:X=X.add(wt.field));for(const Be of $.orderBy)Be.field.isKeyField()||(X=X.add(Be.field));return X.size+(ae?1:0)}(m)&&(l=1):l=0})).next(()=>null!==n.limit&&h.length>1&&2===l?1:l)}mn(e,n){const l=new vp;for(const h of O(e)){const m=n.data.field(h.fieldPath);if(null==m)return null;const I=l.He(h.kind);Ql.Ve._e(m,I)}return l.Qe()}dn(e){const n=new vp;return Ql.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const l=new vp;return Ql.Ve._e(lu(this.databaseId,n),l.He(function(h){const m=O(h);return 0===m.length?0:m[m.length-1].kind}(e))),l.Qe()}ln(e,n,l){if(null===l)return[];let h=[];h.push(new vp);let m=0;for(const I of O(e)){const $=l[m++];for(const X of h)if(this.yn(n,I.fieldPath)&&cu($))h=this.pn(h,I,$);else{const ae=X.He(I.kind);Ql.Ve._e($,ae)}}return this.In(h)}hn(e,n,l){return this.ln(e,n,l.position)}In(e){const n=[];for(let l=0;l<e.length;++l)n[l]=e[l].Qe();return n}pn(e,n,l){const h=[...e],m=[];for(const I of l.arrayValue.values||[])for(const $ of h){const X=new vp;X.seed($.Qe()),Ql.Ve._e(I,X.He(n.kind)),m.push(X)}return m}yn(e,n){return!!e.filters.find(l=>l instanceof Ji&&l.field.isEqual(n)&&("in"===l.op||"not-in"===l.op))}getFieldIndexes(e,n){const l=id(e),h=Zd(e);return(n?l.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):l.j()).next(m=>{const I=[];return Kt.forEach(m,$=>h.get([$.indexId,this.uid]).next(X=>{I.push(function(ae,Be){const wt=Be?new oe(Be.sequenceNumber,new Lt(Hd(Be.readTime),new yr(Lo(Be.documentKey)),Be.largestBatchId)):oe.empty(),en=ae.fields.map(([In,cr])=>new x($s.fromServerFormat(In),cr));return new Bu(ae.indexId,ae.collectionGroup,en,wt)}($,X))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((l,h)=>{const m=l.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:fi(l.collectionGroup,h.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,l){const h=id(e),m=Zd(e);return this.Tn(e).next(I=>h.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next($=>Kt.forEach($,X=>m.put(Lm(X.indexId,this.user,I,l)))))}updateIndexEntries(e,n){const l=new Map;return Kt.forEach(n,(h,m)=>{const I=l.get(h.collectionGroup);return(I?Kt.resolve(I):this.getFieldIndexes(e,h.collectionGroup)).next($=>(l.set(h.collectionGroup,$),Kt.forEach($,X=>this.En(e,h,X).next(ae=>{const Be=this.An(m,X);return ae.isEqual(Be)?Kt.resolve():this.vn(e,m,X,ae,Be)}))))})}Rn(e,n,l,h){return hs(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.gn(l,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,l,h){return hs(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.gn(l,n.key),n.key.path.toArray()])}En(e,n,l){const h=hs(e);let m=new ls(Jl);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([l.indexId,this.uid,this.gn(l,n)])},(I,$)=>{m=m.add(new rd(l.indexId,n,$.arrayValue,$.directionalValue))}).next(()=>m)}An(e,n){let l=new ls(Jl);const h=this.mn(n,e);if(null==h)return l;const m=To(n);if(null!=m){const I=e.data.field(m.fieldPath);if(cu(I))for(const $ of I.arrayValue.values||[])l=l.add(new rd(n.indexId,e.key,this.dn($),h))}else l=l.add(new rd(n.indexId,e.key,Bm,h));return l}vn(e,n,l,h,m){Zn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const I=[];return function($,X,ae,Be,wt){const en=$.getIterator(),In=X.getIterator();let cr=Ua(en),Mr=Ua(In);for(;cr||Mr;){let Rr=!1,zi=!1;if(cr&&Mr){const _s=ae(cr,Mr);_s<0?zi=!0:_s>0&&(Rr=!0)}else null!=cr?zi=!0:Rr=!0;Rr?(Be(Mr),Mr=Ua(In)):zi?(wt(cr),cr=Ua(en)):(cr=Ua(en),Mr=Ua(In))}}(h,m,Jl,$=>{I.push(this.Rn(e,n,l,$))},$=>{I.push(this.Pn(e,n,l,$))}),Kt.waitFor(I)}Tn(e){let n=1;return Zd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(l,h,m)=>{m.done(),n=h.sequenceNumber+1}).next(()=>n)}createRange(e,n,l){l=l.sort((I,$)=>Jl(I,$)).filter((I,$,X)=>!$||0!==Jl(I,X[$-1]));const h=[];h.push(e);for(const I of l){const $=Jl(I,e),X=Jl(I,n);if(0===$)h[0]=e.Je();else if($>0&&X<0)h.push(I),h.push(I.Je());else if(X>0)break}h.push(n);const m=[];for(let I=0;I<h.length;I+=2){if(this.bn(h[I],h[I+1]))return[];m.push(IDBKeyRange.bound([h[I].indexId,this.uid,h[I].arrayValue,h[I].directionalValue,Bm,[]],[h[I+1].indexId,this.uid,h[I+1].arrayValue,h[I+1].directionalValue,Bm,[]]))}return m}bn(e,n){return Jl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next($m)}getMinOffset(e,n){return Kt.mapArray(this.cn(n),l=>this.an(e,l).next(h=>h||mr())).next($m)}}function df(s){return co(s,"collectionParents")}function hs(s){return co(s,"indexEntries")}function id(s){return co(s,"indexConfiguration")}function Zd(s){return co(s,"indexState")}function $m(s){Ur(0!==s.length);let e=s[0].indexState.offset,n=e.largestBatchId;for(let l=1;l<s.length;l++){const h=s[l].indexState.offset;An(h,e)<0&&(e=h),n<h.largestBatchId&&(n=h.largestBatchId)}return new Lt(e.readTime,e.documentKey,n)}const Um={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class na{constructor(e,n,l){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=l}static withCacheSize(e){return new na(e,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Za(s,e,n){const l=s.store("mutations"),h=s.store("documentMutations"),m=[],I=IDBKeyRange.only(n.batchId);let $=0;const X=l.X({range:I},(Be,wt,en)=>($++,en.delete()));m.push(X.next(()=>{Ur(1===$)}));const ae=[];for(const Be of n.mutations){const wt=Ph(e,Be.key.path,n.batchId);m.push(h.delete(wt)),ae.push(Be.key)}return Kt.waitFor(m).next(()=>ae)}function Xd(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw mr();e=s.noDocument}return JSON.stringify(e).length}na.DEFAULT_COLLECTION_PERCENTILE=10,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,na.DEFAULT=new na(41943040,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),na.DISABLED=new na(-1,0,0);class Qd{constructor(e,n,l,h){this.userId=e,this.serializer=n,this.indexManager=l,this.referenceDelegate=h,this.Vn={}}static de(e,n,l,h){Ur(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Qd(m,n,l,h)}checkEmpty(e){let n=!0;const l=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jd(e).X({index:"userMutationsIndex",range:l},(h,m,I)=>{n=!1,I.done()}).next(()=>n)}addMutationBatch(e,n,l,h){const m=Cu(e),I=Jd(e);return I.add({}).next($=>{Ur("number"==typeof $);const X=new ef($,n,l,h),ae=function(en,In,cr){const Mr=cr.baseMutations.map(zi=>bu(en.fe,zi)),Rr=cr.mutations.map(zi=>bu(en.fe,zi));return{userId:In,batchId:cr.batchId,localWriteTimeMs:cr.localWriteTime.toMillis(),baseMutations:Mr,mutations:Rr}}(this.serializer,this.userId,X),Be=[];let wt=new ls((en,In)=>fi(en.canonicalString(),In.canonicalString()));for(const en of h){const In=Ph(this.userId,en.key.path,$);wt=wt.add(en.key.path.popLast()),Be.push(I.put(ae)),Be.push(m.put(In,xd))}return wt.forEach(en=>{Be.push(this.indexManager.addToCollectionParentIndex(e,en))}),e.addOnCommittedListener(()=>{this.Vn[$]=X.keys()}),Kt.waitFor(Be).next(()=>X)})}lookupMutationBatch(e,n){return Jd(e).get(n).next(l=>l?(Ur(l.userId===this.userId),Gd(this.serializer,l)):null)}Sn(e,n){return this.Vn[n]?Kt.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(l=>{if(l){const h=l.keys();return this.Vn[n]=h,h}return null})}getNextMutationBatchAfterBatchId(e,n){const l=n+1,h=IDBKeyRange.lowerBound([this.userId,l]);let m=null;return Jd(e).X({index:"userMutationsIndex",range:h},(I,$,X)=>{$.userId===this.userId&&(Ur($.batchId>=l),m=Gd(this.serializer,$)),X.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let l=-1;return Jd(e).X({index:"userMutationsIndex",range:n,reverse:!0},(h,m,I)=>{l=m.batchId,I.done()}).next(()=>l)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jd(e).j("userMutationsIndex",n).next(l=>l.map(h=>Gd(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,n){const l=Ac(this.userId,n.path),h=IDBKeyRange.lowerBound(l),m=[];return Cu(e).X({range:h},(I,$,X)=>{const[ae,Be,wt]=I,en=Lo(Be);if(ae===this.userId&&n.path.isEqual(en))return Jd(e).get(wt).next(In=>{if(!In)throw mr();Ur(In.userId===this.userId),m.push(Gd(this.serializer,In))});X.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new ls(fi);const h=[];return n.forEach(m=>{const I=Ac(this.userId,m.path),$=IDBKeyRange.lowerBound(I),X=Cu(e).X({range:$},(ae,Be,wt)=>{const[en,In,cr]=ae,Mr=Lo(In);en===this.userId&&m.path.isEqual(Mr)?l=l.add(cr):wt.done()});h.push(X)}),Kt.waitFor(h).next(()=>this.Dn(e,l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,h=l.length+1,m=Ac(this.userId,l),I=IDBKeyRange.lowerBound(m);let $=new ls(fi);return Cu(e).X({range:I},(X,ae,Be)=>{const[wt,en,In]=X,cr=Lo(en);wt===this.userId&&l.isPrefixOf(cr)?cr.length===h&&($=$.add(In)):Be.done()}).next(()=>this.Dn(e,$))}Dn(e,n){const l=[],h=[];return n.forEach(m=>{h.push(Jd(e).get(m).next(I=>{if(null===I)throw mr();Ur(I.userId===this.userId),l.push(Gd(this.serializer,I))}))}),Kt.waitFor(h).next(()=>l)}removeMutationBatch(e,n){return Za(e.ht,this.userId,n).next(l=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Kt.forEach(l,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Kt.resolve();const l=IDBKeyRange.lowerBound([this.userId]),h=[];return Cu(e).X({range:l},(m,I,$)=>{if(m[0]===this.userId){const X=Lo(m[1]);h.push(X)}else $.done()}).next(()=>{Ur(0===h.length)})})}containsKey(e,n){return wp(e,this.userId,n)}xn(e){return Vm(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wp(s,e,n){const l=Ac(e,n.path),h=l[1],m=IDBKeyRange.lowerBound(l);let I=!1;return Cu(s).X({range:m,Y:!0},($,X,ae)=>{const[Be,wt,en]=$;Be===e&&wt===h&&(I=!0),ae.done()}).next(()=>I)}function Jd(s){return co(s,"mutations")}function Cu(s){return co(s,"documentMutations")}function Vm(s){return co(s,"mutationQueues")}class Su{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Su(0)}static Mn(){return new Su(-1)}}class sy{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const l=new Su(n.highestTargetId);return n.highestTargetId=l.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Wr.fromTimestamp(new Ss(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,l){return this.$n(e).next(h=>(h.highestListenSequenceNumber=n,l&&(h.lastRemoteSnapshotVersion=l.toTimestamp()),n>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=n),this.On(e,h)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(l=>(l.targetCount+=1,this.Bn(n,l),this.On(e,l))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>eh(e).delete(n.targetId)).next(()=>this.$n(e)).next(l=>(Ur(l.targetCount>0),l.targetCount-=1,this.On(e,l)))}removeTargets(e,n,l){let h=0;const m=[];return eh(e).X((I,$)=>{const X=Wd($);X.sequenceNumber<=n&&null===l.get(X.targetId)&&(h++,m.push(this.removeTargetData(e,X)))}).next(()=>Kt.waitFor(m)).next(()=>h)}forEachTarget(e,n){return eh(e).X((l,h)=>{const m=Wd(h);n(m)})}$n(e){return ra(e).get("targetGlobalKey").next(n=>(Ur(null!==n),n))}On(e,n){return ra(e).put("targetGlobalKey",n)}Fn(e,n){return eh(e).put(Bc(this.serializer,n))}Bn(e,n){let l=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,l=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,l=!0),l}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const l=Oc(n),h=IDBKeyRange.bound([l,Number.NEGATIVE_INFINITY],[l,Number.POSITIVE_INFINITY]);let m=null;return eh(e).X({range:h,index:"queryTargetsIndex"},(I,$,X)=>{const ae=Wd($);Nc(n,ae.target)&&(m=ae,X.done())}).next(()=>m)}addMatchingKeys(e,n,l){const h=[],m=$c(e);return n.forEach(I=>{const $=lo(I.path);h.push(m.put({targetId:l,path:$})),h.push(this.referenceDelegate.addReference(e,l,I))}),Kt.waitFor(h)}removeMatchingKeys(e,n,l){const h=$c(e);return Kt.forEach(n,m=>{const I=lo(m.path);return Kt.waitFor([h.delete([l,I]),this.referenceDelegate.removeReference(e,l,m)])})}removeMatchingKeysForTargetId(e,n){const l=$c(e),h=IDBKeyRange.bound([n],[n+1],!1,!0);return l.delete(h)}getMatchingKeysForTargetId(e,n){const l=IDBKeyRange.bound([n],[n+1],!1,!0),h=$c(e);let m=Ni();return h.X({range:l,Y:!0},(I,$,X)=>{const ae=Lo(I[1]),Be=new yr(ae);m=m.add(Be)}).next(()=>m)}containsKey(e,n){const l=lo(n.path),h=IDBKeyRange.bound([l],[eu(l)],!1,!0);let m=0;return $c(e).X({index:"documentTargetsIndex",Y:!0,range:h},([I,$],X,ae)=>{0!==I&&(m++,ae.done())}).next(()=>m>0)}le(e,n){return eh(e).get(n).next(l=>l?Wd(l):null)}}function eh(s){return co(s,"targets")}function ra(s){return co(s,"targetGlobal")}function $c(s){return co(s,"targetDocuments")}function Tg([s,e],[n,l]){const h=fi(s,n);return 0===h?fi(e,l):h}class Ag{constructor(e){this.Ln=e,this.buffer=new ls(Tg),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const l=this.buffer.last();Tg(n,l)<0&&(this.buffer=this.buffer.delete(l).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jm{constructor(e,n,l){this.garbageCollector=e,this.asyncQueue=n,this.localStore=l,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Zn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ce.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(l){ko(l)?Zn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Dr(l)}yield n.Qn(3e5)}))}}class zm{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(l=>Math.floor(n/100*l))}nthSequenceNumber(e,n){if(0===n)return Kt.resolve(ea.ct);const l=new Ag(n);return this.jn.forEachTarget(e,h=>l.Kn(h.sequenceNumber)).next(()=>this.jn.Wn(e,h=>l.Kn(h))).next(()=>l.maxValue)}removeTargets(e,n,l){return this.jn.removeTargets(e,n,l)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Zn("LruGarbageCollector","Garbage collection skipped; disabled"),Kt.resolve(Um)):this.getCacheSize(e).next(l=>l<this.params.cacheSizeCollectionThreshold?(Zn("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Um):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let l,h,m,I,$,X,ae;const Be=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(wt=>(wt>this.params.maximumSequenceNumbersToCollect?(Zn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${wt}`),h=this.params.maximumSequenceNumbersToCollect):h=wt,I=Date.now(),this.nthSequenceNumber(e,h))).next(wt=>(l=wt,$=Date.now(),this.removeTargets(e,l,n))).next(wt=>(m=wt,X=Date.now(),this.removeOrphanedDocuments(e,l))).next(wt=>(ae=Date.now(),ns()<=Bt.in.DEBUG&&Zn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-Be}ms\n\tDetermined least recently used ${h} in `+($-I)+`ms\n\tRemoved ${m} targets in `+(X-$)+`ms\n\tRemoved ${wt} documents in `+(ae-X)+`ms\nTotal Duration: ${ae-Be}ms`),Kt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:wt})))}}class Uc{constructor(e,n){this.db=e,this.garbageCollector=function Vo(s,e){return new zm(s,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(l=>n.next(h=>l+h))}Jn(e){let n=0;return this.Wn(e,l=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(l,h)=>n(h))}addReference(e,n,l){return hf(e,l)}removeReference(e,n,l){return hf(e,l)}removeTargets(e,n,l){return this.db.getTargetCache().removeTargets(e,n,l)}markPotentiallyOrphaned(e,n){return hf(e,n)}Xn(e,n){return function(l,h){let m=!1;return Vm(l).Z(I=>wp(l,I,h).next($=>($&&(m=!0),Kt.resolve(!$)))).next(()=>m)}(e,n)}removeOrphanedDocuments(e,n){const l=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Yn(e,(I,$)=>{if($<=n){const X=this.Xn(e,I).next(ae=>{if(!ae)return m++,l.getEntry(e,I).next(()=>(l.removeEntry(I,Wr.min()),$c(e).delete([0,lo(I.path)])))});h.push(X)}}).next(()=>Kt.waitFor(h)).next(()=>l.apply(e)).next(()=>m)}removeTarget(e,n){const l=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,l)}updateLimboDocument(e,n){return hf(e,n)}Yn(e,n){const l=$c(e);let h,m=ea.ct;return l.X({index:"documentTargetsIndex"},([I,$],{path:X,sequenceNumber:ae})=>{0===I?(m!==ea.ct&&n(new yr(Lo(h)),m),m=ae,h=X):m=ea.ct}).next(()=>{m!==ea.ct&&n(new yr(Lo(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hf(s,e){return $c(s).put((l=s.currentSequenceNumber,{targetId:0,path:lo(e.path),sequenceNumber:l}));var l}class sd{constructor(){this.changes=new Wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const l=this.changes.get(n);return void 0!==l?Kt.resolve(l):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,l){return Du(e).put(l)}removeEntry(e,n,l){return Du(e).delete(function(h,m){const I=h.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],lf(m),I[I.length-1]]}(n,l))}updateMetadata(e,n){return this.getMetadata(e).next(l=>(l.byteSize+=n,this.Zn(e,l)))}getEntry(e,n){let l=ys.newInvalidDocument(n);return Du(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ff(n))},(h,m)=>{l=this.ts(n,m)}).next(()=>l)}es(e,n){let l={size:0,document:ys.newInvalidDocument(n)};return Du(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ff(n))},(h,m)=>{l={document:this.ts(n,m),size:Xd(m)}}).next(()=>l)}getEntries(e,n){let l=Fo();return this.ns(e,n,(h,m)=>{const I=this.ts(h,m);l=l.insert(h,I)}).next(()=>l)}ss(e,n){let l=Fo(),h=new bs(yr.comparator);return this.ns(e,n,(m,I)=>{const $=this.ts(m,I);l=l.insert(m,$),h=h.insert(m,Xd(I))}).next(()=>({documents:l,rs:h}))}ns(e,n,l){if(n.isEmpty())return Kt.resolve();let h=new ls(xg);n.forEach(X=>h=h.add(X));const m=IDBKeyRange.bound(ff(h.first()),ff(h.last())),I=h.getIterator();let $=I.getNext();return Du(e).X({index:"documentKeyIndex",range:m},(X,ae,Be)=>{const wt=yr.fromSegments([...ae.prefixPath,ae.collectionGroup,ae.documentId]);for(;$&&xg($,wt)<0;)l($,null),$=I.getNext();$&&$.isEqual(wt)&&(l($,ae),$=I.hasNext()?I.getNext():null),$?Be.G(ff($)):Be.done()}).next(()=>{for(;$;)l($,null),$=I.hasNext()?I.getNext():null})}getDocumentsMatchingQuery(e,n,l,h){const m=n.path,I=[m.popLast().toArray(),m.lastSegment(),lf(l.readTime),l.documentKey.path.isEmpty()?"":l.documentKey.path.lastSegment()],$=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Du(e).j(IDBKeyRange.bound(I,$,!0)).next(X=>{let ae=Fo();for(const Be of X){const wt=this.ts(yr.fromSegments(Be.prefixPath.concat(Be.collectionGroup,Be.documentId)),Be);wt.isFoundDocument()&&(Ga(n,wt)||h.has(wt.key))&&(ae=ae.insert(wt.key,wt))}return ae})}getAllFromCollectionGroup(e,n,l,h){let m=Fo();const I=Gm(n,l),$=Gm(n,Lt.max());return Du(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,$,!0)},(X,ae,Be)=>{const wt=this.ts(yr.fromSegments(ae.prefixPath.concat(ae.collectionGroup,ae.documentId)),ae);m=m.insert(wt.key,wt),m.size===h&&Be.done()}).next(()=>m)}newChangeBuffer(e){return new Hm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return th(e).get("remoteDocumentGlobalKey").next(n=>(Ur(!!n),n))}Zn(e,n){return th(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const l=function so(s,e){let n;if(e.document)n=wg(s.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const l=yr.fromSegments(e.noDocument.path),h=Hd(e.noDocument.readTime);n=ys.newNoDocument(l,h),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return mr();{const l=yr.fromSegments(e.unknownDocument.path),h=Hd(e.unknownDocument.version);n=ys.newUnknownDocument(l,h)}}return e.readTime&&n.setReadTime(function(l){const h=new Ss(l[0],l[1]);return Wr.fromTimestamp(h)}(e.readTime)),n}(this.serializer,n);if(!l.isNoDocument()||!l.version.isEqual(Wr.min()))return l}return ys.newInvalidDocument(e)}}function oy(s){return new u_(s)}class Hm extends sd{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Wa(l=>l.toString(),(l,h)=>l.isEqual(h))}applyChanges(e){const n=[];let l=0,h=new ls((m,I)=>fi(m.canonicalString(),I.canonicalString()));return this.changes.forEach((m,I)=>{const $=this.us.get(m);if(n.push(this.os.removeEntry(e,m,$.readTime)),I.isValidDocument()){const X=fp(this.os.serializer,I);h=h.add(m.path.popLast());const ae=Xd(X);l+=ae-$.size,n.push(this.os.addEntry(e,m,X))}else if(l-=$.size,this.trackRemovals){const X=fp(this.os.serializer,I.convertToNoDocument(Wr.min()));n.push(this.os.addEntry(e,m,X))}}),h.forEach(m=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),n.push(this.os.updateMetadata(e,l)),Kt.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(l=>(this.us.set(n,{size:l.size,readTime:l.document.readTime}),l.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:l,rs:h})=>(h.forEach((m,I)=>{this.us.set(m,{size:I,readTime:l.get(m).readTime})}),l))}}function th(s){return co(s,"remoteDocumentGlobal")}function Du(s){return co(s,"remoteDocumentsV14")}function ff(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gm(s,e){const n=e.documentKey.path.toArray();return[s,lf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function xg(s,e){const n=s.path.toArray(),l=e.path.toArray();let h=0;for(let m=0;m<n.length-2&&m<l.length-2;++m)if(h=fi(n[m],l[m]),h)return h;return h=fi(n.length,l.length),h||(h=fi(n[n.length-2],l[l.length-2]),h||fi(n[n.length-1],l[l.length-1]))}class ay{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ec{constructor(e,n,l,h){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=l,this.indexManager=h}getDocument(e,n){let l=null;return this.documentOverlayCache.getOverlay(e,n).next(h=>(l=h,this.remoteDocumentCache.getEntry(e,n))).next(h=>(null!==l&&kc(l.mutation,h,uo.empty(),Ss.now()),h))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(l=>this.getLocalViewOfDocuments(e,l,Ni()).next(()=>l))}getLocalViewOfDocuments(e,n,l=Ni()){const h=Bo();return this.populateOverlays(e,h,n).next(()=>this.computeViews(e,n,h,l).next(m=>{let I=mu();return m.forEach(($,X)=>{I=I.insert($,X.overlayedDocument)}),I}))}getOverlayedDocuments(e,n){const l=Bo();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,Ni()))}populateOverlays(e,n,l){const h=[];return l.forEach(m=>{n.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((I,$)=>{n.set(I,$)})})}computeViews(e,n,l,h){let m=Fo();const I=vu(),$=vu();return n.forEach((X,ae)=>{const Be=l.get(ae.key);h.has(ae.key)&&(void 0===Be||Be.mutation instanceof Ka)?m=m.insert(ae.key,ae):void 0!==Be?(I.set(ae.key,Be.mutation.getFieldMask()),kc(Be.mutation,ae,Be.mutation.getFieldMask(),Ss.now())):I.set(ae.key,uo.empty())}),this.recalculateAndSaveOverlays(e,m).next(X=>(X.forEach((ae,Be)=>I.set(ae,Be)),n.forEach((ae,Be)=>{var wt;return $.set(ae,new ay(Be,null!==(wt=I.get(ae))&&void 0!==wt?wt:null))}),$))}recalculateAndSaveOverlays(e,n){const l=vu();let h=new bs((I,$)=>I-$),m=Ni();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(I=>{for(const $ of I)$.keys().forEach(X=>{const ae=n.get(X);if(null===ae)return;let Be=l.get(X)||uo.empty();Be=$.applyToLocalView(ae,Be),l.set(X,Be);const wt=(h.get($.batchId)||Ni()).add(X);h=h.insert($.batchId,wt)})}).next(()=>{const I=[],$=h.getReverseIterator();for(;$.hasNext();){const X=$.getNext(),ae=X.key,Be=X.value,wt=op();Be.forEach(en=>{if(!m.has(en)){const In=xo(n.get(en),l.get(en));null!==In&&wt.set(en,In),m=m.add(en)}}),I.push(this.documentOverlayCache.saveOverlays(e,ae,wt))}return Kt.waitFor(I)}).next(()=>l)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(l=>this.recalculateAndSaveOverlays(e,l))}getDocumentsMatchingQuery(e,n,l){return yr.isDocumentKey((h=n).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Da(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,l):this.getDocumentsMatchingCollectionQuery(e,n,l);var h}getNextDocuments(e,n,l,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,l,h).next(m=>{const I=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,l.largestBatchId,h-m.size):Kt.resolve(Bo());let $=-1,X=m;return I.next(ae=>Kt.forEach(ae,(Be,wt)=>($<wt.largestBatchId&&($=wt.largestBatchId),m.get(Be)?Kt.resolve():this.remoteDocumentCache.getEntry(e,Be).next(en=>{X=X.insert(Be,en)}))).next(()=>this.populateOverlays(e,ae,m)).next(()=>this.computeViews(e,X,ae,Ni())).next(Be=>({batchId:$,changes:Zh(Be)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new yr(n)).next(l=>{let h=mu();return l.isFoundDocument()&&(h=h.insert(l.key,l)),h})}getDocumentsMatchingCollectionGroupQuery(e,n,l){const h=n.collectionGroup;let m=mu();return this.indexManager.getCollectionParents(e,h).next(I=>Kt.forEach(I,$=>{const X=(ae=n,Be=$.child(h),new Tl(Be,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,Be;return this.getDocumentsMatchingCollectionQuery(e,X,l).next(ae=>{ae.forEach((Be,wt)=>{m=m.insert(Be,wt)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,n,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,l.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,l,h))).next(m=>{h.forEach(($,X)=>{const ae=X.getKey();null===m.get(ae)&&(m=m.insert(ae,ys.newInvalidDocument(ae)))});let I=mu();return m.forEach(($,X)=>{const ae=h.get($);void 0!==ae&&kc(ae.mutation,X,uo.empty(),Ss.now()),Ga(n,X)&&(I=I.insert($,X))}),I})}}class tc{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Kt.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var l;return this.cs.set(n.id,{id:(l=n).id,version:l.version,createTime:po(l.createTime)}),Kt.resolve()}getNamedQuery(e,n){return Kt.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(l=n).name,query:nd(l.bundledQuery),readTime:po(l.readTime)}),Kt.resolve();var l}}class pf{constructor(){this.overlays=new bs(yr.comparator),this.ls=new Map}getOverlay(e,n){return Kt.resolve(this.overlays.get(n))}getOverlays(e,n){const l=Bo();return Kt.forEach(n,h=>this.getOverlay(e,h).next(m=>{null!==m&&l.set(h,m)})).next(()=>l)}saveOverlays(e,n,l){return l.forEach((h,m)=>{this.we(e,n,m)}),Kt.resolve()}removeOverlaysForBatchId(e,n,l){const h=this.ls.get(l);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(l)),Kt.resolve()}getOverlaysForCollection(e,n,l){const h=Bo(),m=n.length+1,I=new yr(n.child("")),$=this.overlays.getIteratorFrom(I);for(;$.hasNext();){const X=$.getNext().value,ae=X.getKey();if(!n.isPrefixOf(ae.path))break;ae.path.length===m&&X.largestBatchId>l&&h.set(X.getKey(),X)}return Kt.resolve(h)}getOverlaysForCollectionGroup(e,n,l,h){let m=new bs((ae,Be)=>ae-Be);const I=this.overlays.getIterator();for(;I.hasNext();){const ae=I.getNext().value;if(ae.getKey().getCollectionGroup()===n&&ae.largestBatchId>l){let Be=m.get(ae.largestBatchId);null===Be&&(Be=Bo(),m=m.insert(ae.largestBatchId,Be)),Be.set(ae.getKey(),ae)}}const $=Bo(),X=m.getIterator();for(;X.hasNext()&&(X.getNext().value.forEach((ae,Be)=>$.set(ae,Be)),!($.size()>=h)););return Kt.resolve($)}we(e,n,l){const h=this.overlays.get(l.key);if(null!==h){const I=this.ls.get(h.largestBatchId).delete(l.key);this.ls.set(h.largestBatchId,I)}this.overlays=this.overlays.insert(l.key,new A(n,l));let m=this.ls.get(n);void 0===m&&(m=Ni(),this.ls.set(n,m)),this.ls.set(n,m.add(l.key))}}class ly{constructor(){this.fs=new ls(ia.ds),this.ws=new ls(ia._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const l=new ia(e,n);this.fs=this.fs.add(l),this.ws=this.ws.add(l)}gs(e,n){e.forEach(l=>this.addReference(l,n))}removeReference(e,n){this.ys(new ia(e,n))}ps(e,n){e.forEach(l=>this.removeReference(l,n))}Is(e){const n=new yr(new os([])),l=new ia(n,e),h=new ia(n,e+1),m=[];return this.ws.forEachInRange([l,h],I=>{this.ys(I),m.push(I.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new yr(new os([])),l=new ia(n,e),h=new ia(n,e+1);let m=Ni();return this.ws.forEachInRange([l,h],I=>{m=m.add(I.key)}),m}containsKey(e){const n=new ia(e,0),l=this.fs.firstAfterOrEqual(n);return null!==l&&e.isEqual(l.key)}}class ia{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return yr.comparator(e.key,n.key)||fi(e.As,n.As)}static _s(e,n){return fi(e.As,n.As)||yr.comparator(e.key,n.key)}}class gf{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ls(ia.ds)}checkEmpty(e){return Kt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,l,h){const m=this.vs;this.vs++;const I=new ef(m,n,l,h);this.mutationQueue.push(I);for(const $ of h)this.Rs=this.Rs.add(new ia($.key,m)),this.indexManager.addToCollectionParentIndex(e,$.key.path.popLast());return Kt.resolve(I)}lookupMutationBatch(e,n){return Kt.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const h=this.bs(n+1),m=h<0?0:h;return Kt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Kt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Kt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const l=new ia(n,0),h=new ia(n,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([l,h],I=>{const $=this.Ps(I.As);m.push($)}),Kt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let l=new ls(fi);return n.forEach(h=>{const m=new ia(h,0),I=new ia(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,I],$=>{l=l.add($.As)})}),Kt.resolve(this.Vs(l))}getAllMutationBatchesAffectingQuery(e,n){const l=n.path,h=l.length+1;let m=l;yr.isDocumentKey(m)||(m=m.child(""));const I=new ia(new yr(m),0);let $=new ls(fi);return this.Rs.forEachWhile(X=>{const ae=X.key.path;return!!l.isPrefixOf(ae)&&(ae.length===h&&($=$.add(X.As)),!0)},I),Kt.resolve(this.Vs($))}Vs(e){const n=[];return e.forEach(l=>{const h=this.Ps(l);null!==h&&n.push(h)}),n}removeMutationBatch(e,n){Ur(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let l=this.Rs;return Kt.forEach(n.mutations,h=>{const m=new ia(h.key,n.batchId);return l=l.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=l})}Cn(e){}containsKey(e,n){const l=new ia(n,0),h=this.Rs.firstAfterOrEqual(l);return Kt.resolve(n.isEqual(h&&h.key))}performConsistencyCheck(e){return Kt.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ep{constructor(e){this.Ds=e,this.docs=new bs(yr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const l=n.key,h=this.docs.get(l),m=h?h.size:0,I=this.Ds(n);return this.docs=this.docs.insert(l,{document:n.mutableCopy(),size:I}),this.size+=I-m,this.indexManager.addToCollectionParentIndex(e,l.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const l=this.docs.get(n);return Kt.resolve(l?l.document.mutableCopy():ys.newInvalidDocument(n))}getEntries(e,n){let l=Fo();return n.forEach(h=>{const m=this.docs.get(h);l=l.insert(h,m?m.document.mutableCopy():ys.newInvalidDocument(h))}),Kt.resolve(l)}getDocumentsMatchingQuery(e,n,l,h){let m=Fo();const I=n.path,$=new yr(I.child("")),X=this.docs.getIteratorFrom($);for(;X.hasNext();){const{key:ae,value:{document:Be}}=X.getNext();if(!I.isPrefixOf(ae.path))break;ae.path.length>I.length+1||An(Ue(Be),l)<=0||(h.has(Be.key)||Ga(n,Be))&&(m=m.insert(Be.key,Be.mutableCopy()))}return Kt.resolve(m)}getAllFromCollectionGroup(e,n,l,h){mr()}Cs(e,n){return Kt.forEach(this.docs,l=>n(l))}newChangeBuffer(e){return new d_(this)}getSize(e){return Kt.resolve(this.size)}}class d_ extends sd{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((l,h)=>{h.isValidDocument()?n.push(this.os.addEntry(e,h)):this.os.removeEntry(l)}),Kt.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class d0{constructor(e){this.persistence=e,this.xs=new Wa(n=>Oc(n),Nc),this.lastRemoteSnapshotVersion=Wr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ly,this.targetCount=0,this.Ms=Su.kn()}forEachTarget(e,n){return this.xs.forEach((l,h)=>n(h)),Kt.resolve()}getLastRemoteSnapshotVersion(e){return Kt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Kt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Kt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,l){return l&&(this.lastRemoteSnapshotVersion=l),n>this.Ns&&(this.Ns=n),Kt.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Su(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Kt.resolve()}updateTargetData(e,n){return this.Fn(n),Kt.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Kt.resolve()}removeTargets(e,n,l){let h=0;const m=[];return this.xs.forEach((I,$)=>{$.sequenceNumber<=n&&null===l.get($.targetId)&&(this.xs.delete(I),m.push(this.removeMatchingKeysForTargetId(e,$.targetId)),h++)}),Kt.waitFor(m).next(()=>h)}getTargetCount(e){return Kt.resolve(this.targetCount)}getTargetData(e,n){const l=this.xs.get(n)||null;return Kt.resolve(l)}addMatchingKeys(e,n,l){return this.ks.gs(n,l),Kt.resolve()}removeMatchingKeys(e,n,l){this.ks.ps(n,l);const h=this.persistence.referenceDelegate,m=[];return h&&n.forEach(I=>{m.push(h.markPotentiallyOrphaned(e,I))}),Kt.waitFor(m)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Kt.resolve()}getMatchingKeysForTargetId(e,n){const l=this.ks.Es(n);return Kt.resolve(l)}containsKey(e,n){return Kt.resolve(this.ks.containsKey(n))}}class nh{constructor(e,n){this.$s={},this.overlays={},this.Os=new ea(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new d0(this),this.indexManager=new c_,this.remoteDocumentCache=new Ep(l=>this.referenceDelegate.Ls(l)),this.serializer=new io(n),this.qs=new tc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pf,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let l=this.$s[e.toKey()];return l||(l=new gf(n,this.referenceDelegate),this.$s[e.toKey()]=l),l}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,l){Zn("MemoryPersistence","Starting transaction:",e);const h=new h_(this.Os.next());return this.referenceDelegate.Us(),l(h).next(m=>this.referenceDelegate.Ks(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Gs(e,n){return Kt.or(Object.values(this.$s).map(l=>()=>l.containsKey(e,n)))}}class h_ extends ui{constructor(e){super(),this.currentSequenceNumber=e}}class mf{constructor(e){this.persistence=e,this.Qs=new ly,this.js=null}static zs(e){return new mf(e)}get Ws(){if(this.js)return this.js;throw mr()}addReference(e,n,l){return this.Qs.addReference(l,n),this.Ws.delete(l.toString()),Kt.resolve()}removeReference(e,n,l){return this.Qs.removeReference(l,n),this.Ws.add(l.toString()),Kt.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Kt.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(h=>this.Ws.add(h.toString()));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(e,n.targetId).next(h=>{h.forEach(m=>this.Ws.add(m.toString()))}).next(()=>l.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kt.forEach(this.Ws,l=>{const h=yr.fromPath(l);return this.Hs(e,h).next(m=>{m||n.removeEntry(h,Wr.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(l=>{l?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Kt.or([()=>Kt.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class yf{constructor(e){this.serializer=e}O(e,n,l,h){const m=new Hs("createOrUpgrade",n);var $;l<1&&h>=1&&(e.createObjectStore("owner"),($=e).createObjectStore("mutationQueues",{keyPath:"userId"}),$.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$u,{unique:!0}),$.createObjectStore("documentMutations"),_f(e),function($){$.createObjectStore("remoteDocuments")}(e));let I=Kt.resolve();return l<3&&h>=3&&(0!==l&&(function($){$.deleteObjectStore("targetDocuments"),$.deleteObjectStore("targets"),$.deleteObjectStore("targetGlobal")}(e),_f(e)),I=I.next(()=>function($){const X=$.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wr.min().toTimestamp(),targetCount:0};return X.put("targetGlobalKey",ae)}(m))),l<4&&h>=4&&(0!==l&&(I=I.next(()=>function($,X){return X.store("mutations").j().next(ae=>{$.deleteObjectStore("mutations"),$.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$u,{unique:!0});const Be=X.store("mutations"),wt=ae.map(en=>Be.put(en));return Kt.waitFor(wt)})}(e,m))),I=I.next(()=>{!function($){$.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),l<5&&h>=5&&(I=I.next(()=>this.Ys(m))),l<6&&h>=6&&(I=I.next(()=>(function($){$.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),l<7&&h>=7&&(I=I.next(()=>this.Zs(m))),l<8&&h>=8&&(I=I.next(()=>this.ti(e,m))),l<9&&h>=9&&(I=I.next(()=>{!function($){$.objectStoreNames.contains("remoteDocumentChanges")&&$.deleteObjectStore("remoteDocumentChanges")}(e)})),l<10&&h>=10&&(I=I.next(()=>this.ei(m))),l<11&&h>=11&&(I=I.next(()=>{(function($){$.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function($){$.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),l<12&&h>=12&&(I=I.next(()=>{!function($){const X=$.createObjectStore("documentOverlays",{keyPath:Uu});X.createIndex("collectionPathOverlayIndex",Lh,{unique:!1}),X.createIndex("collectionGroupOverlayIndex",Jf,{unique:!1})}(e)})),l<13&&h>=13&&(I=I.next(()=>function($){const X=$.createObjectStore("remoteDocumentsV14",{keyPath:ag});X.createIndex("documentKeyIndex",Go),X.createIndex("collectionGroupIndex",Rh)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),l<14&&h>=14&&(I=I.next(()=>this.si(e,m))),l<15&&h>=15&&(I=I.next(()=>function($){$.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),$.createObjectStore("indexState",{keyPath:iu}).createIndex("sequenceNumberIndex",bm,{unique:!1}),$.createObjectStore("indexEntries",{keyPath:Nh}).createIndex("documentKeyIndex",kh,{unique:!1})}(e))),I}Xs(e){let n=0;return e.store("remoteDocuments").X((l,h)=>{n+=Xd(h)}).next(()=>{const l={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",l)})}Ys(e){const n=e.store("mutationQueues"),l=e.store("mutations");return n.j().next(h=>Kt.forEach(h,m=>{const I=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return l.j("userMutationsIndex",I).next($=>Kt.forEach($,X=>{Ur(X.userId===m.userId);const ae=Gd(this.serializer,X);return Za(e,m.userId,ae).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),l=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return l.X((I,$)=>{const X=new os(I),ae=[0,lo(X)];m.push(n.get(ae).next(Be=>Be?Kt.resolve():n.put({targetId:0,path:lo(X),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>Kt.waitFor(m))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:ru});const l=n.store("collectionParents"),h=new qd,m=I=>{if(h.add(I)){const $=I.lastSegment(),X=I.popLast();return l.put({collectionId:$,parent:lo(X)})}};return n.store("remoteDocuments").X({Y:!0},(I,$)=>{const X=new os(I);return m(X.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([I,$,X],ae)=>{const Be=Lo($);return m(Be.popLast())}))}ei(e){const n=e.store("targets");return n.X((l,h)=>{const m=Wd(h),I=Bc(this.serializer,m);return n.put(I)})}ni(e,n){const l=n.store("remoteDocuments"),h=[];return l.X((m,I)=>{const $=n.store("remoteDocumentsV14"),X=(ae=I,ae.document?new yr(os.fromString(ae.document.name).popFirst(5)):ae.noDocument?yr.fromSegments(ae.noDocument.path):ae.unknownDocument?yr.fromSegments(ae.unknownDocument.path):mr()).path.toArray();var ae;const Be={prefixPath:X.slice(0,X.length-2),collectionGroup:X[X.length-2],documentId:X[X.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};h.push($.put(Be))}).next(()=>Kt.waitFor(h))}si(e,n){const l=n.store("mutations"),h=oy(this.serializer),m=new nh(mf.zs,this.serializer.fe);return l.j().next(I=>{const $=new Map;return I.forEach(X=>{var ae;let Be=null!==(ae=$.get(X.userId))&&void 0!==ae?ae:Ni();Gd(this.serializer,X).keys().forEach(wt=>Be=Be.add(wt)),$.set(X.userId,Be)}),Kt.forEach($,(X,ae)=>{const Be=new Js(ae),wt=cf.de(this.serializer,Be),en=m.getIndexManager(Be),In=Qd.de(Be,this.serializer,en,m.referenceDelegate);return new ec(h,In,wt,en).recalculateAndSaveOverlaysForDocumentKeys(new Cl(n,ea.ct),X).next()})})}}function _f(s){s.createObjectStore("targetDocuments",{keyPath:nu}).createIndex("documentTargetsIndex",Oh,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xc,{unique:!0}),s.createObjectStore("targetGlobal")}const rh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nc{constructor(e,n,l,h,m,I,$,X,ae,Be,wt=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=l,this.ii=m,this.window=I,this.document=$,this.ri=ae,this.oi=Be,this.ui=wt,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=en=>Promise.resolve(),!nc.D())throw new Ln(hn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uc(this,h),this.di=n+"main",this.serializer=new io(X),this.wi=new Ms(this.di,this.ui,new yf(this.serializer)),this.Bs=new sy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oy(this.serializer),this.qs=new c0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Be&&xi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ln(hn.FAILED_PRECONDITION,rh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ea(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var l=(0,ce.Z)(function*(h){if(n.started)return e(h)});return function(h){return l.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,ce.Z)(function*(l){null===l.newVersion&&(yield e())});return function(l){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ce.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>od(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(ko(e))return Zn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Zn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return rc(e).get("owner").next(n=>Kt.resolve(this.Ri(n)))}Pi(e){return od(e).delete(this.clientId)}bi(){var e=this;return(0,ce.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",l=>{const h=co(l,"clientMetadata");return h.j().next(m=>{const I=e.Si(m,18e5),$=m.filter(X=>-1===I.indexOf(X));return Kt.forEach($,X=>h.delete(X.clientId)).next(()=>$)})}).catch(()=>[]);if(e._i)for(const l of n)e._i.removeItem(e.Di(l.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Kt.resolve(!0):rc(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Ln(hn.FAILED_PRECONDITION,rh);return!1}}return!(!this.networkEnabled||!this.inForeground)||od(e).j().next(l=>void 0===this.Si(l,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Zn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,ce.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const l=new Cl(n,ea.ct);return e.Ai(l).next(()=>e.Pi(l))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(l=>this.Vi(l.updateTimeMs,n)&&!this.Ci(l.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>od(e).j().next(n=>this.Si(n,18e5).map(l=>l.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return Qd.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new u0(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return cf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,l){Zn("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===n?"readonly":"readwrite",m=15===(I=this.ui)?Vu:14===I?Fh:13===I?lg:12===I?Mc:11===I?su:void mr();var I;let $;return this.wi.runTransaction(e,h,m,X=>($=new Cl(X,this.Os?this.Os.next():ea.ct),"readwrite-primary"===n?this.Ti($).next(ae=>!!ae||this.Ei($)).next(ae=>{if(!ae)throw xi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ln(hn.FAILED_PRECONDITION,vr);return l($)}).next(ae=>this.vi($).next(()=>ae)):this.Oi($).next(()=>l($)))).then(X=>($.raiseOnCommittedEvent(),X))}Oi(e){return rc(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ln(hn.FAILED_PRECONDITION,rh)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rc(e).put("owner",n)}static D(){return Ms.D()}Ai(e){const n=rc(e);return n.get("owner").next(l=>this.Ri(l)?(Zn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Kt.resolve())}Vi(e,n){const l=Date.now();return!(e<l-n||e>l&&(xi(`Detected an update time that is in the future: ${e} > ${l}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,$e.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const l=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Zn("IndexedDbPersistence",`Client '${e}' ${l?"is":"is not"} zombied in LocalStorage`),l}catch(l){return xi("IndexedDbPersistence","Failed to get zombied client id.",l),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){xi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rc(s){return co(s,"owner")}function od(s){return co(s,"clientMetadata")}function Mg(s,e){let n=s.projectId;return s.isDefaultDatabase||(n+="."+s.database),"firestore/"+e+"/"+n+"/"}class ih{constructor(e,n,l,h){this.targetId=e,this.fromCache=n,this.Fi=l,this.Bi=h}static Li(e,n){let l=Ni(),h=Ni();for(const m of n.docChanges)switch(m.type){case 0:l=l.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new ih(e,n.fromCache,l,h)}}class wf{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,l,h){return this.Ki(e,n).next(m=>m||this.Gi(e,n,h,l)).next(m=>m||this.Qi(e,n))}Ki(e,n){if(Yh(n))return Kt.resolve(null);let l=Ao(n);return this.indexManager.getIndexType(e,l).next(h=>0===h?null:(null!==n.limit&&1===h&&(n=Aa(n,null,"F"),l=Ao(n)),this.indexManager.getDocumentsMatchingTarget(e,l).next(m=>{const I=Ni(...m);return this.Ui.getDocuments(e,I).next($=>this.indexManager.getMinOffset(e,l).next(X=>{const ae=this.ji(n,$);return this.zi(n,ae,I,X.readTime)?this.Ki(e,Aa(n,null,"F")):this.Wi(e,ae,n,X)}))})))}Gi(e,n,l,h){return Yh(n)||h.isEqual(Wr.min())?this.Qi(e,n):this.Ui.getDocuments(e,l).next(m=>{const I=this.ji(n,m);return this.zi(n,I,l,h)?this.Qi(e,n):(ns()<=Bt.in.DEBUG&&Zn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Kh(n)),this.Wi(e,I,n,He(h,-1)))})}ji(e,n){let l=new ls(sp(e));return n.forEach((h,m)=>{Ga(e,m)&&(l=l.add(m))}),l}zi(e,n,l,h){if(null===e.limit)return!1;if(l.size!==n.size)return!0;const m="F"===e.limitType?n.last():n.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Qi(e,n){return ns()<=Bt.in.DEBUG&&Zn("QueryEngine","Using full collection scan to execute query:",Kh(n)),this.Ui.getDocumentsMatchingQuery(e,n,Lt.min())}Wi(e,n,l,h){return this.Ui.getDocumentsMatchingQuery(e,l,h).next(m=>(n.forEach(I=>{m=m.insert(I.key,I)}),m))}}class h0{constructor(e,n,l,h){this.persistence=e,this.Hi=n,this.serializer=h,this.Ji=new bs(fi),this.Yi=new Wa(m=>Oc(m),Nc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(l)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ec(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function qo(s,e,n,l){return new h0(s,e,n,l)}function Ef(s,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,ce.Z)(function*(s,e){const n=Er(s);return yield n.persistence.runTransaction("Handle user change","readonly",l=>{let h;return n.mutationQueue.getAllMutationBatches(l).next(m=>(h=m,n.tr(e),n.mutationQueue.getAllMutationBatches(l))).next(m=>{const I=[],$=[];let X=Ni();for(const ae of h){I.push(ae.batchId);for(const Be of ae.mutations)X=X.add(Be.key)}for(const ae of m){$.push(ae.batchId);for(const Be of ae.mutations)X=X.add(Be.key)}return n.localDocuments.getDocuments(l,X).next(ae=>({er:ae,removedBatchIds:I,addedBatchIds:$}))})})}),Pg.apply(this,arguments)}function Wm(s){const e=Er(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Ym(s,e,n){let l=Ni(),h=Ni();return n.forEach(m=>l=l.add(m)),e.getEntries(s,l).next(m=>{let I=Fo();return n.forEach(($,X)=>{const ae=m.get($);X.isFoundDocument()!==ae.isFoundDocument()&&(h=h.add($)),X.isNoDocument()&&X.version.isEqual(Wr.min())?(e.removeEntry($,X.readTime),I=I.insert($,X)):!ae.isValidDocument()||X.version.compareTo(ae.version)>0||0===X.version.compareTo(ae.version)&&ae.hasPendingWrites?(e.addEntry(X),I=I.insert($,X)):Zn("LocalStore","Ignoring outdated watch update for ",$,". Current version:",ae.version," Watch version:",X.version)}),{nr:I,sr:h}})}function ic(s,e){const n=Er(s);return n.persistence.runTransaction("Get next mutation batch","readonly",l=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(l,e)))}function If(s,e){const n=Er(s);return n.persistence.runTransaction("Allocate target","readwrite",l=>{let h;return n.Bs.getTargetData(l,e).next(m=>m?(h=m,Kt.resolve(h)):n.Bs.allocateTargetId(l).next(I=>(h=new td(e,I,"TargetPurposeListen",l.currentSequenceNumber),n.Bs.addTargetData(l,h).next(()=>h))))}).then(l=>{const h=n.Ji.get(l.targetId);return(null===h||l.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(l.targetId,l),n.Yi.set(e,l.targetId)),l})}function bp(s,e,n){return Km.apply(this,arguments)}function Km(){return Km=(0,ce.Z)(function*(s,e,n){const l=Er(s),h=l.Ji.get(e),m=n?"readwrite":"readwrite-primary";try{n||(yield l.persistence.runTransaction("Release target",m,I=>l.persistence.referenceDelegate.removeTarget(I,h)))}catch(I){if(!ko(I))throw I;Zn("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}l.Ji=l.Ji.remove(e),l.Yi.delete(h.target)}),Km.apply(this,arguments)}function Cf(s,e,n){const l=Er(s);let h=Wr.min(),m=Ni();return l.persistence.runTransaction("Execute query","readonly",I=>function($,X,ae){const Be=Er($),wt=Be.Yi.get(ae);return void 0!==wt?Kt.resolve(Be.Ji.get(wt)):Be.Bs.getTargetData(X,ae)}(l,I,Ao(e)).next($=>{if($)return h=$.lastLimboFreeSnapshotVersion,l.Bs.getMatchingKeysForTargetId(I,$.targetId).next(X=>{m=X})}).next(()=>l.Hi.getDocumentsMatchingQuery(I,e,n?h:Wr.min(),n?m:Ni())).next($=>(qm(l,Wu(e),$),{documents:$,ir:m})))}function Ip(s,e){const n=Er(s),l=Er(n.Bs),h=n.Ji.get(e);return h?Promise.resolve(h.target):n.persistence.runTransaction("Get target data","readonly",m=>l.le(m,e).next(I=>I?I.target:null))}function ad(s,e){const n=Er(s),l=n.Xi.get(e)||Wr.min();return n.persistence.runTransaction("Get new document changes","readonly",h=>n.Zi.getAllFromCollectionGroup(h,e,He(l,-1),Number.MAX_SAFE_INTEGER)).then(h=>(qm(n,e,h),h))}function qm(s,e,n){let l=s.Xi.get(e)||Wr.min();n.forEach((h,m)=>{m.readTime.compareTo(l)>0&&(l=m.readTime)}),s.Xi.set(e,l)}function sh(){return sh=(0,ce.Z)(function*(s,e,n,l){const h=Er(s);let m=Ni(),I=Fo();for(const ae of n){const Be=e.rr(ae.metadata.name);ae.document&&(m=m.add(Be));const wt=e.ur(ae);wt.setReadTime(e.cr(ae.metadata.readTime)),I=I.insert(Be,wt)}const $=h.Zi.newChangeBuffer({trackRemovals:!0}),X=yield If(h,(ae=l,Ao(no(os.fromString(`__bundle__/docs/${ae}`)))));var ae;return h.persistence.runTransaction("Apply bundle documents","readwrite",ae=>Ym(ae,$,I).next(Be=>($.apply(ae),Be)).next(Be=>h.Bs.removeMatchingKeysForTargetId(ae,X.targetId).next(()=>h.Bs.addMatchingKeys(ae,m,X.targetId)).next(()=>h.localDocuments.getLocalViewOfDocuments(ae,Be.nr,Be.sr)).next(()=>Be.nr)))}),sh.apply(this,arguments)}function f_(s,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,ce.Z)(function*(s,e,n=Ni()){const l=yield If(s,Ao(nd(e.bundledQuery))),h=Er(s);return h.persistence.runTransaction("Save named query","readwrite",m=>{const I=po(e.readTime);if(l.snapshotVersion.compareTo(I)>=0)return h.qs.saveNamedQuery(m,e);const $=l.withResumeToken(ho.EMPTY_BYTE_STRING,I);return h.Ji=h.Ji.insert($.targetId,$),h.Bs.updateTargetData(m,$).next(()=>h.Bs.removeMatchingKeysForTargetId(m,l.targetId)).next(()=>h.Bs.addMatchingKeys(m,n,l.targetId)).next(()=>h.qs.saveNamedQuery(m,e))})}),Rg.apply(this,arguments)}function uy(s,e){return`firestore_clients_${s}_${e}`}function Og(s,e,n){let l=`firestore_mutations_${s}_${n}`;return e.isAuthenticated()&&(l+=`_${e.uid}`),l}function Ng(s,e){return`firestore_targets_${s}_${e}`}class Cp{constructor(e,n,l,h){this.user=e,this.batchId=n,this.state=l,this.error=h}static ar(e,n,l){const h=JSON.parse(l);let m,I="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return I&&h.error&&(I="string"==typeof h.error.message&&"string"==typeof h.error.code,I&&(m=new Ln(h.error.code,h.error.message))),I?new Cp(e,n,h.state,m):(xi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${l}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ld{constructor(e,n,l){this.targetId=e,this.state=n,this.error=l}static ar(e,n){const l=JSON.parse(n);let h,m="object"==typeof l&&-1!==["not-current","current","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new Ln(l.error.code,l.error.message))),m?new ld(e,l.state,h):(xi("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kg{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const l=JSON.parse(n);let h="object"==typeof l&&l.activeTargetIds instanceof Array,m=$o();for(let I=0;h&&I<l.activeTargetIds.length;++I)h=Tc(l.activeTargetIds[I]),m=m.add(l.activeTargetIds[I]);return h?new kg(e,m):(xi("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class cd{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new cd(n.clientId,n.onlineState):(xi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oh{constructor(){this.activeTargetIds=$o()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lg{constructor(e,n,l,h,m){this.window=e,this.ii=n,this.persistenceKey=l,this.wr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new bs(fi),this.started=!1,this.yr=[];const I=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=uy(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new oh),this.Tr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function($){return`firestore_bundle_loaded_v2_${$}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.Z)(function*(){const n=yield e.syncEngine.$i();for(const h of n){if(h===e.wr)continue;const m=e.getItem(uy(e.persistenceKey,h));if(m){const I=kg.ar(h,m);I&&(e.gr=e.gr.insert(I.clientId,I))}}e.Pr();const l=e.storage.getItem(e.vr);if(l){const h=e.br(l);h&&e.Vr(h)}for(const h of e.yr)e.mr(h);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((l,h)=>{h.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,l){this.Dr(e,n,l),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const l=this.storage.getItem(Ng(this.persistenceKey,e));if(l){const h=ld.ar(e,l);h&&(n=h.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ng(this.persistenceKey,e))}updateQueryState(e,n,l){this.kr(e,n,l)}handleUserChange(e,n,l){n.forEach(h=>{this.Cr(h)}),this.currentUser=e,l.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Zn("SharedClientState","READ",e,n),n}setItem(e,n){Zn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Zn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const l=e;if(l.storageArea===this.storage){if(Zn("SharedClientState","EVENT",l.key,l.newValue),l.key===this.pr)return void xi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ce.Z)(function*(){if(n.started){if(null!==l.key)if(n.Tr.test(l.key)){if(null==l.newValue){const h=n.Or(l.key);return n.Fr(h,null)}{const h=n.Br(l.key,l.newValue);if(h)return n.Fr(h.clientId,h)}}else if(n.Er.test(l.key)){if(null!==l.newValue){const h=n.Lr(l.key,l.newValue);if(h)return n.qr(h)}}else if(n.Ar.test(l.key)){if(null!==l.newValue){const h=n.Ur(l.key,l.newValue);if(h)return n.Kr(h)}}else if(l.key===n.vr){if(null!==l.newValue){const h=n.br(l.newValue);if(h)return n.Vr(h)}}else if(l.key===n.Ir){const h=function(m){let I=ea.ct;if(null!=m)try{const $=JSON.parse(m);Ur("number"==typeof $),I=$}catch($){xi("SharedClientState","Failed to read sequence number from WebStorage",$)}return I}(l.newValue);h!==ea.ct&&n.sequenceNumberHandler(h)}else if(l.key===n.Rr){const h=n.Gr(l.newValue);yield Promise.all(h.map(m=>n.syncEngine.Qr(m)))}}else n.yr.push(l)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,l){const h=new Cp(this.currentUser,e,n,l),m=Og(this.persistenceKey,this.currentUser,e);this.setItem(m,h.hr())}Cr(e){const n=Og(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,l){const h=Ng(this.persistenceKey,e),m=new ld(e,n,l);this.setItem(h,m.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const l=this.Or(e);return kg.ar(l,n)}Lr(e,n){const l=this.Er.exec(e),h=Number(l[1]);return Cp.ar(new Js(void 0!==l[2]?l[2]:null),h,n)}Ur(e,n){const l=this.Ar.exec(e),h=Number(l[1]);return ld.ar(h,n)}br(e){return cd.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,ce.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Zn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const l=n?this.gr.insert(e,n):this.gr.remove(e),h=this.Sr(this.gr),m=this.Sr(l),I=[],$=[];return m.forEach(X=>{h.has(X)||I.push(X)}),h.forEach(X=>{m.has(X)||$.push(X)}),this.syncEngine.Wr(I,$).then(()=>{this.gr=l})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=$o();return e.forEach((l,h)=>{n=n.unionWith(h.activeTargetIds)}),n}}class Xm{constructor(){this.Hr=new oh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,l){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,l){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new oh,Promise.resolve()}handleUserChange(e,n,l){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class p_{Yr(e){}shutdown(){}}class Qm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Zn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Zn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fg=null;function Sp(){return null===Fg?Fg=268435456+Math.round(2147483648*Math.random()):Fg++,"0x"+Fg.toString(16)}const dy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yo="WebChannelConnection";class Jm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,l,h,m){const I=Sp(),$=this.To(e,n);Zn("RestConnection",`Sending RPC '${e}' ${I}:`,$,l);const X={};return this.Eo(X,h,m),this.Ao(e,$,X,l).then(ae=>(Zn("RestConnection",`Received RPC '${e}' ${I}: `,ae),ae),ae=>{throw No("RestConnection",`RPC '${e}' ${I} failed with error: `,ae,"url: ",$,"request:",l),ae})}vo(e,n,l,h,m,I){return this.Io(e,n,l,h,m)}Eo(e,n,l){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((h,m)=>e[m]=h),l&&l.headers.forEach((h,m)=>e[m]=h)}To(e,n){return`${this.mo}/v1/${n}:${dy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,l,h){const m=Sp();return new Promise((I,$)=>{const X=new Ba;X.setWithCredentials(!0),X.listenOnce(Qs.COMPLETE,()=>{try{switch(X.getLastErrorCode()){case So.NO_ERROR:const Be=X.getResponseJson();Zn(yo,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Be)),I(Be);break;case So.TIMEOUT:Zn(yo,`RPC '${e}' ${m} timed out`),$(new Ln(hn.DEADLINE_EXCEEDED,"Request time out"));break;case So.HTTP_ERROR:const wt=X.getStatus();if(Zn(yo,`RPC '${e}' ${m} failed with status:`,wt,"response text:",X.getResponseText()),wt>0){let en=X.getResponseJson();Array.isArray(en)&&(en=en[0]);const In=null==en?void 0:en.error;if(In&&In.status&&In.message){const cr=function(Mr){const Rr=Mr.toLowerCase().replace(/_/g,"-");return Object.values(hn).indexOf(Rr)>=0?Rr:hn.UNKNOWN}(In.status);$(new Ln(cr,In.message))}else $(new Ln(hn.UNKNOWN,"Server responded with status "+X.getStatus()))}else $(new Ln(hn.UNAVAILABLE,"Connection failed."));break;default:mr()}}finally{Zn(yo,`RPC '${e}' ${m} completed.`)}});const ae=JSON.stringify(h);Zn(yo,`RPC '${e}' ${m} sending request:`,h),X.send(n,"POST",ae,l,15)})}Ro(e,n,l){const h=Sp(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],I=Co(),$=Qr(),X={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ae=this.longPollingOptions.timeoutSeconds;void 0!==ae&&(X.longPollingTimeout=Math.round(1e3*ae)),this.useFetchStreams&&(X.xmlHttpFactory=new Xf({})),this.Eo(X.initMessageHeaders,n,l),X.encodeInitMessageHeaders=!0;const Be=m.join("");Zn(yo,`Creating RPC '${e}' stream ${h}: ${Be}`,X);const wt=I.createWebChannel(Be,X);let en=!1,In=!1;const cr=new Dp({ro:Rr=>{In?Zn(yo,`Not sending because RPC '${e}' stream ${h} is closed:`,Rr):(en||(Zn(yo,`Opening RPC '${e}' stream ${h} transport.`),wt.open(),en=!0),Zn(yo,`RPC '${e}' stream ${h} sending:`,Rr),wt.send(Rr))},oo:()=>wt.close()}),Mr=(Rr,zi,_s)=>{Rr.listen(zi,Zi=>{try{_s(Zi)}catch(bo){setTimeout(()=>{throw bo},0)}})};return Mr(wt,Ll.EventType.OPEN,()=>{In||Zn(yo,`RPC '${e}' stream ${h} transport opened.`)}),Mr(wt,Ll.EventType.CLOSE,()=>{In||(In=!0,Zn(yo,`RPC '${e}' stream ${h} transport closed`),cr.wo())}),Mr(wt,Ll.EventType.ERROR,Rr=>{In||(In=!0,No(yo,`RPC '${e}' stream ${h} transport errored:`,Rr),cr.wo(new Ln(hn.UNAVAILABLE,"The operation could not be completed")))}),Mr(wt,Ll.EventType.MESSAGE,Rr=>{var zi;if(!In){const _s=Rr.data[0];Ur(!!_s);const bo=_s.error||(null===(zi=_s[0])||void 0===zi?void 0:zi.error);if(bo){Zn(yo,`RPC '${e}' stream ${h} received error:`,bo);const Ls=bo.status;let Xs=function(og){const Kv=R[og];if(void 0!==Kv)return At(Kv)}(Ls),Ja=bo.message;void 0===Xs&&(Xs=hn.INTERNAL,Ja="Unknown error status: "+Ls+" with message "+bo.message),In=!0,cr.wo(new Ln(Xs,Ja)),wt.close()}else Zn(yo,`RPC '${e}' stream ${h} received:`,_s),cr._o(_s)}}),Mr($,vl.STAT_EVENT,Rr=>{Rr.stat===da.PROXY?Zn(yo,`RPC '${e}' stream ${h} detected buffering proxy`):Rr.stat===da.NOPROXY&&Zn(yo,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{cr.fo()},0),cr}}function hy(){return typeof window<"u"?window:null}function Tp(){return typeof document<"u"?document:null}function Tu(s){return new sf(s,!0)}class Ap{constructor(e,n,l=1e3,h=1.5,m=6e4){this.ii=e,this.timerId=n,this.Po=l,this.bo=h,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),l=Math.max(0,Date.now()-this.Co),h=Math.max(0,n-l);h>0&&Zn("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${l} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,h,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ev{constructor(e,n,l,h,m,I,$,X){this.ii=e,this.$o=l,this.Oo=h,this.connection=m,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=$,this.listener=X,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Ap(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ce.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ce.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var l=this;return(0,ce.Z)(function*(){l.Ho(),l.Jo(),l.qo.cancel(),l.Fo++,4!==e?l.qo.reset():n&&n.code===hn.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),l.qo.xo()):n&&n.code===hn.UNAUTHENTICATED&&3!==l.state&&(l.authCredentialsProvider.invalidateToken(),l.appCheckCredentialsProvider.invalidateToken()),null!==l.stream&&(l.Yo(),l.stream.close(),l.stream=null),l.state=e,yield l.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([l,h])=>{this.Fo===n&&this.Zo(l,h)},l=>{e(()=>{const h=new Ln(hn.UNKNOWN,"Fetching auth token failed: "+l.message);return this.tu(h)})})}Zo(e,n){const l=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{l(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(h=>{l(()=>this.tu(h))}),this.stream.onMessage(h=>{l(()=>this.onMessage(h))})}Go(){var e=this;this.state=5,this.qo.No((0,ce.Z)(function*(){e.state=0,e.start()}))}tu(e){return Zn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Zn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fy extends ev{constructor(e,n,l,h,m,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,l,h,I),this.serializer=m}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function dp(s,e){let n;if("targetChange"in e){const l="NO_CHANGE"===(X=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:mr(),h=e.targetChange.targetIds||[],m=function(X,ae){return X.useProto3Json?(Ur(void 0===ae||"string"==typeof ae),ho.fromBase64String(ae||"")):(Ur(void 0===ae||ae instanceof Uint8Array),ho.fromUint8Array(ae||new Uint8Array))}(s,e.targetChange.resumeToken),I=e.targetChange.cause,$=I&&function(X){const ae=void 0===X.code?hn.UNKNOWN:At(X.code);return new Ln(ae,X.message||"")}(I);n=new ro(l,h,m,$||null)}else if("documentChange"in e){const l=e.documentChange,h=ll(s,l.document.name),m=po(l.document.updateTime),I=l.document.createTime?po(l.document.createTime):Wr.min(),$=new fo({mapValue:{fields:l.document.fields}}),X=ys.newFoundDocument(h,m,I,$);n=new Qu(l.targetIds||[],l.removedTargetIds||[],X.key,X)}else if("documentDelete"in e){const l=e.documentDelete,h=ll(s,l.document),m=l.readTime?po(l.readTime):Wr.min(),I=ys.newNoDocument(h,m);n=new Qu([],l.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const l=e.documentRemove,h=ll(s,l.document);n=new Qu([],l.removedTargetIds||[],h,null)}else{if(!("filter"in e))return mr();{const l=e.filter,{count:h=0,unchangedNames:m}=l,I=new b(h,m);n=new qa(l.targetId,I)}}var X;return n}(this.serializer,e),l=function(h){if(!("targetChange"in h))return Wr.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Wr.min():m.readTime?po(m.readTime):Wr.min()}(e);return this.listener.nu(n,l)}su(e){const n={};n.database=af(this.serializer),n.addTarget=function(h,m){let I;const $=m.target;if(I=Hh($)?{documents:Eg(h,$)}:{query:bg(h,$)},I.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){I.resumeToken=Pm(h,m.resumeToken);const X=Mm(h,m.expectedCount);null!==X&&(I.expectedCount=X)}else if(m.snapshotVersion.compareTo(Wr.min())>0){I.readTime=Vd(h,m.snapshotVersion.toTimestamp());const X=Mm(h,m.expectedCount);null!==X&&(I.expectedCount=X)}return I}(this.serializer,e);const l=function r_(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mr()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);l&&(n.labels=l),this.Wo(n)}iu(e){const n={};n.database=af(this.serializer),n.removeTarget=e,this.Wo(n)}}class g_ extends ev{constructor(e,n,l,h,m,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,l,h,I),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ur(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ey(s,e){return s&&s.length>0?(Ur(void 0!==e),s.map(n=>function(l,h){let m=po(l.updateTime?l.updateTime:h);return m.isEqual(Wr.min())&&(m=po(h)),new xm(m,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),l=po(e.commitTime);return this.listener.cu(l,n)}return Ur(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=af(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(l=>bu(this.serializer,l))};this.Wo(n)}}class m_ extends class{}{constructor(e,n,l,h){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=l,this.serializer=h,this.lu=!1}fu(){if(this.lu)throw new Ln(hn.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Io(e,n,l,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===hn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ln(hn.UNKNOWN,h.toString())})}vo(e,n,l,h){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,I])=>this.connection.vo(e,n,l,m,I,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===hn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Ln(hn.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class y_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(xi(n),this.mu=!1):Zn("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class py{constructor(e,n,l,h,m){var I=this;this.localStore=e,this.datastore=n,this.asyncQueue=l,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr($=>{l.enqueueAndForget((0,ce.Z)(function*(){var X;Ra(I)&&(Zn("RemoteStore","Restarting streams for network reachability change."),yield(X=(0,ce.Z)(function*(ae){const Be=Er(ae);Be.vu.add(4),yield Pa(Be),Be.bu.set("Unknown"),Be.vu.delete(4),yield Sf(Be)}),function(ae){return X.apply(this,arguments)})(I))}))}),this.bu=new y_(l,h)}}function Sf(s){return ah.apply(this,arguments)}function ah(){return ah=(0,ce.Z)(function*(s){if(Ra(s))for(const e of s.Ru)yield e(!0)}),ah.apply(this,arguments)}function Pa(s){return nv.apply(this,arguments)}function nv(){return nv=(0,ce.Z)(function*(s){for(const e of s.Ru)yield e(!1)}),nv.apply(this,arguments)}function gy(s,e){const n=Er(s);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Pp(n)?Mp(n):jc(n).Ko()&&my(n,e))}function xp(s,e){const n=Er(s),l=jc(n);n.Au.delete(e),l.Ko()&&Bg(n,e),0===n.Au.size&&(l.Ko()?l.jo():Ra(n)&&n.bu.set("Unknown"))}function my(s,e){if(s.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wr.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(s).su(e)}function Bg(s,e){s.Vu.qt(e),jc(s).iu(e)}function Mp(s){s.Vu=new Ml({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),le:e=>s.Au.get(e)||null,ue:()=>s.datastore.serializer.databaseId}),jc(s).start(),s.bu.gu()}function Pp(s){return Ra(s)&&!jc(s).Uo()&&s.Au.size>0}function Ra(s){return 0===Er(s).vu.size}function $g(s){s.Vu=void 0}function Df(s){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,ce.Z)(function*(s){s.Au.forEach((e,n)=>{my(s,e)})}),Ug.apply(this,arguments)}function vy(s,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,ce.Z)(function*(s,e){$g(s),Pp(s)?(s.bu.Iu(e),Mp(s)):s.bu.set("Unknown")}),Vg.apply(this,arguments)}function Bi(s,e,n){return jg.apply(this,arguments)}function jg(){return jg=(0,ce.Z)(function*(s,e,n){if(s.bu.set("Online"),e instanceof ro&&2===e.state&&e.cause)try{yield(l=(0,ce.Z)(function*(h,m){const I=m.cause;for(const $ of m.targetIds)h.Au.has($)&&(yield h.remoteSyncer.rejectListen($,I),h.Au.delete($),h.Vu.removeTarget($))}),function(h,m){return l.apply(this,arguments)})(s,e)}catch(l){Zn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),l),yield Rp(s,l)}else if(e instanceof Qu?s.Vu.Ht(e):e instanceof qa?s.Vu.ne(e):s.Vu.Xt(e),!n.isEqual(Wr.min()))try{const l=yield Wm(s.localStore);n.compareTo(l)>=0&&(yield function(h,m){const I=h.Vu.ce(m);return I.targetChanges.forEach(($,X)=>{if($.resumeToken.approximateByteSize()>0){const ae=h.Au.get(X);ae&&h.Au.set(X,ae.withResumeToken($.resumeToken,m))}}),I.targetMismatches.forEach(($,X)=>{const ae=h.Au.get($);if(!ae)return;h.Au.set($,ae.withResumeToken(ho.EMPTY_BYTE_STRING,ae.snapshotVersion)),Bg(h,$);const Be=new td(ae.target,$,X,ae.sequenceNumber);my(h,Be)}),h.remoteSyncer.applyRemoteEvent(I)}(s,n))}catch(l){Zn("RemoteStore","Failed to raise snapshot:",l),yield Rp(s,l)}var l}),jg.apply(this,arguments)}function Rp(s,e,n){return rv.apply(this,arguments)}function rv(){return rv=(0,ce.Z)(function*(s,e,n){if(!ko(e))throw e;s.vu.add(1),yield Pa(s),s.bu.set("Offline"),n||(n=()=>Wm(s.localStore)),s.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){Zn("RemoteStore","Retrying IndexedDB access"),yield n(),s.vu.delete(1),yield Sf(s)}))}),rv.apply(this,arguments)}function Tf(s,e){return e().catch(n=>Rp(s,n,e))}function lh(s){return iv.apply(this,arguments)}function iv(){return iv=(0,ce.Z)(function*(s){const e=Er(s),n=zc(e);let l=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;__(e);)try{const h=yield ic(e.localStore,l);if(null===h){0===e.Eu.length&&n.jo();break}l=h.batchId,yy(e,h)}catch(h){yield Rp(e,h)}_y(e)&&wy(e)}),iv.apply(this,arguments)}function __(s){return Ra(s)&&s.Eu.length<10}function yy(s,e){s.Eu.push(e);const n=zc(s);n.Ko()&&n.ou&&n.uu(e.mutations)}function _y(s){return Ra(s)&&!zc(s).Uo()&&s.Eu.length>0}function wy(s){zc(s).start()}function w_(s){return sv.apply(this,arguments)}function sv(){return sv=(0,ce.Z)(function*(s){zc(s).hu()}),sv.apply(this,arguments)}function Au(s){return sa.apply(this,arguments)}function sa(){return sa=(0,ce.Z)(function*(s){const e=zc(s);for(const n of s.Eu)e.uu(n.mutations)}),sa.apply(this,arguments)}function Af(s,e,n){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,ce.Z)(function*(s,e,n){const l=s.Eu.shift(),h=cp.from(l,e,n);yield Tf(s,()=>s.remoteSyncer.applySuccessfulWrite(h)),yield lh(s)}),Vc.apply(this,arguments)}function xu(s,e){return ch.apply(this,arguments)}function ch(){return ch=(0,ce.Z)(function*(s,e){var n;e&&zc(s).ou&&(yield(n=(0,ce.Z)(function*(l,h){if(Pe(m=h.code)&&m!==hn.ABORTED){const I=l.Eu.shift();zc(l).Qo(),yield Tf(l,()=>l.remoteSyncer.rejectFailedWrite(I.batchId,h)),yield lh(l)}var m}),function(l,h){return n.apply(this,arguments)})(s,e)),_y(s)&&wy(s)}),ch.apply(this,arguments)}function ov(s,e){return ud.apply(this,arguments)}function ud(){return ud=(0,ce.Z)(function*(s,e){const n=Er(s);n.asyncQueue.verifyOperationInProgress(),Zn("RemoteStore","RemoteStore received new credentials");const l=Ra(n);n.vu.add(3),yield Pa(n),l&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Sf(n)}),ud.apply(this,arguments)}function Mu(s,e){return Op.apply(this,arguments)}function Op(){return Op=(0,ce.Z)(function*(s,e){const n=Er(s);e?(n.vu.delete(2),yield Sf(n)):e||(n.vu.add(2),yield Pa(n),n.bu.set("Unknown"))}),Op.apply(this,arguments)}function jc(s){return s.Su||(s.Su=function(e,n,l){const h=Er(e);return h.fu(),new fy(n,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:Df.bind(null,s),ao:vy.bind(null,s),nu:Bi.bind(null,s)}),s.Ru.push(function(){var e=(0,ce.Z)(function*(n){n?(s.Su.Qo(),Pp(s)?Mp(s):s.bu.set("Unknown")):(yield s.Su.stop(),$g(s))});return function(n){return e.apply(this,arguments)}}())),s.Su}function zc(s){return s.Du||(s.Du=function(e,n,l){const h=Er(e);return h.fu(),new g_(n,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{uo:w_.bind(null,s),ao:xu.bind(null,s),au:Au.bind(null,s),cu:Af.bind(null,s)}),s.Ru.push(function(){var e=(0,ce.Z)(function*(n){n?(s.Du.Qo(),yield lh(s)):(yield s.Du.stop(),s.Eu.length>0&&(Zn("RemoteStore",`Stopping write stream with ${s.Eu.length} pending writes`),s.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),s.Du}class Pu{constructor(e,n,l,h,m){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=l,this.op=h,this.removalCallback=m,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(e,n,l,h,m){const I=Date.now()+l,$=new Pu(e,n,I,h,m);return $.start(l),$}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ln(hn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dd(s,e){if(xi("AsyncQueue",`${e}: ${s}`),ko(s))return new Ln(hn.UNAVAILABLE,`${e}: ${s}`);throw s}class hd{constructor(e){this.comparator=e?(n,l)=>e(n,l)||yr.comparator(n.key,l.key):(n,l)=>yr.comparator(n.key,l.key),this.keyedMap=mu(),this.sortedSet=new bs(this.comparator)}static emptySet(e){return new hd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,l)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),l=e.sortedSet.getIterator();for(;n.hasNext();){const h=n.getNext().key,m=l.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const l=new hd;return l.comparator=this.comparator,l.keyedMap=e,l.sortedSet=n,l}}class zg{constructor(){this.Cu=new bs(yr.comparator)}track(e){const n=e.doc.key,l=this.Cu.get(n);l?0!==e.type&&3===l.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==l.type?this.Cu=this.Cu.insert(n,{type:l.type,doc:e.doc}):2===e.type&&2===l.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===l.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===l.type?this.Cu=this.Cu.remove(n):1===e.type&&2===l.type?this.Cu=this.Cu.insert(n,{type:1,doc:l.doc}):0===e.type&&1===l.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):mr():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,l)=>{e.push(l)}),e}}class fd{constructor(e,n,l,h,m,I,$,X,ae){this.query=e,this.docs=n,this.oldDocs=l,this.docChanges=h,this.mutatedKeys=m,this.fromCache=I,this.syncStateChanged=$,this.excludesMetadataChanges=X,this.hasCachedResults=ae}static fromInitialDocuments(e,n,l,h,m){const I=[];return n.forEach($=>{I.push({type:0,doc:$})}),new fd(e,n,hd.emptySet(n),I,l,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,l=e.docChanges;if(n.length!==l.length)return!1;for(let h=0;h<n.length;h++)if(n[h].type!==l[h].type||!n[h].doc.isEqual(l[h].doc))return!1;return!0}}class E_{constructor(){this.Nu=void 0,this.listeners=[]}}class Ey{constructor(){this.queries=new Wa(e=>kd(e),gu),this.onlineState="Unknown",this.ku=new Set}}function av(s,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,ce.Z)(function*(s,e){const n=Er(s),l=e.query;let h=!1,m=n.queries.get(l);if(m||(h=!0,m=new E_),h)try{m.Nu=yield n.onListen(l)}catch(I){const $=dd(I,`Initialization of query '${Kh(e.query)}' failed`);return void e.onError($)}n.queries.set(l,m),m.listeners.push(e),e.Mu(n.onlineState),m.Nu&&e.$u(m.Nu)&&cv(n)}),Hg.apply(this,arguments)}function Np(s,e){return lv.apply(this,arguments)}function lv(){return lv=(0,ce.Z)(function*(s,e){const n=Er(s),l=e.query;let h=!1;const m=n.queries.get(l);if(m){const I=m.listeners.indexOf(e);I>=0&&(m.listeners.splice(I,1),h=0===m.listeners.length)}if(h)return n.queries.delete(l),n.onUnlisten(l)}),lv.apply(this,arguments)}function b_(s,e){const n=Er(s);let l=!1;for(const h of e){const I=n.queries.get(h.query);if(I){for(const $ of I.listeners)$.$u(h)&&(l=!0);I.Nu=h}}l&&cv(n)}function I_(s,e,n){const l=Er(s),h=l.queries.get(e);if(h)for(const m of h.listeners)m.onError(n);l.queries.delete(e)}function cv(s){s.ku.forEach(e=>{e.next()})}class kp{constructor(e,n,l){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=l||{}}$u(e){if(!this.options.includeMetadataChanges){const l=[];for(const h of e.docChanges)3!==h.type&&l.push(h);e=new fd(e.query,e.docs,e.oldDocs,l,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=fd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class f0{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class C_{constructor(e){this.serializer=e}rr(e){return ll(this.serializer,e)}ur(e){return e.metadata.exists?wg(this.serializer,e.document,!1):ys.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return po(e)}}class cl{constructor(e,n,l){this.ju=e,this.localStore=n,this.serializer=l,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xf(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const l=os.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(l.get(l.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,l=new C_(this.serializer);for(const h of e)if(h.metadata.queries){const m=l.rr(h.metadata.name);for(const I of h.metadata.queries){const $=(n.get(I)||Ni()).add(m);n.set(I,$)}}return n}complete(){var e=this;return(0,ce.Z)(function*(){const n=yield function Zm(s,e,n,l){return sh.apply(this,arguments)}(e.localStore,new C_(e.serializer),e.documents,e.ju.id),l=e.Wu(e.documents);for(const h of e.queries)yield f_(e.localStore,h,l.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function xf(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Gg{constructor(e){this.key=e}}class S_{constructor(e){this.key=e}}class Wg{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ni(),this.mutatedKeys=Ni(),this.tc=sp(e),this.ec=new hd(this.tc)}get nc(){return this.Yu}sc(e,n){const l=n?n.ic:new zg,h=n?n.ec:this.ec;let m=n?n.mutatedKeys:this.mutatedKeys,I=h,$=!1;const X="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,ae="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((Be,wt)=>{const en=h.get(Be),In=Ga(this.query,wt)?wt:null,cr=!!en&&this.mutatedKeys.has(en.key),Mr=!!In&&(In.hasLocalMutations||this.mutatedKeys.has(In.key)&&In.hasCommittedMutations);let Rr=!1;en&&In?en.data.isEqual(In.data)?cr!==Mr&&(l.track({type:3,doc:In}),Rr=!0):this.rc(en,In)||(l.track({type:2,doc:In}),Rr=!0,(X&&this.tc(In,X)>0||ae&&this.tc(In,ae)<0)&&($=!0)):!en&&In?(l.track({type:0,doc:In}),Rr=!0):en&&!In&&(l.track({type:1,doc:en}),Rr=!0,(X||ae)&&($=!0)),Rr&&(In?(I=I.add(In),m=Mr?m.add(Be):m.delete(Be)):(I=I.delete(Be),m=m.delete(Be)))}),null!==this.query.limit)for(;I.size>this.query.limit;){const Be="F"===this.query.limitType?I.last():I.first();I=I.delete(Be.key),m=m.delete(Be.key),l.track({type:1,doc:Be})}return{ec:I,ic:l,zi:$,mutatedKeys:m}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,l){const h=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((ae,Be)=>function(wt,en){const In=cr=>{switch(cr){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mr()}};return In(wt)-In(en)}(ae.type,Be.type)||this.tc(ae.doc,Be.doc)),this.oc(l);const I=n?this.uc():[],$=0===this.Zu.size&&this.current?1:0,X=$!==this.Xu;return this.Xu=$,0!==m.length||X?{snapshot:new fd(this.query,e.ec,h,m,e.mutatedKeys,0===$,X,!1,!!l&&l.resumeToken.approximateByteSize()>0),cc:I}:{cc:I}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ni(),this.ec.forEach(l=>{this.ac(l.key)&&(this.Zu=this.Zu.add(l.key))});const n=[];return e.forEach(l=>{this.Zu.has(l)||n.push(new S_(l))}),this.Zu.forEach(l=>{e.has(l)||n.push(new Gg(l))}),n}hc(e){this.Yu=e.ir,this.Zu=Ni();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return fd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class D_{constructor(e,n,l){this.query=e,this.targetId=n,this.view=l}}class Mf{constructor(e){this.key=e,this.fc=!1}}class uv{constructor(e,n,l,h,m,I){this.localStore=e,this.remoteStore=n,this.eventManager=l,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=I,this.dc={},this.wc=new Wa($=>kd($),gu),this._c=new Map,this.mc=new Set,this.gc=new bs(yr.comparator),this.yc=new Map,this.Ic=new ly,this.Tc={},this.Ec=new Map,this.Ac=Su.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function p0(s,e){return dv.apply(this,arguments)}function dv(){return dv=(0,ce.Z)(function*(s,e){const n=Bp(s);let l,h;const m=n.wc.get(e);if(m)l=m.targetId,n.sharedClientState.addLocalQueryTarget(l),h=m.view.lc();else{const I=yield If(n.localStore,Ao(e)),$=n.sharedClientState.addLocalQueryTarget(I.targetId);l=I.targetId,h=yield Yg(n,e,l,"current"===$,I.resumeToken),n.isPrimaryClient&&gy(n.remoteStore,I)}return h}),dv.apply(this,arguments)}function Yg(s,e,n,l,h){return by.apply(this,arguments)}function by(){return by=(0,ce.Z)(function*(s,e,n,l,h){s.Rc=(wt,en,In)=>{return(cr=(0,ce.Z)(function*(Mr,Rr,zi,_s){let Zi=Rr.view.sc(zi);Zi.zi&&(Zi=yield Cf(Mr.localStore,Rr.query,!1).then(({documents:Xs})=>Rr.view.sc(Xs,Zi)));const bo=_s&&_s.targetChanges.get(Rr.targetId),Ls=Rr.view.applyChanges(Zi,Mr.isPrimaryClient,bo);return Hc(Mr,Rr.targetId,Ls.cc),Ls.snapshot}),function(Mr,Rr,zi,_s){return cr.apply(this,arguments)})(s,wt,en,In);var cr};const m=yield Cf(s.localStore,e,!0),I=new Wg(e,m.ir),$=I.sc(m.documents),X=Fc.createSynthesizedTargetChangeForCurrentChange(n,l&&"Offline"!==s.onlineState,h),ae=I.applyChanges($,s.isPrimaryClient,X);Hc(s,n,ae.cc);const Be=new D_(e,n,I);return s.wc.set(e,Be),s._c.has(n)?s._c.get(n).push(e):s._c.set(n,[e]),ae.snapshot}),by.apply(this,arguments)}function Kg(s,e){return qg.apply(this,arguments)}function qg(){return qg=(0,ce.Z)(function*(s,e){const n=Er(s),l=n.wc.get(e),h=n._c.get(l.targetId);if(h.length>1)return n._c.set(l.targetId,h.filter(m=>!gu(m,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(l.targetId),n.sharedClientState.isActiveQueryTarget(l.targetId)||(yield bp(n.localStore,l.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(l.targetId),xp(n.remoteStore,l.targetId),Xa(n,l.targetId)}).catch(Dr))):(Xa(n,l.targetId),yield bp(n.localStore,l.targetId,!0))}),qg.apply(this,arguments)}function Iy(){return Iy=(0,ce.Z)(function*(s,e,n){const l=Xg(s);try{const h=yield function(m,I){const $=Er(m),X=Ss.now(),ae=I.reduce((en,In)=>en.add(In.key),Ni());let Be,wt;return $.persistence.runTransaction("Locally write mutations","readwrite",en=>{let In=Fo(),cr=Ni();return $.Zi.getEntries(en,ae).next(Mr=>{In=Mr,In.forEach((Rr,zi)=>{zi.isValidDocument()||(cr=cr.add(Rr))})}).next(()=>$.localDocuments.getOverlayedDocuments(en,In)).next(Mr=>{Be=Mr;const Rr=[];for(const zi of I){const _s=wu(zi,Be.get(zi.key).overlayedDocument);null!=_s&&Rr.push(new Ka(zi.key,_s,dg(_s.value.mapValue),Ts.exists(!0)))}return $.mutationQueue.addMutationBatch(en,X,Rr,I)}).next(Mr=>{wt=Mr;const Rr=Mr.applyToLocalDocumentSet(Be,cr);return $.documentOverlayCache.saveOverlays(en,Mr.batchId,Rr)})}).then(()=>({batchId:wt.batchId,changes:Zh(Be)}))}(l.localStore,e);l.sharedClientState.addPendingMutation(h.batchId),function(m,I,$){let X=m.Tc[m.currentUser.toKey()];X||(X=new bs(fi)),X=X.insert(I,$),m.Tc[m.currentUser.toKey()]=X}(l,h.batchId,n),yield ac(l,h.changes),yield lh(l.remoteStore)}catch(h){const m=dd(h,"Failed to persist write");n.reject(m)}}),Iy.apply(this,arguments)}function Cy(s,e){return hv.apply(this,arguments)}function hv(){return hv=(0,ce.Z)(function*(s,e){const n=Er(s);try{const l=yield function cy(s,e){const n=Er(s),l=e.snapshotVersion;let h=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const I=n.Zi.newChangeBuffer({trackRemovals:!0});h=n.Ji;const $=[];e.targetChanges.forEach((Be,wt)=>{const en=h.get(wt);if(!en)return;$.push(n.Bs.removeMatchingKeys(m,Be.removedDocuments,wt).next(()=>n.Bs.addMatchingKeys(m,Be.addedDocuments,wt)));let In=en.withSequenceNumber(m.currentSequenceNumber);var cr,Mr,Rr;null!==e.targetMismatches.get(wt)?In=In.withResumeToken(ho.EMPTY_BYTE_STRING,Wr.min()).withLastLimboFreeSnapshotVersion(Wr.min()):Be.resumeToken.approximateByteSize()>0&&(In=In.withResumeToken(Be.resumeToken,l)),h=h.insert(wt,In),Mr=In,Rr=Be,(0===(cr=en).resumeToken.approximateByteSize()||Mr.snapshotVersion.toMicroseconds()-cr.snapshotVersion.toMicroseconds()>=3e8||Rr.addedDocuments.size+Rr.modifiedDocuments.size+Rr.removedDocuments.size>0)&&$.push(n.Bs.updateTargetData(m,In))});let X=Fo(),ae=Ni();if(e.documentUpdates.forEach(Be=>{e.resolvedLimboDocuments.has(Be)&&$.push(n.persistence.referenceDelegate.updateLimboDocument(m,Be))}),$.push(Ym(m,I,e.documentUpdates).next(Be=>{X=Be.nr,ae=Be.sr})),!l.isEqual(Wr.min())){const Be=n.Bs.getLastRemoteSnapshotVersion(m).next(wt=>n.Bs.setTargetsMetadata(m,m.currentSequenceNumber,l));$.push(Be)}return Kt.waitFor($).next(()=>I.apply(m)).next(()=>n.localDocuments.getLocalViewOfDocuments(m,X,ae)).next(()=>X)}).then(m=>(n.Ji=h,m))}(n.localStore,e);e.targetChanges.forEach((h,m)=>{const I=n.yc.get(m);I&&(Ur(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?I.fc=!0:h.modifiedDocuments.size>0?Ur(I.fc):h.removedDocuments.size>0&&(Ur(I.fc),I.fc=!1))}),yield ac(n,l,e)}catch(l){yield Dr(l)}}),hv.apply(this,arguments)}function sc(s,e,n){const l=Er(s);if(l.isPrimaryClient&&0===n||!l.isPrimaryClient&&1===n){const h=[];l.wc.forEach((m,I)=>{const $=I.view.Mu(e);$.snapshot&&h.push($.snapshot)}),function(m,I){const $=Er(m);$.onlineState=I;let X=!1;$.queries.forEach((ae,Be)=>{for(const wt of Be.listeners)wt.Mu(I)&&(X=!0)}),X&&cv($)}(l.eventManager,e),h.length&&l.dc.nu(h),l.onlineState=e,l.isPrimaryClient&&l.sharedClientState.setOnlineState(e)}}function fv(s,e,n){return pv.apply(this,arguments)}function pv(){return pv=(0,ce.Z)(function*(s,e,n){const l=Er(s);l.sharedClientState.updateQueryState(e,"rejected",n);const h=l.yc.get(e),m=h&&h.key;if(m){let I=new bs(yr.comparator);I=I.insert(m,ys.newNoDocument(m,Wr.min()));const $=Ni().add(m),X=new Eu(Wr.min(),new Map,new bs(fi),I,$);yield Cy(l,X),l.gc=l.gc.remove(m),l.yc.delete(e),oc(l)}else yield bp(l.localStore,e,!1).then(()=>Xa(l,e,n)).catch(Dr)}),pv.apply(this,arguments)}function A_(s,e){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,ce.Z)(function*(s,e){const n=Er(s),l=e.batch.batchId;try{const h=yield function bf(s,e){const n=Er(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const h=e.batch.keys(),m=n.Zi.newChangeBuffer({trackRemovals:!0});return function(I,$,X,ae){const Be=X.batch,wt=Be.keys();let en=Kt.resolve();return wt.forEach(In=>{en=en.next(()=>ae.getEntry($,In)).next(cr=>{const Mr=X.docVersions.get(In);Ur(null!==Mr),cr.version.compareTo(Mr)<0&&(Be.applyToRemoteDocument(cr,X),cr.isValidDocument()&&(cr.setReadTime(X.commitVersion),ae.addEntry(cr)))})}),en.next(()=>I.mutationQueue.removeMutationBatch($,Be))}(n,l,e,m).next(()=>m.apply(l)).next(()=>n.mutationQueue.performConsistencyCheck(l)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(l,h,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(I){let $=Ni();for(let X=0;X<I.mutationResults.length;++X)I.mutationResults[X].transformResults.length>0&&($=$.add(I.batch.mutations[X].key));return $}(e))).next(()=>n.localDocuments.getDocuments(l,h))})}(n.localStore,e);qs(n,l,null),Sy(n,l),n.sharedClientState.updateMutationState(l,"acknowledged"),yield ac(n,h)}catch(h){yield Dr(h)}}),Ru.apply(this,arguments)}function gv(s,e,n){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,ce.Z)(function*(s,e,n){const l=Er(s);try{const h=yield function(m,I){const $=Er(m);return $.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let ae;return $.mutationQueue.lookupMutationBatch(X,I).next(Be=>(Ur(null!==Be),ae=Be.keys(),$.mutationQueue.removeMutationBatch(X,Be))).next(()=>$.mutationQueue.performConsistencyCheck(X)).next(()=>$.documentOverlayCache.removeOverlaysForBatchId(X,ae,I)).next(()=>$.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,ae)).next(()=>$.localDocuments.getDocuments(X,ae))})}(l.localStore,e);qs(l,e,n),Sy(l,e),l.sharedClientState.updateMutationState(e,"rejected",n),yield ac(l,h)}catch(h){yield Dr(h)}}),Pf.apply(this,arguments)}function jo(){return jo=(0,ce.Z)(function*(s,e){const n=Er(s);Ra(n.remoteStore)||Zn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const l=yield function(m){const I=Er(m);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",$=>I.mutationQueue.getHighestUnacknowledgedBatchId($))}(n.localStore);if(-1===l)return void e.resolve();const h=n.Ec.get(l)||[];h.push(e),n.Ec.set(l,h)}catch(l){const h=dd(l,"Initialization of waitForPendingWrites() operation failed");e.reject(h)}}),jo.apply(this,arguments)}function Sy(s,e){(s.Ec.get(e)||[]).forEach(n=>{n.resolve()}),s.Ec.delete(e)}function qs(s,e,n){const l=Er(s);let h=l.Tc[l.currentUser.toKey()];if(h){const m=h.get(e);m&&(n?m.reject(n):m.resolve(),h=h.remove(e)),l.Tc[l.currentUser.toKey()]=h}}function Xa(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const l of s._c.get(e))s.wc.delete(l),n&&s.dc.Pc(l,n);s._c.delete(e),s.isPrimaryClient&&s.Ic.Is(e).forEach(l=>{s.Ic.containsKey(l)||mv(s,l)})}function mv(s,e){s.mc.delete(e.path.canonicalString());const n=s.gc.get(e);null!==n&&(xp(s.remoteStore,n),s.gc=s.gc.remove(e),s.yc.delete(n),oc(s))}function Hc(s,e,n){for(const l of n)l instanceof Gg?(s.Ic.addReference(l.key,e),Qa(s,l)):l instanceof S_?(Zn("SyncEngine","Document no longer in limbo: "+l.key),s.Ic.removeReference(l.key,e),s.Ic.containsKey(l.key)||mv(s,l.key)):mr()}function Qa(s,e){const n=e.key,l=n.path.canonicalString();s.gc.get(n)||s.mc.has(l)||(Zn("SyncEngine","New document in limbo: "+n),s.mc.add(l),oc(s))}function oc(s){for(;s.mc.size>0&&s.gc.size<s.maxConcurrentLimboResolutions;){const e=s.mc.values().next().value;s.mc.delete(e);const n=new yr(os.fromString(e)),l=s.Ac.next();s.yc.set(l,new Mf(n)),s.gc=s.gc.insert(n,l),gy(s.remoteStore,new td(Ao(no(n.path)),l,"TargetPurposeLimboResolution",ea.ct))}}function ac(s,e,n){return uh.apply(this,arguments)}function uh(){return uh=(0,ce.Z)(function*(s,e,n){const l=Er(s),h=[],m=[],I=[];var $;l.wc.isEmpty()||(l.wc.forEach(($,X)=>{I.push(l.Rc(X,e,n).then(ae=>{if((ae||n)&&l.isPrimaryClient&&l.sharedClientState.updateQueryState(X.targetId,null!=ae&&ae.fromCache?"not-current":"current"),ae){h.push(ae);const Be=ih.Li(X.targetId,ae);m.push(Be)}}))}),yield Promise.all(I),l.dc.nu(h),yield($=(0,ce.Z)(function*(X,ae){const Be=Er(X);try{yield Be.persistence.runTransaction("notifyLocalViewChanges","readwrite",wt=>Kt.forEach(ae,en=>Kt.forEach(en.Fi,In=>Be.persistence.referenceDelegate.addReference(wt,en.targetId,In)).next(()=>Kt.forEach(en.Bi,In=>Be.persistence.referenceDelegate.removeReference(wt,en.targetId,In)))))}catch(wt){if(!ko(wt))throw wt;Zn("LocalStore","Failed to update sequence numbers: "+wt)}for(const wt of ae){const en=wt.targetId;if(!wt.fromCache){const In=Be.Ji.get(en),Mr=In.withLastLimboFreeSnapshotVersion(In.snapshotVersion);Be.Ji=Be.Ji.insert(en,Mr)}}}),function(X,ae){return $.apply(this,arguments)})(l.localStore,m))}),uh.apply(this,arguments)}function vv(s,e){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,ce.Z)(function*(s,e){const n=Er(s);if(!n.currentUser.isEqual(e)){Zn("SyncEngine","User change. New user:",e.toKey());const l=yield Ef(n.localStore,e);n.currentUser=e,(h=n).Ec.forEach(I=>{I.forEach($=>{$.reject(new Ln(hn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Ec.clear(),n.sharedClientState.handleUserChange(e,l.removedBatchIds,l.addedBatchIds),yield ac(n,l.er)}var h}),Oa.apply(this,arguments)}function dh(s,e){const n=Er(s),l=n.yc.get(e);if(l&&l.fc)return Ni().add(l.key);{let h=Ni();const m=n._c.get(e);if(!m)return h;for(const I of m){const $=n.wc.get(I);h=h.unionWith($.view.nc)}return h}}function Dy(s,e){return Ou.apply(this,arguments)}function Ou(){return Ou=(0,ce.Z)(function*(s,e){const n=Er(s),l=yield Cf(n.localStore,e.query,!0),h=e.view.hc(l);return n.isPrimaryClient&&Hc(n,e.targetId,h.cc),h}),Ou.apply(this,arguments)}function Zo(s,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,ce.Z)(function*(s,e){const n=Er(s);return ad(n.localStore,e).then(l=>ac(n,l))}),Rf.apply(this,arguments)}function va(s,e,n,l){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,ce.Z)(function*(s,e,n,l){const h=Er(s),m=yield function(I,$){const X=Er(I),ae=Er(X.mutationQueue);return X.persistence.runTransaction("Lookup mutation documents","readonly",Be=>ae.Sn(Be,$).next(wt=>wt?X.localDocuments.getDocuments(Be,wt):Kt.resolve(null)))}(h.localStore,e);var $;null!==m?("pending"===n?yield lh(h.remoteStore):"acknowledged"===n||"rejected"===n?(qs(h,e,l||null),Sy(h,e),$=e,Er(Er(h.localStore).mutationQueue).Cn($)):mr(),yield ac(h,m)):Zn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gc.apply(this,arguments)}function Ty(){return Ty=(0,ce.Z)(function*(s,e){const n=Er(s);if(Bp(n),Xg(n),!0===e&&!0!==n.vc){const l=n.sharedClientState.getAllActiveQueryTargets(),h=yield Nu(n,l.toArray());n.vc=!0,yield Mu(n.remoteStore,!0);for(const m of h)gy(n.remoteStore,m)}else if(!1===e&&!1!==n.vc){const l=[];let h=Promise.resolve();n._c.forEach((m,I)=>{n.sharedClientState.isLocalQueryTarget(I)?l.push(I):h=h.then(()=>(Xa(n,I),bp(n.localStore,I,!0))),xp(n.remoteStore,I)}),yield h,yield Nu(n,l),function(m){const I=Er(m);I.yc.forEach(($,X)=>{xp(I.remoteStore,X)}),I.Ic.Ts(),I.yc=new Map,I.gc=new bs(yr.comparator)}(n),n.vc=!1,yield Mu(n.remoteStore,!1)}}),Ty.apply(this,arguments)}function Nu(s,e,n){return pd.apply(this,arguments)}function pd(){return pd=(0,ce.Z)(function*(s,e,n){const l=Er(s),h=[],m=[];for(const I of e){let $;const X=l._c.get(I);if(X&&0!==X.length){$=yield If(l.localStore,Ao(X[0]));for(const ae of X){const Be=l.wc.get(ae),wt=yield Dy(l,Be);wt.snapshot&&m.push(wt.snapshot)}}else{const ae=yield Ip(l.localStore,I);$=yield If(l.localStore,ae),yield Yg(l,ku(ae),I,!1,$.resumeToken)}h.push($)}return l.dc.nu(m),h}),pd.apply(this,arguments)}function ku(s){return Wh(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Fp(s){const e=Er(s);return Er(Er(e.localStore).persistence).$i()}function yv(s,e,n,l){return Of.apply(this,arguments)}function Of(){return Of=(0,ce.Z)(function*(s,e,n,l){const h=Er(s);if(h.vc)return void Zn("SyncEngine","Ignoring unexpected query state notification.");const m=h._c.get(e);if(m&&m.length>0)switch(n){case"current":case"not-current":{const I=yield ad(h.localStore,Wu(m[0])),$=Eu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ho.EMPTY_BYTE_STRING);yield ac(h,I,$);break}case"rejected":yield bp(h.localStore,e,!0),Xa(h,e,l);break;default:mr()}}),Of.apply(this,arguments)}function Ay(s,e,n){return gd.apply(this,arguments)}function gd(){return gd=(0,ce.Z)(function*(s,e,n){const l=Bp(s);if(l.vc){for(const h of e){if(l._c.has(h)){Zn("SyncEngine","Adding an already active target "+h);continue}const m=yield Ip(l.localStore,h),I=yield If(l.localStore,m);yield Yg(l,ku(m),I.targetId,!1,I.resumeToken),gy(l.remoteStore,I)}for(const h of n)l._c.has(h)&&(yield bp(l.localStore,h,!1).then(()=>{xp(l.remoteStore,h),Xa(l,h)}).catch(Dr))}}),gd.apply(this,arguments)}function Bp(s){const e=Er(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fv.bind(null,e),e.dc.nu=b_.bind(null,e.eventManager),e.dc.Pc=I_.bind(null,e.eventManager),e}function Xg(s){const e=Er(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gv.bind(null,e),e}class hh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ce.Z)(function*(){n.serializer=Tu(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qo(this.persistence,new wf,e.initialUser,this.serializer)}createPersistence(e){return new nh(mf.zs,this.serializer)}createSharedClientState(e){return new Xm}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fh extends hh{constructor(e,n,l){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=l,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,l=this;return(0,ce.Z)(function*(){yield n().call(l,e),yield l.Vc.initialize(l,e),yield Xg(l.Vc.syncEngine),yield lh(l.Vc.remoteStore),yield l.persistence.Ii(()=>(l.gcScheduler&&!l.gcScheduler.started&&l.gcScheduler.start(),l.indexBackfillerScheduler&&!l.indexBackfillerScheduler.started&&l.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qo(this.persistence,new wf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new jm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const l=new Ad(n,this.persistence);return new $l(e.asyncQueue,l)}createPersistence(e){const n=Mg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),l=void 0!==this.cacheSizeBytes?na.withCacheSize(this.cacheSizeBytes):na.DEFAULT;return new nc(this.synchronizeTabs,n,e.clientId,l,e.asyncQueue,hy(),Tp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Xm}}class My extends fh{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,l=this;return(0,ce.Z)(function*(){yield n().call(l,e);const h=l.Vc.syncEngine;l.sharedClientState instanceof Lg&&(l.sharedClientState.syncEngine={jr:va.bind(null,h),zr:yv.bind(null,h),Wr:Ay.bind(null,h),$i:Fp.bind(null,h),Qr:Zo.bind(null,h)},yield l.sharedClientState.start()),yield l.persistence.Ii(function(){var m=(0,ce.Z)(function*(I){yield function Zg(s,e){return Ty.apply(this,arguments)}(l.Vc.syncEngine,I),l.gcScheduler&&(I&&!l.gcScheduler.started?l.gcScheduler.start():I||l.gcScheduler.stop()),l.indexBackfillerScheduler&&(I&&!l.indexBackfillerScheduler.started?l.indexBackfillerScheduler.start():I||l.indexBackfillerScheduler.stop())});return function(I){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const n=hy();if(!Lg.D(n))throw new Ln(hn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const l=Mg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lg(n,e.asyncQueue,l,e.clientId,e.initialUser)}}class $p{initialize(e,n){var l=this;return(0,ce.Z)(function*(){l.localStore||(l.localStore=e.localStore,l.sharedClientState=e.sharedClientState,l.datastore=l.createDatastore(n),l.remoteStore=l.createRemoteStore(n),l.eventManager=l.createEventManager(n),l.syncEngine=l.createSyncEngine(n,!e.synchronizeTabs),l.sharedClientState.onlineStateHandler=h=>sc(l.syncEngine,h,1),l.remoteStore.remoteSyncer.handleCredentialChange=vv.bind(null,l.syncEngine),yield Mu(l.remoteStore,l.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ey}createDatastore(e){const n=Tu(e.databaseInfo.databaseId),l=new Jm(e.databaseInfo);return new m_(e.authCredentials,e.appCheckCredentials,l,n)}createRemoteStore(e){return n=this.localStore,l=this.datastore,h=e.asyncQueue,m=$=>sc(this.syncEngine,$,0),I=Qm.D()?new Qm:new p_,new py(n,l,h,m,I);var n,l,h,m,I}createSyncEngine(e,n){return function(l,h,m,I,$,X,ae){const Be=new uv(l,h,m,I,$,X);return ae&&(Be.vc=!0),Be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ce.Z)(function*(n){const l=Er(n);Zn("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield Pa(l),l.Pu.shutdown(),l.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Py(s,e=10240){let n=0;return{read:()=>(0,ce.Z)(function*(){if(n<s.byteLength){const l={value:s.slice(n,n+e),done:!1};return n+=e,l}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Qg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class M_{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new qi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(l=>{l&&l.Qu()?this.metadata.resolve(l.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==l?void 0:l.Gu)}`))},l=>this.metadata.reject(l))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ce.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ce.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ce.Z)(function*(){const n=yield e.kc();if(null===n)return null;const l=e.xc.decode(n),h=Number(l);isNaN(h)&&e.Mc(`length string (${l}) is not valid number`);const m=yield e.$c(h);return new f0(JSON.parse(m),n.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ce.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const l=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),l})()}$c(e){var n=this;return(0,ce.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const l=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),l})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ce.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const l=new Uint8Array(e.buffer.length+n.value.length);l.set(e.buffer),l.set(n.value,e.buffer.length),e.buffer=l}return n.done})()}}class P_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,ce.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ln(hn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield(h=(0,ce.Z)(function*(m,I){const $=Er(m),X=af($.serializer)+"/documents",ae={documents:I.map(In=>Ju($.serializer,In))},Be=yield $.vo("BatchGetDocuments",X,ae,I.length),wt=new Map;Be.forEach(In=>{const cr=function n_(s,e){return"found"in e?function(n,l){Ur(!!l.found);const h=ll(n,l.found.name),m=po(l.found.updateTime),I=l.found.createTime?po(l.found.createTime):Wr.min(),$=new fo({mapValue:{fields:l.found.fields}});return ys.newFoundDocument(h,m,I,$)}(s,e):"missing"in e?function(n,l){Ur(!!l.missing),Ur(!!l.readTime);const h=ll(n,l.missing),m=po(l.readTime);return ys.newNoDocument(h,m)}(s,e):mr()}($.serializer,In);wt.set(cr.key.toString(),cr)});const en=[];return I.forEach(In=>{const cr=wt.get(In.toString());Ur(!!cr),en.push(cr)}),en}),function(m,I){return h.apply(this,arguments)})(n.datastore,e);var h;return l.forEach(h=>n.recordVersion(h)),l})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(l){this.lastWriteError=l}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var l;e.mutations.forEach(l=>{n.delete(l.key.toString())}),n.forEach((l,h)=>{const m=yr.fromPath(h);e.mutations.push(new _g(m,e.precondition(m)))}),yield(l=(0,ce.Z)(function*(h,m){const I=Er(h),$=af(I.serializer)+"/documents",X={writes:m.map(ae=>bu(I.serializer,ae))};yield I.Io("Commit",$,X)}),function(h,m){return l.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw mr();n=Wr.min()}const l=this.readVersions.get(e.key.toString());if(l){if(!n.isEqual(l))throw new Ln(hn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Wr.min())?Ts.exists(!1):Ts.updateTime(n):Ts.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Wr.min()))throw new Ln(hn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ts.updateTime(n)}return Ts.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class R_{constructor(e,n,l,h,m){this.asyncQueue=e,this.datastore=n,this.options=l,this.updateFunction=h,this.deferred=m,this.Bc=l.maxAttempts,this.qo=new Ap(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ce.Z)(function*(){const n=new P_(e.datastore),l=e.qc(n);l&&l.then(h=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Uc(m)}))}).catch(h=>{e.Uc(h)})}))}qc(e){try{const n=this.updateFunction(e);return!Dc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Pe(n)}return!1}}class O_{constructor(e,n,l,h){var m=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=l,this.databaseInfo=h,this.user=Js.UNAUTHENTICATED,this.clientId=bc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(l,function(){var I=(0,ce.Z)(function*($){Zn("FirestoreClient","Received user=",$.uid),yield m.authCredentialListener($),m.user=$});return function($){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(l,I=>(Zn("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ln(hn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(l){const h=dd(l,"Failed to shutdown persistence");n.reject(h)}})),n.promise}}function Jg(s,e){return em.apply(this,arguments)}function em(){return em=(0,ce.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Zn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield s.getConfiguration();yield e.initialize(n);let l=n.initialUser;s.setCredentialChangeListener(function(){var h=(0,ce.Z)(function*(m){l.isEqual(m)||(yield Ef(e.localStore,m),l=m)});return function(m){return h.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),em.apply(this,arguments)}function md(s,e){return Up.apply(this,arguments)}function Up(){return Up=(0,ce.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const n=yield _v(s);Zn("FirestoreClient","Initializing OnlineComponentProvider");const l=yield s.getConfiguration();yield e.initialize(n,l),s.setCredentialChangeListener(h=>ov(e.remoteStore,h)),s.setAppCheckTokenChangeListener((h,m)=>ov(e.remoteStore,m)),s._onlineComponents=e}),Up.apply(this,arguments)}function ph(s){return"FirebaseError"===s.name?s.code===hn.FAILED_PRECONDITION||s.code===hn.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function _v(s){return wv.apply(this,arguments)}function wv(){return wv=(0,ce.Z)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Zn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jg(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ph(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),yield Jg(s,new hh)}}else Zn("FirestoreClient","Using default OfflineComponentProvider"),yield Jg(s,new hh);return s._offlineComponents}),wv.apply(this,arguments)}function tm(s){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,ce.Z)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Zn("FirestoreClient","Using user provided OnlineComponentProvider"),yield md(s,s._uninitializedComponentsProvider._online)):(Zn("FirestoreClient","Using default OnlineComponentProvider"),yield md(s,new $p))),s._onlineComponents}),Ev.apply(this,arguments)}function Ry(s){return _v(s).then(e=>e.persistence)}function nm(s){return _v(s).then(e=>e.localStore)}function Oy(s){return tm(s).then(e=>e.remoteStore)}function rm(s){return tm(s).then(e=>e.syncEngine)}function Nf(s){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,ce.Z)(function*(s){const e=yield tm(s),n=e.eventManager;return n.onListen=p0.bind(null,e.syncEngine),n.onUnlisten=Kg.bind(null,e.syncEngine),n}),Ny.apply(this,arguments)}function Vp(s,e,n={}){const l=new qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(h,m,I,$,X){const ae=new Qg({next:wt=>{m.enqueueAndForget(()=>Np(h,Be));const en=wt.docs.has(I);!en&&wt.fromCache?X.reject(new Ln(hn.UNAVAILABLE,"Failed to get document because the client is offline.")):en&&wt.fromCache&&$&&"server"===$.source?X.reject(new Ln(hn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(wt)},error:wt=>X.reject(wt)}),Be=new kp(no(I.path),ae,{includeMetadataChanges:!0,Ku:!0});return av(h,Be)}(yield Nf(s),s.asyncQueue,e,n,l)})),l.promise}function Ly(s,e,n={}){const l=new qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(h,m,I,$,X){const ae=new Qg({next:wt=>{m.enqueueAndForget(()=>Np(h,Be)),wt.fromCache&&"server"===$.source?X.reject(new Ln(hn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):X.resolve(wt)},error:wt=>X.reject(wt)}),Be=new kp(I,ae,{includeMetadataChanges:!0,Ku:!0});return av(h,Be)}(yield Nf(s),s.asyncQueue,e,n,l)})),l.promise}function oa(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const vd=new Map;function kf(s,e,n){if(!n)throw new Ln(hn.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ul(s,e,n,l){if(!0===e&&!0===l)throw new Ln(hn.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function im(s){if(!yr.isDocumentKey(s))throw new Ln(hn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function gh(s){if(yr.isDocumentKey(s))throw new Ln(hn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Lu(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(n=s).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof s?"a function":mr()}function es(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ln(hn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lu(s);throw new Ln(hn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function mh(s,e){if(e<=0)throw new Ln(hn.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class vh{constructor(e){var n,l;if(void 0===e.host){if(void 0!==e.ssl)throw new Ln(hn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ln(hn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ul("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oa(null!==(l=e.experimentalLongPollingOptions)&&void 0!==l?l:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Ln(hn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Ln(hn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Ln(hn.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,n,l,h){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=l,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ln(hn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ln(hn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vh(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Qf;switch(n.type){case"firstParty":return new Qc(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ln(hn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=vd.get(e);n&&(Zn("ComponentProvider","Removing Datastore"),vd.delete(e),n.terminate())}(this),Promise.resolve()}}class As{constructor(e,n,l){this.converter=n,this._key=l,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new As(this.firestore,e,this._key)}}class go{constructor(e,n,l){this.converter=n,this._query=l,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Rl extends go{constructor(e,n,l){super(e,n,no(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new As(this.firestore,null,new yr(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function Sv(s,e,...n){if(s=(0,$e.m9)(s),kf("collection","path",e),s instanceof lc){const l=os.fromString(e,...n);return gh(l),new Rl(s,null,l)}{if(!(s instanceof As||s instanceof Rl))throw new Ln(hn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(os.fromString(e,...n));return gh(l),new Rl(s.firestore,null,l)}}function zp(s,e,...n){if(s=(0,$e.m9)(s),1===arguments.length&&(e=bc.A()),kf("doc","path",e),s instanceof lc){const l=os.fromString(e,...n);return im(l),new As(s,null,new yr(l))}{if(!(s instanceof As||s instanceof Rl))throw new Ln(hn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(os.fromString(e,...n));return im(l),new As(s.firestore,s instanceof Rl?s.converter:null,new yr(l))}}function Dv(s,e){return s=(0,$e.m9)(s),e=(0,$e.m9)(e),(s instanceof As||s instanceof Rl)&&(e instanceof As||e instanceof Rl)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Hp(s,e){return s=(0,$e.m9)(s),e=(0,$e.m9)(e),s instanceof go&&e instanceof go&&s.firestore===e.firestore&&gu(s._query,e._query)&&s.converter===e.converter}class By{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Ap(this,"async_queue_retry"),this.Xc=()=>{const n=Tp();n&&Zn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Tp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Tp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new qi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ce.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ko(n))throw n;Zn("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(l=>{throw this.Wc=l,this.Hc=!1,xi("INTERNAL UNHANDLED ERROR: ",function(m){let I=m.message||"";return m.stack&&(I=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),I}(l)),l}).then(l=>(this.Hc=!1,l))));return this.Gc=n,n}enqueueAfterDelay(e,n,l){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const h=Pu.createAndSchedule(this,e,n,l,m=>this.na(m));return this.zc.push(h),h}Zc(){this.Wc&&mr()}verifyOperationInProgress(){}sa(){var e=this;return(0,ce.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,l)=>n.targetTimeMs-l.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function sm(s){return function(e,n){if("object"!=typeof e||null===e)return!1;const l=e;for(const h of["next","error","complete"])if(h in l&&"function"==typeof l[h])return!0;return!1}(s)}class $y{constructor(){this._progressObserver={},this._taskCompletionResolver=new qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,l){this._progressObserver={next:e,error:n,complete:l}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zs extends lc{constructor(e,n,l,h){super(e,n,l,h),this.type="firestore",this._queue=new By,this._persistenceKey=(null==h?void 0:h.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uy(this),this._firestoreClient.terminate()}}function _o(s){return s._firestoreClient||Uy(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Uy(s){var e,n,l;const h=s._freezeSettings(),m=($=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new tp(s._databaseId,$,s._persistenceKey,(ae=h).host,ae.ssl,ae.experimentalForceLongPolling,ae.experimentalAutoDetectLongPolling,oa(ae.experimentalLongPollingOptions),ae.useFetchStreams));var $,ae;s._firestoreClient=new O_(s._authCredentials,s._appCheckCredentials,s._queue,m),null!==(n=h.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(l=h.cache)&&void 0!==l&&l._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function F_(s,e,n){const l=new qi;return s.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield Jg(s,n),yield md(s,e),l.resolve()}catch(h){const m=h;if(!ph(m))throw m;No("Error enabling indexeddb cache. Falling back to memory cache: "+m),l.reject(m)}})).then(()=>l.promise)}function Av(s){if(s._initialized||s._terminated)throw new Ln(hn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yc(ho.fromBase64String(e))}catch(n){throw new Ln(hn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yc(ho.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wo{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ln(hn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $s(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _h{constructor(e){this._methodName=e}}class cm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ln(hn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ln(hn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fi(this._lat,e._lat)||fi(this._long,e._long)}}const U_=/^__.*__$/;class xv{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new al(e,this.data,n,this.fieldTransforms)}}class Wp{constructor(e,n,l){this.data=e,this.fieldMask=n,this.fieldTransforms=l}toMutation(e,n){return new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yp(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mr()}}class Mv{constructor(e,n,l,h,m,I){this.settings=e,this.databaseId=n,this.serializer=l,this.ignoreUndefinedProperties=h,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=I||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const l=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.aa({path:l,la:!1});return h.fa(e),h}da(e){var n;const l=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.aa({path:l,la:!1});return h.ua(),h}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return $f(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Yp(this.ca)&&U_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class V_{constructor(e,n,l){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=l||Tu(e)}ya(e,n,l,h=!1){return new Mv({ca:e,methodName:n,ga:l,path:$s.emptyPath(),la:!1,ma:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(s){const e=s._freezeSettings(),n=Tu(s._databaseId);return new V_(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Ff(s,e,n,l,h,m={}){const I=s.ya(m.merge||m.mergeFields?2:0,e,n,h);qc("Data must be an object, but it was:",I,l);const $=Ov(l,I);let X,ae;if(m.merge)X=new uo(I.fieldMask),ae=I.fieldTransforms;else if(m.mergeFields){const Be=[];for(const wt of m.mergeFields){const en=qp(e,wt,n);if(!I.contains(en))throw new Ln(hn.INVALID_ARGUMENT,`Field '${en}' is specified in your field mask but missing from your input data.`);Nv(Be,en)||Be.push(en)}X=new uo(Be),ae=I.fieldTransforms.filter(wt=>X.covers(wt.field))}else X=null,ae=I.fieldTransforms;return new xv(new fo($),X,ae)}class Kp extends _h{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kp}}function Pv(s,e,n){return new Mv({ca:3,ga:e.settings.ga,methodName:s._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rv extends _h{_toFieldTransform(e){return new pa(e.path,new Al)}isEqual(e){return e instanceof Rv}}class j_ extends _h{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Pv(this,e,!0),l=this.pa.map(m=>Kc(m,n)),h=new Zl(l);return new pa(e.path,h)}isEqual(e){return this===e}}class Vy extends _h{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Pv(this,e,!0),l=this.pa.map(m=>Kc(m,n)),h=new xl(l);return new pa(e.path,h)}isEqual(e){return this===e}}class jy extends _h{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new _u(e.serializer,Ld(e.serializer,this.Ia));return new pa(e.path,n)}isEqual(e){return this===e}}function um(s,e,n,l){const h=s.ya(1,e,n);qc("Data must be an object, but it was:",h,l);const m=[],I=fo.empty();Wo(l,(X,ae)=>{const Be=Eh(e,X,n);ae=(0,$e.m9)(ae);const wt=h.da(Be);if(ae instanceof Kp)m.push(Be);else{const en=Kc(ae,wt);null!=en&&(m.push(Be),I.set(Be,en))}});const $=new uo(m);return new Wp(I,$,h.fieldTransforms)}function yd(s,e,n,l,h,m){const I=s.ya(1,e,n),$=[qp(e,l,n)],X=[h];if(m.length%2!=0)throw new Ln(hn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let en=0;en<m.length;en+=2)$.push(qp(e,m[en])),X.push(m[en+1]);const ae=[],Be=fo.empty();for(let en=$.length-1;en>=0;--en)if(!Nv(ae,$[en])){const In=$[en];let cr=X[en];cr=(0,$e.m9)(cr);const Mr=I.da(In);if(cr instanceof Kp)ae.push(In);else{const Rr=Kc(cr,Mr);null!=Rr&&(ae.push(In),Be.set(In,Rr))}}const wt=new uo(ae);return new Wp(Be,wt,I.fieldTransforms)}function Bf(s,e,n,l=!1){return Kc(n,s.ya(l?4:3,e))}function Kc(s,e){if(dm(s=(0,$e.m9)(s)))return qc("Unsupported field value:",e,s),Ov(s,e);if(s instanceof _h)return function(n,l){if(!Yp(l.ca))throw l._a(`${n._methodName}() can only be used with update() and set()`);if(!l.path)throw l._a(`${n._methodName}() is not currently supported inside arrays`);const h=n._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,l){const h=[];let m=0;for(const I of n){let $=Kc(I,l.wa(m));null==$&&($={nullValue:"NULL_VALUE"}),h.push($),m++}return{arrayValue:{values:h}}}(s,e)}return function(n,l){if(null===(n=(0,$e.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Ld(l.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const h=Ss.fromDate(n);return{timestampValue:Vd(l.serializer,h)}}if(n instanceof Ss){const h=new Ss(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vd(l.serializer,h)}}if(n instanceof cm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yc)return{bytesValue:Pm(l.serializer,n._byteString)};if(n instanceof As){const h=l.databaseId,m=n.firestore._databaseId;if(!m.isEqual(h))throw l._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:up(n.firestore._databaseId||l.databaseId,n._key.path)}}throw l._a(`Unsupported field value: ${Lu(n)}`)}(s,e)}function Ov(s,e){const n={};return Bh(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(s,(l,h)=>{const m=Kc(h,e.ha(l));null!=m&&(n[l]=m)}),{mapValue:{fields:n}}}function dm(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Ss||s instanceof cm||s instanceof Yc||s instanceof As||s instanceof _h)}function qc(s,e,n){if(!dm(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const l=Lu(n);throw e._a("an object"===l?s+" a custom object":s+" "+l)}var l}function qp(s,e,n){if((e=(0,$e.m9)(e))instanceof wo)return e._internalPath;if("string"==typeof e)return Eh(s,e);throw $f("Field path arguments must be of type string or ",s,!1,void 0,n)}const hm=new RegExp("[~\\*/\\[\\]]");function Eh(s,e,n){if(e.search(hm)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new wo(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function $f(s,e,n,l,h){const m=l&&!l.isEmpty(),I=void 0!==h;let $=`Function ${e}() called with invalid data`;n&&($+=" (via `toFirestore()`)"),$+=". ";let X="";return(m||I)&&(X+=" (found",m&&(X+=` in field ${l}`),I&&(X+=` in document ${h}`),X+=")"),new Ln(hn.INVALID_ARGUMENT,$+s+X)}function Nv(s,e){return s.some(n=>n.isEqual(e))}class _d{constructor(e,n,l,h,m){this._firestore=e,this._userDataWriter=n,this._key=l,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new As(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Uf extends _d{data(){return super.data()}}function Vf(s,e){return"string"==typeof e?Eh(s,e):e instanceof wo?e._internalPath:e._delegate._internalPath}function Zp(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Ln(hn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jf{}class bh extends jf{}function wd(s,e,...n){let l=[];e instanceof jf&&l.push(e),l=l.concat(n),function(h){const m=h.filter($=>$ instanceof Ih).length,I=h.filter($=>$ instanceof Ed).length;if(m>1||m>0&&I>0)throw new Ln(hn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(l);for(const h of l)s=h._apply(s);return s}class Ed extends bh{constructor(e,n,l){super(),this._field=e,this._op=n,this._value=l,this.type="where"}static _create(e,n,l){return new Ed(e,n,l)}_apply(e){const n=this._parse(e);return Uv(e._query,n),new go(e.firestore,e.converter,pu(e._query,n))}_parse(e){const n=wh(e.firestore);return function(h,m,I,$,X,ae,Be){let wt;if(X.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new Ln(hn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){gm(Be,ae);const en=[];for(const In of Be)en.push($v($,h,In));wt={arrayValue:{values:en}}}else wt=$v($,h,Be)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||gm(Be,ae),wt=Bf(I,"where",Be,"in"===ae||"not-in"===ae);return Ji.create(X,ae,wt)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ih extends jf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ih(e,n)}_parse(e){const n=this._queryConstraints.map(l=>l._parse(e)).filter(l=>l.getFilters().length>0);return 1===n.length?n[0]:ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,h){let m=l;const I=h.getFlattenedFilters();for(const $ of I)Uv(m,$),m=pu(m,$)}(e._query,n),new go(e.firestore,e.converter,pu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zf extends bh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zf(e,n)}_apply(e){const n=function(l,h,m){if(null!==l.startAt)throw new Ln(hn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Ln(hn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new hu(h,m);return function($,X){if(null===Kl($)){const ae=Gu($);null!==ae&&mm(0,ae,X.field)}}(l,I),I}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(l,h){const m=l.explicitOrderBy.concat([h]);return new Tl(l.path,l.collectionGroup,m,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class fm extends bh{constructor(e,n,l){super(),this.type=e,this._limit=n,this._limitType=l}static _create(e,n,l){return new fm(e,n,l)}_apply(e){return new go(e.firestore,e.converter,Aa(e._query,this._limit,this._limitType))}}class Hf extends bh{constructor(e,n,l){super(),this.type=e,this._docOrFields=n,this._inclusive=l}static _create(e,n,l){return new Hf(e,n,l)}_apply(e){const n=pm(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(h=n,new Tl((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,h,l.endAt)));var l,h}}class Xp extends bh{constructor(e,n,l){super(),this.type=e,this._docOrFields=n,this._inclusive=l}static _create(e,n,l){return new Xp(e,n,l)}_apply(e){const n=pm(e,this.type,this._docOrFields,this._inclusive);return new go(e.firestore,e.converter,(h=n,new Tl((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,h)));var l,h}}function pm(s,e,n,l){if(n[0]=(0,$e.m9)(n[0]),n[0]instanceof _d)return function(h,m,I,$,X){if(!$)throw new Ln(hn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const ae=[];for(const Be of Ta(h))if(Be.field.isKeyField())ae.push(lu(m,$.key));else{const wt=$.data.field(Be.field);if(au(wt))throw new Ln(hn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===wt){const en=Be.field.canonicalString();throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${en}' (used as the orderBy) does not exist.`)}ae.push(wt)}return new Sa(ae,X)}(s._query,s.firestore._databaseId,e,n[0]._document,l);{const h=wh(s.firestore);return function(m,I,$,X,ae,Be){const wt=m.explicitOrderBy;if(ae.length>wt.length)throw new Ln(hn.INVALID_ARGUMENT,`Too many arguments provided to ${X}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const en=[];for(let In=0;In<ae.length;In++){const cr=ae[In];if(wt[In].field.isKeyField()){if("string"!=typeof cr)throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${X}(), but got a ${typeof cr}`);if(!Da(m)&&-1!==cr.indexOf("/"))throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${X}() must be a plain document ID, but '${cr}' contains a slash.`);const Mr=m.path.child(os.fromString(cr));if(!yr.isDocumentKey(Mr))throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${X}() must result in a valid document path, but '${Mr}' is not because it contains an odd number of segments.`);const Rr=new yr(Mr);en.push(lu(I,Rr))}else{const Mr=Bf($,X,cr);en.push(Mr)}}return new Sa(en,Be)}(s._query,s.firestore._databaseId,h,e,n,l)}}function $v(s,e,n){if("string"==typeof(n=(0,$e.m9)(n))){if(""===n)throw new Ln(hn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Da(e)&&-1!==n.indexOf("/"))throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const l=e.path.child(os.fromString(n));if(!yr.isDocumentKey(l))throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${l}' is not because it has an odd number of segments (${l.length}).`);return lu(s,new yr(l))}if(n instanceof As)return lu(s,n._key);throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lu(n)}.`)}function gm(s,e){if(!Array.isArray(s)||0===s.length)throw new Ln(hn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Uv(s,e){if(e.isInequality()){const l=Gu(s),h=e.field;if(null!==l&&!l.isEqual(h))throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${l.toString()}' and '${h.toString()}'`);const m=Kl(s);null!==m&&mm(0,h,m)}const n=function(l,h){for(const m of l)for(const I of m.getFlattenedFilters())if(h.indexOf(I.op)>=0)return I.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Ln(hn.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mm(s,e,n){if(!n.isEqual(e))throw new Ln(hn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class vm{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ys(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw mr()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const l={};return Wo(e,(h,m)=>{l[h]=this.convertValue(m,n)}),l}convertGeoPoint(e){return new cm(Ys(e.latitude),Ys(e.longitude))}convertArray(e,n){return(e.values||[]).map(l=>this.convertValue(l,n))}convertServerTimestamp(e,n){switch(n){case"previous":const l=Va(e);return null==l?null:this.convertValue(l,n);case"estimate":return this.convertTimestamp(ha(e));default:return null}}convertTimestamp(e){const n=Sl(e);return new Ss(n.seconds,n.nanos)}convertDocumentKey(e,n){const l=os.fromString(e);Ur(o_(l));const h=new Vl(l.get(1),l.get(3)),m=new yr(l.popFirst(5));return h.isEqual(n)||xi(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),m}}function Qp(s,e,n){let l;return l=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,l}class Ky extends vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,n)}}class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cc extends _d{constructor(e,n,l,h,m,I){super(e,n,l,h,I),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const l=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==l)return this._userDataWriter.convertValue(l,n.serverTimestamps)}}}class Jp extends cc{data(e={}){return super.data(e)}}class Zc{constructor(e,n,l,h){this._firestore=e,this._userDataWriter=n,this._snapshot=h,this.metadata=new dl(h.hasPendingWrites,h.fromCache),this.query=l}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(l=>{e.call(n,new Jp(this._firestore,this._userDataWriter,l.key,l,new dl(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ln(hn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(I=>({type:"added",doc:new Jp(l._firestore,l._userDataWriter,I.doc.key,I.doc,new dl(l._snapshot.mutatedKeys.has(I.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:m++}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(I=>h||3!==I.type).map(I=>{const $=new Jp(l._firestore,l._userDataWriter,I.doc.key,I.doc,new dl(l._snapshot.mutatedKeys.has(I.doc.key),l._snapshot.fromCache),l.query.converter);let X=-1,ae=-1;return 0!==I.type&&(X=m.indexOf(I.doc.key),m=m.delete(I.doc.key)),1!==I.type&&(m=m.add(I.doc),ae=m.indexOf(I.doc.key)),{type:w0(I.type),doc:$,oldIndex:X,newIndex:ae}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function w0(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mr()}}function a(s,e){return s instanceof cc&&e instanceof cc?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Zc&&e instanceof Zc&&s._firestore===e._firestore&&Hp(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class o extends vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,n)}}function k(s,e,n){s=es(s,As);const l=es(s.firestore,Zs),h=Qp(s.converter,e,n);return Ke(l,[Ff(wh(l),"setDoc",s._key,h,null!==s.converter,n).toMutation(s._key,Ts.none())])}function H(s,e,n,...l){s=es(s,As);const h=es(s.firestore,Zs),m=wh(h);let I;return I="string"==typeof(e=(0,$e.m9)(e))||e instanceof wo?yd(m,"updateDoc",s._key,e,n,l):um(m,"updateDoc",s._key,e),Ke(h,[I.toMutation(s._key,Ts.exists(!0))])}function te(s,...e){var n,l,h;s=(0,$e.m9)(s);let m={includeMetadataChanges:!1},I=0;"object"!=typeof e[I]||sm(e[I])||(m=e[I],I++);const $={includeMetadataChanges:m.includeMetadataChanges};if(sm(e[I])){const wt=e[I];e[I]=null===(n=wt.next)||void 0===n?void 0:n.bind(wt),e[I+1]=null===(l=wt.error)||void 0===l?void 0:l.bind(wt),e[I+2]=null===(h=wt.complete)||void 0===h?void 0:h.bind(wt)}let X,ae,Be;if(s instanceof As)ae=es(s.firestore,Zs),Be=no(s._key.path),X={next:wt=>{e[I]&&e[I](Qe(ae,s,wt))},error:e[I+1],complete:e[I+2]};else{const wt=es(s,go);ae=es(wt.firestore,Zs),Be=wt._query;const en=new o(ae);X={next:In=>{e[I]&&e[I](new Zc(ae,en,wt,In))},error:e[I+1],complete:e[I+2]},Zp(s._query)}return function(wt,en,In,cr){const Mr=new Qg(cr),Rr=new kp(en,Mr,In);return wt.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return av(yield Nf(wt),Rr)})),()=>{Mr.Dc(),wt.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return Np(yield Nf(wt),Rr)}))}}(_o(ae),Be,$,X)}function Ke(s,e){return function(n,l){const h=new qi;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function T_(s,e,n){return Iy.apply(this,arguments)}(yield rm(n),l,h)})),h.promise}(_o(s),e)}function Qe(s,e,n){const l=n.docs.get(e._key),h=new o(s);return new cc(s,h,e._key,l,new dl(n.hasPendingWrites,n.fromCache),e.converter)}const Pt={maxAttempts:5};class rn{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wh(e)}set(e,n,l){this._verifyNotCommitted();const h=Jn(e,this._firestore),m=Qp(h.converter,n,l),I=Ff(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,l);return this._mutations.push(I.toMutation(h._key,Ts.none())),this}update(e,n,l,...h){this._verifyNotCommitted();const m=Jn(e,this._firestore);let I;return I="string"==typeof(n=(0,$e.m9)(n))||n instanceof wo?yd(this._dataReader,"WriteBatch.update",m._key,n,l,h):um(this._dataReader,"WriteBatch.update",m._key,n),this._mutations.push(I.toMutation(m._key,Ts.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Jn(e,this._firestore);return this._mutations=this._mutations.concat(new Xu(n._key,Ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ln(hn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jn(s,e){if((s=(0,$e.m9)(s)).firestore!==e)throw new Ln(hn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Yn extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=wh(e)}get(e){const n=Jn(e,this._firestore),l=new Ky(this._firestore);return this._transaction.lookup([n._key]).then(h=>{if(!h||1!==h.length)return mr();const m=h[0];if(m.isFoundDocument())return new _d(this._firestore,l,m.key,m,n.converter);if(m.isNoDocument())return new _d(this._firestore,l,n._key,null,n.converter);throw mr()})}set(e,n,l){const h=Jn(e,this._firestore),m=Qp(h.converter,n,l),I=Ff(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,l);return this._transaction.set(h._key,I),this}update(e,n,l,...h){const m=Jn(e,this._firestore);let I;return I="string"==typeof(n=(0,$e.m9)(n))||n instanceof wo?yd(this._dataReader,"Transaction.update",m._key,n,l,h):um(this._dataReader,"Transaction.update",m._key,n),this._transaction.update(m._key,I),this}delete(e){const n=Jn(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Jn(e,this._firestore),l=new o(this._firestore);return super.get(e).then(h=>new cc(this._firestore,l,n._key,h._document,new dl(!1,!1),n.converter))}}function eg(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ln("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function ym(){if(typeof Uint8Array>"u")throw new Ln("unimplemented","Uint8Arrays are not available in this environment.")}function Hv(){if(!function Im(){return typeof atob<"u"}())throw new Ln("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){Fl=ke.SDK_VERSION,(0,ke._registerComponent)(new St.wA("firestore",(n,{instanceIdentifier:l,options:h})=>{const m=n.getProvider("app").getImmediate(),I=new Zs(new _l(n.getProvider("auth-internal")),new Jc(n.getProvider("app-check-internal")),function($,X){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new Ln(hn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl($.options.projectId,X)}(m,l),m);return h=Object.assign({useFetchStreams:e},h),I._setSettings(h),I},"PUBLIC").setMultipleInstances(!0)),(0,ke.registerVersion)(Td,"3.13.0",s),(0,ke.registerVersion)(Td,"3.13.0","esm2017")}();class bd{constructor(e){this._delegate=e}static fromBase64String(e){return Hv(),new bd(Yc.fromBase64String(e))}static fromUint8Array(e){return ym(),new bd(Yc.fromUint8Array(e))}toBase64(){return Hv(),this._delegate.toBase64()}toUint8Array(){return ym(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Id(s){return function Gf(s,e){if("object"!=typeof s||null===s)return!1;const n=s;for(const l of e)if(l in n&&"function"==typeof n[l])return!0;return!1}(s,["next","error","complete"])}class tg{enableIndexedDbPersistence(e,n){return function m0(s,e){Av(s=es(s,Zs));const n=_o(s);if(n._uninitializedComponentsProvider)throw new Ln(hn.FAILED_PRECONDITION,"SDK cache is already specified.");No("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const l=s._freezeSettings(),h=new $p;return F_(n,h,new fh(h,l.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function L_(s){Av(s=es(s,Zs));const e=_o(s);if(e._uninitializedComponentsProvider)throw new Ln(hn.FAILED_PRECONDITION,"SDK cache is already specified.");No("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=s._freezeSettings(),l=new $p;return F_(e,l,new My(l,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function B_(s){if(s._initialized&&!s._terminated)throw new Ln(hn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(n=(0,ce.Z)(function*(l){if(!Ms.D())return Promise.resolve();const h=l+"main";yield Ms.delete(h)}),function(l){return n.apply(this,arguments)})(Mg(s._databaseId,s._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class ng{constructor(e,n,l){this._delegate=n,this._persistenceProvider=l,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&No("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,l={}){!function yh(s,e,n,l={}){var h;const m=(s=es(s,lc))._getSettings(),I=`${e}:${n}`;if("firestore.googleapis.com"!==m.host&&m.host!==I&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},m),{host:I,ssl:!1})),l.mockUserToken){let $,X;if("string"==typeof l.mockUserToken)$=l.mockUserToken,X=Js.MOCK_USER;else{$=(0,$e.Sg)(l.mockUserToken,null===(h=s._app)||void 0===h?void 0:h.options.projectId);const ae=l.mockUserToken.sub||l.mockUserToken.user_id;if(!ae)throw new Ln(hn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");X=new Js(ae)}s._authCredentials=new wc(new $a($,X))}}(this._delegate,e,n,l)}enableNetwork(){return function $_(s){return function Iv(s){return s.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield Ry(s),n=yield Oy(s);return e.setNetworkEnabled(!0),function(l){const h=Er(l);return h.vu.delete(0),Sf(h)}(n)}))}(_o(s=es(s,Zs)))}(this._delegate)}disableNetwork(){return function Gp(s){return function ky(s){return s.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield Ry(s),n=yield Oy(s);return e.setNetworkEnabled(!1),(l=(0,ce.Z)(function*(h){const m=Er(h);m.vu.add(0),yield Pa(m),m.bu.set("Offline")}),function(h){return l.apply(this,arguments)})(n);var l}))}(_o(s=es(s,Zs)))}(this._delegate)}enablePersistence(e){let n=!1,l=!1;return e&&(n=!!e.synchronizeTabs,l=!!e.experimentalForceOwningTab,ul("synchronizeTabs",n,"experimentalForceOwningTab",l)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,l)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Tv(s){return function(e){const n=new qi;return e.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function Lp(s,e){return jo.apply(this,arguments)}(yield rm(e),n)})),n.promise}(_o(s=es(s,Zs)))}(this._delegate)}onSnapshotsInSync(e){return function De(s,e){return function Cv(s,e){const n=new Qg(e);return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return l=yield Nf(s),h=n,Er(l).ku.add(h),void h.next();var l,h})),()=>{n.Dc(),s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return l=yield Nf(s),h=n,void Er(l).ku.delete(h);var l,h}))}}(_o(s=es(s,Zs)),sm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ln("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _m(this,Sv(this._delegate,e))}catch(n){throw hl(n,"collection()","Firestore.collection()")}}doc(e){try{return new uc(this,zp(this._delegate,e))}catch(n){throw hl(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fl(this,function Fy(s,e){if(s=es(s,lc),kf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ln(hn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new go(s,null,(n=e,new Tl(os.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw hl(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Un(s,e,n){s=es(s,Zs);const l=Object.assign(Object.assign({},Pt),n);return function(h){if(h.maxAttempts<1)throw new Ln(hn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(l),function(h,m,I){const $=new qi;return h.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const X=yield function bv(s){return tm(s).then(e=>e.datastore)}(h);new R_(h.asyncQueue,X,I,m,$).run()})),$.promise}(_o(s),h=>e(new Yn(s,h)),l)}(this._delegate,n=>e(new Dh(this,n)))}batch(){return _o(this._delegate),new H_(new rn(this._delegate,e=>Ke(this._delegate,e)))}loadBundle(e){return function Na(s,e){const n=_o(s=es(s,Zs)),l=new $y;return function k_(s,e,n,l){const h=function(m,I){let $;return $="string"==typeof m?gr().encode(m):m,X=function(X,ae){if(X instanceof Uint8Array)return Py(X,void 0);if(X instanceof ArrayBuffer)return Py(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}($),new M_(X,I);var X}(n,Tu(e));s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function xy(s,e,n){const l=Er(s);var h;(h=(0,ce.Z)(function*(m,I,$){try{const X=yield I.getMetadata();if(yield function(en,In){const cr=Er(en),Mr=po(In.createTime);return cr.persistence.runTransaction("hasNewerBundle","readonly",Rr=>cr.qs.getBundleMetadata(Rr,In.id)).then(Rr=>!!Rr&&Rr.createTime.compareTo(Mr)>=0)}(m.localStore,X))return yield I.close(),$._completeWith({taskState:"Success",documentsLoaded:(en=X).totalDocuments,bytesLoaded:en.totalBytes,totalDocuments:en.totalDocuments,totalBytes:en.totalBytes}),Promise.resolve(new Set);$._updateProgress(xf(X));const ae=new cl(X,m.localStore,I.serializer);let Be=yield I.bc();for(;Be;){const en=yield ae.zu(Be);en&&$._updateProgress(en),Be=yield I.bc()}const wt=yield ae.complete();return yield ac(m,wt.Ju,void 0),yield function(en,In){const cr=Er(en);return cr.persistence.runTransaction("Save bundle","readwrite",Mr=>cr.qs.saveBundleMetadata(Mr,In))}(m.localStore,X),$._completeWith(wt.progress),Promise.resolve(wt.Hu)}catch(X){return No("SyncEngine",`Loading bundle failed with ${X}`),$._failWith(X),Promise.resolve(new Set)}var en}),function(m,I,$){return h.apply(this,arguments)})(l,e,n).then(h=>{l.sharedClientState.notifyBundleLoaded(h)})}(yield rm(s),h,l)}))}(n,s._databaseId,e,l),l}(this._delegate,e)}namedQuery(e){return function am(s,e){return function Wc(s,e){return s.asyncQueue.enqueue((0,ce.Z)(function*(){return function(n,l){const h=Er(n);return h.persistence.runTransaction("Get named query","readonly",m=>h.qs.getNamedQuery(m,l))}(yield nm(s),e)}))}(_o(s=es(s,Zs)),e).then(n=>n?new go(s,null,n.query):null)}(this._delegate,e).then(n=>n?new fl(this,n):null)}}class Sh extends vm{constructor(e){super(),this.firestore=e}convertBytes(e){return new bd(new Yc(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return uc.forKey(n,this.firestore,null)}}class Dh{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Sh(e)}get(e){const n=rg(e);return this._delegate.get(n).then(l=>new Gv(this._firestore,new cc(this._firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,n.converter)))}set(e,n,l){const h=rg(e);return l?(eg("Transaction.set",l),this._delegate.set(h,n,l)):this._delegate.set(h,n),this}update(e,n,l,...h){const m=rg(e);return 2===arguments.length?this._delegate.update(m,n):this._delegate.update(m,n,l,...h),this}delete(e){const n=rg(e);return this._delegate.delete(n),this}}class H_{constructor(e){this._delegate=e}set(e,n,l){const h=rg(e);return l?(eg("WriteBatch.set",l),this._delegate.set(h,n,l)):this._delegate.set(h,n),this}update(e,n,l,...h){const m=rg(e);return 2===arguments.length?this._delegate.update(m,n):this._delegate.update(m,n,l,...h),this}delete(e){const n=rg(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Yf{constructor(e,n,l){this._firestore=e,this._userDataWriter=n,this._delegate=l}fromFirestore(e,n){const l=new Jp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wv(this._firestore,l),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const l=Yf.INSTANCES;let h=l.get(e);h||(h=new WeakMap,l.set(e,h));let m=h.get(n);return m||(m=new Yf(e,new Sh(e),n),h.set(n,m)),m}}Yf.INSTANCES=new WeakMap;class uc{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Sh(e)}static forPath(e,n,l){if(e.length%2!=0)throw new Ln("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new uc(n,new As(n._delegate,l,new yr(e)))}static forKey(e,n,l){return new uc(n,new As(n._delegate,l,e))}get id(){return this._delegate.id}get parent(){return new _m(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _m(this.firestore,Sv(this._delegate,e))}catch(n){throw hl(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$e.m9)(e))instanceof As&&Dv(this._delegate,e)}set(e,n){n=eg("DocumentReference.set",n);try{return n?k(this._delegate,e,n):k(this._delegate,e)}catch(l){throw hl(l,"setDoc()","DocumentReference.set()")}}update(e,n,...l){try{return 1===arguments.length?H(this._delegate,e):H(this._delegate,e,n,...l)}catch(h){throw hl(h,"updateDoc()","DocumentReference.update()")}}delete(){return function K(s){return Ke(es(s.firestore,Zs),[new Xu(s._key,Ts.none())])}(this._delegate)}onSnapshot(...e){const n=E0(e),l=b0(e,h=>new Gv(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return te(this._delegate,n,l)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function u(s){s=es(s,As);const e=es(s.firestore,Zs),n=_o(e),l=new o(e);return function g0(s,e){const n=new qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(l=(0,ce.Z)(function*(h,m,I){try{const $=yield function(X,ae){const Be=Er(X);return Be.persistence.runTransaction("read document","readonly",wt=>Be.localDocuments.getDocument(wt,ae))}(h,m);$.isFoundDocument()?I.resolve($):$.isNoDocument()?I.resolve(null):I.reject(new Ln(hn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch($){const X=dd($,`Failed to get document '${m} from cache`);I.reject(X)}}),function(h,m,I){return l.apply(this,arguments)})(yield nm(s),e,n);var l})),n.promise}(n,s._key).then(h=>new cc(e,l,s._key,h,new dl(null!==h&&h.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function p(s){s=es(s,As);const e=es(s.firestore,Zs);return Vp(_o(e),s._key,{source:"server"}).then(n=>Qe(e,s,n))}(this._delegate):function t(s){s=es(s,As);const e=es(s.firestore,Zs);return Vp(_o(e),s._key).then(n=>Qe(e,s,n))}(this._delegate),n.then(l=>new Gv(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)))}withConverter(e){return new uc(this.firestore,this._delegate.withConverter(e?Yf.getInstance(this.firestore,e):null))}}function hl(s,e,n){return s.message=s.message.replace(e,n),s}function E0(s){for(const e of s)if("object"==typeof e&&!Id(e))return e;return{}}function b0(s,e){var n,l;let h;return h=Id(s[0])?s[0]:Id(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:m=>{h.next&&h.next(e(m))},error:null===(n=h.error)||void 0===n?void 0:n.bind(h),complete:null===(l=h.complete)||void 0===l?void 0:l.bind(h)}}class Gv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new uc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return a(this._delegate,e._delegate)}}class Wv extends Gv{data(e){const n=this._delegate.data(e);return function xs(s,e){s||mr()}(void 0!==n),n}}class fl{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Sh(e)}where(e,n,l){try{return new fl(this.firestore,wd(this._delegate,function y0(s,e,n){const l=e,h=Vf("where",s);return Ed._create(h,l,n)}(e,n,l)))}catch(h){throw hl(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new fl(this.firestore,wd(this._delegate,function Hy(s,e="asc"){const n=e,l=Vf("orderBy",s);return zf._create(l,n)}(e,n)))}catch(l){throw hl(l,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fl(this.firestore,wd(this._delegate,function Gy(s){return mh("limit",s),fm._create("limit",s,"F")}(e)))}catch(n){throw hl(n,"limit()","Query.limit()")}}limitToLast(e){try{return new fl(this.firestore,wd(this._delegate,function Lv(s){return mh("limitToLast",s),fm._create("limitToLast",s,"L")}(e)))}catch(n){throw hl(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fl(this.firestore,wd(this._delegate,function Fv(...s){return Hf._create("startAt",s,!0)}(...e)))}catch(n){throw hl(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fl(this.firestore,wd(this._delegate,function Wy(...s){return Hf._create("startAfter",s,!1)}(...e)))}catch(n){throw hl(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fl(this.firestore,wd(this._delegate,function Yy(...s){return Xp._create("endBefore",s,!1)}(...e)))}catch(n){throw hl(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fl(this.firestore,wd(this._delegate,function Bv(...s){return Xp._create("endAt",s,!0)}(...e)))}catch(n){throw hl(n,"endAt()","Query.endAt()")}}isEqual(e){return Hp(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function D(s){s=es(s,go);const e=es(s.firestore,Zs),n=_o(e),l=new o(e);return function N_(s,e){const n=new qi;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(l=(0,ce.Z)(function*(h,m,I){try{const $=yield Cf(h,m,!0),X=new Wg(m,$.ir),ae=X.sc($.documents),Be=X.applyChanges(ae,!1);I.resolve(Be.snapshot)}catch($){const X=dd($,`Failed to execute query '${m} against cache`);I.reject(X)}}),function(h,m,I){return l.apply(this,arguments)})(yield nm(s),e,n);var l})),n.promise}(n,s._query).then(h=>new Zc(e,l,s,h))}(this._delegate):"server"===(null==e?void 0:e.source)?function N(s){s=es(s,go);const e=es(s.firestore,Zs),n=_o(e),l=new o(e);return Ly(n,s._query,{source:"server"}).then(h=>new Zc(e,l,s,h))}(this._delegate):function w(s){s=es(s,go);const e=es(s.firestore,Zs),n=_o(e),l=new o(e);return Zp(s._query),Ly(n,s._query).then(h=>new Zc(e,l,s,h))}(this._delegate),n.then(l=>new G_(this.firestore,new Zc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)))}onSnapshot(...e){const n=E0(e),l=b0(e,h=>new G_(this.firestore,new Zc(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return te(this._delegate,n,l)}withConverter(e){return new fl(this.firestore,this._delegate.withConverter(e?Yf.getInstance(this.firestore,e):null))}}class U0{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Wv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class G_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new fl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new U0(this._firestore,n))}forEach(e,n){this._delegate.forEach(l=>{e.call(n,new Wv(this._firestore,l))})}isEqual(e){return a(this._delegate,e._delegate)}}class _m extends fl{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new uc(this.firestore,e):null}doc(e){try{return new uc(this.firestore,void 0===e?zp(this._delegate):zp(this._delegate,e))}catch(n){throw hl(n,"doc()","CollectionReference.doc()")}}add(e){return function Z(s,e){const n=es(s.firestore,Zs),l=zp(s),h=Qp(s.converter,e);return Ke(n,[Ff(wh(s.firestore),"addDoc",l._key,h,null!==s.converter,{}).toMutation(l._key,Ts.exists(!1))]).then(()=>l)}(this._delegate,e).then(n=>new uc(this.firestore,n))}isEqual(e){return Dv(this._delegate,e._delegate)}withConverter(e){return new _m(this.firestore,this._delegate.withConverter(e?Yf.getInstance(this.firestore,e):null))}}function rg(s){return es(s,As)}class W_{constructor(...e){this._delegate=new wo(...e)}static documentId(){return new W_($s.keyField().canonicalString())}isEqual(e){return(e=(0,$e.m9)(e))instanceof wo&&this._delegate._internalPath.isEqual(e._internalPath)}}class ig{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Lr(){return new Rv("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ig(e)}static delete(){const e=function zn(){return new Kp("deleteField")}();return e._methodName="FieldValue.delete",new ig(e)}static arrayUnion(...e){const n=function ki(...s){return new j_("arrayUnion",s)}(...e);return n._methodName="FieldValue.arrayUnion",new ig(n)}static arrayRemove(...e){const n=function Us(...s){return new Vy("arrayRemove",s)}(...e);return n._methodName="FieldValue.arrayRemove",new ig(n)}static increment(e){const n=function di(s){return new jy("increment",s)}(e);return n._methodName="FieldValue.increment",new ig(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const V0={Firestore:ng,GeoPoint:cm,Timestamp:Ss,Blob:bd,Transaction:Dh,WriteBatch:H_,DocumentReference:uc,DocumentSnapshot:Gv,Query:fl,QueryDocumentSnapshot:Wv,QuerySnapshot:G_,CollectionReference:_m,FieldPath:W_,FieldValue:ig,setLogLevel:function Wf(s){!function Do(s){On.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function z0(s){(function j0(s,e){s.INTERNAL.registerComponent(new St.wA("firestore-compat",n=>{const l=n.getProvider("app-compat").getImmediate(),h=n.getProvider("firestore").getImmediate();return e(l,h)},"PUBLIC").setServiceProps(Object.assign({},V0)))})(s,(e,n)=>new ng(e,n,new tg)),s.registerVersion("@firebase/firestore-compat","0.3.12")}(ut.Z);var Kf=P(6298),H0=P(14),G0=P(120);function Y_(s,e){return function I0(s,e=_.z){return new re.y(n=>{let l;return null!=e?e.schedule(()=>{l=s.onSnapshot({includeMetadataChanges:!0},n)}):l=s.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=l&&l()}})}(s,e)}function Zy(s,e){return Y_(s,e).pipe((0,Ce.U)(n=>({payload:n,type:"query"})))}function Yv(s,e){return Zy(s,e).pipe((0,G.O)(void 0),(0,Ve.G)(),(0,Ce.U)(([n,l])=>{const h=l.payload.docChanges(),m=h.map(I=>({type:I.type,payload:I}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((I,$)=>{const X=h.find(Be=>Be.doc.ref.isEqual(I.ref)),ae=null==n?void 0:n.payload.docs.find(Be=>Be.ref.isEqual(I.ref));X&&JSON.stringify(X.doc.metadata)===JSON.stringify(I.metadata)||!X&&ae&&JSON.stringify(ae.metadata)===JSON.stringify(I.metadata)||m.push({type:"modified",payload:{oldIndex:$,newIndex:$,type:"modified",doc:I}})}),m}))}function K_(s,e,n){return Yv(s,n).pipe((0,he.R)((l,h)=>function S0(s,e,n){return e.forEach(l=>{n.indexOf(l.type)>-1&&(s=function D0(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Xy(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=s.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Xy(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Xy(s,e.oldIndex,1)}return s}(s,l))}),s}(l,h.map(m=>m.payload),e),[]),(0,ne.x)(),(0,Ce.U)(l=>l.map(h=>({type:h.type,payload:h}))))}function Xy(s,e,n,...l){const h=s.slice();return h.splice(e,n,...l),h}function q_(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class Z_{constructor(e,n,l){this.ref=e,this.query=n,this.afs=l}stateChanges(e){let n=Yv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,Ce.U)(l=>l.filter(h=>e.indexOf(h.type)>-1)))),n.pipe((0,G.O)(void 0),(0,Ve.G)(),(0,me.h)(([l,h])=>h.length>0||!l),(0,Ce.U)(([l,h])=>h),ze.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,he.R)((n,l)=>[...n,...l],[]))}snapshotChanges(e){const n=q_(e);return K_(this.query,n,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(e={}){return Zy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ce.U)(n=>n.payload.docs.map(l=>e.idField?Object.assign(Object.assign({},l.data()),{[e.idField]:l.id}):l.data())),ze.iC)}get(e){return(0,se.D)(this.query.get(e)).pipe(ze.iC)}add(e){return this.ref.add(e)}doc(e){return new qf(this.ref.doc(e),this.afs)}}class qf{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const l=this.ref.collection(e),{ref:h,query:m}=Y0(l,n);return new Z_(h,m,this.afs)}snapshotChanges(){return function C0(s,e){return Y_(s,e).pipe((0,G.O)(void 0),(0,Ve.G)(),(0,Ce.U)(([n,l])=>l.exists?null!=n&&n.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ce.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,se.D)(this.ref.get(e)).pipe(ze.iC)}}class W0{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Yv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ce.U)(n=>n.filter(l=>e.indexOf(l.type)>-1)),(0,me.h)(n=>n.length>0),ze.iC):Yv(this.query,this.afs.schedulers.outsideAngular).pipe(ze.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,he.R)((n,l)=>[...n,...l],[]))}snapshotChanges(e){const n=q_(e);return K_(this.query,n,this.afs.schedulers.outsideAngular).pipe(ze.iC)}valueChanges(e={}){return Zy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ce.U)(l=>l.payload.docs.map(h=>e.idField?Object.assign({[e.idField]:h.id},h.data()):h.data())),ze.iC)}get(e){return(0,se.D)(this.query.get(e)).pipe(ze.iC)}}const T0=new y.OlP("angularfire2.enableFirestorePersistence"),sg=new y.OlP("angularfire2.firestore.persistenceSettings"),Ow=new y.OlP("angularfire2.firestore.settings"),X_=new y.OlP("angularfire2.firestore.use-emulator");function Y0(s,e=(n=>n)){return{query:e(s),ref:s}}let Q_=(()=>{class s{constructor(n,l,h,m,I,$,X,ae,Be,wt,en,In,cr,Mr,Rr,zi,_s){this.schedulers=X;const Zi=(0,Ne.on)(n,$,l),bo=Be;wt&&(0,Kf.nw)(Zi,$,en,cr,Mr,Rr,In,zi),[this.firestore,this.persistenceEnabled$]=(0,Ne.cc)(`${Zi.name}.firestore`,"AngularFirestore",Zi.name,()=>{const Ls=$.runOutsideAngular(()=>Zi.firestore());if(m&&Ls.settings(m),bo&&Ls.useEmulator(...bo),h&&!(0,be.PM)(I)){const Xs=()=>{try{return(0,se.D)(Ls.enablePersistence(ae||void 0).then(()=>!0,()=>!1))}catch(Ja){return typeof console<"u"&&console.warn(Ja),(0,xe.of)(!1)}};return[Ls,$.runOutsideAngular(Xs)]}return[Ls,(0,xe.of)(!1)]},[m,bo,h])}collection(n,l){let h;h="string"==typeof n?this.firestore.collection(n):n;const{ref:m,query:I}=Y0(h,l),$=this.schedulers.ngZone.run(()=>m);return new Z_($,I,this)}collectionGroup(n,l){const h=l||(I=>I),m=this.firestore.collectionGroup(n);return new W0(h(m),this)}doc(n){let l;l="string"==typeof n?this.firestore.doc(n):n;const h=this.schedulers.ngZone.run(()=>l);return new qf(h,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(n){return new(n||s)(y.LFG(Ne.Dh),y.LFG(Ne.xv,8),y.LFG(T0,8),y.LFG(Ow,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(ze.HU),y.LFG(sg,8),y.LFG(X_,8),y.LFG(Kf.zQ,8),y.LFG(Kf.Qv,8),y.LFG(Kf.L6,8),y.LFG(Kf._Q,8),y.LFG(Kf.rT,8),y.LFG(Kf.lh,8),y.LFG(Kf.f7,8),y.LFG(H0.nm,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),A0=(()=>{class s{constructor(){G0.Z.registerVersion("angularfire",ze.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:s,providers:[{provide:T0,useValue:!0},{provide:sg,useValue:n}]}}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[Q_]}),s})()},6304:(Cn,mt,P)=>{"use strict";P.d(mt,{Dh:()=>Ve,GT:()=>ze,cc:()=>be,hO:()=>Ne,on:()=>he,pX:()=>xe,xv:()=>Ce});var y=P(5879),_=P(120),re=P(4556);Cn=P.hmd(Cn);const se=["ngOnDestroy"],xe=(ke,St,Bt,$e={})=>new Proxy(ke,{get:(Ee,je)=>Bt.runOutsideAngular(()=>{var z;if(ke[je])return!(null===(z=null==$e?void 0:$e.spy)||void 0===z)&&z.get&&$e.spy.get(je,ke[je]),ke[je];if(se.indexOf(je)>-1)return()=>{};const Re=St.toPromise().then(ve=>{const we=ve&&ve[je];return"function"==typeof we?we.bind(ve):we&&we.then?we.then(We=>Bt.run(()=>We)):Bt.run(()=>we)});return new Proxy(()=>{},{get:(ve,we)=>Re[we],apply:(ve,we,We)=>Re.then(lt=>{var it;const ht=lt&&lt(...We);return!(null===(it=null==$e?void 0:$e.spy)||void 0===it)&&it.apply&&$e.spy.apply(je,We,ht),ht})})})}),ze=(ke,St)=>{St.forEach(Bt=>{Object.getOwnPropertyNames(Bt.prototype||Bt).forEach($e=>{Object.defineProperty(ke.prototype,$e,Object.getOwnPropertyDescriptor(Bt.prototype||Bt,$e))})})};class G{constructor(St){return St}}const Ve=new y.OlP("angularfire2.app.options"),Ce=new y.OlP("angularfire2.app.name");function he(ke,St,Bt){const Ee="object"==typeof Bt&&Bt||{};Ee.name=Ee.name||"string"==typeof Bt&&Bt||"[DEFAULT]";const z=_.Z.apps.filter(Re=>Re&&Re.name===Ee.name)[0]||St.runOutsideAngular(()=>_.Z.initializeApp(ke,Ee));try{JSON.stringify(ke)!==JSON.stringify(z.options)&&ne("error",`${z.name} Firebase App already initialized with different options${Cn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new G(z)}const ne=(ke,...St)=>{(0,y.X6Q)()&&typeof console<"u"&&console[ke](...St)},me={provide:G,useFactory:he,deps:[Ve,y.R0b,[new y.FiY,Ce]]};let Ne=(()=>{class ke{constructor(Bt){_.Z.registerVersion("angularfire",re.q4.full,"core"),_.Z.registerVersion("angularfire",re.q4.full,"app-compat"),_.Z.registerVersion("angular",y.q4F.full,Bt.toString())}static initializeApp(Bt,$e){return{ngModule:ke,providers:[{provide:Ve,useValue:Bt},{provide:Ce,useValue:$e}]}}}return ke.\u0275fac=function(Bt){return new(Bt||ke)(y.LFG(y.Lbi))},ke.\u0275mod=y.oAB({type:ke}),ke.\u0275inj=y.cJS({providers:[me]}),ke})();function be(ke,St,Bt,$e,Ee){const[,je,z]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===ke)||[];if(je)return function qe(ke,St){try{return ke.toString()===St.toString()}catch{return ke===St}}(Ee,z)||(ce("error",`${St} was already initialized on the ${Bt} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Ee,was:z})),je;{const Re=$e();return globalThis.\u0275AngularfireInstanceCache.push([ke,Re,Ee]),Re}}const ut=!!Cn.hot,ce=(ke,...St)=>{(0,y.X6Q)()&&typeof console<"u"&&console[ke](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4556:(Cn,mt,P)=>{"use strict";P.d(mt,{q4:()=>yi,iC:()=>Mi,fc:()=>Ki,HU:()=>_n,vb:()=>Oe,JM:()=>yt});var y=P(5879),_=P(4097),re=P(5861),se=P(534),xe=P(9058),ze=P(4537),G=P(7879);P(2591);const Ce="@firebase/remote-config",be=new xe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dt{constructor(et,_t,Yt,un){this.client=et,this.storage=_t,this.storageCache=Yt,this.logger=un}isCachedDataFresh(et,_t){if(!_t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Yt=Date.now()-_t,un=Yt<=et;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Yt}. Cache max age millis (minimumFetchIntervalMillis setting): ${et}. Is cache hit: ${un}.`),un}fetch(et){var _t=this;return(0,re.Z)(function*(){const[Yt,un]=yield Promise.all([_t.storage.getLastSuccessfulFetchTimestampMillis(),_t.storage.getLastSuccessfulFetchResponse()]);if(un&&_t.isCachedDataFresh(et.cacheMaxAgeMillis,Yt))return un;et.eTag=un&&un.eTag;const jn=yield _t.client.fetch(et),rr=[_t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===jn.status&&rr.push(_t.storage.setLastSuccessfulFetchResponse(jn)),yield Promise.all(rr),jn})()}}function Me(ct=navigator){return ct.languages&&ct.languages[0]||ct.language}class Q{constructor(et,_t,Yt,un,jn,rr){this.firebaseInstallations=et,this.sdkVersion=_t,this.namespace=Yt,this.projectId=un,this.apiKey=jn,this.appId=rr}fetch(et){var _t=this;return(0,re.Z)(function*(){const[Yt,un]=yield Promise.all([_t.firebaseInstallations.getId(),_t.firebaseInstallations.getToken()]),rr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${_t.projectId}/namespaces/${_t.namespace}:fetch?key=${_t.apiKey}`,Vr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":et.eTag||"*"},Ir={sdk_version:_t.sdkVersion,app_instance_id:Yt,app_instance_id_token:un,app_id:_t.appId,language_code:Me()},li={method:"POST",headers:Vr,body:JSON.stringify(Ir)},Ri=fetch(rr,li),Cs=new Promise((vs,Es)=>{et.signal.addEventListener(()=>{const zo=new Error("The operation was aborted.");zo.name="AbortError",Es(zo)})});let bi;try{yield Promise.race([Ri,Cs]),bi=yield Ri}catch(vs){let Es="fetch-client-network";throw"AbortError"===(null==vs?void 0:vs.name)&&(Es="fetch-timeout"),be.create(Es,{originalErrorMessage:null==vs?void 0:vs.message})}let as=bi.status;const to=bi.headers.get("ETag")||void 0;let la,Po;if(200===bi.status){let vs;try{vs=yield bi.json()}catch(Es){throw be.create("fetch-client-parse",{originalErrorMessage:null==Es?void 0:Es.message})}la=vs.entries,Po=vs.state}if("INSTANCE_STATE_UNSPECIFIED"===Po?as=500:"NO_CHANGE"===Po?as=304:("NO_TEMPLATE"===Po||"EMPTY_CONFIG"===Po)&&(la={}),304!==as&&200!==as)throw be.create("fetch-status",{httpStatus:as});return{status:as,eTag:to,config:la}})()}}class vt{constructor(et,_t){this.client=et,this.storage=_t}fetch(et){var _t=this;return(0,re.Z)(function*(){const Yt=(yield _t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return _t.attemptFetch(et,Yt)})()}attemptFetch(et,{throttleEndTimeMillis:_t,backoffCount:Yt}){var un=this;return(0,re.Z)(function*(){yield function de(ct,et){return new Promise((_t,Yt)=>{const un=Math.max(et-Date.now(),0),jn=setTimeout(_t,un);ct.addEventListener(()=>{clearTimeout(jn),Yt(be.create("fetch-throttle",{throttleEndTimeMillis:et}))})})}(et.signal,_t);try{const jn=yield un.client.fetch(et);return yield un.storage.deleteThrottleMetadata(),jn}catch(jn){if(!function Le(ct){if(!(ct instanceof xe.ZR&&ct.customData))return!1;const et=Number(ct.customData.httpStatus);return 429===et||500===et||503===et||504===et}(jn))throw jn;const rr={throttleEndTimeMillis:Date.now()+(0,xe.$s)(Yt),backoffCount:Yt+1};return yield un.storage.setThrottleMetadata(rr),un.attemptFetch(et,rr)}})()}}class on{constructor(et,_t,Yt,un,jn){this.app=et,this._client=_t,this._storageCache=Yt,this._storage=un,this._logger=jn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xt(ct,et){const _t=ct.target.error||void 0;return be.create(et,{originalErrorMessage:_t&&(null==_t?void 0:_t.message)})}const Zt="app_namespace_store";class nn{constructor(et,_t,Yt,un=function tn(){return new Promise((ct,et)=>{try{const _t=indexedDB.open("firebase_remote_config",1);_t.onerror=Yt=>{et(Xt(Yt,"storage-open"))},_t.onsuccess=Yt=>{ct(Yt.target.result)},_t.onupgradeneeded=Yt=>{0===Yt.oldVersion&&Yt.target.result.createObjectStore(Zt,{keyPath:"compositeKey"})}}catch(_t){et(be.create("storage-open",{originalErrorMessage:null==_t?void 0:_t.message}))}})}()){this.appId=et,this.appName=_t,this.namespace=Yt,this.openDbPromise=un}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(et){return this.set("last_fetch_status",et)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(et){return this.set("last_successful_fetch_timestamp_millis",et)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(et){return this.set("last_successful_fetch_response",et)}getActiveConfig(){return this.get("active_config")}setActiveConfig(et){return this.set("active_config",et)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(et){return this.set("active_config_etag",et)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(et){return this.set("throttle_metadata",et)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(et){var _t=this;return(0,re.Z)(function*(){const Yt=yield _t.openDbPromise;return new Promise((un,jn)=>{const Vr=Yt.transaction([Zt],"readonly").objectStore(Zt),Ir=_t.createCompositeKey(et);try{const li=Vr.get(Ir);li.onerror=Ri=>{jn(Xt(Ri,"storage-get"))},li.onsuccess=Ri=>{const Cs=Ri.target.result;un(Cs?Cs.value:void 0)}}catch(li){jn(be.create("storage-get",{originalErrorMessage:null==li?void 0:li.message}))}})})()}set(et,_t){var Yt=this;return(0,re.Z)(function*(){const un=yield Yt.openDbPromise;return new Promise((jn,rr)=>{const Ir=un.transaction([Zt],"readwrite").objectStore(Zt),li=Yt.createCompositeKey(et);try{const Ri=Ir.put({compositeKey:li,value:_t});Ri.onerror=Cs=>{rr(Xt(Cs,"storage-set"))},Ri.onsuccess=()=>{jn()}}catch(Ri){rr(be.create("storage-set",{originalErrorMessage:null==Ri?void 0:Ri.message}))}})})()}delete(et){var _t=this;return(0,re.Z)(function*(){const Yt=yield _t.openDbPromise;return new Promise((un,jn)=>{const Vr=Yt.transaction([Zt],"readwrite").objectStore(Zt),Ir=_t.createCompositeKey(et);try{const li=Vr.delete(Ir);li.onerror=Ri=>{jn(Xt(Ri,"storage-delete"))},li.onsuccess=()=>{un()}}catch(li){jn(be.create("storage-delete",{originalErrorMessage:null==li?void 0:li.message}))}})})()}createCompositeKey(et){return[this.appId,this.appName,this.namespace,et].join()}}class xn{constructor(et){this.storage=et}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var et=this;return(0,re.Z)(function*(){const _t=et.storage.getLastFetchStatus(),Yt=et.storage.getLastSuccessfulFetchTimestampMillis(),un=et.storage.getActiveConfig(),jn=yield _t;jn&&(et.lastFetchStatus=jn);const rr=yield Yt;rr&&(et.lastSuccessfulFetchTimestampMillis=rr);const Vr=yield un;Vr&&(et.activeConfig=Vr)})()}setLastFetchStatus(et){return this.lastFetchStatus=et,this.storage.setLastFetchStatus(et)}setLastSuccessfulFetchTimestampMillis(et){return this.lastSuccessfulFetchTimestampMillis=et,this.storage.setLastSuccessfulFetchTimestampMillis(et)}setActiveConfig(et){return this.activeConfig=et,this.storage.setActiveConfig(et)}}function Ar(){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,re.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}!function Bn(){(0,se._registerComponent)(new ze.wA("remote-config",function ct(et,{instanceIdentifier:_t}){const Yt=et.getProvider("app").getImmediate(),un=et.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw be.create("registration-window");if(!(0,xe.hl)())throw be.create("indexed-db-unavailable");const{projectId:jn,apiKey:rr,appId:Vr}=Yt.options;if(!jn)throw be.create("registration-project-id");if(!rr)throw be.create("registration-api-key");if(!Vr)throw be.create("registration-app-id");const Ir=new nn(Vr,Yt.name,_t=_t||"firebase"),li=new xn(Ir),Ri=new G.Yd(Ce);Ri.logLevel=G.in.ERROR;const Cs=new Q(un,se.SDK_VERSION,_t,jn,rr,Vr),bi=new vt(Cs,Ir),as=new dt(bi,Ir,li,Ri),to=new on(Yt,as,li,Ir,Ri);return function z(ct){const et=(0,xe.m9)(ct);et._initializePromise||(et._initializePromise=et._storageCache.loadFromStorage().then(()=>{et._isInitializationComplete=!0}))}(to),to},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Ce,"0.4.4"),(0,se.registerVersion)(Ce,"0.4.4","esm2017")}();var sr=P(9519);const Fr="analytics",mn="firebase_id",Yr="origin",qr=6e4,Hn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hr="https://www.googletagmanager.com/gtag/js",Br=new G.Yd("@firebase/analytics"),$r=new xe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ei(ct){if(!ct.startsWith(hr)){const et=$r.create("invalid-gtag-resource",{gtagURL:ct});return Br.warn(et.message),""}return ct}function fr(ct){return Promise.all(ct.map(et=>et.catch(_t=>_t)))}function Jr(){return(Jr=(0,re.Z)(function*(ct,et,_t,Yt,un,jn){const rr=Yt[un];try{if(rr)yield et[rr];else{const Ir=(yield fr(_t)).find(li=>li.measurementId===un);Ir&&(yield et[Ir.appId])}}catch(Vr){Br.error(Vr)}ct("config",un,jn)})).apply(this,arguments)}function gi(){return(gi=(0,re.Z)(function*(ct,et,_t,Yt,un){try{let jn=[];if(un&&un.send_to){let rr=un.send_to;Array.isArray(rr)||(rr=[rr]);const Vr=yield fr(_t);for(const Ir of rr){const li=Vr.find(Cs=>Cs.measurementId===Ir),Ri=li&&et[li.appId];if(!Ri){jn=[];break}jn.push(Ri)}}0===jn.length&&(jn=Object.values(et)),yield Promise.all(jn),ct("event",Yt,un||{})}catch(jn){Br.error(jn)}})).apply(this,arguments)}const ei=30,hi=new class pi{constructor(et={},_t=1e3){this.throttleMetadata=et,this.intervalMillis=_t}getThrottleMetadata(et){return this.throttleMetadata[et]}setThrottleMetadata(et,_t){this.throttleMetadata[et]=_t}deleteThrottleMetadata(et){delete this.throttleMetadata[et]}};function ti(ct){return new Headers({Accept:"application/json","x-goog-api-key":ct})}function st(){return(st=(0,re.Z)(function*(ct){var et;const{appId:_t,apiKey:Yt}=ct,un={method:"GET",headers:ti(Yt)},jn=Hn.replace("{app-id}",_t),rr=yield fetch(jn,un);if(200!==rr.status&&304!==rr.status){let Vr="";try{const Ir=yield rr.json();null!==(et=Ir.error)&&void 0!==et&&et.message&&(Vr=Ir.error.message)}catch{}throw $r.create("config-fetch-failed",{httpStatus:rr.status,responseMessage:Vr})}return rr.json()})).apply(this,arguments)}function _e(){return(_e=(0,re.Z)(function*(ct,et=hi,_t){const{appId:Yt,apiKey:un,measurementId:jn}=ct.options;if(!Yt)throw $r.create("no-app-id");if(!un){if(jn)return{measurementId:jn,appId:Yt};throw $r.create("no-api-key")}const rr=et.getThrottleMetadata(Yt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vr=new En;return setTimeout((0,re.Z)(function*(){Vr.abort()}),void 0!==_t?_t:qr),Se({appId:Yt,apiKey:un,measurementId:jn},rr,Vr,et)})).apply(this,arguments)}function Se(ct,et,_t){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,re.Z)(function*(ct,{throttleEndTimeMillis:et,backoffCount:_t},Yt,un=hi){var jn;const{appId:rr,measurementId:Vr}=ct;try{yield function Ut(ct,et){return new Promise((_t,Yt)=>{const un=Math.max(et-Date.now(),0),jn=setTimeout(_t,un);ct.addEventListener(()=>{clearTimeout(jn),Yt($r.create("fetch-throttle",{throttleEndTimeMillis:et}))})})}(Yt,et)}catch(Ir){if(Vr)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vr} provided in the "measurementId" field in the local Firebase config. [${null==Ir?void 0:Ir.message}]`),{appId:rr,measurementId:Vr};throw Ir}try{const Ir=yield function oi(ct){return st.apply(this,arguments)}(ct);return un.deleteThrottleMetadata(rr),Ir}catch(Ir){const li=Ir;if(!function ln(ct){if(!(ct instanceof xe.ZR&&ct.customData))return!1;const et=Number(ct.customData.httpStatus);return 429===et||500===et||503===et||504===et}(li)){if(un.deleteThrottleMetadata(rr),Vr)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vr} provided in the "measurementId" field in the local Firebase config. [${null==li?void 0:li.message}]`),{appId:rr,measurementId:Vr};throw Ir}const Ri=503===Number(null===(jn=null==li?void 0:li.customData)||void 0===jn?void 0:jn.httpStatus)?(0,xe.$s)(_t,un.intervalMillis,ei):(0,xe.$s)(_t,un.intervalMillis),Cs={throttleEndTimeMillis:Date.now()+Ri,backoffCount:_t+1};return un.setThrottleMetadata(rr,Cs),Br.debug(`Calling attemptFetch again in ${Ri} millis`),Se(ct,Cs,Yt,un)}}),Fe.apply(this,arguments)}class En{constructor(){this.listeners=[]}addEventListener(et){this.listeners.push(et)}abort(){this.listeners.forEach(et=>et())}}let ir,or;function br(){return(br=(0,re.Z)(function*(ct,et,_t,Yt,un){if(un&&un.global)ct("event",_t,Yt);else{const jn=yield et;ct("event",_t,Object.assign(Object.assign({},Yt),{send_to:jn}))}})).apply(this,arguments)}function Gr(){return(Gr=(0,re.Z)(function*(){if(!(0,xe.hl)())return Br.warn($r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xe.eu)()}catch(ct){return Br.warn($r.create("indexeddb-unavailable",{errorInfo:null==ct?void 0:ct.toString()}).message),!1}return!0})).apply(this,arguments)}function Zr(){return Zr=(0,re.Z)(function*(ct,et,_t,Yt,un,jn,rr){var Vr;const Ir=function ye(ct){return _e.apply(this,arguments)}(ct);Ir.then(as=>{_t[as.measurementId]=as.appId,ct.options.measurementId&&as.measurementId!==ct.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${ct.options.measurementId}) does not match the measurement ID fetched from the server (${as.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(as=>Br.error(as)),et.push(Ir);const li=function ni(){return Gr.apply(this,arguments)}().then(as=>{if(as)return Yt.getId()}),[Ri,Cs]=yield Promise.all([Ir,li]);(function ii(ct){const et=window.document.getElementsByTagName("script");for(const _t of Object.values(et))if(_t.src&&_t.src.includes(hr)&&_t.src.includes(ct))return _t;return null})(jn)||function xr(ct,et){const _t=function Pi(ct,et){let _t;return window.trustedTypes&&(_t=window.trustedTypes.createPolicy(ct,et)),_t}("firebase-js-sdk-policy",{createScriptURL:Ei}),Yt=document.createElement("script"),un=`${hr}?l=${ct}&id=${et}`;Yt.src=_t?null==_t?void 0:_t.createScriptURL(un):un,Yt.async=!0,document.head.appendChild(Yt)}(jn,Ri.measurementId),or&&(un("consent","default",or),function kr(ct){or=ct}(void 0)),un("js",new Date);const bi=null!==(Vr=null==rr?void 0:rr.config)&&void 0!==Vr?Vr:{};return bi[Yr]="firebase",bi.update=!0,null!=Cs&&(bi[mn]=Cs),un("config",Ri.measurementId,bi),ir&&(un("set",ir),function jr(ct){ir=ct}(void 0)),Ri.measurementId}),Zr.apply(this,arguments)}class ts{constructor(et){this.app=et}_delete(){return delete Wi[this.app.options.appId],Promise.resolve()}}let Wi={},$i=[];const Yi={};let gs,Ae,Ui="dataLayer",Et=!1;function Vt(ct,et,_t){!function Rt(){const ct=[];if((0,xe.ru)()&&ct.push("This is a browser extension environment."),(0,xe.zI)()||ct.push("Cookies are not available."),ct.length>0){const et=ct.map((Yt,un)=>`(${un+1}) ${Yt}`).join(" "),_t=$r.create("invalid-analytics-context",{errorInfo:et});Br.warn(_t.message)}}();const Yt=ct.options.appId;if(!Yt)throw $r.create("no-app-id");if(!ct.options.apiKey){if(!ct.options.measurementId)throw $r.create("no-api-key");Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ct.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wi[Yt])throw $r.create("already-exists",{id:Yt});if(!Et){!function Hi(ct){let et=[];Array.isArray(window[ct])?et=window[ct]:window[ct]=et}(Ui);const{wrappedGtag:jn,gtagCore:rr}=function Di(ct,et,_t,Yt,un){let jn=function(...rr){window[Yt].push(arguments)};return window[un]&&"function"==typeof window[un]&&(jn=window[un]),window[un]=function mi(ct,et,_t,Yt){function jn(){return jn=(0,re.Z)(function*(rr,...Vr){try{if("event"===rr){const[Ir,li]=Vr;yield function Xr(ct,et,_t,Yt,un){return gi.apply(this,arguments)}(ct,et,_t,Ir,li)}else if("config"===rr){const[Ir,li]=Vr;yield function Sr(ct,et,_t,Yt,un,jn){return Jr.apply(this,arguments)}(ct,et,_t,Yt,Ir,li)}else if("consent"===rr){const[Ir]=Vr;ct("consent","update",Ir)}else if("get"===rr){const[Ir,li,Ri]=Vr;ct("get",Ir,li,Ri)}else if("set"===rr){const[Ir]=Vr;ct("set",Ir)}else ct(rr,...Vr)}catch(Ir){Br.error(Ir)}}),jn.apply(this,arguments)}return function un(rr){return jn.apply(this,arguments)}}(jn,ct,et,_t),{gtagCore:jn,wrappedGtag:window[un]}}(Wi,$i,Yi,Ui,"gtag");Ae=jn,gs=rr,Et=!0}return Wi[Yt]=function ar(ct,et,_t,Yt,un,jn,rr){return Zr.apply(this,arguments)}(ct,$i,Yi,et,gs,Ui,_t),new ts(ct)}function ue(){return Y.apply(this,arguments)}function Y(){return(Y=(0,re.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}const lr="@firebase/analytics";!function ft(){(0,se._registerComponent)(new ze.wA(Fr,(et,{options:_t})=>Vt(et.getProvider("app").getImmediate(),et.getProvider("installations-internal").getImmediate(),_t),"PUBLIC")),(0,se._registerComponent)(new ze.wA("analytics-internal",function ct(et){try{const _t=et.getProvider(Fr).getImmediate();return{logEvent:(Yt,un,jn)=>function Mn(ct,et,_t,Yt){ct=(0,xe.m9)(ct),function pr(ct,et,_t,Yt,un){return br.apply(this,arguments)}(Ae,Wi[ct.app.options.appId],et,_t,Yt).catch(un=>Br.error(un))}(_t,Yt,un,jn)}}catch(_t){throw $r.create("interop-component-reg-failed",{reason:_t})}},"PRIVATE")),(0,se.registerVersion)(lr,"0.10.0"),(0,se.registerVersion)(lr,"0.10.0","esm2017")}();var bt=P(1954),dn=P(2631);const qn=new class Nn extends dn.v{}(class Ct extends bt.o{constructor(et,_t){super(et,_t),this.scheduler=et,this.work=_t}schedule(et,_t=0){return _t>0?super.schedule(et,_t):(this.delay=_t,this.state=et,this.scheduler.flush(this),this)}execute(et,_t){return _t>0||this.closed?super.execute(et,_t):this._execute(et,_t)}requestAsyncId(et,_t,Yt=0){return null!=Yt&&Yt>0||null==Yt&&this.delay>0?super.requestAsyncId(et,_t,Yt):(et.flush(this),0)}});var Pn=P(6321),Xn=P(9397),vi=P(3093),Os=P(5137);const yi=new y.GfV("7.6.1"),ji="__angularfire_symbol__analyticsIsSupportedValue",Ti="__angularfire_symbol__analyticsIsSupported",Is="__angularfire_symbol__remoteConfigIsSupportedValue",ws="__angularfire_symbol__remoteConfigIsSupported",_r="__angularfire_symbol__messagingIsSupportedValue",Ns="__angularfire_symbol__messagingIsSupported";function yt(ct,et,_t){if(et){if(1===et.length)return et[0];const jn=et.filter(rr=>rr.app===_t);if(1===jn.length)return jn[0]}return _t.container.getProvider(ct).getImmediate({optional:!0})}globalThis[Ti]||(globalThis[Ti]=ue().then(ct=>globalThis[ji]=ct).catch(()=>globalThis[ji]=!1)),globalThis[Ns]||(globalThis[Ns]=(0,sr.Gb)().then(ct=>globalThis[_r]=ct).catch(()=>globalThis[_r]=!1)),globalThis[ws]||(globalThis[ws]=Ar().then(ct=>globalThis[Is]=ct).catch(()=>globalThis[Is]=!1));const Oe=(ct,et)=>{const _t=et?[et]:(0,_.C6)(),Yt=[];return _t.forEach(un=>{un.container.getProvider(ct).instances.forEach(rr=>{Yt.includes(rr)||Yt.push(rr)})}),Yt};function at(){}class Gt{constructor(et,_t=qn){this.zone=et,this.delegate=_t}now(){return this.delegate.now()}schedule(et,_t,Yt){const un=this.zone;return this.delegate.schedule(function(rr){un.runGuarded(()=>{et.apply(this,[rr])})},_t,Yt)}}class cn{constructor(et){this.zone=et,this.task=null}call(et,_t){const Yt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",at,{},at,at)),_t.pipe((0,Xn.b)({next:Yt,complete:Yt,error:Yt})).subscribe(et).add(Yt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _n=(()=>{class ct{constructor(_t){this.ngZone=_t,this.outsideAngular=_t.runOutsideAngular(()=>new Gt(Zone.current)),this.insideAngular=_t.run(()=>new Gt(Zone.current,Pn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ct.\u0275fac=function(_t){return new(_t||ct)(y.LFG(y.R0b))},ct.\u0275prov=y.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})();function er(){const ct=globalThis.\u0275AngularFireScheduler;if(!ct)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ct}function Ki(ct){return ct.pipe((0,vi.Q)(er().outsideAngular))}function Mi(ct){return er(),function Fi(ct){return function(_t){return(_t=_t.lift(new cn(ct.ngZone))).pipe((0,Os.R)(ct.outsideAngular),(0,vi.Q)(ct.insideAngular))}}(er())(ct)}},9058:(Cn,mt,P)=>{"use strict";P.d(mt,{$s:()=>pi,BH:()=>je,DV:()=>tr,Dv:()=>Pi,G6:()=>Me,GJ:()=>Bn,L:()=>Ce,LL:()=>xt,Pz:()=>Ee,Sg:()=>z,UG:()=>we,UI:()=>Hr,US:()=>ze,Wj:()=>Sr,Wl:()=>Ft,Yr:()=>dt,ZB:()=>me,ZR:()=>Tt,aH:()=>$e,b$:()=>it,cI:()=>Zt,dS:()=>Xr,eu:()=>de,g5:()=>re,gK:()=>xr,gQ:()=>hr,h$:()=>Ve,hl:()=>Q,hu:()=>_,jU:()=>We,lb:()=>Jr,m9:()=>oi,ne:()=>Br,p$:()=>ne,pd:()=>Hn,r3:()=>$n,ru:()=>lt,tV:()=>he,uI:()=>ve,ug:()=>gi,vZ:()=>sr,w1:()=>It,w9:()=>xn,xO:()=>Yr,xb:()=>Ar,z$:()=>Re,zI:()=>Le,zd:()=>qr});const y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},_=function(st,ye){if(!st)throw re(ye)},re=function(st){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+st)},se=function(st){const ye=[];let _e=0;for(let Se=0;Se<st.length;Se++){let Fe=st.charCodeAt(Se);Fe<128?ye[_e++]=Fe:Fe<2048?(ye[_e++]=Fe>>6|192,ye[_e++]=63&Fe|128):55296==(64512&Fe)&&Se+1<st.length&&56320==(64512&st.charCodeAt(Se+1))?(Fe=65536+((1023&Fe)<<10)+(1023&st.charCodeAt(++Se)),ye[_e++]=Fe>>18|240,ye[_e++]=Fe>>12&63|128,ye[_e++]=Fe>>6&63|128,ye[_e++]=63&Fe|128):(ye[_e++]=Fe>>12|224,ye[_e++]=Fe>>6&63|128,ye[_e++]=63&Fe|128)}return ye},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(st,ye){if(!Array.isArray(st))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _e=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let Fe=0;Fe<st.length;Fe+=3){const Ut=st[Fe],ln=Fe+1<st.length,En=ln?st[Fe+1]:0,ir=Fe+2<st.length,pr=ir?st[Fe+2]:0;let ai=(15&En)<<2|pr>>6,Gi=63&pr;ir||(Gi=64,ln||(ai=64)),Se.push(_e[Ut>>2],_e[(3&Ut)<<4|En>>4],_e[ai],_e[Gi])}return Se.join("")},encodeString(st,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(st):this.encodeByteArray(se(st),ye)},decodeString(st,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(st):function(st){const ye=[];let _e=0,Se=0;for(;_e<st.length;){const Fe=st[_e++];if(Fe<128)ye[Se++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){const Ut=st[_e++];ye[Se++]=String.fromCharCode((31&Fe)<<6|63&Ut)}else if(Fe>239&&Fe<365){const ir=((7&Fe)<<18|(63&st[_e++])<<12|(63&st[_e++])<<6|63&st[_e++])-65536;ye[Se++]=String.fromCharCode(55296+(ir>>10)),ye[Se++]=String.fromCharCode(56320+(1023&ir))}else{const Ut=st[_e++],ln=st[_e++];ye[Se++]=String.fromCharCode((15&Fe)<<12|(63&Ut)<<6|63&ln)}}return ye.join("")}(this.decodeStringToByteArray(st,ye))},decodeStringToByteArray(st,ye){this.init_();const _e=ye?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let Fe=0;Fe<st.length;){const Ut=_e[st.charAt(Fe++)],En=Fe<st.length?_e[st.charAt(Fe)]:0;++Fe;const pr=Fe<st.length?_e[st.charAt(Fe)]:64;++Fe;const Gn=Fe<st.length?_e[st.charAt(Fe)]:64;if(++Fe,null==Ut||null==En||null==pr||null==Gn)throw new G;Se.push(Ut<<2|En>>4),64!==pr&&(Se.push(En<<4&240|pr>>2),64!==Gn&&Se.push(pr<<6&192|Gn))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let st=0;st<this.ENCODED_VALS.length;st++)this.byteToCharMap_[st]=this.ENCODED_VALS.charAt(st),this.charToByteMap_[this.byteToCharMap_[st]]=st,this.byteToCharMapWebSafe_[st]=this.ENCODED_VALS_WEBSAFE.charAt(st),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[st]]=st,st>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(st)]=st,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(st)]=st)}}};class G extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(st){const ye=se(st);return ze.encodeByteArray(ye,!0)},Ce=function(st){return Ve(st).replace(/\./g,"")},he=function(st){try{return ze.decodeString(st,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function ne(st){return me(void 0,st)}function me(st,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===st&&(st={});break;case Array:st=[];break;default:return ye}for(const _e in ye)!ye.hasOwnProperty(_e)||!Ne(_e)||(st[_e]=me(st[_e],ye[_e]));return st}function Ne(st){return"__proto__"!==st}const ke=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const st=process.env.__FIREBASE_DEFAULTS__;return st?JSON.parse(st):void 0})()||(()=>{if(typeof document>"u")return;let st;try{st=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=st&&he(st[1]);return ye&&JSON.parse(ye)})()}catch(st){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${st}`)}},$e=()=>{var st;return null===(st=ke())||void 0===st?void 0:st.config},Ee=st=>{var ye;return null===(ye=ke())||void 0===ye?void 0:ye[`_${st}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,_e)=>{this.resolve=ye,this.reject=_e})}wrapCallback(ye){return(_e,Se)=>{_e?this.reject(_e):this.resolve(Se),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(_e):ye(_e,Se))}}}function z(st,ye){if(st.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=ye||"demo-project",Fe=st.iat||0,Ut=st.sub||st.user_id;if(!Ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ln=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:Fe,exp:Fe+3600,auth_time:Fe,sub:Ut,user_id:Ut,firebase:{sign_in_provider:"custom",identities:{}}},st);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(ln)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function we(){var st;const ye=null===(st=ke())||void 0===st?void 0:st.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function lt(){const st="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof st&&void 0!==st.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function It(){const st=Re();return st.indexOf("MSIE ")>=0||st.indexOf("Trident/")>=0}function dt(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN}function Me(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function de(){return new Promise((st,ye)=>{try{let _e=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",Fe=self.indexedDB.open(Se);Fe.onsuccess=()=>{Fe.result.close(),_e||self.indexedDB.deleteDatabase(Se),st(!0)},Fe.onupgradeneeded=()=>{_e=!1},Fe.onerror=()=>{var Ut;ye((null===(Ut=Fe.error)||void 0===Ut?void 0:Ut.message)||"")}}catch(_e){ye(_e)}})}function Le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tt extends Error{constructor(ye,_e,Se){super(_e),this.code=ye,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(ye,_e,Se){this.service=ye,this.serviceName=_e,this.errors=Se}create(ye,..._e){const Se=_e[0]||{},Fe=`${this.service}/${ye}`,Ut=this.errors[ye],ln=Ut?function on(st,ye){return st.replace(Xt,(_e,Se)=>{const Fe=ye[Se];return null!=Fe?String(Fe):`<${Se}?>`})}(Ut,Se):"Error";return new Tt(Fe,`${this.serviceName}: ${ln} (${Fe}).`,Se)}}const Xt=/\{\$([^}]+)}/g;function Zt(st){return JSON.parse(st)}function Ft(st){return JSON.stringify(st)}const Nt=function(st){let ye={},_e={},Se={},Fe="";try{const Ut=st.split(".");ye=Zt(he(Ut[0])||""),_e=Zt(he(Ut[1])||""),Fe=Ut[2],Se=_e.d||{},delete _e.d}catch{}return{header:ye,claims:_e,data:Se,signature:Fe}},xn=function(st){const _e=Nt(st).claims;return!!_e&&"object"==typeof _e&&_e.hasOwnProperty("iat")},Bn=function(st){const ye=Nt(st).claims;return"object"==typeof ye&&!0===ye.admin};function $n(st,ye){return Object.prototype.hasOwnProperty.call(st,ye)}function tr(st,ye){if(Object.prototype.hasOwnProperty.call(st,ye))return st[ye]}function Ar(st){for(const ye in st)if(Object.prototype.hasOwnProperty.call(st,ye))return!1;return!0}function Hr(st,ye,_e){const Se={};for(const Fe in st)Object.prototype.hasOwnProperty.call(st,Fe)&&(Se[Fe]=ye.call(_e,st[Fe],Fe,st));return Se}function sr(st,ye){if(st===ye)return!0;const _e=Object.keys(st),Se=Object.keys(ye);for(const Fe of _e){if(!Se.includes(Fe))return!1;const Ut=st[Fe],ln=ye[Fe];if(Fr(Ut)&&Fr(ln)){if(!sr(Ut,ln))return!1}else if(Ut!==ln)return!1}for(const Fe of Se)if(!_e.includes(Fe))return!1;return!0}function Fr(st){return null!==st&&"object"==typeof st}function Yr(st){const ye=[];for(const[_e,Se]of Object.entries(st))Array.isArray(Se)?Se.forEach(Fe=>{ye.push(encodeURIComponent(_e)+"="+encodeURIComponent(Fe))}):ye.push(encodeURIComponent(_e)+"="+encodeURIComponent(Se));return ye.length?"&"+ye.join("&"):""}function qr(st){const ye={};return st.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[Fe,Ut]=Se.split("=");ye[decodeURIComponent(Fe)]=decodeURIComponent(Ut)}}),ye}function Hn(st){const ye=st.indexOf("?");if(!ye)return"";const _e=st.indexOf("#",ye);return st.substring(ye,_e>0?_e:void 0)}class hr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ye=1;ye<this.blockSize;++ye)this.pad_[ye]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ye,_e){_e||(_e=0);const Se=this.W_;if("string"==typeof ye)for(let Gn=0;Gn<16;Gn++)Se[Gn]=ye.charCodeAt(_e)<<24|ye.charCodeAt(_e+1)<<16|ye.charCodeAt(_e+2)<<8|ye.charCodeAt(_e+3),_e+=4;else for(let Gn=0;Gn<16;Gn++)Se[Gn]=ye[_e]<<24|ye[_e+1]<<16|ye[_e+2]<<8|ye[_e+3],_e+=4;for(let Gn=16;Gn<80;Gn++){const ai=Se[Gn-3]^Se[Gn-8]^Se[Gn-14]^Se[Gn-16];Se[Gn]=4294967295&(ai<<1|ai>>>31)}let pr,br,Fe=this.chain_[0],Ut=this.chain_[1],ln=this.chain_[2],En=this.chain_[3],ir=this.chain_[4];for(let Gn=0;Gn<80;Gn++){Gn<40?Gn<20?(pr=En^Ut&(ln^En),br=1518500249):(pr=Ut^ln^En,br=1859775393):Gn<60?(pr=Ut&ln|En&(Ut|ln),br=2400959708):(pr=Ut^ln^En,br=3395469782);const ai=(Fe<<5|Fe>>>27)+pr+ir+br+Se[Gn]&4294967295;ir=En,En=ln,ln=4294967295&(Ut<<30|Ut>>>2),Ut=Fe,Fe=ai}this.chain_[0]=this.chain_[0]+Fe&4294967295,this.chain_[1]=this.chain_[1]+Ut&4294967295,this.chain_[2]=this.chain_[2]+ln&4294967295,this.chain_[3]=this.chain_[3]+En&4294967295,this.chain_[4]=this.chain_[4]+ir&4294967295}update(ye,_e){if(null==ye)return;void 0===_e&&(_e=ye.length);const Se=_e-this.blockSize;let Fe=0;const Ut=this.buf_;let ln=this.inbuf_;for(;Fe<_e;){if(0===ln)for(;Fe<=Se;)this.compress_(ye,Fe),Fe+=this.blockSize;if("string"==typeof ye){for(;Fe<_e;)if(Ut[ln]=ye.charCodeAt(Fe),++ln,++Fe,ln===this.blockSize){this.compress_(Ut),ln=0;break}}else for(;Fe<_e;)if(Ut[ln]=ye[Fe],++ln,++Fe,ln===this.blockSize){this.compress_(Ut),ln=0;break}}this.inbuf_=ln,this.total_+=_e}digest(){const ye=[];let _e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Fe=this.blockSize-1;Fe>=56;Fe--)this.buf_[Fe]=255&_e,_e/=256;this.compress_(this.buf_);let Se=0;for(let Fe=0;Fe<5;Fe++)for(let Ut=24;Ut>=0;Ut-=8)ye[Se]=this.chain_[Fe]>>Ut&255,++Se;return ye}}function Br(st,ye){const _e=new dr(st,ye);return _e.subscribe.bind(_e)}class dr{constructor(ye,_e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(()=>{ye(this)}).catch(Se=>{this.error(Se)})}next(ye){this.forEachObserver(_e=>{_e.next(ye)})}error(ye){this.forEachObserver(_e=>{_e.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,_e,Se){let Fe;if(void 0===ye&&void 0===_e&&void 0===Se)throw new Error("Missing Observer.");Fe=function Ei(st,ye){if("object"!=typeof st||null===st)return!1;for(const _e of ye)if(_e in st&&"function"==typeof st[_e])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:_e,complete:Se},void 0===Fe.next&&(Fe.next=fr),void 0===Fe.error&&(Fe.error=fr),void 0===Fe.complete&&(Fe.complete=fr);const Ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Fe.error(this.finalError):Fe.complete()}catch{}}),this.observers.push(Fe),Ut}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let _e=0;_e<this.observers.length;_e++)this.sendOne(_e,ye)}sendOne(ye,_e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{_e(this.observers[ye])}catch(Se){typeof console<"u"&&console.error&&console.error(Se)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fr(){}const Pi=function(st,ye,_e,Se){let Fe;if(Se<ye?Fe="at least "+ye:Se>_e&&(Fe=0===_e?"none":"no more than "+_e),Fe)throw new Error(st+" failed: Was called with "+Se+(1===Se?" argument.":" arguments.")+" Expects "+Fe+".")};function xr(st,ye){return`${st} failed: ${ye} argument `}function Sr(st,ye,_e,Se){if((!Se||_e)&&"function"!=typeof _e)throw new Error(xr(st,ye)+"must be a valid function.")}function Jr(st,ye,_e,Se){if((!Se||_e)&&("object"!=typeof _e||null===_e))throw new Error(xr(st,ye)+"must be a valid context object.")}const Xr=function(st){const ye=[];let _e=0;for(let Se=0;Se<st.length;Se++){let Fe=st.charCodeAt(Se);if(Fe>=55296&&Fe<=56319){const Ut=Fe-55296;Se++,_(Se<st.length,"Surrogate pair missing trail surrogate."),Fe=65536+(Ut<<10)+(st.charCodeAt(Se)-56320)}Fe<128?ye[_e++]=Fe:Fe<2048?(ye[_e++]=Fe>>6|192,ye[_e++]=63&Fe|128):Fe<65536?(ye[_e++]=Fe>>12|224,ye[_e++]=Fe>>6&63|128,ye[_e++]=63&Fe|128):(ye[_e++]=Fe>>18|240,ye[_e++]=Fe>>12&63|128,ye[_e++]=Fe>>6&63|128,ye[_e++]=63&Fe|128)}return ye},gi=function(st){let ye=0;for(let _e=0;_e<st.length;_e++){const Se=st.charCodeAt(_e);Se<128?ye++:Se<2048?ye+=2:Se>=55296&&Se<=56319?(ye+=4,_e++):ye+=3}return ye},Di=1e3,ii=2,ei=144e5,si=.5;function pi(st,ye=Di,_e=ii){const Se=ye*Math.pow(_e,st),Fe=Math.round(si*Se*(Math.random()-.5)*2);return Math.min(ei,Se+Fe)}function oi(st){return st&&st._delegate?st._delegate:st}},6506:(Cn,mt,P)=>{"use strict";P.d(mt,{c:()=>ut});var y=P(7643),_=P(544);let re;const xe=ce=>ce.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ze=ce=>(void 0===re&&(re=void 0===ce.style.animationName&&void 0!==ce.style.webkitAnimationName?"-webkit-":""),re),G=(ce,ke,St)=>{const Bt=ke.startsWith("animation")?ze(ce):"";ce.style.setProperty(Bt+ke,St)},Ve=(ce,ke)=>{const St=ke.startsWith("animation")?ze(ce):"";ce.style.removeProperty(St+ke)},ne=[],qe=(ce=[],ke)=>{if(void 0!==ke){const St=Array.isArray(ke)?ke:[ke];return[...ce,...St]}return ce},ut=ce=>{let ke,St,Bt,$e,Ee,je,We,Q,de,Le,vt,Xt,Zt,z=[],Re=[],ve=[],we=!1,lt={},it=[],ht=[],It={},an=0,dt=!1,Me=!1,Tt=!0,xt=!1,on=!0,Ft=!1;const Nt=ce,tn=[],nn=[],xn=[],Bn=[],$n=[],tr=[],Ar=[],Hr=[],sr=[],Fr=[],mn="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,Yr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&mn,Hn=()=>Fr,Ei=(ue,Y)=>((null!=Y&&Y.oneTimeCallback?nn:tn).push({c:ue,o:Y}),Zt),Pi=()=>{if(Yr)Fr.forEach(ue=>{ue.cancel()}),Fr.length=0;else{const ue=xn.slice();(0,_.r)(()=>{ue.forEach(Y=>{Ve(Y,"animation-name"),Ve(Y,"animation-duration"),Ve(Y,"animation-timing-function"),Ve(Y,"animation-iteration-count"),Ve(Y,"animation-delay"),Ve(Y,"animation-play-state"),Ve(Y,"animation-fill-mode"),Ve(Y,"animation-direction")})})}},xr=()=>{$n.forEach(ue=>{null!=ue&&ue.parentNode&&ue.parentNode.removeChild(ue)}),$n.length=0},ti=()=>void 0!==Ee?Ee:We?We.getFill():"both",oi=()=>void 0!==de?de:void 0!==je?je:We?We.getDirection():"normal",st=()=>dt?"linear":void 0!==Bt?Bt:We?We.getEasing():"linear",ye=()=>Me?0:void 0!==Le?Le:void 0!==St?St:We?We.getDuration():0,_e=()=>void 0!==$e?$e:We?We.getIterations():1,Se=()=>void 0!==vt?vt:void 0!==ke?ke:We?We.getDelay():0,jt=()=>{0!==an&&(an--,0===an&&((()=>{Ui(),Hr.forEach(ot=>ot()),sr.forEach(ot=>ot());const ue=Tt?1:0,Y=it,ie=ht,ge=It;xn.forEach(ot=>{const kt=ot.classList;Y.forEach($t=>kt.add($t)),ie.forEach($t=>kt.remove($t));for(const $t in ge)ge.hasOwnProperty($t)&&G(ot,$t,ge[$t])}),tn.forEach(ot=>ot.c(ue,Zt)),nn.forEach(ot=>ot.c(ue,Zt)),nn.length=0,on=!0,Tt&&(xt=!0),Tt=!0})(),We&&We.animationFinish()))},Sn=(ue=!0)=>{xr();const Y=(ce=>(ce.forEach(ke=>{for(const St in ke)if(ke.hasOwnProperty(St)){const Bt=ke[St];if("easing"===St)ke["animation-timing-function"]=Bt,delete ke[St];else{const $e=xe(St);$e!==St&&(ke[$e]=Bt,delete ke[St])}}}),ce))(z);xn.forEach(ie=>{if(Y.length>0){const ge=((ce=[])=>ce.map(ke=>{const St=ke.offset,Bt=[];for(const $e in ke)ke.hasOwnProperty($e)&&"offset"!==$e&&Bt.push(`${$e}: ${ke[$e]};`);return`${100*St}% { ${Bt.join(" ")} }`}).join(" "))(Y);Xt=void 0!==ce?ce:(ce=>{let ke=ne.indexOf(ce);return ke<0&&(ke=ne.push(ce)-1),`ion-animation-${ke}`})(ge);const ot=((ce,ke,St)=>{var Bt;const $e=(ce=>{const ke=void 0!==ce.getRootNode?ce.getRootNode():ce;return ke.head||ke})(St),Ee=ze(St),je=$e.querySelector("#"+ce);if(je)return je;const z=(null!==(Bt=St.ownerDocument)&&void 0!==Bt?Bt:document).createElement("style");return z.id=ce,z.textContent=`@${Ee}keyframes ${ce} { ${ke} } @${Ee}keyframes ${ce}-alt { ${ke} }`,$e.appendChild(z),z})(Xt,ge,ie);$n.push(ot),G(ie,"animation-duration",`${ye()}ms`),G(ie,"animation-timing-function",st()),G(ie,"animation-delay",`${Se()}ms`),G(ie,"animation-fill-mode",ti()),G(ie,"animation-direction",oi());const kt=_e()===1/0?"infinite":_e().toString();G(ie,"animation-iteration-count",kt),G(ie,"animation-play-state","paused"),ue&&G(ie,"animation-name",`${ot.id}-alt`),(0,_.r)(()=>{G(ie,"animation-name",ot.id||null)})}})},or=(ue=!0)=>{(()=>{tr.forEach(ge=>ge()),Ar.forEach(ge=>ge());const ue=Re,Y=ve,ie=lt;xn.forEach(ge=>{const ot=ge.classList;ue.forEach(kt=>ot.add(kt)),Y.forEach(kt=>ot.remove(kt));for(const kt in ie)ie.hasOwnProperty(kt)&&G(ge,kt,ie[kt])})})(),z.length>0&&(Yr?(xn.forEach(ue=>{const Y=ue.animate(z,{id:Nt,delay:Se(),duration:ye(),easing:st(),iterations:_e(),fill:ti(),direction:oi()});Y.pause(),Fr.push(Y)}),Fr.length>0&&(Fr[0].onfinish=()=>{jt()})):Sn(ue)),we=!0},kr=ue=>{if(ue=Math.min(Math.max(ue,0),.9999),Yr)Fr.forEach(Y=>{Y.currentTime=Y.effect.getComputedTiming().delay+ye()*ue,Y.pause()});else{const Y=`-${ye()*ue}ms`;xn.forEach(ie=>{z.length>0&&(G(ie,"animation-delay",Y),G(ie,"animation-play-state","paused"))})}},jr=ue=>{Fr.forEach(Y=>{Y.effect.updateTiming({delay:Se(),duration:ye(),easing:st(),iterations:_e(),fill:ti(),direction:oi()})}),void 0!==ue&&kr(ue)},ni=(ue=!0,Y)=>{(0,_.r)(()=>{xn.forEach(ie=>{G(ie,"animation-name",Xt||null),G(ie,"animation-duration",`${ye()}ms`),G(ie,"animation-timing-function",st()),G(ie,"animation-delay",void 0!==Y?`-${Y*ye()}ms`:`${Se()}ms`),G(ie,"animation-fill-mode",ti()||null),G(ie,"animation-direction",oi()||null);const ge=_e()===1/0?"infinite":_e().toString();G(ie,"animation-iteration-count",ge),ue&&G(ie,"animation-name",`${Xt}-alt`),(0,_.r)(()=>{G(ie,"animation-name",Xt||null)})})})},Gr=(ue=!1,Y=!0,ie)=>(ue&&Bn.forEach(ge=>{ge.update(ue,Y,ie)}),Yr?jr(ie):ni(Y,ie),Zt),Wi=()=>{we&&(Yr?Fr.forEach(ue=>{ue.pause()}):xn.forEach(ue=>{G(ue,"animation-play-state","paused")}),Ft=!0)},Yi=()=>{Q=void 0,jt()},Ui=()=>{Q&&clearTimeout(Q)},Ze=ue=>new Promise(Y=>{null!=ue&&ue.sync&&(Me=!0,Ei(()=>Me=!1,{oneTimeCallback:!0})),we||or(),xt&&(Yr?(kr(0),jr()):ni(),xt=!1),on&&(an=Bn.length+1,on=!1),Ei(()=>Y(),{oneTimeCallback:!0}),Bn.forEach(ie=>{ie.play()}),Yr?(Fr.forEach(ue=>{ue.play()}),(0===z.length||0===xn.length)&&jt()):(()=>{if(Ui(),(0,_.r)(()=>{xn.forEach(ue=>{z.length>0&&G(ue,"animation-play-state","running")})}),0===z.length||0===xn.length)jt();else{const ue=Se()||0,Y=ye()||0,ie=_e()||1;isFinite(ie)&&(Q=setTimeout(Yi,ue+Y*ie+100)),((ce,ke)=>{let St;const Bt={passive:!0},Ee=je=>{ce===je.target&&(St&&St(),Ui(),(0,_.r)(()=>{xn.forEach(ue=>{Ve(ue,"animation-duration"),Ve(ue,"animation-delay"),Ve(ue,"animation-play-state")}),(0,_.r)(jt)}))};ce&&(ce.addEventListener("webkitAnimationEnd",Ee,Bt),ce.addEventListener("animationend",Ee,Bt),St=()=>{ce.removeEventListener("webkitAnimationEnd",Ee,Bt),ce.removeEventListener("animationend",Ee,Bt)})})(xn[0])}})(),Ft=!1}),Vt=(ue,Y)=>{const ie=z[0];return void 0===ie||void 0!==ie.offset&&0!==ie.offset?z=[{offset:0,[ue]:Y},...z]:ie[ue]=Y,Zt};return Zt={parentAnimation:We,elements:xn,childAnimations:Bn,id:Nt,animationFinish:jt,from:Vt,to:(ue,Y)=>{const ie=z[z.length-1];return void 0===ie||void 0!==ie.offset&&1!==ie.offset?z=[...z,{offset:1,[ue]:Y}]:ie[ue]=Y,Zt},fromTo:(ue,Y,ie)=>Vt(ue,Y).to(ue,ie),parent:ue=>(We=ue,Zt),play:Ze,pause:()=>(Bn.forEach(ue=>{ue.pause()}),Wi(),Zt),stop:()=>{Bn.forEach(ue=>{ue.stop()}),we&&(Pi(),we=!1),dt=!1,Me=!1,on=!0,de=void 0,Le=void 0,vt=void 0,an=0,xt=!1,Tt=!0,Ft=!1},destroy:ue=>(Bn.forEach(Y=>{Y.destroy(ue)}),(ue=>{Pi(),ue&&xr()})(ue),xn.length=0,Bn.length=0,z.length=0,tn.length=0,nn.length=0,we=!1,on=!0,Zt),keyframes:ue=>{const Y=z!==ue;return z=ue,Y&&(ue=>{Yr?Hn().forEach(Y=>{if(Y.effect.setKeyframes)Y.effect.setKeyframes(ue);else{const ie=new KeyframeEffect(Y.effect.target,ue,Y.effect.getTiming());Y.effect=ie}}):Sn()})(z),Zt},addAnimation:ue=>{if(null!=ue)if(Array.isArray(ue))for(const Y of ue)Y.parent(Zt),Bn.push(Y);else ue.parent(Zt),Bn.push(ue);return Zt},addElement:ue=>{if(null!=ue)if(1===ue.nodeType)xn.push(ue);else if(ue.length>=0)for(let Y=0;Y<ue.length;Y++)xn.push(ue[Y]);else console.error("Invalid addElement value");return Zt},update:Gr,fill:ue=>(Ee=ue,Gr(!0),Zt),direction:ue=>(je=ue,Gr(!0),Zt),iterations:ue=>($e=ue,Gr(!0),Zt),duration:ue=>(!Yr&&0===ue&&(ue=1),St=ue,Gr(!0),Zt),easing:ue=>(Bt=ue,Gr(!0),Zt),delay:ue=>(ke=ue,Gr(!0),Zt),getWebAnimations:Hn,getKeyframes:()=>z,getFill:ti,getDirection:oi,getDelay:Se,getIterations:_e,getEasing:st,getDuration:ye,afterAddRead:ue=>(Hr.push(ue),Zt),afterAddWrite:ue=>(sr.push(ue),Zt),afterClearStyles:(ue=[])=>{for(const Y of ue)It[Y]="";return Zt},afterStyles:(ue={})=>(It=ue,Zt),afterRemoveClass:ue=>(ht=qe(ht,ue),Zt),afterAddClass:ue=>(it=qe(it,ue),Zt),beforeAddRead:ue=>(tr.push(ue),Zt),beforeAddWrite:ue=>(Ar.push(ue),Zt),beforeClearStyles:(ue=[])=>{for(const Y of ue)lt[Y]="";return Zt},beforeStyles:(ue={})=>(lt=ue,Zt),beforeRemoveClass:ue=>(ve=qe(ve,ue),Zt),beforeAddClass:ue=>(Re=qe(Re,ue),Zt),onFinish:Ei,isRunning:()=>0!==an&&!Ft,progressStart:(ue=!1,Y)=>(Bn.forEach(ie=>{ie.progressStart(ue,Y)}),Wi(),dt=ue,we||or(),Gr(!1,!0,Y),Zt),progressStep:ue=>(Bn.forEach(Y=>{Y.progressStep(ue)}),kr(ue),Zt),progressEnd:(ue,Y,ie)=>(dt=!1,Bn.forEach(ge=>{ge.progressEnd(ue,Y,ie)}),void 0!==ie&&(Le=ie),xt=!1,Tt=!0,0===ue?(de="reverse"===oi()?"normal":"reverse","reverse"===de&&(Tt=!1),Yr?(Gr(),kr(1-Y)):(vt=(1-Y)*ye()*-1,Gr(!1,!1))):1===ue&&(Yr?(Gr(),kr(Y)):(vt=Y*ye()*-1,Gr(!1,!1))),void 0!==ue&&(Ei(()=>{Le=void 0,de=void 0,vt=void 0},{oneTimeCallback:!0}),We||Ze()),Zt)}}},1273:(Cn,mt,P)=>{"use strict";P.d(mt,{E:()=>he,a:()=>y,s:()=>Ve});const y=ne=>{try{if(ne instanceof G)return ne.value;if(!se()||"string"!=typeof ne||""===ne)return ne;if(ne.includes("onload="))return"";const me=document.createDocumentFragment(),Ne=document.createElement("div");me.appendChild(Ne),Ne.innerHTML=ne,ze.forEach(ce=>{const ke=me.querySelectorAll(ce);for(let St=ke.length-1;St>=0;St--){const Bt=ke[St];Bt.parentNode?Bt.parentNode.removeChild(Bt):me.removeChild(Bt);const $e=re(Bt);for(let Ee=0;Ee<$e.length;Ee++)_($e[Ee])}});const be=re(me);for(let ce=0;ce<be.length;ce++)_(be[ce]);const qe=document.createElement("div");qe.appendChild(me);const ut=qe.querySelector("div");return null!==ut?ut.innerHTML:qe.innerHTML}catch(me){return console.error(me),""}},_=ne=>{if(ne.nodeType&&1!==ne.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ne.attributes instanceof NamedNodeMap))return void ne.remove();for(let Ne=ne.attributes.length-1;Ne>=0;Ne--){const be=ne.attributes.item(Ne),qe=be.name;if(!xe.includes(qe.toLowerCase())){ne.removeAttribute(qe);continue}const ut=be.value,ce=ne[qe];(null!=ut&&ut.toLowerCase().includes("javascript:")||null!=ce&&ce.toLowerCase().includes("javascript:"))&&ne.removeAttribute(qe)}const me=re(ne);for(let Ne=0;Ne<me.length;Ne++)_(me[Ne])},re=ne=>null!=ne.children?ne.children:ne.childNodes,se=()=>{var ne;const me=window,Ne=null===(ne=null==me?void 0:me.Ionic)||void 0===ne?void 0:ne.config;return!Ne||(Ne.get?Ne.get("sanitizerEnabled",!0):!0===Ne.sanitizerEnabled||void 0===Ne.sanitizerEnabled)},xe=["class","id","href","src","name","slot"],ze=["script","style","iframe","meta","link","object","embed"];class G{constructor(me){this.value=me}}const Ve=ne=>{const me=window,Ne=me.Ionic;if(!Ne||!Ne.config||"Object"===Ne.config.constructor.name)return me.Ionic=me.Ionic||{},me.Ionic.config=Object.assign(Object.assign({},me.Ionic.config),ne),me.Ionic.config},he=!1},9439:(Cn,mt,P)=>{"use strict";P.d(mt,{C:()=>xe,a:()=>re,d:()=>se});var y=P(5861),_=P(544);const re=function(){var ze=(0,y.Z)(function*(G,Ve,Ce,he,ne,me){var Ne;if(G)return G.attachViewToDom(Ve,Ce,ne,he);if(!(me||"string"==typeof Ce||Ce instanceof HTMLElement))throw new Error("framework delegate is missing");const be="string"==typeof Ce?null===(Ne=Ve.ownerDocument)||void 0===Ne?void 0:Ne.createElement(Ce):Ce;return he&&he.forEach(qe=>be.classList.add(qe)),ne&&Object.assign(be,ne),Ve.appendChild(be),yield new Promise(qe=>(0,_.c)(be,qe)),be});return function(Ve,Ce,he,ne,me,Ne){return ze.apply(this,arguments)}}(),se=(ze,G)=>{if(G){if(ze)return ze.removeViewFromDom(G.parentElement,G);G.remove()}return Promise.resolve()},xe=()=>{let ze,G;return{attachViewToDom:function(){var he=(0,y.Z)(function*(ne,me,Ne={},be=[]){var qe,ut;if(ze=ne,me){const ke="string"==typeof me?null===(qe=ze.ownerDocument)||void 0===qe?void 0:qe.createElement(me):me;be.forEach(St=>ke.classList.add(St)),Object.assign(ke,Ne),ze.appendChild(ke),yield new Promise(St=>(0,_.c)(ke,St))}else if(ze.children.length>0&&("ION-MODAL"===ze.tagName||"ION-POPOVER"===ze.tagName)&&!ze.children[0].classList.contains("ion-delegate-host")){const St=null===(ut=ze.ownerDocument)||void 0===ut?void 0:ut.createElement("div");St.classList.add("ion-delegate-host"),be.forEach(Bt=>St.classList.add(Bt)),St.append(...ze.children),ze.appendChild(St)}const ce=document.querySelector("ion-app")||document.body;return G=document.createComment("ionic teleport"),ze.parentNode.insertBefore(G,ze),ce.appendChild(ze),ze});return function(me,Ne){return he.apply(this,arguments)}}(),removeViewFromDom:()=>(ze&&G&&(G.parentNode.insertBefore(ze,G),G.remove()),Promise.resolve())}}},4587:(Cn,mt,P)=>{"use strict";P.d(mt,{G:()=>xe});class _{constructor(G,Ve,Ce,he,ne){this.id=Ve,this.name=Ce,this.disableScroll=ne,this.priority=1e6*he+Ve,this.ctrl=G}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const G=this.ctrl.capture(this.name,this.id,this.priority);return G&&this.disableScroll&&this.ctrl.disableScroll(this.id),G}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(G,Ve,Ce,he){this.id=Ve,this.disable=Ce,this.disableScroll=he,this.ctrl=G}block(){if(this.ctrl){if(this.disable)for(const G of this.disable)this.ctrl.disableGesture(G,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const G of this.disable)this.ctrl.enableGesture(G,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const se="backdrop-no-scroll",xe=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(G){var Ve;return new _(this,this.newID(),G.name,null!==(Ve=G.priority)&&void 0!==Ve?Ve:0,!!G.disableScroll)}createBlocker(G={}){return new re(this,this.newID(),G.disable,!!G.disableScroll)}start(G,Ve,Ce){return this.canStart(G)?(this.requestedStart.set(Ve,Ce),!0):(this.requestedStart.delete(Ve),!1)}capture(G,Ve,Ce){if(!this.start(G,Ve,Ce))return!1;const he=this.requestedStart;let ne=-1e4;if(he.forEach(me=>{ne=Math.max(ne,me)}),ne===Ce){this.capturedId=Ve,he.clear();const me=new CustomEvent("ionGestureCaptured",{detail:{gestureName:G}});return document.dispatchEvent(me),!0}return he.delete(Ve),!1}release(G){this.requestedStart.delete(G),this.capturedId===G&&(this.capturedId=void 0)}disableGesture(G,Ve){let Ce=this.disabledGestures.get(G);void 0===Ce&&(Ce=new Set,this.disabledGestures.set(G,Ce)),Ce.add(Ve)}enableGesture(G,Ve){const Ce=this.disabledGestures.get(G);void 0!==Ce&&Ce.delete(Ve)}disableScroll(G){this.disabledScroll.add(G),1===this.disabledScroll.size&&document.body.classList.add(se)}enableScroll(G){this.disabledScroll.delete(G),0===this.disabledScroll.size&&document.body.classList.remove(se)}canStart(G){return!(void 0!==this.capturedId||this.isDisabled(G))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(G){const Ve=this.disabledGestures.get(G);return!!(Ve&&Ve.size>0)}newID(){return this.gestureId++,this.gestureId}}},5421:(Cn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{MENU_BACK_BUTTON_PRIORITY:()=>xe,OVERLAY_BACK_BUTTON_PRIORITY:()=>se,blockHardwareBackButton:()=>_,startHardwareBackButton:()=>re});var y=P(5861);const _=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const ze=document;let G=!1;ze.addEventListener("backbutton",()=>{if(G)return;let Ve=0,Ce=[];const he=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ne,be){Ce.push({priority:Ne,handler:be,id:Ve++})}}});ze.dispatchEvent(he);const ne=function(){var Ne=(0,y.Z)(function*(be){try{if(null!=be&&be.handler){const qe=be.handler(me);null!=qe&&(yield qe)}}catch(qe){console.error(qe)}});return function(qe){return Ne.apply(this,arguments)}}(),me=()=>{if(Ce.length>0){let Ne={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ce.forEach(be=>{be.priority>=Ne.priority&&(Ne=be)}),G=!0,Ce=Ce.filter(be=>be.id!==Ne.id),ne(Ne).then(()=>G=!1)}};me()})},se=100,xe=99},544:(Cn,mt,P)=>{"use strict";P.d(mt,{a:()=>Ve,b:()=>Ce,c:()=>re,d:()=>ut,e:()=>qe,f:()=>be,g:()=>he,h:()=>Ne,i:()=>G,j:()=>Ee,k:()=>xe,l:()=>ce,m:()=>se,n:()=>me,o:()=>ke,p:()=>$e,q:()=>je,r:()=>ne,s:()=>z,t:()=>y,u:()=>St,v:()=>Bt});const y=(Re,ve=0)=>new Promise(we=>{_(Re,ve,we)}),_=(Re,ve=0,we)=>{let We,lt;const it={passive:!0},It=()=>{We&&We()},an=dt=>{(void 0===dt||Re===dt.target)&&(It(),we(dt))};return Re&&(Re.addEventListener("webkitTransitionEnd",an,it),Re.addEventListener("transitionend",an,it),lt=setTimeout(an,ve+500),We=()=>{lt&&(clearTimeout(lt),lt=void 0),Re.removeEventListener("webkitTransitionEnd",an,it),Re.removeEventListener("transitionend",an,it)}),It},re=(Re,ve)=>{Re.componentOnReady?Re.componentOnReady().then(we=>ve(we)):ne(()=>ve(Re))},se=Re=>void 0!==Re.componentOnReady,xe=(Re,ve=[])=>{const we={};return ve.forEach(We=>{Re.hasAttribute(We)&&(null!==Re.getAttribute(We)&&(we[We]=Re.getAttribute(We)),Re.removeAttribute(We))}),we},ze=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],G=(Re,ve)=>{let we=ze;return ve&&ve.length>0&&(we=we.filter(We=>!ve.includes(We))),xe(Re,we)},Ve=(Re,ve,we,We)=>{var lt;if(typeof window<"u"){const it=window,ht=null===(lt=null==it?void 0:it.Ionic)||void 0===lt?void 0:lt.config;if(ht){const It=ht.get("_ael");if(It)return It(Re,ve,we,We);if(ht._ael)return ht._ael(Re,ve,we,We)}}return Re.addEventListener(ve,we,We)},Ce=(Re,ve,we,We)=>{var lt;if(typeof window<"u"){const it=window,ht=null===(lt=null==it?void 0:it.Ionic)||void 0===lt?void 0:lt.config;if(ht){const It=ht.get("_rel");if(It)return It(Re,ve,we,We);if(ht._rel)return ht._rel(Re,ve,we,We)}}return Re.removeEventListener(ve,we,We)},he=(Re,ve=Re)=>Re.shadowRoot||ve,ne=Re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Re):"function"==typeof requestAnimationFrame?requestAnimationFrame(Re):setTimeout(Re),me=Re=>!!Re.shadowRoot&&!!Re.attachShadow,Ne=Re=>{const ve=Re.closest("ion-item");return ve?ve.querySelector("ion-label"):null},be=Re=>{if(Re.focus(),Re.classList.contains("ion-focusable")){const ve=Re.closest("ion-app");ve&&ve.setFocus([Re])}},qe=(Re,ve)=>{let we;const We=Re.getAttribute("aria-labelledby"),lt=Re.id;let it=null!==We&&""!==We.trim()?We:ve+"-lbl",ht=null!==We&&""!==We.trim()?document.getElementById(We):Ne(Re);return ht?(null===We&&(ht.id=it),we=ht.textContent,ht.setAttribute("aria-hidden","true")):""!==lt.trim()&&(ht=document.querySelector(`label[for="${lt}"]`),ht&&(""!==ht.id?it=ht.id:ht.id=it=`${lt}-lbl`,we=ht.textContent)),{label:ht,labelId:it,labelText:we}},ut=(Re,ve,we,We,lt)=>{if(Re||me(ve)){let it=ve.querySelector("input.aux-input");it||(it=ve.ownerDocument.createElement("input"),it.type="hidden",it.classList.add("aux-input"),ve.appendChild(it)),it.disabled=lt,it.name=we,it.value=We||""}},ce=(Re,ve,we)=>Math.max(Re,Math.min(ve,we)),ke=(Re,ve)=>{if(!Re){const we="ASSERT: "+ve;throw console.error(we),new Error(we)}},St=Re=>Re.timeStamp||Date.now(),Bt=Re=>{if(Re){const ve=Re.changedTouches;if(ve&&ve.length>0){const we=ve[0];return{x:we.clientX,y:we.clientY}}if(void 0!==Re.pageX)return{x:Re.pageX,y:Re.pageY}}return{x:0,y:0}},$e=Re=>{const ve="rtl"===document.dir;switch(Re){case"start":return ve;case"end":return!ve;default:throw new Error(`"${Re}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ee=(Re,ve)=>{const we=Re._original||Re;return{_original:Re,emit:je(we.emit.bind(we),ve)}},je=(Re,ve=0)=>{let we;return(...We)=>{clearTimeout(we),we=setTimeout(Re,ve,...We)}},z=(Re,ve)=>{if(null!=Re||(Re={}),null!=ve||(ve={}),Re===ve)return!0;const we=Object.keys(Re);if(we.length!==Object.keys(ve).length)return!1;for(const We of we)if(!(We in ve)||Re[We]!==ve[We])return!1;return!0}},6953:(Cn,mt,P)=>{"use strict";P.d(mt,{B:()=>ne,H:()=>It,a:()=>ts,b:()=>pr,c:()=>xt,d:()=>Ft,e:()=>Rt,f:()=>Zt,g:()=>on,h:()=>it,i:()=>hi,j:()=>me,p:()=>$i,r:()=>pt,w:()=>Vt});var y=P(5861);let re,se,xe,ze=!1,G=!1,Ve=!1,Ce=!1,he=!1;const ne={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},me=q=>{const pe=new URL(q,Zr.$resourcesUrl$);return pe.origin!==Gr.location.origin?pe.href:pe.pathname},St="s-id",Bt="sty-id",je="http://www.w3.org/1999/xlink",z={},We=q=>"object"==(q=typeof q)||"function"===q;function lt(q){var pe,ue,Y;return null!==(Y=null===(ue=null===(pe=q.head)||void 0===pe?void 0:pe.querySelector('meta[name="csp-nonce"]'))||void 0===ue?void 0:ue.getAttribute("content"))&&void 0!==Y?Y:void 0}const it=(q,pe,...ue)=>{let Y=null,ie=null,ge=null,ot=!1,kt=!1;const $t=[],Ht=Mn=>{for(let Kn=0;Kn<Mn.length;Kn++)Y=Mn[Kn],Array.isArray(Y)?Ht(Y):null!=Y&&"boolean"!=typeof Y&&((ot="function"!=typeof q&&!We(Y))&&(Y=String(Y)),ot&&kt?$t[$t.length-1].$text$+=Y:$t.push(ot?ht(null,Y):Y),kt=ot)};if(Ht(ue),pe){pe.key&&(ie=pe.key),pe.name&&(ge=pe.name);{const Mn=pe.className||pe.class;Mn&&(pe.class="object"!=typeof Mn?Mn:Object.keys(Mn).filter(Kn=>Mn[Kn]).join(" "))}}if("function"==typeof q)return q(null===pe?{}:pe,$t,dt);const sn=ht(q,null);return sn.$attrs$=pe,$t.length>0&&(sn.$children$=$t),sn.$key$=ie,sn.$name$=ge,sn},ht=(q,pe)=>({$flags$:0,$tag$:q,$text$:pe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),It={},dt={forEach:(q,pe)=>q.map(Me).forEach(pe),map:(q,pe)=>q.map(Me).map(pe).map(Q)},Me=q=>({vattrs:q.$attrs$,vchildren:q.$children$,vkey:q.$key$,vname:q.$name$,vtag:q.$tag$,vtext:q.$text$}),Q=q=>{if("function"==typeof q.vtag){const ue=Object.assign({},q.vattrs);return q.vkey&&(ue.key=q.vkey),q.vname&&(ue.name=q.vname),it(q.vtag,ue,...q.vchildren||[])}const pe=ht(q.vtag,q.vtext);return pe.$attrs$=q.vattrs,pe.$children$=q.vchildren,pe.$key$=q.vkey,pe.$name$=q.vname,pe},Le=(q,pe,ue,Y,ie,ge,ot)=>{let kt,$t,Ht,sn;if(1===ge.nodeType){for(kt=ge.getAttribute("c-id"),kt&&($t=kt.split("."),($t[0]===ot||"0"===$t[0])&&(Ht={$flags$:0,$hostId$:$t[0],$nodeId$:$t[1],$depth$:$t[2],$index$:$t[3],$tag$:ge.tagName.toLowerCase(),$elm$:ge,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},pe.push(Ht),ge.removeAttribute("c-id"),q.$children$||(q.$children$=[]),q.$children$[Ht.$index$]=Ht,q=Ht,Y&&"0"===Ht.$depth$&&(Y[Ht.$index$]=Ht.$elm$))),sn=ge.childNodes.length-1;sn>=0;sn--)Le(q,pe,ue,Y,ie,ge.childNodes[sn],ot);if(ge.shadowRoot)for(sn=ge.shadowRoot.childNodes.length-1;sn>=0;sn--)Le(q,pe,ue,Y,ie,ge.shadowRoot.childNodes[sn],ot)}else if(8===ge.nodeType)$t=ge.nodeValue.split("."),($t[1]===ot||"0"===$t[1])&&(kt=$t[0],Ht={$flags$:0,$hostId$:$t[1],$nodeId$:$t[2],$depth$:$t[3],$index$:$t[4],$elm$:ge,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===kt?(Ht.$elm$=ge.nextSibling,Ht.$elm$&&3===Ht.$elm$.nodeType&&(Ht.$text$=Ht.$elm$.textContent,pe.push(Ht),ge.remove(),q.$children$||(q.$children$=[]),q.$children$[Ht.$index$]=Ht,Y&&"0"===Ht.$depth$&&(Y[Ht.$index$]=Ht.$elm$))):Ht.$hostId$===ot&&("s"===kt?(Ht.$tag$="slot",ge["s-sn"]=$t[5]?Ht.$name$=$t[5]:"",ge["s-sr"]=!0,Y&&(Ht.$elm$=ar.createElement(Ht.$tag$),Ht.$name$&&Ht.$elm$.setAttribute("name",Ht.$name$),ge.parentNode.insertBefore(Ht.$elm$,ge),ge.remove(),"0"===Ht.$depth$&&(Y[Ht.$index$]=Ht.$elm$)),ue.push(Ht),q.$children$||(q.$children$=[]),q.$children$[Ht.$index$]=Ht):"r"===kt&&(Y?ge.remove():(ie["s-cr"]=ge,ge["s-cn"]=!0))));else if(q&&"style"===q.$tag$){const Mn=ht(null,ge.textContent);Mn.$elm$=ge,Mn.$index$="0",q.$children$=[Mn]}},vt=(q,pe)=>{if(1===q.nodeType){let ue=0;for(;ue<q.childNodes.length;ue++)vt(q.childNodes[ue],pe);if(q.shadowRoot)for(ue=0;ue<q.shadowRoot.childNodes.length;ue++)vt(q.shadowRoot.childNodes[ue],pe)}else if(8===q.nodeType){const ue=q.nodeValue.split(".");"o"===ue[0]&&(pe.set(ue[1]+"."+ue[2],q),q.nodeValue="",q["s-en"]=ue[3])}},xt=q=>ni.push(q),on=q=>Xe(q).$modeName$,Zt=q=>Xe(q).$hostElement$,Ft=(q,pe,ue)=>{const Y=Zt(q);return{emit:ie=>Nt(Y,pe,{bubbles:!!(4&ue),composed:!!(2&ue),cancelable:!!(1&ue),detail:ie})}},Nt=(q,pe,ue)=>{const Y=Zr.ce(pe,ue);return q.dispatchEvent(Y),Y},tn=new WeakMap,nn=(q,pe,ue)=>{let Y=jr.get(q);Yi&&ue?(Y=Y||new CSSStyleSheet,"string"==typeof Y?Y=pe:Y.replaceSync(pe)):Y=pe,jr.set(q,Y)},xn=(q,pe,ue,Y)=>{var ie;let ge=$n(pe,ue);const ot=jr.get(ge);if(q=11===q.nodeType?q:ar,ot)if("string"==typeof ot){let $t,kt=tn.get(q=q.head||q);if(kt||tn.set(q,kt=new Set),!kt.has(ge)){if(q.host&&($t=q.querySelector(`[${Bt}="${ge}"]`)))$t.innerHTML=ot;else{$t=ar.createElement("style"),$t.innerHTML=ot;const Ht=null!==(ie=Zr.$nonce$)&&void 0!==ie?ie:lt(ar);null!=Ht&&$t.setAttribute("nonce",Ht),q.insertBefore($t,q.querySelector("link"))}kt&&kt.add(ge)}}else q.adoptedStyleSheets.includes(ot)||(q.adoptedStyleSheets=[...q.adoptedStyleSheets,ot]);return ge},$n=(q,pe)=>"sc-"+(pe&&32&q.$flags$?q.$tagName$+"-"+pe:q.$tagName$),tr=q=>q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ar=(q,pe,ue,Y,ie,ge)=>{if(ue!==Y){let ot=Sn(q,pe),kt=pe.toLowerCase();if("class"===pe){const $t=q.classList,Ht=sr(ue),sn=sr(Y);$t.remove(...Ht.filter(Mn=>Mn&&!sn.includes(Mn))),$t.add(...sn.filter(Mn=>Mn&&!Ht.includes(Mn)))}else if("style"===pe){for(const $t in ue)(!Y||null==Y[$t])&&($t.includes("-")?q.style.removeProperty($t):q.style[$t]="");for(const $t in Y)(!ue||Y[$t]!==ue[$t])&&($t.includes("-")?q.style.setProperty($t,Y[$t]):q.style[$t]=Y[$t])}else if("key"!==pe)if("ref"===pe)Y&&Y(q);else if(ot||"o"!==pe[0]||"n"!==pe[1]){const $t=We(Y);if((ot||$t&&null!==Y)&&!ie)try{if(q.tagName.includes("-"))q[pe]=Y;else{const sn=null==Y?"":Y;"list"===pe?ot=!1:(null==ue||q[pe]!=sn)&&(q[pe]=sn)}}catch{}let Ht=!1;kt!==(kt=kt.replace(/^xlink\:?/,""))&&(pe=kt,Ht=!0),null==Y||!1===Y?(!1!==Y||""===q.getAttribute(pe))&&(Ht?q.removeAttributeNS(je,pe):q.removeAttribute(pe)):(!ot||4&ge||ie)&&!$t&&(Y=!0===Y?"":Y,Ht?q.setAttributeNS(je,pe,Y):q.setAttribute(pe,Y))}else pe="-"===pe[2]?pe.slice(3):Sn(Gr,kt)?kt.slice(2):kt[2]+pe.slice(3),ue&&Zr.rel(q,pe,ue,!1),Y&&Zr.ael(q,pe,Y,!1)}},Hr=/\s/,sr=q=>q?q.split(Hr):[],Fr=(q,pe,ue,Y)=>{const ie=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,ge=q&&q.$attrs$||z,ot=pe.$attrs$||z;for(Y in ge)Y in ot||Ar(ie,Y,ge[Y],void 0,ue,pe.$flags$);for(Y in ot)Ar(ie,Y,ge[Y],ot[Y],ue,pe.$flags$)},mn=(q,pe,ue,Y)=>{const ie=pe.$children$[ue];let ot,kt,$t,ge=0;if(ze||(Ve=!0,"slot"===ie.$tag$&&(re&&Y.classList.add(re+"-s"),ie.$flags$|=ie.$children$?2:1)),null!==ie.$text$)ot=ie.$elm$=ar.createTextNode(ie.$text$);else if(1&ie.$flags$)ot=ie.$elm$=ar.createTextNode("");else{if(Ce||(Ce="svg"===ie.$tag$),ot=ie.$elm$=ar.createElementNS(Ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ie.$flags$?"slot-fb":ie.$tag$),Ce&&"foreignObject"===ie.$tag$&&(Ce=!1),Fr(null,ie,Ce),(q=>null!=q)(re)&&ot["s-si"]!==re&&ot.classList.add(ot["s-si"]=re),ie.$children$)for(ge=0;ge<ie.$children$.length;++ge)kt=mn(q,ie,ge,ot),kt&&ot.appendChild(kt);"svg"===ie.$tag$?Ce=!1:"foreignObject"===ot.tagName&&(Ce=!0)}return ot["s-hn"]=xe,3&ie.$flags$&&(ot["s-sr"]=!0,ot["s-cr"]=se,ot["s-sn"]=ie.$name$||"",$t=q&&q.$children$&&q.$children$[ue],$t&&$t.$tag$===ie.$tag$&&q.$elm$&&Yr(q.$elm$,!1)),ot},Yr=(q,pe)=>{Zr.$flags$|=1;const ue=q.childNodes;for(let Y=ue.length-1;Y>=0;Y--){const ie=ue[Y];ie["s-hn"]!==xe&&ie["s-ol"]&&($r(ie).insertBefore(ie,dr(ie)),ie["s-ol"].remove(),ie["s-ol"]=void 0,Ve=!0),pe&&Yr(ie,pe)}Zr.$flags$&=-2},qr=(q,pe,ue,Y,ie,ge)=>{let kt,ot=q["s-cr"]&&q["s-cr"].parentNode||q;for(ot.shadowRoot&&ot.tagName===xe&&(ot=ot.shadowRoot);ie<=ge;++ie)Y[ie]&&(kt=mn(null,ue,ie,q),kt&&(Y[ie].$elm$=kt,ot.insertBefore(kt,dr(pe))))},Hn=(q,pe,ue)=>{for(let Y=pe;Y<=ue;++Y){const ie=q[Y];if(ie){const ge=ie.$elm$;Sr(ie),ge&&(G=!0,ge["s-ol"]?ge["s-ol"].remove():Yr(ge,!0),ge.remove())}}},Br=(q,pe)=>q.$tag$===pe.$tag$&&("slot"===q.$tag$?q.$name$===pe.$name$:q.$key$===pe.$key$),dr=q=>q&&q["s-ol"]||q,$r=q=>(q["s-ol"]?q["s-ol"]:q).parentNode,Ei=(q,pe)=>{const ue=pe.$elm$=q.$elm$,Y=q.$children$,ie=pe.$children$,ge=pe.$tag$,ot=pe.$text$;let kt;null===ot?(Ce="svg"===ge||"foreignObject"!==ge&&Ce,"slot"===ge||Fr(q,pe,Ce),null!==Y&&null!==ie?((q,pe,ue,Y)=>{let wr,ft,ie=0,ge=0,ot=0,kt=0,$t=pe.length-1,Ht=pe[0],sn=pe[$t],Mn=Y.length-1,Kn=Y[0],lr=Y[Mn];for(;ie<=$t&&ge<=Mn;)if(null==Ht)Ht=pe[++ie];else if(null==sn)sn=pe[--$t];else if(null==Kn)Kn=Y[++ge];else if(null==lr)lr=Y[--Mn];else if(Br(Ht,Kn))Ei(Ht,Kn),Ht=pe[++ie],Kn=Y[++ge];else if(Br(sn,lr))Ei(sn,lr),sn=pe[--$t],lr=Y[--Mn];else if(Br(Ht,lr))("slot"===Ht.$tag$||"slot"===lr.$tag$)&&Yr(Ht.$elm$.parentNode,!1),Ei(Ht,lr),q.insertBefore(Ht.$elm$,sn.$elm$.nextSibling),Ht=pe[++ie],lr=Y[--Mn];else if(Br(sn,Kn))("slot"===Ht.$tag$||"slot"===lr.$tag$)&&Yr(sn.$elm$.parentNode,!1),Ei(sn,Kn),q.insertBefore(sn.$elm$,Ht.$elm$),sn=pe[--$t],Kn=Y[++ge];else{for(ot=-1,kt=ie;kt<=$t;++kt)if(pe[kt]&&null!==pe[kt].$key$&&pe[kt].$key$===Kn.$key$){ot=kt;break}ot>=0?(ft=pe[ot],ft.$tag$!==Kn.$tag$?wr=mn(pe&&pe[ge],ue,ot,q):(Ei(ft,Kn),pe[ot]=void 0,wr=ft.$elm$),Kn=Y[++ge]):(wr=mn(pe&&pe[ge],ue,ge,q),Kn=Y[++ge]),wr&&$r(Ht.$elm$).insertBefore(wr,dr(Ht.$elm$))}ie>$t?qr(q,null==Y[Mn+1]?null:Y[Mn+1].$elm$,ue,Y,ge,Mn):ge>Mn&&Hn(pe,ie,$t)})(ue,Y,pe,ie):null!==ie?(null!==q.$text$&&(ue.textContent=""),qr(ue,null,pe,ie,0,ie.length-1)):null!==Y&&Hn(Y,0,Y.length-1),Ce&&"svg"===ge&&(Ce=!1)):(kt=ue["s-cr"])?kt.parentNode.textContent=ot:q.$text$!==ot&&(ue.data=ot)},fr=q=>{const pe=q.childNodes;let ue,Y,ie,ge,ot,kt;for(Y=0,ie=pe.length;Y<ie;Y++)if(ue=pe[Y],1===ue.nodeType){if(ue["s-sr"])for(ot=ue["s-sn"],ue.hidden=!1,ge=0;ge<ie;ge++)if(kt=pe[ge].nodeType,pe[ge]["s-hn"]!==ue["s-hn"]||""!==ot){if(1===kt&&ot===pe[ge].getAttribute("slot")){ue.hidden=!0;break}}else if(1===kt||3===kt&&""!==pe[ge].textContent.trim()){ue.hidden=!0;break}fr(ue)}},Pi=[],xr=q=>{let pe,ue,Y,ie,ge,ot,kt=0;const $t=q.childNodes,Ht=$t.length;for(;kt<Ht;kt++){if(pe=$t[kt],pe["s-sr"]&&(ue=pe["s-cr"])&&ue.parentNode)for(Y=ue.parentNode.childNodes,ie=pe["s-sn"],ot=Y.length-1;ot>=0;ot--)ue=Y[ot],!ue["s-cn"]&&!ue["s-nr"]&&ue["s-hn"]!==pe["s-hn"]&&(Hi(ue,ie)?(ge=Pi.find(sn=>sn.$nodeToRelocate$===ue),G=!0,ue["s-sn"]=ue["s-sn"]||ie,ge?ge.$slotRefNode$=pe:Pi.push({$slotRefNode$:pe,$nodeToRelocate$:ue}),ue["s-sr"]&&Pi.map(sn=>{Hi(sn.$nodeToRelocate$,ue["s-sn"])&&(ge=Pi.find(Mn=>Mn.$nodeToRelocate$===ue),ge&&!sn.$slotRefNode$&&(sn.$slotRefNode$=ge.$slotRefNode$))})):Pi.some(sn=>sn.$nodeToRelocate$===ue)||Pi.push({$nodeToRelocate$:ue}));1===pe.nodeType&&xr(pe)}},Hi=(q,pe)=>1===q.nodeType?null===q.getAttribute("slot")&&""===pe||q.getAttribute("slot")===pe:q["s-sn"]===pe||""===pe,Sr=q=>{q.$attrs$&&q.$attrs$.ref&&q.$attrs$.ref(null),q.$children$&&q.$children$.map(Sr)},Xr=(q,pe)=>{pe&&!q.$onRenderResolve$&&pe["s-p"]&&pe["s-p"].push(new Promise(ue=>q.$onRenderResolve$=ue))},gi=(q,pe)=>{if(q.$flags$|=16,!(4&q.$flags$))return Xr(q,q.$ancestorComponent$),Vt(()=>mi(q,pe));q.$flags$|=512},mi=(q,pe)=>{const Y=q.$lazyInstance$;let ie;return pe&&(q.$flags$|=256,q.$queuedListeners$&&(q.$queuedListeners$.map(([ge,ot])=>oi(Y,ge,ot)),q.$queuedListeners$=void 0),ie=oi(Y,"componentWillLoad")),ie=Di(ie,()=>oi(Y,"componentWillRender")),Di(ie,()=>ei(q,Y,pe))},Di=(q,pe)=>ii(q)?q.then(pe):pe(),ii=q=>q instanceof Promise||q&&q.then&&"function"==typeof q.then,ei=function(){var q=(0,y.Z)(function*(pe,ue,Y){var ie;const ge=pe.$hostElement$,kt=ge["s-rc"];Y&&(q=>{const pe=q.$cmpMeta$,ue=q.$hostElement$,Y=pe.$flags$,ge=xn(ue.shadowRoot?ue.shadowRoot:ue.getRootNode(),pe,q.$modeName$);10&Y&&(ue["s-sc"]=ge,ue.classList.add(ge+"-h"),2&Y&&ue.classList.add(ge+"-s"))})(pe);si(pe,ue),kt&&(kt.map(Ht=>Ht()),ge["s-rc"]=void 0);{const Ht=null!==(ie=ge["s-p"])&&void 0!==ie?ie:[],sn=()=>pi(pe);0===Ht.length?sn():(Promise.all(Ht).then(sn),pe.$flags$|=4,Ht.length=0)}});return function(ue,Y,ie){return q.apply(this,arguments)}}(),si=(q,pe,ue)=>{try{pe=pe.render&&pe.render(),q.$flags$&=-17,q.$flags$|=2,((q,pe)=>{const ue=q.$hostElement$,Y=q.$cmpMeta$,ie=q.$vnode$||ht(null,null),ge=(q=>q&&q.$tag$===It)(pe)?pe:it(null,null,pe);if(xe=ue.tagName,Y.$attrsToReflect$&&(ge.$attrs$=ge.$attrs$||{},Y.$attrsToReflect$.map(([ot,kt])=>ge.$attrs$[kt]=ue[ot])),ge.$tag$=null,ge.$flags$|=4,q.$vnode$=ge,ge.$elm$=ie.$elm$=ue.shadowRoot||ue,re=ue["s-sc"],se=ue["s-cr"],ze=0!=(1&Y.$flags$),G=!1,Ei(ie,ge),Zr.$flags$|=1,Ve){xr(ge.$elm$);let ot,kt,$t,Ht,sn,Mn,Kn=0;for(;Kn<Pi.length;Kn++)ot=Pi[Kn],kt=ot.$nodeToRelocate$,kt["s-ol"]||($t=ar.createTextNode(""),$t["s-nr"]=kt,kt.parentNode.insertBefore(kt["s-ol"]=$t,kt));for(Kn=0;Kn<Pi.length;Kn++)if(ot=Pi[Kn],kt=ot.$nodeToRelocate$,ot.$slotRefNode$){for(Ht=ot.$slotRefNode$.parentNode,sn=ot.$slotRefNode$.nextSibling,$t=kt["s-ol"];$t=$t.previousSibling;)if(Mn=$t["s-nr"],Mn&&Mn["s-sn"]===kt["s-sn"]&&Ht===Mn.parentNode&&(Mn=Mn.nextSibling,!Mn||!Mn["s-nr"])){sn=Mn;break}(!sn&&Ht!==kt.parentNode||kt.nextSibling!==sn)&&kt!==sn&&(!kt["s-hn"]&&kt["s-ol"]&&(kt["s-hn"]=kt["s-ol"].parentNode.nodeName),Ht.insertBefore(kt,sn))}else 1===kt.nodeType&&(kt.hidden=!0)}G&&fr(ge.$elm$),Zr.$flags$&=-2,Pi.length=0})(q,pe)}catch(Y){Rn(Y,q.$hostElement$)}return null},pi=q=>{const ue=q.$hostElement$,ie=q.$lazyInstance$,ge=q.$ancestorComponent$;oi(ie,"componentDidRender"),64&q.$flags$?oi(ie,"componentDidUpdate"):(q.$flags$|=64,st(ue),oi(ie,"componentDidLoad"),q.$onReadyResolve$(ue),ge||ti()),q.$onInstanceResolve$(ue),q.$onRenderResolve$&&(q.$onRenderResolve$(),q.$onRenderResolve$=void 0),512&q.$flags$&&Ze(()=>gi(q,!1)),q.$flags$&=-517},hi=q=>{{const pe=Xe(q),ue=pe.$hostElement$.isConnected;return ue&&2==(18&pe.$flags$)&&gi(pe,!1),ue}},ti=q=>{st(ar.documentElement),Ze(()=>Nt(Gr,"appload",{detail:{namespace:"ionic"}}))},oi=(q,pe,ue)=>{if(q&&q[pe])try{return q[pe](ue)}catch(Y){Rn(Y)}},st=q=>q.classList.add("hydrated"),Se=(q,pe,ue)=>{if(pe.$members$){q.watchers&&(pe.$watchers$=q.watchers);const Y=Object.entries(pe.$members$),ie=q.prototype;if(Y.map(([ge,[ot]])=>{31&ot||2&ue&&32&ot?Object.defineProperty(ie,ge,{get(){return((q,pe)=>Xe(this).$instanceValues$.get(pe))(0,ge)},set(kt){((q,pe,ue,Y)=>{const ie=Xe(q),ge=ie.$hostElement$,ot=ie.$instanceValues$.get(pe),kt=ie.$flags$,$t=ie.$lazyInstance$;ue=((q,pe)=>null==q||We(q)?q:4&pe?"false"!==q&&(""===q||!!q):2&pe?parseFloat(q):1&pe?String(q):q)(ue,Y.$members$[pe][0]);const Ht=Number.isNaN(ot)&&Number.isNaN(ue);if((!(8&kt)||void 0===ot)&&ue!==ot&&!Ht&&(ie.$instanceValues$.set(pe,ue),$t)){if(Y.$watchers$&&128&kt){const Mn=Y.$watchers$[pe];Mn&&Mn.map(Kn=>{try{$t[Kn](ue,ot,pe)}catch(lr){Rn(lr,ge)}})}2==(18&kt)&&gi(ie,!1)}})(this,ge,kt,pe)},configurable:!0,enumerable:!0}):1&ue&&64&ot&&Object.defineProperty(ie,ge,{value(...kt){const $t=Xe(this);return $t.$onInstancePromise$.then(()=>$t.$lazyInstance$[ge](...kt))}})}),1&ue){const ge=new Map;ie.attributeChangedCallback=function(ot,kt,$t){Zr.jmp(()=>{const Ht=ge.get(ot);if(this.hasOwnProperty(Ht))$t=this[Ht],delete this[Ht];else if(ie.hasOwnProperty(Ht)&&"number"==typeof this[Ht]&&this[Ht]==$t)return;this[Ht]=(null!==$t||"boolean"!=typeof this[Ht])&&$t})},q.observedAttributes=Y.filter(([ot,kt])=>15&kt[0]).map(([ot,kt])=>{const $t=kt[1]||ot;return ge.set($t,ot),512&kt[0]&&pe.$attrsToReflect$.push([ot,$t]),$t})}}return q},Fe=function(){var q=(0,y.Z)(function*(pe,ue,Y,ie,ge){if(!(32&ue.$flags$)){ue.$flags$|=32;{if((ge=kr(Y)).then){const Ht=()=>{};ge=yield ge,Ht()}ge.isProxied||(Y.$watchers$=ge.watchers,Se(ge,Y,2),ge.isProxied=!0);const $t=()=>{};ue.$flags$|=8;try{new ge(ue)}catch(Ht){Rn(Ht)}ue.$flags$&=-9,ue.$flags$|=128,$t(),Ut(ue.$lazyInstance$)}if(ge.style){let $t=ge.style;"string"!=typeof $t&&($t=$t[ue.$modeName$=(q=>ni.map(pe=>pe(q)).find(pe=>!!pe))(pe)]);const Ht=$n(Y,ue.$modeName$);if(!jr.has(Ht)){const sn=()=>{};nn(Ht,$t,!!(1&Y.$flags$)),sn()}}}const ot=ue.$ancestorComponent$,kt=()=>gi(ue,!0);ot&&ot["s-rc"]?ot["s-rc"].push(kt):kt()});return function(ue,Y,ie,ge,ot){return q.apply(this,arguments)}}(),Ut=q=>{oi(q,"connectedCallback")},En=q=>{const pe=q["s-cr"]=ar.createComment("");pe["s-cn"]=!0,q.insertBefore(pe,q.firstChild)},pr=(q,pe={})=>{var ue;const ie=[],ge=pe.exclude||[],ot=Gr.customElements,kt=ar.head,$t=kt.querySelector("meta[charset]"),Ht=ar.createElement("style"),sn=[],Mn=ar.querySelectorAll(`[${Bt}]`);let Kn,lr=!0,wr=0;for(Object.assign(Zr,pe),Zr.$resourcesUrl$=new URL(pe.resourcesUrl||"./",ar.baseURI).href,Zr.$flags$|=2;wr<Mn.length;wr++)nn(Mn[wr].getAttribute(Bt),tr(Mn[wr].innerHTML),!0);q.map(ft=>{ft[1].map(bt=>{const Ct={$flags$:bt[0],$tagName$:bt[1],$members$:bt[2],$listeners$:bt[3]};Ct.$members$=bt[2],Ct.$listeners$=bt[3],Ct.$attrsToReflect$=[],Ct.$watchers$={};const dn=Ct.$tagName$,Nn=class extends HTMLElement{constructor(qn){super(qn),jt(qn=this,Ct),1&Ct.$flags$&&qn.attachShadow({mode:"open",delegatesFocus:!!(16&Ct.$flags$)})}connectedCallback(){Kn&&(clearTimeout(Kn),Kn=null),lr?sn.push(this):Zr.jmp(()=>(q=>{if(!(1&Zr.$flags$)){const pe=Xe(q),ue=pe.$cmpMeta$,Y=()=>{};if(1&pe.$flags$)br(q,pe,ue.$listeners$),Ut(pe.$lazyInstance$);else{let ie;if(pe.$flags$|=1,ie=q.getAttribute(St),ie){if(1&ue.$flags$){const ge=xn(q.shadowRoot,ue,q.getAttribute("s-mode"));q.classList.remove(ge+"-h",ge+"-s")}((q,pe,ue,Y)=>{const ge=q.shadowRoot,ot=[],$t=ge?[]:null,Ht=Y.$vnode$=ht(pe,null);Zr.$orgLocNodes$||vt(ar.body,Zr.$orgLocNodes$=new Map),q[St]=ue,q.removeAttribute(St),Le(Ht,ot,[],$t,q,q,ue),ot.map(sn=>{const Mn=sn.$hostId$+"."+sn.$nodeId$,Kn=Zr.$orgLocNodes$.get(Mn),lr=sn.$elm$;Kn&&Wi&&""===Kn["s-en"]&&Kn.parentNode.insertBefore(lr,Kn.nextSibling),ge||(lr["s-hn"]=pe,Kn&&(lr["s-ol"]=Kn,lr["s-ol"]["s-nr"]=lr)),Zr.$orgLocNodes$.delete(Mn)}),ge&&$t.map(sn=>{sn&&ge.appendChild(sn)})})(q,ue.$tagName$,ie,pe)}ie||12&ue.$flags$&&En(q);{let ge=q;for(;ge=ge.parentNode||ge.host;)if(1===ge.nodeType&&ge.hasAttribute("s-id")&&ge["s-p"]||ge["s-p"]){Xr(pe,pe.$ancestorComponent$=ge);break}}ue.$members$&&Object.entries(ue.$members$).map(([ge,[ot]])=>{if(31&ot&&q.hasOwnProperty(ge)){const kt=q[ge];delete q[ge],q[ge]=kt}}),Fe(q,pe,ue)}Y()}})(this))}disconnectedCallback(){Zr.jmp(()=>(q=>{if(!(1&Zr.$flags$)){const pe=Xe(this),ue=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$.map(Y=>Y()),pe.$rmListeners$=void 0),oi(ue,"disconnectedCallback")}})())}componentOnReady(){return Xe(this).$onReadyPromise$}};Ct.$lazyBundleId$=ft[0],!ge.includes(dn)&&!ot.get(dn)&&(ie.push(dn),ot.define(dn,Se(Nn,Ct,1)))})});{Ht.innerHTML=ie+"{visibility:hidden}.hydrated{visibility:inherit}",Ht.setAttribute("data-styles","");const ft=null!==(ue=Zr.$nonce$)&&void 0!==ue?ue:lt(ar);null!=ft&&Ht.setAttribute("nonce",ft),kt.insertBefore(Ht,$t?$t.nextSibling:kt.firstChild)}lr=!1,sn.length?sn.map(ft=>ft.connectedCallback()):Zr.jmp(()=>Kn=setTimeout(ti,30))},br=(q,pe,ue,Y)=>{ue&&ue.map(([ie,ge,ot])=>{const kt=ai(q,ie),$t=Gn(pe,ot),Ht=Gi(ie);Zr.ael(kt,ge,$t,Ht),(pe.$rmListeners$=pe.$rmListeners$||[]).push(()=>Zr.rel(kt,ge,$t,Ht))})},Gn=(q,pe)=>ue=>{try{256&q.$flags$?q.$lazyInstance$[pe](ue):(q.$queuedListeners$=q.$queuedListeners$||[]).push([pe,ue])}catch(Y){Rn(Y)}},ai=(q,pe)=>4&pe?ar:8&pe?Gr:16&pe?ar.body:q,Gi=q=>0!=(2&q),Dt=new WeakMap,Xe=q=>Dt.get(q),pt=(q,pe)=>Dt.set(pe.$lazyInstance$=q,pe),jt=(q,pe)=>{const ue={$flags$:0,$hostElement$:q,$cmpMeta$:pe,$instanceValues$:new Map};return ue.$onInstancePromise$=new Promise(Y=>ue.$onInstanceResolve$=Y),ue.$onReadyPromise$=new Promise(Y=>ue.$onReadyResolve$=Y),q["s-p"]=[],q["s-rc"]=[],br(q,ue,pe.$listeners$),Dt.set(q,ue)},Sn=(q,pe)=>pe in q,Rn=(q,pe)=>(0,console.error)(q,pe),or=new Map,kr=(q,pe,ue)=>{const Y=q.$tagName$.replace(/-/g,"_"),ie=q.$lazyBundleId$,ge=or.get(ie);return ge?ge[Y]:P(863)(`./${ie}.entry.js`).then(ot=>(or.set(ie,ot),ot[Y]),Rn)},jr=new Map,ni=[],Gr=typeof window<"u"?window:{},ar=Gr.document||{head:{}},Zr={$flags$:0,$resourcesUrl$:"",jmp:q=>q(),raf:q=>requestAnimationFrame(q),ael:(q,pe,ue,Y)=>q.addEventListener(pe,ue,Y),rel:(q,pe,ue,Y)=>q.removeEventListener(pe,ue,Y),ce:(q,pe)=>new CustomEvent(q,pe)},ts=q=>{Object.assign(Zr,q)},Wi=!0,$i=q=>Promise.resolve(q),Yi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ui=[],Vi=[],gs=(q,pe)=>ue=>{q.push(ue),he||(he=!0,pe&&4&Zr.$flags$?Ze(Et):Zr.raf(Et))},Ae=q=>{for(let pe=0;pe<q.length;pe++)try{q[pe](performance.now())}catch(ue){Rn(ue)}q.length=0},Et=()=>{Ae(Ui),Ae(Vi),(he=Ui.length>0)&&Zr.raf(Et)},Ze=q=>$i().then(q),Rt=gs(Ui,!1),Vt=gs(Vi,!0)},8077:(Cn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>Ce});var y=P(4587);const _=(Ne,be,qe,ut)=>{const ce=re(Ne)?{capture:!!ut.capture,passive:!!ut.passive}:!!ut.capture;let ke,St;return Ne.__zone_symbol__addEventListener?(ke="__zone_symbol__addEventListener",St="__zone_symbol__removeEventListener"):(ke="addEventListener",St="removeEventListener"),Ne[ke](be,qe,ce),()=>{Ne[St](be,qe,ce)}},re=Ne=>{if(void 0===se)try{const be=Object.defineProperty({},"passive",{get:()=>{se=!0}});Ne.addEventListener("optsTest",()=>{},be)}catch{se=!1}return!!se};let se;const G=Ne=>Ne instanceof Document?Ne:Ne.ownerDocument,Ce=Ne=>{let be=!1,qe=!1,ut=!0,ce=!1;const ke=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ne),St=ke.canStart,Bt=ke.onWillStart,$e=ke.onStart,Ee=ke.onEnd,je=ke.notCaptured,z=ke.onMove,Re=ke.threshold,ve=ke.passive,we=ke.blurOnStart,We={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},lt=((Ne,be,qe)=>{const ut=qe*(Math.PI/180),ce="x"===Ne,ke=Math.cos(ut),St=be*be;let Bt=0,$e=0,Ee=!1,je=0;return{start(z,Re){Bt=z,$e=Re,je=0,Ee=!0},detect(z,Re){if(!Ee)return!1;const ve=z-Bt,we=Re-$e,We=ve*ve+we*we;if(We<St)return!1;const lt=Math.sqrt(We),it=(ce?ve:we)/lt;return je=it>ke?1:it<-ke?-1:0,Ee=!1,!0},isGesture:()=>0!==je,getDirection:()=>je}})(ke.direction,ke.threshold,ke.maxAngle),it=y.G.createGesture({name:Ne.gestureName,priority:Ne.gesturePriority,disableScroll:Ne.disableScroll}),an=()=>{be&&(ce=!1,z&&z(We))},dt=()=>!!it.capture()&&(be=!0,ut=!1,We.startX=We.currentX,We.startY=We.currentY,We.startTime=We.currentTime,Bt?Bt(We).then(Q):Q(),!0),Q=()=>{we&&(()=>{if(typeof document<"u"){const xt=document.activeElement;null!=xt&&xt.blur&&xt.blur()}})(),$e&&$e(We),ut=!0},de=()=>{be=!1,qe=!1,ce=!1,ut=!0,it.release()},Le=xt=>{const on=be,Xt=ut;if(de(),Xt){if(he(We,xt),on)return void(Ee&&Ee(We));je&&je(We)}},vt=((Ne,be,qe,ut,ce)=>{let ke,St,Bt,$e,Ee,je,z,Re=0;const ve=Me=>{Re=Date.now()+2e3,be(Me)&&(!St&&qe&&(St=_(Ne,"touchmove",qe,ce)),Bt||(Bt=_(Me.target,"touchend",We,ce)),$e||($e=_(Me.target,"touchcancel",We,ce)))},we=Me=>{Re>Date.now()||be(Me)&&(!je&&qe&&(je=_(G(Ne),"mousemove",qe,ce)),z||(z=_(G(Ne),"mouseup",lt,ce)))},We=Me=>{it(),ut&&ut(Me)},lt=Me=>{ht(),ut&&ut(Me)},it=()=>{St&&St(),Bt&&Bt(),$e&&$e(),St=Bt=$e=void 0},ht=()=>{je&&je(),z&&z(),je=z=void 0},It=()=>{it(),ht()},an=(Me=!0)=>{Me?(ke||(ke=_(Ne,"touchstart",ve,ce)),Ee||(Ee=_(Ne,"mousedown",we,ce))):(ke&&ke(),Ee&&Ee(),ke=Ee=void 0,It())};return{enable:an,stop:It,destroy:()=>{an(!1),ut=qe=be=void 0}}})(ke.el,xt=>{const on=me(xt);return!(qe||!ut||(ne(xt,We),We.startX=We.currentX,We.startY=We.currentY,We.startTime=We.currentTime=on,We.velocityX=We.velocityY=We.deltaX=We.deltaY=0,We.event=xt,St&&!1===St(We))||(it.release(),!it.start()))&&(qe=!0,0===Re?dt():(lt.start(We.startX,We.startY),!0))},xt=>{be?!ce&&ut&&(ce=!0,he(We,xt),requestAnimationFrame(an)):(he(We,xt),lt.detect(We.currentX,We.currentY)&&(!lt.isGesture()||!dt())&&Tt())},Le,{capture:!1,passive:ve}),Tt=()=>{de(),vt.stop(),je&&je(We)};return{enable(xt=!0){xt||(be&&Le(void 0),de()),vt.enable(xt)},destroy(){it.destroy(),vt.destroy()}}},he=(Ne,be)=>{if(!be)return;const qe=Ne.currentX,ut=Ne.currentY,ce=Ne.currentTime;ne(be,Ne);const ke=Ne.currentX,St=Ne.currentY,$e=(Ne.currentTime=me(be))-ce;if($e>0&&$e<100){const je=(St-ut)/$e;Ne.velocityX=(ke-qe)/$e*.7+.3*Ne.velocityX,Ne.velocityY=.7*je+.3*Ne.velocityY}Ne.deltaX=ke-Ne.startX,Ne.deltaY=St-Ne.startY,Ne.event=be},ne=(Ne,be)=>{let qe=0,ut=0;if(Ne){const ce=Ne.changedTouches;if(ce&&ce.length>0){const ke=ce[0];qe=ke.clientX,ut=ke.clientY}else void 0!==Ne.pageX&&(qe=Ne.pageX,ut=Ne.pageY)}be.currentX=qe,be.currentY=ut},me=Ne=>Ne.timeStamp||Date.now()},1767:(Cn,mt,P)=>{"use strict";P.d(mt,{m:()=>ne});var y=P(5861),_=P(5421),re=P(544),se=P(7876),xe=P(6506);const ze=me=>(0,xe.c)().duration(me?400:300),G=me=>{let Ne,be;const qe=me.width+8,ut=(0,xe.c)(),ce=(0,xe.c)();me.isEndSide?(Ne=qe+"px",be="0px"):(Ne=-qe+"px",be="0px"),ut.addElement(me.menuInnerEl).fromTo("transform",`translateX(${Ne})`,`translateX(${be})`);const St="ios"===(0,se.b)(me),Bt=St?.2:.25;return ce.addElement(me.backdropEl).fromTo("opacity",.01,Bt),ze(St).addAnimation([ut,ce])},Ve=me=>{let Ne,be;const qe=(0,se.b)(me),ut=me.width;me.isEndSide?(Ne=-ut+"px",be=ut+"px"):(Ne=ut+"px",be=-ut+"px");const ce=(0,xe.c)().addElement(me.menuInnerEl).fromTo("transform",`translateX(${be})`,"translateX(0px)"),ke=(0,xe.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ne})`),St=(0,xe.c)().addElement(me.backdropEl).fromTo("opacity",.01,.32);return ze("ios"===qe).addAnimation([ce,ke,St])},Ce=me=>{const Ne=(0,se.b)(me),be=me.width*(me.isEndSide?-1:1)+"px",qe=(0,xe.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${be})`);return ze("ios"===Ne).addAnimation(qe)},ne=(()=>{const me=new Map,Ne=[],be=function(){var Q=(0,y.Z)(function*(de){const Le=yield $e(de);return!!Le&&Le.open()});return function(Le){return Q.apply(this,arguments)}}(),qe=function(){var Q=(0,y.Z)(function*(de){const Le=yield void 0!==de?$e(de):Ee();return void 0!==Le&&Le.close()});return function(Le){return Q.apply(this,arguments)}}(),ut=function(){var Q=(0,y.Z)(function*(de){const Le=yield $e(de);return!!Le&&Le.toggle()});return function(Le){return Q.apply(this,arguments)}}(),ce=function(){var Q=(0,y.Z)(function*(de,Le){const vt=yield $e(Le);return vt&&(vt.disabled=!de),vt});return function(Le,vt){return Q.apply(this,arguments)}}(),ke=function(){var Q=(0,y.Z)(function*(de,Le){const vt=yield $e(Le);return vt&&(vt.swipeGesture=de),vt});return function(Le,vt){return Q.apply(this,arguments)}}(),St=function(){var Q=(0,y.Z)(function*(de){if(null!=de){const Le=yield $e(de);return void 0!==Le&&Le.isOpen()}return void 0!==(yield Ee())});return function(Le){return Q.apply(this,arguments)}}(),Bt=function(){var Q=(0,y.Z)(function*(de){const Le=yield $e(de);return!!Le&&!Le.disabled});return function(Le){return Q.apply(this,arguments)}}(),$e=function(){var Q=(0,y.Z)(function*(de){return yield Me(),"start"===de||"end"===de?dt(Tt=>Tt.side===de&&!Tt.disabled)||dt(Tt=>Tt.side===de):null!=de?dt(vt=>vt.menuId===de):dt(vt=>!vt.disabled)||(Ne.length>0?Ne[0].el:void 0)});return function(Le){return Q.apply(this,arguments)}}(),Ee=function(){var Q=(0,y.Z)(function*(){return yield Me(),ht()});return function(){return Q.apply(this,arguments)}}(),je=function(){var Q=(0,y.Z)(function*(){return yield Me(),It()});return function(){return Q.apply(this,arguments)}}(),z=function(){var Q=(0,y.Z)(function*(){return yield Me(),an()});return function(){return Q.apply(this,arguments)}}(),Re=(Q,de)=>{me.set(Q,de)},We=Q=>{const de=Q.side;Ne.filter(Le=>Le.side===de&&Le!==Q).forEach(Le=>Le.disabled=!0)},lt=function(){var Q=(0,y.Z)(function*(de,Le,vt){if(an())return!1;if(Le){const Tt=yield Ee();Tt&&de.el!==Tt&&(yield Tt.setOpen(!1,!1))}return de._setOpen(Le,vt)});return function(Le,vt,Tt){return Q.apply(this,arguments)}}(),ht=()=>dt(Q=>Q._isOpen),It=()=>Ne.map(Q=>Q.el),an=()=>Ne.some(Q=>Q.isAnimating),dt=Q=>{const de=Ne.find(Q);if(void 0!==de)return de.el},Me=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Q=>new Promise(de=>(0,re.c)(Q,de))));return Re("reveal",Ce),Re("push",Ve),Re("overlay",G),typeof document<"u"&&document.addEventListener("ionBackButton",Q=>{const de=ht();de&&Q.detail.register(_.MENU_BACK_BUTTON_PRIORITY,()=>de.close())}),{registerAnimation:Re,get:$e,getMenus:je,getOpen:Ee,isEnabled:Bt,swipeGesture:ke,isAnimating:z,isOpen:St,enable:ce,toggle:ut,close:qe,open:be,_getOpenSync:ht,_createAnimation:(Q,de)=>{const Le=me.get(Q);if(!Le)throw new Error("animation not registered");return Le(de)},_register:Q=>{Ne.indexOf(Q)<0&&(Q.disabled||We(Q),Ne.push(Q))},_unregister:Q=>{const de=Ne.indexOf(Q);de>-1&&Ne.splice(de,1)},_setOpen:lt,_setActiveMenu:We}})()},8354:(Cn,mt,P)=>{"use strict";P.d(mt,{L:()=>se,a:()=>xe,b:()=>ze,c:()=>G,d:()=>Ve,e:()=>Re,g:()=>We,l:()=>je,s:()=>ve,t:()=>ne,w:()=>z});var y=P(5861),_=P(6953),re=P(544);const se="ionViewWillEnter",xe="ionViewDidEnter",ze="ionViewWillLeave",G="ionViewDidLeave",Ve="ionViewWillUnload",ne=lt=>new Promise((it,ht)=>{(0,_.w)(()=>{me(lt),Ne(lt).then(It=>{It.animation&&It.animation.destroy(),be(lt),it(It)},It=>{be(lt),ht(It)})})}),me=lt=>{const it=lt.enteringEl,ht=lt.leavingEl;we(it,ht,lt.direction),lt.showGoBack?it.classList.add("can-go-back"):it.classList.remove("can-go-back"),ve(it,!1),it.style.setProperty("pointer-events","none"),ht&&(ve(ht,!1),ht.style.setProperty("pointer-events","none"))},Ne=function(){var lt=(0,y.Z)(function*(it){const ht=yield qe(it);return ht&&_.B.isBrowser?ut(ht,it):ce(it)});return function(ht){return lt.apply(this,arguments)}}(),be=lt=>{const it=lt.enteringEl,ht=lt.leavingEl;it.classList.remove("ion-page-invisible"),it.style.removeProperty("pointer-events"),void 0!==ht&&(ht.classList.remove("ion-page-invisible"),ht.style.removeProperty("pointer-events"))},qe=function(){var lt=(0,y.Z)(function*(it){return it.leavingEl&&it.animated&&0!==it.duration?it.animationBuilder?it.animationBuilder:"ios"===it.mode?(yield Promise.resolve().then(P.bind(P,8899))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,5298))).mdTransitionAnimation:void 0});return function(ht){return lt.apply(this,arguments)}}(),ut=function(){var lt=(0,y.Z)(function*(it,ht){yield ke(ht,!0);const It=it(ht.baseEl,ht);$e(ht.enteringEl,ht.leavingEl);const an=yield Bt(It,ht);return ht.progressCallback&&ht.progressCallback(void 0),an&&Ee(ht.enteringEl,ht.leavingEl),{hasCompleted:an,animation:It}});return function(ht,It){return lt.apply(this,arguments)}}(),ce=function(){var lt=(0,y.Z)(function*(it){const ht=it.enteringEl,It=it.leavingEl;return yield ke(it,!1),$e(ht,It),Ee(ht,It),{hasCompleted:!0}});return function(ht){return lt.apply(this,arguments)}}(),ke=function(){var lt=(0,y.Z)(function*(it,ht){(void 0!==it.deepWait?it.deepWait:ht)&&(yield Promise.all([Re(it.enteringEl),Re(it.leavingEl)])),yield St(it.viewIsReady,it.enteringEl)});return function(ht,It){return lt.apply(this,arguments)}}(),St=function(){var lt=(0,y.Z)(function*(it,ht){it&&(yield it(ht))});return function(ht,It){return lt.apply(this,arguments)}}(),Bt=(lt,it)=>{const ht=it.progressCallback,It=new Promise(an=>{lt.onFinish(dt=>an(1===dt))});return ht?(lt.progressStart(!0),ht(lt)):lt.play(),It},$e=(lt,it)=>{je(it,ze),je(lt,se)},Ee=(lt,it)=>{je(lt,xe),je(it,G)},je=(lt,it)=>{if(lt){const ht=new CustomEvent(it,{bubbles:!1,cancelable:!1});lt.dispatchEvent(ht)}},z=()=>new Promise(lt=>(0,re.r)(()=>(0,re.r)(()=>lt()))),Re=function(){var lt=(0,y.Z)(function*(it){const ht=it;if(ht){if(null!=ht.componentOnReady){if(null!=(yield ht.componentOnReady()))return}else if(null!=ht.__registerHost)return void(yield new Promise(an=>(0,re.r)(an)));yield Promise.all(Array.from(ht.children).map(Re))}});return function(ht){return lt.apply(this,arguments)}}(),ve=(lt,it)=>{it?(lt.setAttribute("aria-hidden","true"),lt.classList.add("ion-page-hidden")):(lt.hidden=!1,lt.removeAttribute("aria-hidden"),lt.classList.remove("ion-page-hidden"))},we=(lt,it,ht)=>{void 0!==lt&&(lt.style.zIndex="back"===ht?"99":"101"),void 0!==it&&(it.style.zIndex="100")},We=lt=>lt.classList.contains("ion-page")?lt:lt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||lt},7643:(Cn,mt,P)=>{"use strict";P.d(mt,{d:()=>_,w:()=>y});const y=typeof window<"u"?window:void 0,_=typeof document<"u"?document:void 0},7690:(Cn,mt,P)=>{"use strict";P.d(mt,{a:()=>_,b:()=>re,p:()=>y});const y=(se,...xe)=>console.warn(`[Ionic Warning]: ${se}`,...xe),_=(se,...xe)=>console.error(`[Ionic Error]: ${se}`,...xe),re=(se,...xe)=>console.error(`<${se.tagName.toLowerCase()}> must be used inside ${xe.join(" or ")}.`)},1450:(Cn,mt,P)=>{"use strict";P.d(mt,{AK:()=>xe.g,Cl:()=>he.a,EQ:()=>Ve.b,F8:()=>Ve.d,Fy:()=>he.m,Jd:()=>Ve.c,L$:()=>be,Mn:()=>he.t,hh:()=>ze.c,kx:()=>Ve.L,n$:()=>xe.a,oq:()=>he.c,qc:()=>G.s,re:()=>Ve.a}),P(6506),P(8899),P(5298),P(8077);var xe=P(7876),ze=P(544),G=P(1273),Ve=P(8354),he=(P(1767),P(8946));P(7643),P(4587),P(6953);const be=qe=>{const{swiper:ut,extendParams:ce}=qe,ke={effect:void 0,direction:"horizontal",initialSlide:0,loop:!1,parallax:!1,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,zoom:{maxRatio:3,minRatio:1,toggle:!1},touchRatio:1,touchAngle:45,simulateTouch:!0,touchStartPreventDefault:!1,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loopAdditionalSlides:0,noSwiping:!0,runCallbacksOnInit:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flipEffect:{slideShadows:!0,limitRotation:!0},cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:!1},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};ut.pagination&&(ke.pagination={type:"bullets",clickable:!1,hideOnClick:!1}),ut.scrollbar&&(ke.scrollbar={hide:!0}),ce(ke)}},7876:(Cn,mt,P)=>{"use strict";P.d(mt,{a:()=>ne,b:()=>an,c:()=>re,g:()=>he,i:()=>dt});var y=P(6953);class _{constructor(){this.m=new Map}reset(Q){this.m=new Map(Object.entries(Q))}get(Q,de){const Le=this.m.get(Q);return void 0!==Le?Le:de}getBoolean(Q,de=!1){const Le=this.m.get(Q);return void 0===Le?de:"string"==typeof Le?"true"===Le:!!Le}getNumber(Q,de){const Le=parseFloat(this.m.get(Q));return isNaN(Le)?void 0!==de?de:NaN:Le}set(Q,de){this.m.set(Q,de)}}const re=new _,Ce="ionic-persist-config",he=Me=>me(Me),ne=(Me,Q)=>("string"==typeof Me&&(Q=Me,Me=void 0),he(Me).includes(Q)),me=(Me=window)=>{if(typeof Me>"u")return[];Me.Ionic=Me.Ionic||{};let Q=Me.Ionic.platforms;return null==Q&&(Q=Me.Ionic.platforms=Ne(Me),Q.forEach(de=>Me.document.documentElement.classList.add(`plt-${de}`))),Q},Ne=Me=>{const Q=re.get("platform");return Object.keys(ht).filter(de=>{const Le=null==Q?void 0:Q[de];return"function"==typeof Le?Le(Me):ht[de](Me)})},qe=Me=>!!(lt(Me,/iPad/i)||lt(Me,/Macintosh/i)&&Ee(Me)),ke=Me=>lt(Me,/android|sink/i),Ee=Me=>it(Me,"(any-pointer:coarse)"),z=Me=>Re(Me)||ve(Me),Re=Me=>!!(Me.cordova||Me.phonegap||Me.PhoneGap),ve=Me=>{const Q=Me.Capacitor;return!(null==Q||!Q.isNative)},lt=(Me,Q)=>Q.test(Me.navigator.userAgent),it=(Me,Q)=>{var de;return null===(de=Me.matchMedia)||void 0===de?void 0:de.call(Me,Q).matches},ht={ipad:qe,iphone:Me=>lt(Me,/iPhone/i),ios:Me=>lt(Me,/iPhone|iPod/i)||qe(Me),android:ke,phablet:Me=>{const Q=Me.innerWidth,de=Me.innerHeight,Le=Math.min(Q,de),vt=Math.max(Q,de);return Le>390&&Le<520&&vt>620&&vt<800},tablet:Me=>{const Q=Me.innerWidth,de=Me.innerHeight,Le=Math.min(Q,de),vt=Math.max(Q,de);return qe(Me)||(Me=>ke(Me)&&!lt(Me,/mobile/i))(Me)||Le>460&&Le<820&&vt>780&&vt<1400},cordova:Re,capacitor:ve,electron:Me=>lt(Me,/electron/i),pwa:Me=>{var Q;return!!(null!==(Q=Me.matchMedia)&&void 0!==Q&&Q.call(Me,"(display-mode: standalone)").matches||Me.navigator.standalone)},mobile:Ee,mobileweb:Me=>Ee(Me)&&!z(Me),desktop:Me=>!Ee(Me),hybrid:z};let It;const an=Me=>Me&&(0,y.g)(Me)||It,dt=(Me={})=>{if(typeof window>"u")return;const Q=window.document,de=window,Le=de.Ionic=de.Ionic||{},vt={};Me._ael&&(vt.ael=Me._ael),Me._rel&&(vt.rel=Me._rel),Me._ce&&(vt.ce=Me._ce),(0,y.a)(vt);const Tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Me=>{try{const Q=Me.sessionStorage.getItem(Ce);return null!==Q?JSON.parse(Q):{}}catch{return{}}})(de)),{persistConfig:!1}),Le.config),(Me=>{const Q={};return Me.location.search.slice(1).split("&").map(de=>de.split("=")).map(([de,Le])=>[decodeURIComponent(de),decodeURIComponent(Le)]).filter(([de])=>((Me,Q)=>Me.substr(0,Q.length)===Q)(de,"ionic:")).map(([de,Le])=>[de.slice(6),Le]).forEach(([de,Le])=>{Q[de]=Le}),Q})(de)),Me);re.reset(Tt),re.getBoolean("persistConfig")&&((Me,Q)=>{try{Me.sessionStorage.setItem(Ce,JSON.stringify(Q))}catch{return}})(de,Tt),me(de),Le.config=re,Le.mode=It=re.get("mode",Q.documentElement.getAttribute("mode")||(ne(de,"ios")?"ios":"md")),re.set("mode",It),Q.documentElement.setAttribute("mode",It),Q.documentElement.classList.add(It),re.getBoolean("_testing")&&re.set("animated",!1);const xt=Xt=>{var Zt;return null===(Zt=Xt.tagName)||void 0===Zt?void 0:Zt.startsWith("ION-")},on=Xt=>["ios","md"].includes(Xt);(0,y.c)(Xt=>{for(;Xt;){const Zt=Xt.mode||Xt.getAttribute("mode");if(Zt){if(on(Zt))return Zt;xt(Xt)&&console.warn('Invalid ionic mode: "'+Zt+'", expected: "ios" or "md"')}Xt=Xt.parentElement}return It})}},8899:(Cn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{iosTransitionAnimation:()=>Ne,shadow:()=>G});var y=P(6506),_=P(8354);P(7643),P(6953);const ze=be=>document.querySelector(`${be}.ion-cloned-element`),G=be=>be.shadowRoot||be,Ve=be=>{const qe="ION-TABS"===be.tagName?be:be.querySelector("ion-tabs"),ut="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=qe){const ce=qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ce?ce.querySelector(ut):null}return be.querySelector(ut)},Ce=(be,qe)=>{const ut="ION-TABS"===be.tagName?be:be.querySelector("ion-tabs");let ce=[];if(null!=ut){const ke=ut.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ke&&(ce=ke.querySelectorAll("ion-buttons"))}else ce=be.querySelectorAll("ion-buttons");for(const ke of ce){const St=ke.closest("ion-header"),Bt=St&&!St.classList.contains("header-collapse-condense-inactive"),$e=ke.querySelector("ion-back-button"),Ee=ke.classList.contains("buttons-collapse");if(null!==$e&&("start"===ke.slot||""===ke.slot)&&(Ee&&Bt&&qe||!Ee))return $e}return null},ne=(be,qe,ut,ce,ke,St)=>{const Bt=qe?`calc(100% - ${St.right+4}px)`:St.left-4+"px",$e=qe?"7px":"-7px",Ee=qe?"-4px":"4px",je=qe?"-4px":"4px",z=qe?"right":"left",Re=qe?"left":"right",We=ut?[{offset:0,opacity:1,transform:`translate3d(${Ee}, ${St.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${$e}, ${ke.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${$e}, ${ke.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ee}, ${St.top-46}px, 0) scale(1)`}],ht=ut?[{offset:0,opacity:1,transform:`translate3d(${je}, ${St.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${je}, ${St.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${je}, ${St.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${je}, ${St.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${je}, ${St.top-46}px, 0) scale(1)`}],It=(0,y.c)(),an=(0,y.c)(),dt=ze("ion-back-button"),Me=G(dt).querySelector(".button-text"),Q=G(dt).querySelector("ion-icon");dt.text=ce.text,dt.mode=ce.mode,dt.icon=ce.icon,dt.color=ce.color,dt.disabled=ce.disabled,dt.style.setProperty("display","block"),dt.style.setProperty("position","fixed"),an.addElement(Q),It.addElement(Me),It.beforeStyles({"transform-origin":`${z} center`}).beforeAddWrite(()=>{ce.style.setProperty("display","none"),dt.style.setProperty(z,Bt)}).afterAddWrite(()=>{ce.style.setProperty("display",""),dt.style.setProperty("display","none"),dt.style.removeProperty(z)}).keyframes(We),an.beforeStyles({"transform-origin":`${Re} center`}).keyframes(ht),be.addAnimation([It,an])},me=(be,qe,ut,ce,ke,St)=>{const Bt=qe?`calc(100% - ${ke.right}px)`:`${ke.left}px`,$e=qe?"-18px":"18px",Ee=qe?"right":"left",Re=ut?[{offset:0,opacity:0,transform:`translate3d(${$e}, ${St.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ke.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ke.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${$e}, ${St.top-4}px, 0) scale(0.5)`}],ve=ze("ion-title"),we=(0,y.c)();ve.innerText=ce.innerText,ve.size=ce.size,ve.color=ce.color,we.addElement(ve),we.beforeStyles({"transform-origin":`${Ee} center`,height:"46px",display:"",position:"relative",[Ee]:Bt}).beforeAddWrite(()=>{ce.style.setProperty("display","none")}).afterAddWrite(()=>{ce.style.setProperty("display",""),ve.style.setProperty("display","none")}).keyframes(Re),be.addAnimation(we)},Ne=(be,qe)=>{var ut;try{const ce="cubic-bezier(0.32,0.72,0,1)",ke="opacity",St="transform",Bt="0%",Ee="rtl"===be.ownerDocument.dir,je=Ee?"-99.5%":"99.5%",z=Ee?"33%":"-33%",Re=qe.enteringEl,ve=qe.leavingEl,we="back"===qe.direction,We=Re.querySelector(":scope > ion-content"),lt=Re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),it=Re.querySelectorAll(":scope > ion-header > ion-toolbar"),ht=(0,y.c)(),It=(0,y.c)();if(ht.addElement(Re).duration((null!==(ut=qe.duration)&&void 0!==ut?ut:0)||540).easing(qe.easing||ce).fill("both").beforeRemoveClass("ion-page-invisible"),ve&&null!=be){const Q=(0,y.c)();Q.addElement(be),ht.addAnimation(Q)}if(We||0!==it.length||0!==lt.length?(It.addElement(We),It.addElement(lt)):It.addElement(Re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ht.addAnimation(It),we?It.beforeClearStyles([ke]).fromTo("transform",`translateX(${z})`,`translateX(${Bt})`).fromTo(ke,.8,1):It.beforeClearStyles([ke]).fromTo("transform",`translateX(${je})`,`translateX(${Bt})`),We){const Q=G(We).querySelector(".transition-effect");if(Q){const de=Q.querySelector(".transition-cover"),Le=Q.querySelector(".transition-shadow"),vt=(0,y.c)(),Tt=(0,y.c)(),xt=(0,y.c)();vt.addElement(Q).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(de).beforeClearStyles([ke]).fromTo(ke,0,.1),xt.addElement(Le).beforeClearStyles([ke]).fromTo(ke,.03,.7),vt.addAnimation([Tt,xt]),It.addAnimation([vt])}}const an=Re.querySelector("ion-header.header-collapse-condense"),{forward:dt,backward:Me}=((be,qe,ut,ce,ke)=>{const St=Ce(ce,ut),Bt=Ve(ke),$e=Ve(ce),Ee=Ce(ke,ut),je=null!==St&&null!==Bt&&!ut,z=null!==$e&&null!==Ee&&ut;if(je){const Re=Bt.getBoundingClientRect(),ve=St.getBoundingClientRect();me(be,qe,ut,Bt,Re,ve),ne(be,qe,ut,St,Re,ve)}else if(z){const Re=$e.getBoundingClientRect(),ve=Ee.getBoundingClientRect();me(be,qe,ut,$e,Re,ve),ne(be,qe,ut,Ee,Re,ve)}return{forward:je,backward:z}})(ht,Ee,we,Re,ve);if(it.forEach(Q=>{const de=(0,y.c)();de.addElement(Q),ht.addAnimation(de);const Le=(0,y.c)();Le.addElement(Q.querySelector("ion-title"));const vt=(0,y.c)(),Tt=Array.from(Q.querySelectorAll("ion-buttons,[menuToggle]")),xt=Q.closest("ion-header"),on=null==xt?void 0:xt.classList.contains("header-collapse-condense-inactive");let Xt;Xt=Tt.filter(we?nn=>{const xn=nn.classList.contains("buttons-collapse");return xn&&!on||!xn}:nn=>!nn.classList.contains("buttons-collapse")),vt.addElement(Xt);const Zt=(0,y.c)();Zt.addElement(Q.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ft=(0,y.c)();Ft.addElement(G(Q).querySelector(".toolbar-background"));const Nt=(0,y.c)(),tn=Q.querySelector("ion-back-button");if(tn&&Nt.addElement(tn),de.addAnimation([Le,vt,Zt,Ft,Nt]),vt.fromTo(ke,.01,1),Zt.fromTo(ke,.01,1),we)on||Le.fromTo("transform",`translateX(${z})`,`translateX(${Bt})`).fromTo(ke,.01,1),Zt.fromTo("transform",`translateX(${z})`,`translateX(${Bt})`),Nt.fromTo(ke,.01,1);else if(an||Le.fromTo("transform",`translateX(${je})`,`translateX(${Bt})`).fromTo(ke,.01,1),Zt.fromTo("transform",`translateX(${je})`,`translateX(${Bt})`),Ft.beforeClearStyles([ke,"transform"]),(null==xt?void 0:xt.translucent)?Ft.fromTo("transform",Ee?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ft.fromTo(ke,.01,"var(--opacity)"),dt||Nt.fromTo(ke,.01,1),tn&&!dt){const xn=(0,y.c)();xn.addElement(G(tn).querySelector(".button-text")).fromTo("transform",Ee?"translateX(-100px)":"translateX(100px)","translateX(0px)"),de.addAnimation(xn)}}),ve){const Q=(0,y.c)(),de=ve.querySelector(":scope > ion-content"),Le=ve.querySelectorAll(":scope > ion-header > ion-toolbar"),vt=ve.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(de||0!==Le.length||0!==vt.length?(Q.addElement(de),Q.addElement(vt)):Q.addElement(ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ht.addAnimation(Q),we){Q.beforeClearStyles([ke]).fromTo("transform",`translateX(${Bt})`,Ee?"translateX(-100%)":"translateX(100%)");const Tt=(0,_.g)(ve);ht.afterAddWrite(()=>{"normal"===ht.getDirection()&&Tt.style.setProperty("display","none")})}else Q.fromTo("transform",`translateX(${Bt})`,`translateX(${z})`).fromTo(ke,1,.8);if(de){const Tt=G(de).querySelector(".transition-effect");if(Tt){const xt=Tt.querySelector(".transition-cover"),on=Tt.querySelector(".transition-shadow"),Xt=(0,y.c)(),Zt=(0,y.c)(),Ft=(0,y.c)();Xt.addElement(Tt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Zt.addElement(xt).beforeClearStyles([ke]).fromTo(ke,.1,0),Ft.addElement(on).beforeClearStyles([ke]).fromTo(ke,.7,.03),Xt.addAnimation([Zt,Ft]),Q.addAnimation([Xt])}}Le.forEach(Tt=>{const xt=(0,y.c)();xt.addElement(Tt);const on=(0,y.c)();on.addElement(Tt.querySelector("ion-title"));const Xt=(0,y.c)(),Zt=Tt.querySelectorAll("ion-buttons,[menuToggle]"),Ft=Tt.closest("ion-header"),Nt=null==Ft?void 0:Ft.classList.contains("header-collapse-condense-inactive"),tn=Array.from(Zt).filter(Ar=>{const Hr=Ar.classList.contains("buttons-collapse");return Hr&&!Nt||!Hr});Xt.addElement(tn);const nn=(0,y.c)(),xn=Tt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");xn.length>0&&nn.addElement(xn);const Bn=(0,y.c)();Bn.addElement(G(Tt).querySelector(".toolbar-background"));const $n=(0,y.c)(),tr=Tt.querySelector("ion-back-button");if(tr&&$n.addElement(tr),xt.addAnimation([on,Xt,nn,$n,Bn]),ht.addAnimation(xt),$n.fromTo(ke,.99,0),Xt.fromTo(ke,.99,0),nn.fromTo(ke,.99,0),we){if(Nt||on.fromTo("transform",`translateX(${Bt})`,Ee?"translateX(-100%)":"translateX(100%)").fromTo(ke,.99,0),nn.fromTo("transform",`translateX(${Bt})`,Ee?"translateX(-100%)":"translateX(100%)"),Bn.beforeClearStyles([ke,"transform"]),(null==Ft?void 0:Ft.translucent)?Bn.fromTo("transform","translateX(0px)",Ee?"translateX(-100%)":"translateX(100%)"):Bn.fromTo(ke,"var(--opacity)",0),tr&&!Me){const Hr=(0,y.c)();Hr.addElement(G(tr).querySelector(".button-text")).fromTo("transform",`translateX(${Bt})`,`translateX(${(Ee?-124:124)+"px"})`),xt.addAnimation(Hr)}}else Nt||on.fromTo("transform",`translateX(${Bt})`,`translateX(${z})`).fromTo(ke,.99,0).afterClearStyles([St,ke]),nn.fromTo("transform",`translateX(${Bt})`,`translateX(${z})`).afterClearStyles([St,ke]),$n.afterClearStyles([ke]),on.afterClearStyles([ke]),Xt.afterClearStyles([ke])})}return ht}catch(ce){throw ce}}},5298:(Cn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{mdTransitionAnimation:()=>xe});var y=P(6506),_=P(8354);P(7643),P(6953);const xe=(ze,G)=>{var Ve,Ce,he;const Ne="back"===G.direction,qe=G.leavingEl,ut=(0,_.g)(G.enteringEl),ce=ut.querySelector("ion-toolbar"),ke=(0,y.c)();if(ke.addElement(ut).fill("both").beforeRemoveClass("ion-page-invisible"),Ne?ke.duration((null!==(Ve=G.duration)&&void 0!==Ve?Ve:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ke.duration((null!==(Ce=G.duration)&&void 0!==Ce?Ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ce){const St=(0,y.c)();St.addElement(ce),ke.addAnimation(St)}if(qe&&Ne){ke.duration((null!==(he=G.duration)&&void 0!==he?he:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const St=(0,y.c)();St.addElement((0,_.g)(qe)).onFinish(Bt=>{1===Bt&&St.elements.length>0&&St.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ke.addAnimation(St)}return ke}},8946:(Cn,mt,P)=>{"use strict";P.d(mt,{B:()=>xt,G:()=>on,a:()=>ne,b:()=>me,c:()=>ut,d:()=>Xt,e:()=>Zt,f:()=>ht,g:()=>an,h:()=>Q,i:()=>Le,j:()=>ke,k:()=>St,m:()=>be,n:()=>Ce,o:()=>Ee,q:()=>lt,s:()=>Tt,t:()=>ce});var y=P(5861),_=P(7876),re=P(9439),se=P(5421),xe=P(544),ze=P(7690);let G=0,Ve=0;const Ce=new WeakMap,he=Ft=>({create:Nt=>Bt(Ft,Nt),dismiss:(Nt,tn,nn)=>we(document,Nt,tn,Ft,nn),getTop:()=>(0,y.Z)(function*(){return lt(document,Ft)})()}),ne=he("ion-alert"),me=he("ion-action-sheet"),be=he("ion-modal"),ut=he("ion-popover"),ce=he("ion-toast"),ke=Ft=>{typeof document<"u"&&ve(document);const Nt=G++;Ft.overlayIndex=Nt},St=Ft=>(Ft.hasAttribute("id")||(Ft.id="ion-overlay-"+ ++Ve),Ft.id),Bt=(Ft,Nt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ft).then(()=>{const tn=document.createElement(Ft);return tn.classList.add("overlay-hidden"),Object.assign(tn,Object.assign(Object.assign({},Nt),{hasController:!0})),dt(document).appendChild(tn),new Promise(nn=>(0,xe.c)(tn,nn))}):Promise.resolve(),$e='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ee=(Ft,Nt)=>{let tn=Ft.querySelector($e);const nn=null==tn?void 0:tn.shadowRoot;nn&&(tn=nn.querySelector($e)||tn),tn?(0,xe.f)(tn):Nt.focus()},z=(Ft,Nt)=>{const tn=Array.from(Ft.querySelectorAll($e));let nn=tn.length>0?tn[tn.length-1]:null;const xn=null==nn?void 0:nn.shadowRoot;xn&&(nn=xn.querySelector($e)||nn),nn?nn.focus():Nt.focus()},ve=Ft=>{0===G&&(G=1,Ft.addEventListener("focus",Nt=>{((Ft,Nt)=>{const tn=lt(Nt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),nn=Ft.target;tn&&nn&&!tn.classList.contains("ion-disable-focus-trap")&&(tn.shadowRoot?(()=>{if(tn.contains(nn))tn.lastFocus=nn;else{const $n=tn.lastFocus;Ee(tn,tn),$n===Nt.activeElement&&z(tn,tn),tn.lastFocus=Nt.activeElement}})():(()=>{if(tn===nn)tn.lastFocus=void 0;else{const $n=(0,xe.g)(tn);if(!$n.contains(nn))return;const tr=$n.querySelector(".ion-overlay-wrapper");if(!tr)return;if(tr.contains(nn)||nn===$n.querySelector("ion-backdrop"))tn.lastFocus=nn;else{const Ar=tn.lastFocus;Ee(tr,tn),Ar===Nt.activeElement&&z(tr,tn),tn.lastFocus=Nt.activeElement}}})())})(Nt,Ft)},!0),Ft.addEventListener("ionBackButton",Nt=>{const tn=lt(Ft);null!=tn&&tn.backdropDismiss&&Nt.detail.register(se.OVERLAY_BACK_BUTTON_PRIORITY,()=>tn.dismiss(void 0,xt))}),Ft.addEventListener("keydown",Nt=>{if("Escape"===Nt.key){const tn=lt(Ft);null!=tn&&tn.backdropDismiss&&tn.dismiss(void 0,xt)}}))},we=(Ft,Nt,tn,nn,xn)=>{const Bn=lt(Ft,nn,xn);return Bn?Bn.dismiss(Nt,tn):Promise.reject("overlay does not exist")},lt=(Ft,Nt,tn)=>{const nn=((Ft,Nt)=>(void 0===Nt&&(Nt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ft.querySelectorAll(Nt)).filter(tn=>tn.overlayIndex>0)))(Ft,Nt).filter(xn=>!(Ft=>Ft.classList.contains("overlay-hidden"))(xn));return void 0===tn?nn[nn.length-1]:nn.find(xn=>xn.id===tn)},it=(Ft=!1)=>{const tn=dt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");tn&&(Ft?tn.setAttribute("aria-hidden","true"):tn.removeAttribute("aria-hidden"))},ht=function(){var Ft=(0,y.Z)(function*(Nt,tn,nn,xn,Bn){var $n,tr;if(Nt.presented)return;it(!0),Nt.presented=!0,Nt.willPresent.emit(),null===($n=Nt.willPresentShorthand)||void 0===$n||$n.emit();const Ar=(0,_.b)(Nt),Hr=Nt.enterAnimation?Nt.enterAnimation:_.c.get(tn,"ios"===Ar?nn:xn);(yield Me(Nt,Hr,Nt.el,Bn))&&(Nt.didPresent.emit(),null===(tr=Nt.didPresentShorthand)||void 0===tr||tr.emit()),"ION-TOAST"!==Nt.el.tagName&&It(Nt.el),Nt.keyboardClose&&(null===document.activeElement||!Nt.el.contains(document.activeElement))&&Nt.el.focus()});return function(tn,nn,xn,Bn,$n){return Ft.apply(this,arguments)}}(),It=function(){var Ft=(0,y.Z)(function*(Nt){let tn=document.activeElement;if(!tn)return;const nn=null==tn?void 0:tn.shadowRoot;nn&&(tn=nn.querySelector($e)||tn),yield Nt.onDidDismiss(),tn.focus()});return function(tn){return Ft.apply(this,arguments)}}(),an=function(){var Ft=(0,y.Z)(function*(Nt,tn,nn,xn,Bn,$n,tr){var Ar,Hr;if(!Nt.presented)return!1;it(!1),Nt.presented=!1;try{Nt.el.style.setProperty("pointer-events","none"),Nt.willDismiss.emit({data:tn,role:nn}),null===(Ar=Nt.willDismissShorthand)||void 0===Ar||Ar.emit({data:tn,role:nn});const sr=(0,_.b)(Nt),Fr=Nt.leaveAnimation?Nt.leaveAnimation:_.c.get(xn,"ios"===sr?Bn:$n);nn!==on&&(yield Me(Nt,Fr,Nt.el,tr)),Nt.didDismiss.emit({data:tn,role:nn}),null===(Hr=Nt.didDismissShorthand)||void 0===Hr||Hr.emit({data:tn,role:nn}),Ce.delete(Nt),Nt.el.classList.add("overlay-hidden"),Nt.el.style.removeProperty("pointer-events"),void 0!==Nt.el.lastFocus&&(Nt.el.lastFocus=void 0)}catch(sr){console.error(sr)}return Nt.el.remove(),!0});return function(tn,nn,xn,Bn,$n,tr,Ar){return Ft.apply(this,arguments)}}(),dt=Ft=>Ft.querySelector("ion-app")||Ft.body,Me=function(){var Ft=(0,y.Z)(function*(Nt,tn,nn,xn){nn.classList.remove("overlay-hidden");const $n=tn(Nt.el,xn);(!Nt.animated||!_.c.getBoolean("animated",!0))&&$n.duration(0),Nt.keyboardClose&&$n.beforeAddWrite(()=>{const Ar=nn.ownerDocument.activeElement;null!=Ar&&Ar.matches("input,ion-input, ion-textarea")&&Ar.blur()});const tr=Ce.get(Nt)||[];return Ce.set(Nt,[...tr,$n]),yield $n.play(),!0});return function(tn,nn,xn,Bn){return Ft.apply(this,arguments)}}(),Q=(Ft,Nt)=>{let tn;const nn=new Promise(xn=>tn=xn);return de(Ft,Nt,xn=>{tn(xn.detail)}),nn},de=(Ft,Nt,tn)=>{const nn=xn=>{(0,xe.b)(Ft,Nt,nn),tn(xn)};(0,xe.a)(Ft,Nt,nn)},Le=Ft=>"cancel"===Ft||Ft===xt,vt=Ft=>Ft(),Tt=(Ft,Nt)=>{if("function"==typeof Ft)return _.c.get("_zoneGate",vt)(()=>{try{return Ft(Nt)}catch(nn){throw nn}})},xt="backdrop",on="gesture",Xt=Ft=>{let tn,Nt=!1;const nn=(0,re.C)(),xn=(tr=!1)=>{if(tn&&!tr)return{delegate:tn,inline:Nt};const{el:Ar,hasController:Hr,delegate:sr}=Ft;return Nt=null!==Ar.parentNode&&!Hr,tn=Nt?sr||nn:sr,{inline:Nt,delegate:tn}};return{attachViewToDom:function(){var tr=(0,y.Z)(function*(Ar){const{delegate:Hr}=xn(!0);if(Hr)return yield Hr.attachViewToDom(Ft.el,Ar);const{hasController:sr}=Ft;if(sr&&void 0!==Ar)throw new Error("framework delegate is missing");return null});return function(Hr){return tr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:tr}=xn();tr&&void 0!==Ft.el&&tr.removeViewFromDom(Ft.el.parentElement,Ft.el)}}},Zt=()=>{let Ft;const Nt=()=>{Ft&&(Ft(),Ft=void 0)};return{addClickListener:(nn,xn)=>{Nt();const Bn=void 0!==xn?document.getElementById(xn):null;Bn?Ft=((tr,Ar)=>{const Hr=()=>{Ar.present()};return tr.addEventListener("click",Hr),()=>{tr.removeEventListener("click",Hr)}})(Bn,nn):(0,ze.p)(`A trigger element with the ID "${xn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,nn)},removeClickListener:Nt}}},4181:(Cn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{AuthModule:()=>an});var y=P(6814),_=P(6223),re=P(7311),se=P(2884),xe=P(8857),ze=P(5062),G=P(5879),Ve=P(6298),Ce=P(2333),he=P(4666);let ne=(()=>{class dt{constructor(Q,de,Le,vt,Tt,xt){this.fb=Q,this.afAuth=de,this.toastCtrl=Le,this.authService=vt,this.store=Tt,this.router=xt}continueAsGuest(){this.store.dispatch(new ze.yp({user:{uid:"",displayName:"guest",email:""}})),this.router.navigate(["/events"])}}return dt.\u0275fac=function(Q){return new(Q||dt)(G.Y36(_.qu),G.Y36(Ve.zQ),G.Y36(re.yF),G.Y36(Ce.e),G.Y36(he.yh),G.Y36(xe.F0))},dt.\u0275cmp=G.Xpm({type:dt,selectors:[["app-auth-prompt"]],standalone:!0,features:[G.jDz],decls:10,vars:0,consts:[[1,"form-content"],["pageTitle","Authorization options","backRedirectionLink","/home"],[1,"form-container"],[1,"intro-text"],["expand","block","routerLink","../login",1,"single-btn","align-block-center"],["expand","block","fill","outline",1,"single-btn","align-block-center",3,"click"]],template:function(Q,de){1&Q&&(G.TgZ(0,"ion-content",0),G._UZ(1,"app-page-header",1),G.TgZ(2,"ion-content",2)(3,"p",3),G._uU(4," Are you already registered? Proceed with your credentials or explore as a guest. "),G.qZA(),G.TgZ(5,"div")(6,"ion-button",4),G._uU(7,"Enter email and password"),G.qZA(),G.TgZ(8,"ion-button",5),G.NdJ("click",function(){return de.continueAsGuest()}),G._uU(9,"Continue as Guest"),G.qZA()()()())},dependencies:[y.ez,re.Pc,re.YG,re.W2,re.YI,_.UX,se.q,xe.Bz,xe.rH]}),dt})();var me=P(5861);let Ne=(()=>{class dt{constructor(Q,de,Le){this.store=Q,this.fb=de,this.toastController=Le,this.loginForm=this.fb.group({email:["",[_.kI.required,_.kI.email]],password:["",_.kI.required]})}onLoginSubmit(){if(this.loginForm.valid){var Q,de;const Le=null===(Q=this.loginForm.get("email"))||void 0===Q?void 0:Q.value,vt=null===(de=this.loginForm.get("password"))||void 0===de?void 0:de.value;this.store.dispatch(new ze.m3({email:Le,password:vt}))}}presentToast(){var Q=this;return(0,me.Z)(function*(){yield(yield Q.toastController.create({message:"Hello World!",duration:1500,position:"top"})).present()})()}}return dt.\u0275fac=function(Q){return new(Q||dt)(G.Y36(he.yh),G.Y36(_.qu),G.Y36(re.yF))},dt.\u0275cmp=G.Xpm({type:dt,selectors:[["app-login-form"]],standalone:!0,features:[G.jDz],decls:10,vars:2,consts:[[3,"formGroup","ngSubmit"],["lines","none",1,"form-item"],["name","mail-outline","slot","start","color","primary"],["placeholder","Email","formControlName","email","type","input"],["name","lock-closed-outline","slot","start","color","primary"],["placeholder","Password","formControlName","password","type","password"],["expand","block","type","submit",1,"single-btn","align-block-center",3,"disabled"]],template:function(Q,de){1&Q&&(G.TgZ(0,"form",0),G.NdJ("ngSubmit",function(){return de.onLoginSubmit()}),G.TgZ(1,"ion-item",1),G._UZ(2,"ion-icon",2)(3,"ion-input",3),G.qZA(),G.TgZ(4,"ion-item",1),G._UZ(5,"ion-icon",4)(6,"ion-input",5),G.qZA(),G.TgZ(7,"div")(8,"ion-button",6),G._uU(9,"Login"),G.qZA()()()),2&Q&&(G.Q6J("formGroup",de.loginForm),G.xp6(8),G.Q6J("disabled",!de.loginForm.valid))},dependencies:[y.ez,_.UX,_._Y,_.JJ,_.JL,_.sg,_.u,re.Pc,re.YG,re.gu,re.pK,re.Ie,re.j9],encapsulation:2}),dt})(),be=(()=>{class dt{}return dt.\u0275fac=function(Q){return new(Q||dt)},dt.\u0275cmp=G.Xpm({type:dt,selectors:[["app-home"]],standalone:!0,features:[G.jDz],decls:7,vars:0,consts:[["pageTitle","Authorization","backRedirectionLink","/home"],[1,"ml-l"],["routerLink","../signup"]],template:function(Q,de){1&Q&&(G._UZ(0,"app-page-header",0),G.TgZ(1,"ion-content"),G._UZ(2,"app-login-form"),G.TgZ(3,"p",1),G._uU(4,"Dont have an account yet? "),G.TgZ(5,"a",2),G._uU(6,"Sign Up"),G.qZA()()())},dependencies:[Ne,se.q,re.Pc,re.W2,re.Fo,xe.Bz,xe.rH]}),dt})();var qe=P(5945);function ut(dt,Me){if(1&dt&&(G.ynx(0),G._UZ(1,"ion-input",9),G.BQk()),2&dt){const Q=G.oxw().$implicit;G.xp6(1),G.Q6J("placeholder",Q.placeholder)("formControlName",Q.controlName)("type",Q.type)}}function ce(dt,Me){if(1&dt){const Q=G.EpF();G.TgZ(0,"ion-button",16),G.NdJ("click",function(){G.CHM(Q),G.oxw();const Le=G.MAs(3);return G.KtG(Le.click())}),G._uU(1," Upload a Photo "),G.qZA()}2&dt&&G.Q6J("fill","clear")}function ke(dt,Me){if(1&dt&&(G.TgZ(0,"ion-label",17),G._uU(1),G.qZA()),2&dt){const Q=G.oxw(3);G.xp6(1),G.Oqu(Q.fileName)}}function St(dt,Me){if(1&dt){const Q=G.EpF();G.TgZ(0,"ion-button",18),G.NdJ("click",function(){G.CHM(Q);const Le=G.oxw(3);return G.KtG(Le.deleteFile())}),G._UZ(1,"ion-icon",19),G.qZA()}}function Bt(dt,Me){if(1&dt){const Q=G.EpF();G.ynx(0),G.TgZ(1,"ion-item",10)(2,"input",11,12),G.NdJ("change",function(Le){G.CHM(Q);const vt=G.oxw(2);return G.KtG(vt.onFileChange(Le))}),G.qZA(),G.YNc(4,ce,2,1,"ion-button",13),G.YNc(5,ke,2,1,"ion-label",14),G.YNc(6,St,2,0,"ion-button",15),G.qZA(),G.BQk()}if(2&dt){const Q=G.oxw().$implicit,de=G.oxw();G.xp6(2),G.Q6J("formControlName",Q.controlName),G.xp6(2),G.Q6J("ngIf",!de.fileName),G.xp6(1),G.Q6J("ngIf",de.fileName),G.xp6(1),G.Q6J("ngIf",de.fileName)}}function $e(dt,Me){if(1&dt&&(G.ynx(0),G._UZ(1,"ion-textarea",20),G.BQk()),2&dt){const Q=G.oxw().$implicit;G.xp6(1),G.Q6J("placeholder",Q.placeholder)("formControlName",Q.controlName)}}function Ee(dt,Me){if(1&dt&&(G.TgZ(0,"ion-select-option",23),G._uU(1),G.qZA()),2&dt){const Q=Me.$implicit;G.Q6J("value",Q),G.xp6(1),G.Oqu(Q)}}function je(dt,Me){if(1&dt&&(G.ynx(0),G.TgZ(1,"ion-select",21),G.YNc(2,Ee,2,2,"ion-select-option",22),G.qZA(),G.BQk()),2&dt){const Q=G.oxw().$implicit;G.xp6(1),G.Q6J("formControlName",Q.controlName)("placeholder",Q.placeholder)("multiple",Q.multiple),G.xp6(1),G.Q6J("ngForOf",Q.options)}}function z(dt,Me){1&dt&&(G.TgZ(0,"div"),G._uU(1," Please enter a valid email. "),G.qZA())}function Re(dt,Me){1&dt&&(G.TgZ(0,"div"),G._uU(1," Password should be at least 6 characters. "),G.qZA())}function ve(dt,Me){if(1&dt&&(G.TgZ(0,"div"),G._uU(1),G.qZA()),2&dt){const Q=G.oxw(2).$implicit;G.xp6(1),G.hij(" ",Q.placeholder," is required. ")}}function we(dt,Me){if(1&dt&&(G.ynx(0),G.TgZ(1,"div",24),G.YNc(2,z,2,0,"div",8),G.YNc(3,Re,2,0,"div",8),G.YNc(4,ve,2,1,"div",8),G.qZA(),G.BQk()),2&dt){const Q=G.oxw().$implicit,de=G.oxw();G.xp6(2),G.Q6J("ngIf","email"===Q.controlName&&(null==de.preferencesForm.controls[Q.controlName].errors?null:de.preferencesForm.controls[Q.controlName].errors.email)),G.xp6(1),G.Q6J("ngIf","password"===Q.controlName&&(null==de.preferencesForm.controls[Q.controlName].errors?null:de.preferencesForm.controls[Q.controlName].errors.minLength)),G.xp6(1),G.Q6J("ngIf",null==de.preferencesForm.controls[Q.controlName].errors?null:de.preferencesForm.controls[Q.controlName].errors.required)}}function We(dt,Me){if(1&dt&&(G.ynx(0),G.TgZ(1,"ion-item",6),G._UZ(2,"ion-icon",7),G.YNc(3,ut,2,3,"ng-container",8),G.YNc(4,Bt,7,4,"ng-container",8),G.YNc(5,$e,2,2,"ng-container",8),G.YNc(6,je,3,4,"ng-container",8),G.YNc(7,we,5,3,"ng-container",8),G.qZA(),G.BQk()),2&dt){const Q=Me.$implicit,de=G.oxw();G.xp6(2),G.Q6J("name",Q.icon),G.xp6(1),G.Q6J("ngIf","input"===Q.type||"password"===Q.type),G.xp6(1),G.Q6J("ngIf","file"===Q.type),G.xp6(1),G.Q6J("ngIf","textarea"===Q.type),G.xp6(1),G.Q6J("ngIf","select"===Q.type),G.xp6(1),G.Q6J("ngIf",de.preferencesForm.controls[Q.controlName].invalid&&de.preferencesForm.controls[Q.controlName].touched)}}let lt=(()=>{class dt{constructor(Q,de,Le){this.fb=Q,this.modalController=de,this.store=Le,this.formFieldsMap=qe.k,this.preferencesForm=this.fb.group({username:["",_.kI.required],photo:["",_.kI.required],email:["",[_.kI.required,_.kI.email]],password:["",[_.kI.required]],about:[""],preferredLanguages:[""],interests:[[]],ageGroup:[""]})}submitPreferences(){if(this.preferencesForm.valid){const{email:Q,password:de,...Le}=this.preferencesForm.value;this.register(Q,de,Le),this.dismissModal()}}onFileChange(Q){const de=Q.target.files[0];this.fileName=de?de.name:""}deleteFile(){this.fileName="",this.preferencesForm.patchValue({photo:null})}register(Q,de,Le){this.store.dispatch(new ze.a4({email:Q,password:de,preferences:Le}))}dismissModal(){this.modalController.dismiss()}}return dt.\u0275fac=function(Q){return new(Q||dt)(G.Y36(_.qu),G.Y36(re.IN),G.Y36(he.yh))},dt.\u0275cmp=G.Xpm({type:dt,selectors:[["app-preferences"]],standalone:!0,features:[G.jDz],decls:9,vars:3,consts:[[1,"form-content"],[1,"form-container"],[1,"intro-text"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],["expand","block","type","submit",1,"single-btn","align-block-center",3,"disabled"],["lines","none",1,"form-item"],["slot","start","color","primary",3,"name"],[4,"ngIf"],[3,"placeholder","formControlName","type"],["lines","none",1,"file-input-item"],["type","file","hidden","",3,"formControlName","change"],["fileInput",""],["slot","start","class","photo-btn",3,"fill","click",4,"ngIf"],["class","file-name",4,"ngIf"],["fill","clear","class","delete-button",3,"click",4,"ngIf"],["slot","start",1,"photo-btn",3,"fill","click"],[1,"file-name"],["fill","clear",1,"delete-button",3,"click"],["name","close-circle"],[3,"placeholder","formControlName"],[3,"formControlName","placeholder","multiple"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"error-message"]],template:function(Q,de){1&Q&&(G.TgZ(0,"ion-content",0)(1,"ion-content",1)(2,"p",2),G._uU(3," In just a few taps, shape your ideal Big Friday! Indicate your interests, and we'll find events that will thrill you. "),G.qZA(),G.TgZ(4,"form",3),G.NdJ("ngSubmit",function(){return de.submitPreferences()}),G.YNc(5,We,8,6,"ng-container",4),G.TgZ(6,"div")(7,"ion-button",5),G._uU(8,"Submit"),G.qZA()()()()()),2&Q&&(G.xp6(4),G.Q6J("formGroup",de.preferencesForm),G.xp6(1),G.Q6J("ngForOf",de.formFieldsMap),G.xp6(2),G.Q6J("disabled",!de.preferencesForm.valid))},dependencies:[y.ez,y.sg,y.O5,_.UX,_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u,re.Pc,re.YG,re.W2,re.gu,re.pK,re.Ie,re.Q$,re.t9,re.n0,re.g2,re.QI,re.j9],styles:["[_ngcontent-%COMP%]:root{--ion-background-color: #e0e0e0;--ion-color-primary: #a17d63;--ion-text-color-primary: #4b2e36;--ion-text-color-secondary: #7d402e;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: ghostwhite;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}@media (prefers-color-scheme: dark){body[_ngcontent-%COMP%]{color-scheme:light}}.single-btn[_ngcontent-%COMP%]{margin-top:20px}.error-message[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:.8em;margin-top:5px}.file-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:300px;display:block}.delete-button[_ngcontent-%COMP%]{margin-left:auto}.delete-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5em;color:var(--ion-color-danger)}.photo-btn[_ngcontent-%COMP%]{margin-left:-22px;color:var(--ion-text-color-secondary)}"]}),dt})();const ht=[{path:"login",component:be},{path:"signup",component:(()=>{class dt{}return dt.\u0275fac=function(Q){return new(Q||dt)},dt.\u0275cmp=G.Xpm({type:dt,selectors:[["app-home"]],standalone:!0,features:[G.jDz],decls:3,vars:0,consts:[["pageTitle","Authorization","backRedirectionLink","/home"]],template:function(Q,de){1&Q&&(G._UZ(0,"app-page-header",0),G.TgZ(1,"ion-content"),G._UZ(2,"app-preferences"),G.qZA())},dependencies:[se.q,re.Pc,re.W2,xe.Bz,lt]}),dt})()},{path:"prompt",component:ne}];let It=(()=>{class dt{}return dt.\u0275fac=function(Q){return new(Q||dt)},dt.\u0275mod=G.oAB({type:dt}),dt.\u0275inj=G.cJS({imports:[xe.Bz.forChild(ht)]}),dt})(),an=(()=>{class dt{}return dt.\u0275fac=function(Q){return new(Q||dt)},dt.\u0275mod=G.oAB({type:dt}),dt.\u0275inj=G.cJS({imports:[y.ez,re.Pc,_.UX,Ne,It,se.q,ne]}),dt})()},8216:(Cn,mt,P)=>{"use strict";P.d(mt,{a:()=>Ve});var y=P(8504),_=P(7398),re=P(6306),se=P(5062),xe=P(5879),ze=P(4666),G=P(3926);let Ve=(()=>{class Ce{constructor(ne,me){this.store=ne,this.api=me}getId(){this.currentUserId=this.store.selectSnapshot(se.jq.user).uid}getUsers(){return this.api.collectionDataQuery("users",this.api.whereQuery("uid","!=",this.currentUserId))}loadChatById(ne){return ne?this.api.getDocById(`chats/${ne}`).pipe((0,_.U)(me=>me)):(0,y._)(()=>new Error("Chat ID is required"))}loadAllChats(ne){return ne.length?this.api.collectionDataQuery("chats",Ne=>Ne.where("__name__","in",ne)).pipe((0,re.K)(Ne=>(0,y._)(()=>new Error(Ne)))):(0,y._)(()=>new Error("No chat IDs provided"))}}return Ce.\u0275fac=function(ne){return new(ne||Ce)(xe.LFG(ze.yh),xe.LFG(G.P))},Ce.\u0275prov=xe.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},2884:(Cn,mt,P)=>{"use strict";P.d(mt,{q:()=>se});var y=P(7311),_=P(5879);const re=["*"];let se=(()=>{class xe{}return xe.\u0275fac=function(G){return new(G||xe)},xe.\u0275cmp=_.Xpm({type:xe,selectors:[["app-page-header"]],inputs:{pageTitle:"pageTitle",backRedirectionLink:"backRedirectionLink"},standalone:!0,features:[_.jDz],ngContentSelectors:re,decls:7,vars:2,consts:[[1,"header-toolbar"],["slot","start"],[1,"secondary-color",3,"defaultHref"],[1,"secondary-color"]],template:function(G,Ve){1&G&&(_.F$t(),_.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),_._UZ(3,"ion-back-button",2),_.qZA(),_.TgZ(4,"ion-title",3),_._uU(5),_.qZA(),_.Hsn(6),_.qZA()()),2&G&&(_.xp6(3),_.Q6J("defaultHref",Ve.backRedirectionLink),_.xp6(2),_.Oqu(Ve.pageTitle))},dependencies:[y.Pc,y.oU,y.Sm,y.Gu,y.wd,y.sr,y.cs],styles:[".header-toolbar[_ngcontent-%COMP%]{color:var(--ion-color-primary)!important}"]}),xe})()},2333:(Cn,mt,P)=>{"use strict";P.d(mt,{e:()=>ne});var y=P(2459),_=P(4664),re=P(9397),se=P(6306),xe=P(5062),ze=P(7140),G=P(5879),Ve=P(6298),Ce=P(4666),he=P(6573);let ne=(()=>{class me{constructor(be,qe,ut){this.afAuth=be,this.store=qe,this.firestore=ut,this.authState$.subscribe()}getUserPreferences(be){return this.firestore.collection("users").doc(be).valueChanges()}login(be,qe){return(0,y.D)(this.afAuth.signInWithEmailAndPassword(be,qe))}logout(){return(0,y.D)(this.afAuth.signOut())}register(be,qe){return(0,y.D)(this.afAuth.createUserWithEmailAndPassword(be,qe))}getCurrentUserId(){var be;return null===(be=this.store.selectSnapshot(xe.jq.user))||void 0===be?void 0:be.uid}get authState$(){return this.afAuth.authState.pipe((0,_.w)(be=>be?(this.store.dispatch(new xe.yp({user:be})),this.getUserPreferences(be.uid).pipe((0,re.b)(qe=>{qe&&this.store.dispatch(new ze.Jk({preferences:qe}))}),(0,se.K)(qe=>(console.error("Error fetching user preferences:",qe),this.store.dispatch(new xe.pw({user:null})))))):this.store.dispatch(new xe.pw({user:null}))))}}return me.\u0275fac=function(be){return new(be||me)(G.LFG(Ve.zQ),G.LFG(Ce.yh),G.LFG(he.ST))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},3926:(Cn,mt,P)=>{"use strict";P.d(mt,{P:()=>ze});var y=P(5861),_=P(7398),re=P(2572),se=P(5879),xe=P(6573);let ze=(()=>{class G{constructor(Ce){this.firestore=Ce}setDocument(Ce,he){return this.firestore.doc(Ce).set(he)}addMessageToChat(Ce,he){return this.firestore.collection(`chats/${Ce}/messages`).add(he)}getDocById(Ce){return this.firestore.doc(Ce).valueChanges()}updateChatLastMessage(Ce,he){return this.firestore.doc(`chats/${Ce}`).update({lastMessage:he})}collectionRef(Ce){return this.firestore.collection(Ce)}collectionDataQuery(Ce,he){return this.firestore.collection(Ce,he).snapshotChanges().pipe((0,_.U)(ne=>ne.map(me=>{const Ne=me.payload.doc.data();return{id:me.payload.doc.id,...Ne}})))}whereQuery(Ce,he,ne){return me=>me.where(Ce,he,ne)}createEvent(Ce){return this.firestore.collection("events").add(Ce)}createChatForEvent(Ce,he){const{name:ne,image:me,participants:Ne}=he,qe={details:{name:ne,image:me,eventId:Ce,participants:Ne},messages:[],loadingMessages:!1,hasError:!1,lastMessage:!1};return this.firestore.collection("chats").add(qe)}linkEventWithChat(Ce,he){return this.firestore.doc(`events/${Ce}`).update({chatId:he})}updateEvent(Ce,he){return this.firestore.collection("events").doc(Ce).update(he)}joinUserToEvent(Ce,he){return this.firestore.collection("users").doc(Ce).update({joinedEvents:he})}updateUserFcmToken(Ce,he){return Ce?this.firestore.doc(`users/${Ce}`).update({fcmToken:he}):Promise.reject(new Error("No user ID provided"))}removeFromUserJoinedEvents(Ce,he){const ne=this.firestore.collection("users").doc(Ce);return this.firestore.firestore.runTransaction(function(){var me=(0,y.Z)(function*(Ne){const qe=(yield Ne.get(ne.ref)).data();if(qe&&qe.joinedEvents){const ut=qe.joinedEvents.filter(ce=>ce.eventId!==he);Ne.update(ne.ref,{joinedEvents:ut})}});return function(Ne){return me.apply(this,arguments)}}())}getChatMessages(Ce){return this.firestore.collection(`chats/${Ce}/messages`,he=>he.orderBy("timestamp")).valueChanges()}deleteEvent(Ce){return this.firestore.collection("events").doc(Ce).delete()}resetAllUnreadMessagesCount(Ce){return this.firestore.doc(`users/${Ce}`).update({unreadMessagesCount:0})}resetChatUnreadMessages(Ce,he){return this.firestore.doc(`chats/${Ce}`).get().toPromise().then(ne=>{if(!ne.exists)throw new Error("Chat not found");const be=ne.data().details.participants.map(qe=>qe.userId===he?{...qe,unreadMessagesCount:0}:qe);return this.firestore.doc(`chats/${Ce}`).update({"details.participants":be})})}getUnreadMessagesCount(Ce){return this.firestore.doc(`users/${Ce}`).valueChanges().pipe((0,_.U)(he=>he?he.unreadMessagesCount:0))}addParticipantToChat(Ce,he){var ne=this;return(0,y.Z)(function*(){const me=ne.firestore.doc(`chats/${Ce}`);return me.get().toPromise().then(Ne=>{if(Ne.exists){let be=Ne.data(),qe=be&&Array.isArray(be.details.participants)?[...be.details.participants,he]:[he];return me.update({"details.participants":qe})}throw new Error("Chat not found")})})()}getChatsUnreadMessagesCount(Ce,he){const ne=Ce.map(me=>this.firestore.doc(`chats/${me}`).valueChanges().pipe((0,_.U)(Ne=>{var be;const qe=null===(be=Ne.details.participants)||void 0===be?void 0:be.find(ut=>ut.userId===he);return{[me]:(null==qe?void 0:qe.unreadMessagesCount)||0}})));return(0,re.a)(ne).pipe((0,_.U)(me=>me.reduce((Ne,be)=>({...Ne,...be}),{})))}}return G.\u0275fac=function(Ce){return new(Ce||G)(se.LFG(xe.ST))},G.\u0275prov=se.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})()},1282:(Cn,mt,P)=>{"use strict";P.d(mt,{o:()=>ht});var y=P(5861),_=P(9397),re=P(5062),se=P(5879),xe=P(7582),ze=P(2096),G=P(6232),Ve=P(5592),Ce=P(5211),he=P(5137),ne=P(3093),me=P(4664),Ne=P(7398),be=P(7081),qe=P(4867),ut=P(6306),ce=P(1631),ke=P(3572),St=P(4556),Bt=P(6304),$e=P(9519);P(120);const z=new se.OlP("angularfire2.messaging.vapid-key"),Re=new se.OlP("angularfire2.messaging.service-worker-registeration");let ve=(()=>{class It{constructor(dt,Me,Q,de,Le,vt,Tt){const xt=Tt,on=(0,ze.of)(void 0).pipe((0,he.R)(Le.outsideAngular),(0,ne.Q)(Le.insideAngular),(0,me.w)($e.Gb),(0,me.w)(Ft=>Ft?P.e(9102).then(P.bind(P,9102)):G.E),(0,Ne.U)(()=>(0,Bt.on)(dt,de,Me)),(0,me.w)(Ft=>(0,Bt.cc)(`${Ft.name}.messaging`,"AngularFireMessaging",Ft.name,()=>(0,xe.mG)(this,void 0,void 0,function*(){return Ft.messaging()}),[])),(0,be.d)({bufferSize:1,refCount:!1}));this.requestPermission=on.pipe((0,he.R)(Le.outsideAngular),(0,ne.Q)(Le.insideAngular),(0,me.w)(()=>Notification.requestPermission())),this.getToken=on.pipe((0,he.R)(Le.outsideAngular),(0,ne.Q)(Le.insideAngular),(0,me.w)(Ft=>(0,xe.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const Nt=xt?yield xt:null;return yield Ft.getToken({vapidKey:vt,serviceWorkerRegistration:Nt})}return null})));const Xt=new Ve.y(Ft=>{navigator.permissions.query({name:"notifications"}).then(Nt=>{Nt.onchange=()=>Ft.next()})}),Zt=on.pipe((0,he.R)(Le.outsideAngular),(0,ne.Q)(Le.insideAngular),(0,qe.c)(Xt),(0,qe.c)(this.getToken));return this.tokenChanges=on.pipe((0,he.R)(Le.outsideAngular),(0,ne.Q)(Le.insideAngular),(0,me.w)(()=>(0,Ce.z)(this.getToken,Zt))),this.messages=on.pipe((0,he.R)(Le.outsideAngular),(0,ne.Q)(Le.insideAngular),(0,me.w)(Ft=>new Ve.y(Nt=>Ft.onMessage(Nt)))),this.requestToken=on.pipe((0,he.R)(Le.outsideAngular),(0,ne.Q)(Le.insideAngular),(0,me.w)(()=>this.requestPermission),(0,ut.K)(()=>(0,ze.of)(null)),(0,ce.z)(()=>this.tokenChanges)),this.deleteToken=()=>on.pipe((0,he.R)(Le.outsideAngular),(0,ne.Q)(Le.insideAngular),(0,me.w)(Ft=>Ft.deleteToken()),(0,ke.d)(!1)),(0,Bt.pX)(this,on,de)}}return It.\u0275fac=function(dt){return new(dt||It)(se.LFG(Bt.Dh),se.LFG(Bt.xv,8),se.LFG(se.Lbi),se.LFG(se.R0b),se.LFG(St.HU),se.LFG(z,8),se.LFG(Re,8))},It.\u0275prov=se.Yz7({token:It,factory:It.\u0275fac,providedIn:"any"}),It})();var We=P(3926),lt=P(4666),it=P(7311);let ht=(()=>{class It{constructor(dt,Me,Q,de){this.afMessaging=dt,this.firestoreApiService=Me,this.store=Q,this.toastController=de,this.init()}init(){this.receiveMessages()}showToast(dt){var Me=this;return(0,y.Z)(function*(){(yield Me.toastController.create({message:dt,duration:3e3,position:"top"})).present()})()}requestPermission(){"granted"===Notification.permission?(console.log("Permission has already been granted"),this.getToken()):"denied"!==Notification.permission&&this.afMessaging.requestPermission.pipe((0,_.b)(()=>{console.log("Permission granted!"),this.getToken()})).subscribe()}getToken(){this.afMessaging.getToken.subscribe(dt=>{console.log("Token:",dt);const Me=this.store.selectSnapshot(re.jq.user).uid;dt&&this.firestoreApiService.updateUserFcmToken(Me,dt).then(()=>console.log("FCM Token updated successfully")).catch(Q=>console.error("Error updating FCM Token:",Q))},dt=>{console.error(dt)})}receiveMessages(){this.afMessaging.messages.pipe((0,_.b)(dt=>{console.log("New message received:",dt),this.showNotification(dt.notification)})).subscribe()}showNotification(dt){this.showToast(`New message from ${dt.senderName}: ${dt.text}`)}}return It.\u0275fac=function(dt){return new(dt||It)(se.LFG(ve),se.LFG(We.P),se.LFG(lt.yh),se.LFG(it.yF))},It.\u0275prov=se.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})()},4360:(Cn,mt,P)=>{"use strict";P.d(mt,{F:()=>G});var y=P(6814),_=P(1450),re=P(5879);const se=function(Ve){return{"active-slide":Ve}};function xe(Ve,Ce){if(1&Ve&&(re.TgZ(0,"swiper-slide",5)(1,"div",6)(2,"p",7),re._uU(3),re.qZA(),re.TgZ(4,"p",8),re._uU(5),re.qZA()()()),2&Ve){const he=Ce.$implicit,ne=Ce.index,me=re.oxw();re.Q6J("ngClass",re.VKq(3,se,ne===me.activeSlideIndex)),re.xp6(3),re.Oqu(he.title),re.xp6(2),re.Oqu(he.date)}}const ze=function(){return{clickable:!0,dynamicBullets:!0}};let G=(()=>{class Ve{constructor(){this.activeSlideIndex=0,this.slides=[{title:"Open Air",date:"Today 20:00"},{title:"Food Fest",date:"Tomorrow 18:00"},{title:"Art Ex",date:"After tomorrow 10:00"}],this.swiperModules=[_.L$]}updateActiveSlide(he){this.activeSlideIndex=he.detail[0].activeIndex}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275cmp=re.Xpm({type:Ve,selectors:[["app-carousel"]],inputs:{slides:"slides"},standalone:!0,features:[re.jDz],decls:6,vars:8,consts:[[1,"last-minute-events-section"],[1,"carousel-container"],[1,"last-minute-events-title"],[3,"modules","slidesPerView","centeredSlides","autoplay","spaceBetween","pagination","slidechangetransitionend"],["class","slide-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"slide-card",3,"ngClass"],[1,"event-info"],[1,"event-title"],[1,"event-time"]],template:function(he,ne){1&he&&(re.TgZ(0,"div",0)(1,"div",1)(2,"p",2),re._uU(3,"Last Minute Events"),re.qZA(),re.TgZ(4,"swiper-container",3),re.NdJ("slidechangetransitionend",function(Ne){return ne.updateActiveSlide(Ne)}),re.YNc(5,xe,6,5,"swiper-slide",4),re.qZA()()()),2&he&&(re.xp6(4),re.Q6J("modules",ne.swiperModules)("slidesPerView",2)("centeredSlides",!0)("autoplay",!1)("spaceBetween",20)("pagination",re.DdM(7,ze)),re.xp6(1),re.Q6J("ngForOf",ne.slides))},dependencies:[y.ez,y.mk,y.sg],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:#e0e0e0;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0000001a}.carousel-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]{margin:0 auto;height:90px;border-radius:10px;background-color:var(--ion-color-light);transition:transform .3s ease-in-out,box-shadow .3s ease-in-out}.carousel-container[_ngcontent-%COMP%]   swiper-slide.active-slide[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 4px 8px #0003}.carousel-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.carousel-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]   .event-title[_ngcontent-%COMP%]{color:var(--ion-color-primary);padding:15px 5px 5px;margin:0}.carousel-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]   .event-time[_ngcontent-%COMP%]{color:var(--ion-color-medium);padding:5px;margin:0}swiper-container[_ngcontent-%COMP%]{height:120px;--swiper-pagination-bullet-inactive-color: var(--ion-color-step-200, #cccccc);--swiper-pagination-color: var(--ion-color-primary, #3880ff);--swiper-pagination-progressbar-bg-color: rgba(var(--ion-text-color-rgb, 0, 0, 0), .25);--swiper-scrollbar-bg-color: rgba(var(--ion-text-color-rgb, 0, 0, 0), .1);--swiper-scrollbar-drag-bg-color: rgba(var(--ion-text-color-rgb, 0, 0, 0), .5)}.last-minute-events-title[_ngcontent-%COMP%]{text-align:center;font-size:20px;margin:10px 0}"]}),Ve})()},5945:(Cn,mt,P)=>{"use strict";P.d(mt,{G:()=>y,k:()=>_});const y=[{controlName:"username",placeholder:"Username",type:"input",icon:"person-outline",isEditing:!1,isOverflowing:!1},{controlName:"photo",placeholder:"Upload a Photo",type:"file",icon:"camera-outline",isEditing:!1,isOverflowing:!1},{controlName:"about",placeholder:"About Me",type:"textarea",icon:"information-circle-outline",isEditing:!1,isOverflowing:!1},{controlName:"preferredLanguages",placeholder:"Preferred Languages",type:"select",icon:"language-outline",options:["English","Russian","Polish","Spanish","French"],multiple:!0,isEditing:!1,isOverflowing:!1},{controlName:"interests",placeholder:"Interests",type:"select",icon:"heart-outline",options:["Bowling","Cinema","Theatre","Hiking","Reading"],multiple:!0,isEditing:!1,isOverflowing:!1},{controlName:"ageGroup",placeholder:"Age Group",type:"select",icon:"calendar-outline",options:["18-25","26-35","36-45","46-55","56+"],isEditing:!1,isOverflowing:!1}],_=y.concat([{controlName:"email",placeholder:"Email",type:"input",icon:"mail-outline",isEditing:!1},{controlName:"password",placeholder:"Password",type:"password",icon:"lock-closed-outline",isEditing:!1}])},5062:(Cn,mt,P)=>{"use strict";P.d(mt,{jq:()=>je,m3:()=>y,yp:()=>_,RD:()=>se,SQ:()=>he,a4:()=>Ve,pw:()=>G});let y=(()=>{class z{constructor(ve){this.payload=ve}}return z.type="[Auth] Login",z})(),_=(()=>{class z{constructor(ve){this.payload=ve}}return z.type="[Auth] Login Success",z})(),re=(()=>{class z{constructor(ve){this.payload=ve}}return z.type="[Auth] Login Failure",z})(),se=(()=>{class z{}return z.type="[Auth] Logout",z})(),xe=(()=>{class z{}return z.type="[Auth] Logout Success",z})(),ze=(()=>{class z{constructor(ve){this.payload=ve}}return z.type="[Auth] Logout Failure",z})(),G=(()=>{class z{constructor(ve){this.payload=ve}}return z.type="[Auth] Set Current User",z})(),Ve=(()=>{class z{constructor(ve){this.payload=ve}}return z.type="[Auth] Register",z})(),Ce=(()=>{class z{}return z.type="[Auth] Register Success",z})(),he=(()=>{class z{constructor(ve){this.payload=ve}}return z.type="[Auth] Register Failure",z})();var Ee,ne=P(5861),me=P(7582),Ne=P(5879),be=P(4666),qe=P(9397),ut=P(6306),ce=P(7140),ke=P(2333),St=P(6573),Bt=P(8857),$e=P(7311);let je=((Ee=class{constructor(Re,ve,we,We){this.authService=Re,this.firestore=ve,this.router=we,this.toastController=We}register(Re,ve){const{email:we,password:We,preferences:lt}=ve.payload;return this.authService.register(we,We).pipe((0,qe.b)(it=>{this.firestore.collection("users").doc(it.user.uid).set(lt),Re.dispatch(new ce.fA({preferences:lt}))}),(0,ut.K)(it=>{throw console.error("Error during registration:",it),Re.dispatch(new he({error:it})),it}))}login(Re,ve){const{email:we,password:We}=ve.payload;return this.authService.login(we,We).pipe((0,qe.b)(lt=>{Re.dispatch(new _({user:lt.user})),this.router.navigateByUrl("home")}),(0,ut.K)(lt=>{throw console.error("Error during login:",lt),Re.dispatch(new re({error:lt})),lt}))}loginSuccess(Re,ve){const we=Re.getState(),{user:We}=ve.payload;Re.setState({...we,user:We,error:null})}loginFailure(Re,ve){const we=Re.getState(),{error:We}=ve.payload;this.presentToast(),Re.setState({...we,user:null,error:We})}setCurrentUser(Re,ve){const we=Re.getState(),{user:We}=ve.payload;Re.setState({...we,user:We})}registerSuccess(Re){const ve=Re.getState();Re.setState({...ve,error:null})}registerFailure(Re,ve){const we=Re.getState(),{error:We}=ve.payload;Re.setState({...we,user:null,error:We})}logout(Re){return this.authService.logout().pipe((0,qe.b)(()=>{Re.dispatch(new xe)}),(0,ut.K)(ve=>{throw Re.dispatch(new ze({error:ve})),ve}))}onLogoutSuccess(Re){const ve=Re.getState();Re.setState({...ve,user:null,error:null})}onLogoutFailure(Re,ve){const we=Re.getState();Re.setState({...we,error:ve.payload.error})}static user(Re){return Re.user}static error(Re){return Re.error}static isLoggedIn(Re){return!!Re.user.uid}static hasError(Re){return!!Re.error}presentToast(){var Re=this;return(0,ne.Z)(function*(){yield(yield Re.toastController.create({message:"Email or/and password are incorrect!",duration:2e3,position:"top"})).present()})()}}).\u0275fac=function(Re){return new(Re||Ee)(Ne.LFG(ke.e),Ne.LFG(St.ST),Ne.LFG(Bt.F0),Ne.LFG($e.yF))},Ee.\u0275prov=Ne.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee);(0,me.gn)([(0,be.aU)(Ve)],je.prototype,"register",null),(0,me.gn)([(0,be.aU)(y)],je.prototype,"login",null),(0,me.gn)([(0,be.aU)(_)],je.prototype,"loginSuccess",null),(0,me.gn)([(0,be.aU)(re)],je.prototype,"loginFailure",null),(0,me.gn)([(0,be.aU)(G)],je.prototype,"setCurrentUser",null),(0,me.gn)([(0,be.aU)(Ce)],je.prototype,"registerSuccess",null),(0,me.gn)([(0,be.aU)(he)],je.prototype,"registerFailure",null),(0,me.gn)([(0,be.aU)(se)],je.prototype,"logout",null),(0,me.gn)([(0,be.aU)(xe)],je.prototype,"onLogoutSuccess",null),(0,me.gn)([(0,be.aU)(ze)],je.prototype,"onLogoutFailure",null),(0,me.gn)([(0,be.Qf)()],je,"user",null),(0,me.gn)([(0,be.Qf)()],je,"error",null),(0,me.gn)([(0,be.Qf)()],je,"isLoggedIn",null),(0,me.gn)([(0,be.Qf)()],je,"hasError",null),je=(0,me.gn)([(0,be.ZM)({name:"auth",defaults:{user:null,error:null}}),(0,Ne.GSi)()],je)},6514:(Cn,mt,P)=>{"use strict";P.d(mt,{gG:()=>lt,Rt:()=>se,xy:()=>G,Wr:()=>me,uz:()=>y});let y=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Send Message",it})(),_=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Load Chat Messages",it})(),re=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Load Chat Messages Success",it})(),se=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Load Current Chat",it})(),xe=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Load Current Chat Success ",it})(),ze=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Update Last Message",it})(),G=(()=>{class it{}return it.type="[Chat] Reset Unread Messages",it})(),Ve=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Update Unread Messages Count",it})(),Ce=(()=>{class it{}return it.type="[Chat] Fetch Unread Messages Count",it})(),he=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Fetch Chats Unread Messages Count",it})(),ne=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Update Chats Unread Messages Count Success",it})(),me=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Reset Unread Messages",it})(),Ne=(()=>{class it{constructor(It){this.payload=It}}return it.type="[Chat] Reset Unread Messages Success",it})();var we,be=P(7582),qe=P(4666),ut=P(9397),ce=P(8180),ke=P(8504),St=P(6232),Bt=P(6306),$e=P(7140),Ee=P(5879),je=P(8216),z=P(3926),Re=P(2333),ve=P(8857);let lt=((we=class{constructor(ht,It,an,dt){this.chatService=ht,this.firestoreApiService=It,this.authService=an,this.router=dt}static messages(ht){return ht.currentChat.messages}static chats(ht){return ht.chats}static unreadMessagesCount(ht){return ht.unreadMessagesCount}static currentChatDetails(ht){return ht.currentChat}fetchUnreadMessagesCount({patchState:ht}){const It=this.authService.getCurrentUserId();this.firestoreApiService.getUnreadMessagesCount(It).pipe((0,ut.b)(an=>{ht({unreadMessagesCount:an})})).subscribe()}resetAllUnreadMessages({patchState:ht}){const It=this.authService.getCurrentUserId();ht({unreadMessagesCount:0}),this.firestoreApiService.resetAllUnreadMessagesCount(It)}loadCurrentChat({dispatch:It},{payload:{chatId:dt}}){return this.chatService.loadChatById(dt).pipe((0,ut.b)(Me=>{const Q={...Me,id:dt};It(new xe({currentChat:Q})).pipe((0,ce.q)(1))}),(0,Bt.K)(Me=>(0,ke._)(()=>new Error(Me))))}loadCurrentChatSuccess({patchState:ht,dispatch:It},{payload:{currentChat:dt}}){ht({currentChat:dt}),It(new _({chatId:dt.id})).pipe((0,ce.q)(1))}sendMessage(ht,{payload:It}){const{chatId:an,message:dt}=It;return this.firestoreApiService.addMessageToChat(an,dt).then(Me=>{const Q=ht.getState();Q.currentChat&&Q.currentChat.id===an&&(ht.patchState({currentChat:{...Q.currentChat,messages:[...Q.currentChat.messages,dt]}}),ht.dispatch(new ze({chatId:an,lastMessage:dt})))}).catch(Me=>console.error("Error sending message:",Me))}updateLastMessage(ht,{payload:{chatId:It,lastMessage:an}}){return this.firestoreApiService.updateChatLastMessage(It,an).then(()=>{const dt=ht.getState(),Me=dt.chats.findIndex(Q=>Q.id===It);if(Me>-1){const Q=[...dt.chats],de={...Q[Me],lastMessage:an};Q[Me]=de,ht.patchState({chats:Q,currentChat:dt.currentChat&&dt.currentChat.id===It?de:dt.currentChat})}}).catch(dt=>{console.error("Error updating last message:",dt)})}updateUnreadMessagesCount({patchState:ht},{payload:It}){It&&void 0!==It.unreadMessagesCount&&ht({unreadMessagesCount:It.unreadMessagesCount})}loadChatMessages({dispatch:ht},{payload:{chatId:It}}){return this.firestoreApiService.getChatMessages(It).pipe((0,ut.b)(an=>{ht(new re({chatId:It,messages:an})).pipe((0,ce.q)(1))}),(0,Bt.K)(an=>(console.error("Error loading chat messages:",an),(0,ke._)(an))))}loadChatMessagesSuccess({getState:ht,patchState:It},{payload:{chatId:an,messages:dt}}){var Me;const Q=ht();(null===(Me=Q.currentChat)||void 0===Me?void 0:Me.id)===an&&It({currentChat:{...Q.currentChat,messages:dt}})}loadUserChats(ht,It){return this.chatService.loadAllChats(It.payload.chatIds).pipe((0,ut.b)(an=>{ht.dispatch(new $e.D8({chats:an}))}),(0,Bt.K)(an=>(console.log(an),St.E)))}loadUserChatsSuccess(ht,It){const an=ht.getState();ht.setState({...an,chats:It.payload.chats});const dt=It.payload.chats.map(Me=>Me.id);ht.dispatch(new he({chatIds:dt}))}fetchChatsUnreadMessagesCount({dispatch:an},{payload:{chatIds:dt}}){const Me=this.authService.getCurrentUserId();return this.firestoreApiService.getChatsUnreadMessagesCount(dt,Me).pipe((0,ce.q)(1),(0,ut.b)(Q=>an(new ne({unreadMessagesCounts:Q}))),(0,Bt.K)(Q=>(console.error("Error fetching unread messages count:",Q),(0,ke._)(()=>new Error(Q)))))}updateChatsUnreadMessagesCountSuccess({getState:ht,patchState:It,dispatch:an},{payload:dt}){const Me=ht(),Q=this.authService.getCurrentUserId(),de=this.router.url,Le=de.split("/").find(Tt=>"chats"===Tt)?de.split("/")[de.split("/").indexOf("chats")+1]:null,vt=Me.chats.map(Tt=>{var xt;if(Tt.id===Le)return{...Tt,unreadMessagesCount:0};const on=dt.unreadMessagesCounts[Tt.id],Xt=null===(xt=Tt.details.participants)||void 0===xt?void 0:xt.some(Zt=>Zt.userId===Q);return{...Tt,unreadMessagesCount:Xt?on:Tt.unreadMessagesCount}});Le&&Q&&an(new Ne({chatId:Le,userId:Q})),It({chats:vt,unreadMessagesCount:vt.reduce((Tt,xt)=>{var on;return null!==(on=Tt+xt.unreadMessagesCount)&&void 0!==on?on:0},0)})}resetChatUnreadMessages(ht,{payload:It}){return It?this.firestoreApiService.resetChatUnreadMessages(It.chatId,It.userId).then(()=>{ht.dispatch(new Ne({chatId:It.chatId,userId:It.userId}))}):St.E}resetChatUnreadMessagesSuccess(ht,{payload:{chatId:It}}){const dt=ht.getState().chats.map(Me=>Me.id===It?{...Me,unreadMessagesCount:0}:Me);ht.patchState({chats:dt})}}).\u0275fac=function(ht){return new(ht||we)(Ee.LFG(je.a),Ee.LFG(z.P),Ee.LFG(Re.e),Ee.LFG(ve.F0))},we.\u0275prov=Ee.Yz7({token:we,factory:we.\u0275fac}),we);(0,be.gn)([(0,qe.aU)(Ce)],lt.prototype,"fetchUnreadMessagesCount",null),(0,be.gn)([(0,qe.aU)(G)],lt.prototype,"resetAllUnreadMessages",null),(0,be.gn)([(0,qe.aU)(se)],lt.prototype,"loadCurrentChat",null),(0,be.gn)([(0,qe.aU)(xe)],lt.prototype,"loadCurrentChatSuccess",null),(0,be.gn)([(0,qe.aU)(y)],lt.prototype,"sendMessage",null),(0,be.gn)([(0,qe.aU)(ze)],lt.prototype,"updateLastMessage",null),(0,be.gn)([(0,qe.aU)(Ve)],lt.prototype,"updateUnreadMessagesCount",null),(0,be.gn)([(0,qe.aU)(_)],lt.prototype,"loadChatMessages",null),(0,be.gn)([(0,qe.aU)(re)],lt.prototype,"loadChatMessagesSuccess",null),(0,be.gn)([(0,qe.aU)($e.Ai)],lt.prototype,"loadUserChats",null),(0,be.gn)([(0,qe.aU)($e.D8)],lt.prototype,"loadUserChatsSuccess",null),(0,be.gn)([(0,qe.aU)(he)],lt.prototype,"fetchChatsUnreadMessagesCount",null),(0,be.gn)([(0,qe.aU)(ne)],lt.prototype,"updateChatsUnreadMessagesCountSuccess",null),(0,be.gn)([(0,qe.aU)(me)],lt.prototype,"resetChatUnreadMessages",null),(0,be.gn)([(0,qe.aU)(Ne)],lt.prototype,"resetChatUnreadMessagesSuccess",null),(0,be.gn)([(0,qe.Qf)()],lt,"messages",null),(0,be.gn)([(0,qe.Qf)()],lt,"chats",null),(0,be.gn)([(0,qe.Qf)()],lt,"unreadMessagesCount",null),(0,be.gn)([(0,qe.Qf)()],lt,"currentChatDetails",null),lt=(0,be.gn)([(0,qe.ZM)({name:"chat",defaults:{chats:[],currentChat:null,unreadMessagesCount:0}})],lt)},9207:(Cn,mt,P)=>{"use strict";P.d(mt,{IA:()=>ze,A1:()=>me,nF:()=>dt,NQ:()=>y,Tc:()=>G,fB:()=>xe,H1:()=>ne});let y=(()=>{class Me{}return Me.type="[Events] Load All Events",Me})(),_=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Load All Events Success",Me})(),re=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Load Events Success",Me})(),se=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Load Events Failure",Me})(),xe=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Load Events By Category",Me})(),ze=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Add Event",Me})(),G=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Load Event",Me})(),Ve=(()=>{class Me{}return Me.type="[Events] Unselect Event",Me})(),Ce=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Load Event Success",Me})(),he=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Load Event Failure",Me})(),ne=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Update",Me})(),me=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Delete Event",Me})(),Ne=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Delete Event Success",Me})(),be=(()=>{class Me{constructor(de){this.payload=de}}return Me.type="[Events] Delete Event Failure",Me})();var qe=P(7582),ut=P(4666),ce=P(9397),ke=P(2459),St=P(1631),Bt=P(9732),$e=P(9360);const je=(Me,Q)=>(Me.push(Q),Me);var Re=P(4664),ve=P(8504),we=P(6306),We=P(5879),lt=P(7398),it=P(3926);let ht=(()=>{class Me{constructor(de){this.firestoreApiService=de}getAll(){return this.firestoreApiService.collectionDataQuery("events")}getEventsByCategory(de){return this.firestoreApiService.collectionDataQuery("events",vt=>vt.where("category","==",de)).pipe((0,we.K)(vt=>(0,ve._)(()=>new Error(vt))))}getEvent(de){return this.firestoreApiService.getDocById(`events/${de}`).pipe((0,lt.U)(Le=>Le))}}return Me.\u0275fac=function(de){return new(de||Me)(We.LFG(it.P))},Me.\u0275prov=We.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();var an,It=P(8857);let dt=((an=class{constructor(Q,de,Le){this.eventsService=Q,this.router=de,this.firestoreApiService=Le}static categoryEvents(Q){return Q.categoryEvents}static allEvents(Q){return Q.allEvents}static selectedEventDetails(Q){return Q.selectedEvent}static createdEvent(Q){return Q.createdEvent}static eventCountsByCategory(Q){return Q.allEvents.reduce((de,Le)=>(de[Le.category]=(de[Le.category]||0)+1,de),{})}static loadingStatus(Q){return Q.loadingStatus}loadEvents(Q){return Q.patchState({loadingStatus:"loading"}),this.eventsService.getAll().pipe((0,ce.b)(de=>{Q.dispatch(new _({allEvents:de}))}),(0,we.K)(de=>{throw Q.dispatch(new se({error:de.message})),de}))}loadEventsByCategory(Q,{payload:{category:de}}){return Q.patchState({loadingStatus:"loading"}),this.eventsService.getEventsByCategory(de).pipe((0,ce.b)(Le=>{Q.dispatch(new re({events:Le}))}),(0,we.K)(Le=>{throw Q.dispatch(new se({error:Le.message})),Le}))}loadEvent(Q,de){Q.patchState({loadingStatus:"loading"});const Le=Q.getState().categoryEvents.find(vt=>vt.id===de.payload.eventId);return Le?Q.dispatch(new Ce({event:Le})):this.eventsService.getEvent(de.payload.eventId).pipe((0,ce.b)(vt=>{Q.dispatch(new Ce({event:{...vt,id:de.payload.eventId}}))}),(0,we.K)(vt=>{throw Q.dispatch(new he({error:vt.message})),vt}))}onUnselectEvent(Q){Q.dispatch(new Ce({event:null}))}onLoadEventsSuccess(Q,{payload:{events:de}}){const Le=Q.getState();Q.setState({...Le,loadingStatus:"loaded",categoryEvents:de})}onLoadAllEventsSuccess(Q,{payload:{allEvents:de}}){const Le=Q.getState();Q.setState({...Le,loadingStatus:"loaded",allEvents:de})}onLoadEventsFailure(Q,{payload:{error:de}}){const Le=Q.getState();Q.setState({...Le,loadingStatus:"error",error:de})}onLoadEventSuccess(Q,de){const Le=Q.getState();Q.setState({...Le,loadingStatus:"loaded",selectedEvent:de.payload.event})}onLoadEventFailure(Q,{payload:{error:de}}){const Le=Q.getState();Q.setState({...Le,loadingStatus:"error",error:de,selectedEvent:null})}onAddEvent(Q,de){const Le=Q.getState();Q.setState({...Le,categoryEvents:[...Le.categoryEvents,de.payload.event],createdEvent:de.payload.event})}updateEvent(Q,de){return this.firestoreApiService.updateEvent(de.payload.eventId,de.payload.eventData).then(()=>{const Le=Q.getState(),vt=Le.categoryEvents.map(Tt=>Tt.id===de.payload.eventId?{...Tt,...de.payload.eventData}:Tt);Q.setState({...Le,categoryEvents:vt})})}deleteEvent(Q,{payload:{eventId:de}}){const Le=Q.getState().selectedEvent;if(!Le)throw new Error("No event selected");return(0,ke.D)(Le.participants).pipe((0,St.z)(Tt=>this.firestoreApiService.removeFromUserJoinedEvents(Tt.userId,de)),function z(){return(0,$e.e)((Me,Q)=>{(function Ee(Me,Q){return(0,$e.e)((0,Bt.U)(Me,Q,arguments.length>=2,!1,!0))})(je,[])(Me).subscribe(Q)})}(),(0,Re.w)(()=>this.firestoreApiService.deleteEvent(de)),(0,ce.b)(()=>Q.dispatch(new Ne({eventId:de}))),(0,we.K)(Tt=>(Q.dispatch(new be({error:Tt})),(0,ve._)(()=>new Error(Tt)))))}onDeleteEventSuccess(Q,{payload:{eventId:de}}){const Le=Q.getState(),vt=Le.categoryEvents.filter(Tt=>Tt.id!==de);Q.setState({...Le,categoryEvents:vt,selectedEvent:null}),this.router.navigate(["home"])}onDeleteEventFailure(Q,{payload:{error:de}}){const Le=Q.getState();Q.setState({...Le,error:de})}}).\u0275fac=function(Q){return new(Q||an)(We.LFG(ht),We.LFG(It.F0),We.LFG(it.P))},an.\u0275prov=We.Yz7({token:an,factory:an.\u0275fac}),an);(0,qe.gn)([(0,ut.aU)(y)],dt.prototype,"loadEvents",null),(0,qe.gn)([(0,ut.aU)(xe)],dt.prototype,"loadEventsByCategory",null),(0,qe.gn)([(0,ut.aU)(G)],dt.prototype,"loadEvent",null),(0,qe.gn)([(0,ut.aU)(Ve)],dt.prototype,"onUnselectEvent",null),(0,qe.gn)([(0,ut.aU)(re)],dt.prototype,"onLoadEventsSuccess",null),(0,qe.gn)([(0,ut.aU)(_)],dt.prototype,"onLoadAllEventsSuccess",null),(0,qe.gn)([(0,ut.aU)(se)],dt.prototype,"onLoadEventsFailure",null),(0,qe.gn)([(0,ut.aU)(Ce)],dt.prototype,"onLoadEventSuccess",null),(0,qe.gn)([(0,ut.aU)(he)],dt.prototype,"onLoadEventFailure",null),(0,qe.gn)([(0,ut.aU)(ze)],dt.prototype,"onAddEvent",null),(0,qe.gn)([(0,ut.aU)(ne)],dt.prototype,"updateEvent",null),(0,qe.gn)([(0,ut.aU)(me)],dt.prototype,"deleteEvent",null),(0,qe.gn)([(0,ut.aU)(Ne)],dt.prototype,"onDeleteEventSuccess",null),(0,qe.gn)([(0,ut.aU)(be)],dt.prototype,"onDeleteEventFailure",null),(0,qe.gn)([(0,ut.Qf)()],dt,"categoryEvents",null),(0,qe.gn)([(0,ut.Qf)()],dt,"allEvents",null),(0,qe.gn)([(0,ut.Qf)()],dt,"selectedEventDetails",null),(0,qe.gn)([(0,ut.Qf)()],dt,"createdEvent",null),(0,qe.gn)([(0,ut.Qf)()],dt,"eventCountsByCategory",null),(0,qe.gn)([(0,ut.Qf)()],dt,"loadingStatus",null),dt=(0,qe.gn)([(0,ut.ZM)({name:"events",defaults:{categoryEvents:[],allEvents:[],loadingStatus:"",error:null,selectedEvent:null,createdEvent:null}})],dt)},7140:(Cn,mt,P)=>{"use strict";P.d(mt,{mm:()=>y,Ai:()=>Ve,D8:()=>Ce,bc:()=>_,fA:()=>re,Jk:()=>xe,aF:()=>ve});let y=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Join User To Event",we})(),_=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Preferences Upload Start",we})(),re=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Preferences Upload Success",we})(),se=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Preferences Upload Failure",we})(),xe=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Set Preferences",we})(),ze=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Join User To Event Success",we})(),G=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Join User To Event Failure",we})(),Ve=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Load User Chats",we})(),Ce=(()=>{class we{constructor(lt){this.payload=lt}}return we.type="[User] Load User Chats Success",we})();var je,he=P(7582),ne=P(5879),me=P(4666),Ne=P(2459),be=P(4664),qe=P(8504),ut=P(6306),ce=P(5062),ke=P(6573),St=P(3926),Bt=P(8857),$e=P(8216),Ee=P(1282);let ve=((je=class{constructor(We,lt,it,ht,It){this.firestore=We,this.firestoreApiService=lt,this.router=it,this.chatService=ht,this.messagingService=It}joinUserToEvent(We,lt){const{userId:it,events:ht}=lt.payload;return this.firestoreApiService.joinUserToEvent(it,ht).then(()=>{We.dispatch(new ze({events:ht}))}).catch(It=>We.dispatch(new G({error:It})))}onJoinUserToEventSuccess(We,lt){const it=We.getState();We.setState({...it,userActivities:{...it.userActivities,joinedEvents:lt.payload.events}}),this.messagingService.requestPermission()}onJoinUserToEventFailure(We,lt){console.log("You have not joined, error occurred!")}preferencesUpload(We,lt){const{preferences:it}=lt.payload,ht=We.getState().user.uid;return(0,Ne.D)(this.firestore.collection("users").doc(ht).set(it)).pipe((0,be.w)(()=>We.dispatch(new re({preferences:it}))),(0,ut.K)(It=>(console.error("Error during preferences upload:",It),We.dispatch(new ce.SQ({error:It})),(0,qe._)(It))))}preferencesUploadSuccess(We,lt){this.router.navigateByUrl("home");const it=We.getState(),{preferences:{username:ht,preferredLanguages:It,about:an,ageGroup:dt,interests:Me,avatar:Q}}=lt.payload;We.setState({...it,userPreferences:{username:ht,about:an,ageGroup:dt,interests:Me,avatar:Q,preferredLanguages:It}})}setUserPreferences(We,lt){const it=We.getState(),{avatar:ht,preferredLanguages:It,username:an,about:dt,ageGroup:Me,interests:Q,joinedEvents:de,pastEvents:Le,notifications:vt}=lt.payload.preferences;We.setState({...it,userPreferences:{avatar:ht,preferredLanguages:It,username:an,about:dt,ageGroup:Me,interests:Q},userActivities:{joinedEvents:de,pastEvents:Le,notifications:vt}})}preferencesUploadFailure(We,lt){const it=We.getState(),{error:ht}=lt.payload;We.setState({...it,error:ht})}static error(We){return We.error}static userPreferences(We){return We.userPreferences}static userActivities(We){return We.userActivities}}).\u0275fac=function(We){return new(We||je)(ne.LFG(ke.ST),ne.LFG(St.P),ne.LFG(Bt.F0),ne.LFG($e.a),ne.LFG(Ee.o))},je.\u0275prov=ne.Yz7({token:je,factory:je.\u0275fac}),je);(0,he.gn)([(0,me.aU)(y)],ve.prototype,"joinUserToEvent",null),(0,he.gn)([(0,me.aU)(ze)],ve.prototype,"onJoinUserToEventSuccess",null),(0,he.gn)([(0,me.aU)(G)],ve.prototype,"onJoinUserToEventFailure",null),(0,he.gn)([(0,me.aU)(_)],ve.prototype,"preferencesUpload",null),(0,he.gn)([(0,me.aU)(re)],ve.prototype,"preferencesUploadSuccess",null),(0,he.gn)([(0,me.aU)(xe)],ve.prototype,"setUserPreferences",null),(0,he.gn)([(0,me.aU)(se)],ve.prototype,"preferencesUploadFailure",null),(0,he.gn)([(0,me.Qf)()],ve,"error",null),(0,he.gn)([(0,me.Qf)()],ve,"userPreferences",null),(0,he.gn)([(0,me.Qf)()],ve,"userActivities",null),ve=(0,he.gn)([(0,me.ZM)({name:"user",defaults:{userActivities:{joinedEvents:[],pastEvents:[],notifications:[]},userPreferences:{username:"",avatar:"",about:"",preferredLanguages:[],interests:[],ageGroup:""},error:null}}),(0,ne.GSi)()],ve)},7978:(Cn,mt,P)=>{"use strict";var y=P(6593),_=P(5879),re=P(6304),se=P(6298),xe=P(6321),ze=P(5592),G=P(2096),Ve=P(3019),Ce=P(7398),he=P(3020),ne=P(4664),me=P(6424),Ne=P(3997),be=P(2460),qe=P(9360),ut=P(8251),ke=P(4556),Bt=(P(8977),P(3106)),$e=P(4537),Ee=P(5861),je=P(534),z=P(9058),Re=P(7879);const ve="@firebase/database";let We="";function lt(a){We=a}class it{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,o){null==o?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,z.Wl)(o))}get(t){const o=this.domStorage_.getItem(this.prefixedName_(t));return null==o?null:(0,z.cI)(o)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ht{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,o){null==o?delete this.cache_[t]:this.cache_[t]=o}get(t){return(0,z.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const It=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new it(t)}}catch{}return new ht},an=It("localStorage"),dt=It("sessionStorage"),Me=new Re.Yd("@firebase/database"),Q=function(){let a=1;return function(){return a++}}(),de=function(a){const t=(0,z.dS)(a),o=new z.gQ;o.update(t);const u=o.digest();return z.US.encodeByteArray(u)},Le=function(...a){let t="";for(let o=0;o<a.length;o++){const u=a[o];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?t+=Le.apply(null,u):t+="object"==typeof u?(0,z.Wl)(u):u,t+=" "}return t};let vt=null,Tt=!0;const xt=function(a,t){(0,z.hu)(!t||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(Me.logLevel=Re.in.VERBOSE,vt=Me.log.bind(Me),t&&dt.set("logging_enabled",!0)):"function"==typeof a?vt=a:(vt=null,dt.remove("logging_enabled"))},on=function(...a){if(!0===Tt&&(Tt=!1,null===vt&&!0===dt.get("logging_enabled")&&xt(!0)),vt){const t=Le.apply(null,a);vt(t)}},Xt=function(a){return function(...t){on(a,...t)}},Zt=function(...a){const t="FIREBASE INTERNAL ERROR: "+Le(...a);Me.error(t)},Ft=function(...a){const t=`FIREBASE FATAL ERROR: ${Le(...a)}`;throw Me.error(t),new Error(t)},Nt=function(...a){const t="FIREBASE WARNING: "+Le(...a);Me.warn(t)},nn=function(a){return"number"==typeof a&&(a!=a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Bn="[MIN_NAME]",$n="[MAX_NAME]",tr=function(a,t){if(a===t)return 0;if(a===Bn||t===$n)return-1;if(t===Bn||a===$n)return 1;{const o=Ei(a),u=Ei(t);return null!==o?null!==u?o-u==0?a.length-t.length:o-u:-1:null!==u?1:a<t?-1:1}},Ar=function(a,t){return a===t?0:a<t?-1:1},Hr=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+(0,z.Wl)(t))},sr=function(a){if("object"!=typeof a||null===a)return(0,z.Wl)(a);const t=[];for(const u in a)t.push(u);t.sort();let o="{";for(let u=0;u<t.length;u++)0!==u&&(o+=","),o+=(0,z.Wl)(t[u]),o+=":",o+=sr(a[t[u]]);return o+="}",o},Fr=function(a,t){const o=a.length;if(o<=t)return[a];const u=[];for(let p=0;p<o;p+=t)u.push(a.substring(p,p+t>o?o:p+t));return u};function mn(a,t){for(const o in a)a.hasOwnProperty(o)&&t(o,a[o])}const Yr=function(a){(0,z.hu)(!nn(a),"Invalid JSON number");const u=1023;let p,w,D,N,k;0===a?(w=0,D=0,p=1/a==-1/0?1:0):(p=a<0,(a=Math.abs(a))>=Math.pow(2,1-u)?(N=Math.min(Math.floor(Math.log(a)/Math.LN2),u),w=N+u,D=Math.round(a*Math.pow(2,52-N)-Math.pow(2,52))):(w=0,D=Math.round(a/Math.pow(2,-1074))));const H=[];for(k=52;k;k-=1)H.push(D%2?1:0),D=Math.floor(D/2);for(k=11;k;k-=1)H.push(w%2?1:0),w=Math.floor(w/2);H.push(p?1:0),H.reverse();const K=H.join("");let Z="";for(k=0;k<64;k+=8){let te=parseInt(K.substr(k,8),2).toString(16);1===te.length&&(te="0"+te),Z+=te}return Z.toLowerCase()},Br=new RegExp("^-?(0*)\\d{1,10}$"),Ei=function(a){if(Br.test(a)){const t=Number(a);if(t>=-2147483648&&t<=2147483647)return t}return null},fr=function(a){try{a()}catch(t){setTimeout(()=>{throw Nt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},xr=function(a,t){const o=setTimeout(a,t);return"number"==typeof o&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(o):"object"==typeof o&&o.unref&&o.unref(),o};class Hi{constructor(t,o){this.appName_=t,this.appCheckProvider=o,this.appCheck=null==o?void 0:o.getImmediate({optional:!0}),this.appCheck||null==o||o.get().then(u=>this.appCheck=u)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((o,u)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(o,u):o(null)},0)})}addTokenChangeListener(t){var o;null===(o=this.appCheckProvider)||void 0===o||o.get().then(u=>u.addTokenListener(t))}notifyForInvalidToken(){Nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Sr{constructor(t,o,u){this.appName_=t,this.firebaseOptions_=o,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(p=>this.auth_=p)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(o=>o&&"auth/token-not-initialized"===o.code?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(o)):new Promise((o,u)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(o,u):o(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(o=>o.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(o=>o.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(t)}}let Jr=(()=>{class a{constructor(o){this.accessToken=o}getToken(o){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(o){o(this.accessToken)}removeTokenChangeListener(o){}notifyForInvalidToken(){}}return a.OWNER="owner",a})();const ei=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ti="websocket",oi="long_polling";class st{constructor(t,o,u,p,w=!1,D="",N=!1,k=!1){this.secure=o,this.namespace=u,this.webSocketOnly=p,this.nodeAdmin=w,this.persistenceKey=D,this.includeNamespaceInQueryParams=N,this.isUsingEmulator=k,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=an.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&an.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _e(a,t,o){let u;if((0,z.hu)("string"==typeof t,"typeof type must == string"),(0,z.hu)("object"==typeof o,"typeof params must == object"),t===ti)u=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else{if(t!==oi)throw new Error("Unknown connection type: "+t);u=(a.secure?"https://":"http://")+a.internalHost+"/.lp?"}(function ye(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams})(a)&&(o.ns=a.namespace);const p=[];return mn(o,(w,D)=>{p.push(w+"="+D)}),u+p.join("&")}class Se{constructor(){this.counters_={}}incrementCounter(t,o=1){(0,z.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=o}get(){return(0,z.p$)(this.counters_)}}const Fe={},Ut={};function ln(a){const t=a.toString();return Fe[t]||(Fe[t]=new Se),Fe[t]}class ir{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,o){this.closeAfterResponse=t,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,o){for(this.pendingResponses[t]=o;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let p=0;p<u.length;++p)u[p]&&fr(()=>{this.onMessage_(u[p])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ar{constructor(t,o,u,p,w,D,N){this.connId=t,this.repoInfo=o,this.applicationId=u,this.appCheckToken=p,this.authToken=w,this.transportSessionId=D,this.lastSessionId=N,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xt(t),this.stats_=ln(o),this.urlFn=k=>(this.appCheckToken&&(k.ac=this.appCheckToken),_e(o,oi,k))}open(t,o){this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new ir(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if((0,z.Yr)()||"complete"===document.readyState)a();else{let t=!1;const o=function(){document.body?t||(t=!0,a()):setTimeout(o,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&o()}),window.attachEvent("onload",o))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zr((...w)=>{const[D,N,k,H,K]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===D)this.id=N,this.password=k;else{if("close"!==D)throw new Error("Unrecognized command received: "+D);N?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(N,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[D,N]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(D,N)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ei.test(location.hostname)&&(u.r="f");const p=this.urlFn(u);this.log_("Connecting via long-poll to "+p),this.scriptTagHolder.addTag(p,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ar.forceAllow_=!0}static forceDisallow(){ar.forceDisallow_=!0}static isAvailable(){return!((0,z.Yr)()||!ar.forceAllow_&&(ar.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const o=(0,z.Wl)(t);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=(0,z.h$)(o),p=Fr(u,1840);for(let w=0;w<p.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,p.length,p[w]),this.curSegmentNum++}addDisconnectPingFrame(t,o){if((0,z.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=t,u.pw=o,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const o=(0,z.Wl)(t).length;this.bytesReceived+=o,this.stats_.incrementCounter("bytes_received",o)}}class Zr{constructor(t,o,u,p){if(this.onDisconnect=u,this.urlFn=p,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,z.Yr)())this.commandCB=t,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=Q(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=o,this.myIFrame=Zr.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const D="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(D),this.myIFrame.doc.close()}catch(N){on("frame writing exception"),N.stack&&on(N.stack),on(N)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||on("No IE domain setting required")}catch{const u=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,o){for(this.myID=t,this.myPW=o,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let o=this.urlFn(t),u="",p=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const D=this.pendingSegs.shift();u=u+"&seg"+p+"="+D.seg+"&ts"+p+"="+D.ts+"&d"+p+"="+D.d,p++}return o+=u,this.addLongPollTag_(o,this.currentSerial),!0}return!1}enqueueSegment(t,o,u){this.pendingSegs.push({seg:t,ts:o,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(t,o){this.outstandingRequests.add(o);const u=()=>{this.outstandingRequests.delete(o),this.newRequest_()},p=setTimeout(u,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(p),u()})}addTag(t,o){(0,z.Yr)()?this.doNodeLongPoll(t,o):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=t,u.onload=u.onreadystatechange=function(){const p=u.readyState;(!p||"loaded"===p||"complete"===p)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),o())},u.onerror=()=>{on("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let $i=null;typeof MozWebSocket<"u"?$i=MozWebSocket:typeof WebSocket<"u"&&($i=WebSocket);let Yi=(()=>{class a{constructor(o,u,p,w,D,N,k){this.connId=o,this.applicationId=p,this.appCheckToken=w,this.authToken=D,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xt(this.connId),this.stats_=ln(u),this.connURL=a.connectionURL_(u,N,k,w,p),this.nodeAdmin=u.nodeAdmin}static connectionURL_(o,u,p,w,D){const N={v:"5"};return!(0,z.Yr)()&&typeof location<"u"&&location.hostname&&ei.test(location.hostname)&&(N.r="f"),u&&(N.s=u),p&&(N.ls=p),w&&(N.ac=w),D&&(N.p=D),_e(o,ti,N)}open(o,u){this.onDisconnect=u,this.onMessage=o,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,an.set("previous_websocket_failure",!0);try{let p;if((0,z.Yr)()){p={headers:{"User-Agent":`Firebase/5/${We}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const D=process.env,N=0===this.connURL.indexOf("wss://")?D.HTTPS_PROXY||D.https_proxy:D.HTTP_PROXY||D.http_proxy;N&&(p.proxy={origin:N})}this.mySock=new $i(this.connURL,[],p)}catch(p){this.log_("Error instantiating WebSocket.");const w=p.message||p.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=p=>{this.handleIncomingFrame(p)},this.mySock.onerror=p=>{this.log_("WebSocket error.  Closing connection.");const w=p.message||p.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){a.forceDisallow_=!0}static isAvailable(){let o=!1;if(typeof navigator<"u"&&navigator.userAgent){const p=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);p&&p.length>1&&parseFloat(p[1])<4.4&&(o=!0)}return!o&&null!==$i&&!a.forceDisallow_}static previouslyFailed(){return an.isInMemoryStorage||!0===an.get("previous_websocket_failure")}markConnectionHealthy(){an.remove("previous_websocket_failure")}appendFrame_(o){if(this.frames.push(o),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const p=(0,z.cI)(u);this.onMessage(p)}}handleNewFrameCount_(o){this.totalFrames=o,this.frames=[]}extractFrameCount_(o){if((0,z.hu)(null===this.frames,"We already have a frame buffer"),o.length<=6){const u=Number(o);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),o}handleIncomingFrame(o){if(null===this.mySock)return;const u=o.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const p=this.extractFrameCount_(u);null!==p&&this.appendFrame_(p)}}send(o){this.resetKeepAlive();const u=(0,z.Wl)(o);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const p=Fr(u,16384);p.length>1&&this.sendString_(String(p.length));for(let w=0;w<p.length;w++)this.sendString_(p[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(o){try{this.mySock.send(o)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a})(),Ui=(()=>{class a{constructor(o){this.initTransports_(o)}static get ALL_TRANSPORTS(){return[ar,Yi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(o){const u=Yi&&Yi.isAvailable();let p=u&&!Yi.previouslyFailed();if(o.webSocketOnly&&(u||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),p=!0),p)this.transports_=[Yi];else{const w=this.transports_=[];for(const D of a.ALL_TRANSPORTS)D&&D.isAvailable()&&w.push(D);a.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return a.globalTransportInitialized_=!1,a})();class kt{constructor(t,o,u,p,w,D,N,k,H,K){this.id=t,this.repoInfo_=o,this.applicationId_=u,this.appCheckToken_=p,this.authToken_=w,this.onMessage_=D,this.onReady_=N,this.onDisconnect_=k,this.onKill_=H,this.lastSessionId=K,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xt("c:"+this.id+":"),this.transportManager_=new Ui(o),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(o,u)},Math.floor(0));const p=t.healthyTimeout||0;p>0&&(this.healthyTimeout_=xr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(p)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return o=>{t===this.conn_?this.onConnectionLost_(o):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return o=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(o):t===this.secondaryConn_?this.onSecondaryMessageReceived_(o):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const o=t.t;"a"===o?this.upgradeIfSecondaryHealthy_():"r"===o?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===o&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const o=Hr("t",t),u=Hr("d",t);if("c"===o)this.onSecondaryControl_(u);else{if("d"!==o)throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const o=Hr("t",t),u=Hr("d",t);"c"===o?this.onControl_(u):"d"===o&&this.onDataMessage_(u)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const o=Hr("t",t);if("d"in t){const u=t.d;if("h"===o){const p=Object.assign({},u);this.repoInfo_.isUsingEmulator&&(p.h=this.repoInfo_.host),this.onHandshake_(p)}else if("n"===o){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let p=0;p<this.pendingDataMessages.length;++p)this.onDataMessage_(this.pendingDataMessages[p]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===o?this.onConnectionShutdown_(u):"r"===o?this.onReset_(u):"e"===o?Zt("Server Error: "+u):"o"===o?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zt("Unknown control packet command: "+o)}}onHandshake_(t){const o=t.ts,u=t.v,p=t.h;this.sessionId=t.s,this.repoInfo_.host=p,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),"5"!==u&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const o=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(o,u),xr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,o){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(an.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $t{put(t,o,u,p){}merge(t,o,u,p){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,o,u){}onDisconnectMerge(t,o,u){}onDisconnectCancel(t,o){}reportStats(t){}}class Ht{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,z.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...o){if(Array.isArray(this.listeners_[t])){const u=[...this.listeners_[t]];for(let p=0;p<u.length;p++)u[p].callback.apply(u[p].context,o)}}on(t,o,u){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:o,context:u});const p=this.getInitialEvent(t);p&&o.apply(u,p)}off(t,o,u){this.validateEventType_(t);const p=this.listeners_[t]||[];for(let w=0;w<p.length;w++)if(p[w].callback===o&&(!u||u===p[w].context))return void p.splice(w,1)}validateEventType_(t){(0,z.hu)(this.allowedEvents_.find(o=>o===t),"Unknown event: "+t)}}class sn extends Ht{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,z.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new sn}getInitialEvent(t){return(0,z.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class lr{constructor(t,o){if(void 0===o){this.pieces_=t.split("/");let u=0;for(let p=0;p<this.pieces_.length;p++)this.pieces_[p].length>0&&(this.pieces_[u]=this.pieces_[p],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=o}toString(){let t="";for(let o=this.pieceNum_;o<this.pieces_.length;o++)""!==this.pieces_[o]&&(t+="/"+this.pieces_[o]);return t||"/"}}function wr(){return new lr("")}function ft(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function bt(a){return a.pieces_.length-a.pieceNum_}function Ct(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new lr(a.pieces_,t)}function dn(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function qn(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function kn(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let o=a.pieceNum_;o<a.pieces_.length-1;o++)t.push(a.pieces_[o]);return new lr(t,0)}function Pn(a,t){const o=[];for(let u=a.pieceNum_;u<a.pieces_.length;u++)o.push(a.pieces_[u]);if(t instanceof lr)for(let u=t.pieceNum_;u<t.pieces_.length;u++)o.push(t.pieces_[u]);else{const u=t.split("/");for(let p=0;p<u.length;p++)u[p].length>0&&o.push(u[p])}return new lr(o,0)}function Xn(a){return a.pieceNum_>=a.pieces_.length}function vi(a,t){const o=ft(a),u=ft(t);if(null===o)return t;if(o===u)return vi(Ct(a),Ct(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function Os(a,t){const o=qn(a,0),u=qn(t,0);for(let p=0;p<o.length&&p<u.length;p++){const w=tr(o[p],u[p]);if(0!==w)return w}return o.length===u.length?0:o.length<u.length?-1:1}function yi(a,t){if(bt(a)!==bt(t))return!1;for(let o=a.pieceNum_,u=t.pieceNum_;o<=a.pieces_.length;o++,u++)if(a.pieces_[o]!==t.pieces_[u])return!1;return!0}function ji(a,t){let o=a.pieceNum_,u=t.pieceNum_;if(bt(a)>bt(t))return!1;for(;o<a.pieces_.length;){if(a.pieces_[o]!==t.pieces_[u])return!1;++o,++u}return!0}class Ti{constructor(t,o){this.errorPrefix_=o,this.parts_=qn(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,z.ug)(this.parts_[u]);_r(this)}}function _r(a){if(a.byteLength_>768)throw new Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ns(a))}function Ns(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class ks extends Ht{constructor(){let t,o;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(o="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(o="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(o="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(o="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,o&&document.addEventListener(o,()=>{const u=!document[t];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new ks}getInitialEvent(t){return(0,z.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const js=1e3;let Or,cn=(()=>{class a extends $t{constructor(o,u,p,w,D,N,k,H){if(super(),this.repoInfo_=o,this.applicationId_=u,this.onDataUpdate_=p,this.onConnectStatus_=w,this.onServerInfoUpdate_=D,this.authTokenProvider_=N,this.appCheckTokenProvider_=k,this.authOverride_=H,this.id=a.nextPersistentConnectionId_++,this.log_=Xt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=js,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,H&&!(0,z.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ks.getInstance().on("visible",this.onVisible_,this),-1===o.host.indexOf("fblocal")&&sn.getInstance().on("online",this.onOnline_,this)}sendRequest(o,u,p){const w=++this.requestNumber_,D={r:w,a:o,b:u};this.log_((0,z.Wl)(D)),(0,z.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(D),p&&(this.requestCBHash_[w]=p)}get(o){this.initConnection_();const u=new z.BH,w={action:"g",request:{p:o._path.toString(),q:o._queryObject},onComplete:N=>{const k=N.d;"ok"===N.s?u.resolve(k):u.reject(k)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(o,u,p,w){this.initConnection_();const D=o._queryIdentifier,N=o._path.toString();this.log_("Listen called for "+N+" "+D),this.listens.has(N)||this.listens.set(N,new Map),(0,z.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,z.hu)(!this.listens.get(N).has(D),"listen() called twice for same path/queryId.");const k={onComplete:w,hashFn:u,query:o,tag:p};this.listens.get(N).set(D,k),this.connected_&&this.sendListen_(k)}sendGet_(o){const u=this.outstandingGets_[o];this.sendRequest("g",u.request,p=>{delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(p)})}sendListen_(o){const u=o.query,p=u._path.toString(),w=u._queryIdentifier;this.log_("Listen on "+p+" for "+w);const D={p};o.tag&&(D.q=u._queryObject,D.t=o.tag),D.h=o.hashFn(),this.sendRequest("q",D,k=>{const H=k.d,K=k.s;a.warnOnListenWarnings_(H,u),(this.listens.get(p)&&this.listens.get(p).get(w))===o&&(this.log_("listen response",k),"ok"!==K&&this.removeListen_(p,w),o.onComplete&&o.onComplete(K,H))})}static warnOnListenWarnings_(o,u){if(o&&"object"==typeof o&&(0,z.r3)(o,"w")){const p=(0,z.DV)(o,"w");if(Array.isArray(p)&&~p.indexOf("no_index")){const w='".indexOn": "'+u._queryParams.getIndex().toString()+'"',D=u._path.toString();Nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${D} to your security rules for better performance.`)}}}refreshAuthToken(o){this.authToken_=o,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(o)}reduceReconnectDelayIfAdminCredential_(o){(o&&40===o.length||(0,z.GJ)(o))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(o){this.appCheckToken_=o,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const o=this.authToken_,u=(0,z.w9)(o)?"auth":"gauth",p={cred:o};null===this.authOverride_?p.noauth=!0:"object"==typeof this.authOverride_&&(p.authvar=this.authOverride_),this.sendRequest(u,p,w=>{const D=w.s,N=w.d||"error";this.authToken_===o&&("ok"===D?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(D,N))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},o=>{const u=o.s,p=o.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,p)})}unlisten(o,u){const p=o._path.toString(),w=o._queryIdentifier;this.log_("Unlisten called for "+p+" "+w),(0,z.hu)(o._queryParams.isDefault()||!o._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(p,w)&&this.connected_&&this.sendUnlisten_(p,w,o._queryObject,u)}sendUnlisten_(o,u,p,w){this.log_("Unlisten on "+o+" for "+u);const D={p:o};w&&(D.q=p,D.t=w),this.sendRequest("n",D)}onDisconnectPut(o,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",o,u,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"o",data:u,onComplete:p})}onDisconnectMerge(o,u,p){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",o,u,p):this.onDisconnectRequestQueue_.push({pathString:o,action:"om",data:u,onComplete:p})}onDisconnectCancel(o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",o,null,u):this.onDisconnectRequestQueue_.push({pathString:o,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(o,u,p,w){const D={p:u,d:p};this.log_("onDisconnect "+o,D),this.sendRequest(o,D,N=>{w&&setTimeout(()=>{w(N.s,N.d)},Math.floor(0))})}put(o,u,p,w){this.putInternal("p",o,u,p,w)}merge(o,u,p,w){this.putInternal("m",o,u,p,w)}putInternal(o,u,p,w,D){this.initConnection_();const N={p:u,d:p};void 0!==D&&(N.h=D),this.outstandingPuts_.push({action:o,request:N,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(o){const u=this.outstandingPuts_[o].action,p=this.outstandingPuts_[o].request,w=this.outstandingPuts_[o].onComplete;this.outstandingPuts_[o].queued=this.connected_,this.sendRequest(u,p,D=>{this.log_(u+" response",D),delete this.outstandingPuts_[o],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(D.s,D.d)})}reportStats(o){if(this.connected_){const u={c:o};this.log_("reportStats",u),this.sendRequest("s",u,p=>{"ok"!==p.s&&this.log_("reportStats","Error sending stats: "+p.d)})}}onDataMessage_(o){if("r"in o){this.log_("from server: "+(0,z.Wl)(o));const u=o.r,p=this.requestCBHash_[u];p&&(delete this.requestCBHash_[u],p(o.b))}else{if("error"in o)throw"A server-side error has occurred: "+o.error;"a"in o&&this.onDataPush_(o.a,o.b)}}onDataPush_(o,u){this.log_("handleServerMessage",o,u),"d"===o?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===o?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===o?this.onListenRevoked_(u.p,u.q):"ac"===o?this.onAuthRevoked_(u.s,u.d):"apc"===o?this.onAppCheckRevoked_(u.s,u.d):"sd"===o?this.onSecurityDebugPacket_(u):Zt("Unrecognized action received from server: "+(0,z.Wl)(o)+"\nAre you using the latest client?")}onReady_(o,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(o),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(o){(0,z.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(o))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(o){o&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0)),this.visible_=o}onOnline_(o){o?(this.log_("Browser went online."),this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=js),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const o=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-o);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var o=this;return(0,Ee.Z)(function*(){if(o.shouldReconnect_()){o.log_("Making a connection attempt"),o.lastConnectionAttemptTime_=(new Date).getTime(),o.lastConnectionEstablishedTime_=null;const u=o.onDataMessage_.bind(o),p=o.onReady_.bind(o),w=o.onRealtimeDisconnect_.bind(o),D=o.id+":"+a.nextConnectionId_++,N=o.lastSessionId;let k=!1,H=null;const K=function(){H?H.close():(k=!0,w())};o.realtime_={close:K,sendRequest:function(De){(0,z.hu)(H,"sendRequest call when we're not connected not allowed."),H.sendRequest(De)}};const te=o.forceTokenRefresh_;o.forceTokenRefresh_=!1;try{const[De,Ke]=yield Promise.all([o.authTokenProvider_.getToken(te),o.appCheckTokenProvider_.getToken(te)]);k?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),o.authToken_=De&&De.accessToken,o.appCheckToken_=Ke&&Ke.token,H=new kt(D,o.repoInfo_,o.applicationId_,o.appCheckToken_,o.authToken_,u,p,w,Qe=>{Nt(Qe+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},N))}catch(De){o.log_("Failed to get token: "+De),k||(o.repoInfo_.nodeAdmin&&Nt(De),K())}}})()}interrupt(o){on("Interrupting connection for reason: "+o),this.interruptReasons_[o]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(o){on("Resuming connection for reason: "+o),delete this.interruptReasons_[o],(0,z.xb)(this.interruptReasons_)&&(this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(o){const u=o-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let o=0;o<this.outstandingPuts_.length;o++){const u=this.outstandingPuts_[o];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[o],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(o,u){let p;p=u?u.map(D=>sr(D)).join("$"):"default";const w=this.removeListen_(o,p);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(o,u){const p=new lr(o).toString();let w;if(this.listens.has(p)){const D=this.listens.get(p);w=D.get(u),D.delete(u),0===D.size&&this.listens.delete(p)}else w=void 0;return w}onAuthRevoked_(o,u){on("Auth token revoked: "+o+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===o||"permission_denied"===o)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(o,u){on("App check token revoked: "+o+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===o||"permission_denied"===o)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(o){this.securityDebugCallback_?this.securityDebugCallback_(o):"msg"in o&&console.log("FIREBASE: "+o.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const o of this.listens.values())for(const u of o.values())this.sendListen_(u);for(let o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){const o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(let o=0;o<this.outstandingGets_.length;o++)this.outstandingGets_[o]&&this.sendGet_(o)}sendConnectStats_(){const o={};let u="js";(0,z.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),o["sdk."+u+"."+We.replace(/\./g,"-")]=1,(0,z.uI)()?o["framework.cordova"]=1:(0,z.b$)()&&(o["framework.reactnative"]=1),this.reportStats(o)}shouldReconnect_(){const o=sn.getInstance().currentlyOnline();return(0,z.xb)(this.interruptReasons_)&&o}}return a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a})();class _n{constructor(t,o){this.name=t,this.node=o}static Wrap(t,o){return new _n(t,o)}}class er{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,o){const u=new _n(Bn,t),p=new _n(Bn,o);return 0!==this.compare(u,p)}minPost(){return _n.MIN}}class nr extends er{static get __EMPTY_NODE(){return Or}static set __EMPTY_NODE(t){Or=t}compare(t,o){return tr(t.name,o.name)}isDefinedOn(t){throw(0,z.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,o){return!1}minPost(){return _n.MIN}maxPost(){return new _n($n,Or)}makePost(t,o){return(0,z.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new _n(t,Or)}toString(){return".key"}}const Ki=new nr;class Ai{constructor(t,o,u,p,w=null){this.isReverse_=p,this.resultGenerator_=w,this.nodeStack_=[];let D=1;for(;!t.isEmpty();)if(D=o?u(t.key,o):1,p&&(D*=-1),D<0)t=this.isReverse_?t.left:t.right;else{if(0===D){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let o,t=this.nodeStack_.pop();if(o=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return o}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let et,Mi=(()=>{class a{constructor(o,u,p,w,D){this.key=o,this.value=u,this.color=null!=p?p:a.RED,this.left=null!=w?w:ms.EMPTY_NODE,this.right=null!=D?D:ms.EMPTY_NODE}copy(o,u,p,w,D){return new a(null!=o?o:this.key,null!=u?u:this.value,null!=p?p:this.color,null!=w?w:this.left,null!=D?D:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||!!o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,u,p){let w=this;const D=p(o,w.key);return w=D<0?w.copy(null,null,null,w.left.insert(o,u,p),null):0===D?w.copy(null,u,null,null,null):w.copy(null,null,null,null,w.right.insert(o,u,p)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return ms.EMPTY_NODE;let o=this;return!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.removeMin_(),null),o.fixUp_()}remove(o,u){let p,w;if(p=this,u(o,p.key)<0)!p.left.isEmpty()&&!p.left.isRed_()&&!p.left.left.isRed_()&&(p=p.moveRedLeft_()),p=p.copy(null,null,null,p.left.remove(o,u),null);else{if(p.left.isRed_()&&(p=p.rotateRight_()),!p.right.isEmpty()&&!p.right.isRed_()&&!p.right.left.isRed_()&&(p=p.moveRedRight_()),0===u(o,p.key)){if(p.right.isEmpty())return ms.EMPTY_NODE;w=p.right.min_(),p=p.copy(w.key,w.value,null,null,p.right.removeMin_())}p=p.copy(null,null,null,null,p.right.remove(o,u))}return p.fixUp_()}isRed_(){return this.color}fixUp_(){let o=this;return o.right.isRed_()&&!o.left.isRed_()&&(o=o.rotateLeft_()),o.left.isRed_()&&o.left.left.isRed_()&&(o=o.rotateRight_()),o.left.isRed_()&&o.right.isRed_()&&(o=o.colorFlip_()),o}moveRedLeft_(){let o=this.colorFlip_();return o.right.left.isRed_()&&(o=o.copy(null,null,null,null,o.right.rotateRight_()),o=o.rotateLeft_(),o=o.colorFlip_()),o}moveRedRight_(){let o=this.colorFlip_();return o.left.left.isRed_()&&(o=o.rotateRight_(),o=o.colorFlip_()),o}rotateLeft_(){const o=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight_(){const o=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip_(){const o=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,u)}checkMaxDepth_(){const o=this.check_();return Math.pow(2,o)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const o=this.left.check_();if(o!==this.right.check_())throw new Error("Black depths differ");return o+(this.isRed_()?0:1)}}return a.RED=!0,a.BLACK=!1,a})();class ms{constructor(t,o=ms.EMPTY_NODE){this.comparator_=t,this.root_=o}insert(t,o){return new ms(this.comparator_,this.root_.insert(t,o,this.comparator_).copy(null,null,Mi.BLACK,null,null))}remove(t){return new ms(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Mi.BLACK,null,null))}get(t){let o,u=this.root_;for(;!u.isEmpty();){if(o=this.comparator_(t,u.key),0===o)return u.value;o<0?u=u.left:o>0&&(u=u.right)}return null}getPredecessorKey(t){let o,u=this.root_,p=null;for(;!u.isEmpty();){if(o=this.comparator_(t,u.key),0===o){if(u.left.isEmpty())return p?p.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}o<0?u=u.left:o>0&&(p=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ai(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,o){return new Ai(this.root_,t,this.comparator_,!1,o)}getReverseIteratorFrom(t,o){return new Ai(this.root_,t,this.comparator_,!0,o)}getReverseIterator(t){return new Ai(this.root_,null,this.comparator_,!0,t)}}function aa(a,t){return tr(a.name,t.name)}function ct(a,t){return tr(a,t)}ms.EMPTY_NODE=new class Fi{copy(t,o,u,p,w){return this}insert(t,o,u){return new Mi(t,o,null)}remove(t,o){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Yt=function(a){return"number"==typeof a?"number:"+Yr(a):"string:"+a},un=function(a){if(a.isLeafNode()){const t=a.val();(0,z.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,z.r3)(t,".sv"),"Priority must be a string or number.")}else(0,z.hu)(a===et||a.isEmpty(),"priority of unexpected type.");(0,z.hu)(a===et||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jn,Vr,Ir,rr=(()=>{class a{constructor(o,u=a.__childrenNodeConstructor.EMPTY_NODE){this.value_=o,this.priorityNode_=u,this.lazyHash_=null,(0,z.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),un(this.priorityNode_)}static set __childrenNodeConstructor(o){jn=o}static get __childrenNodeConstructor(){return jn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(o){return new a(this.value_,o)}getImmediateChild(o){return".priority"===o?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}getChild(o){return Xn(o)?this:".priority"===ft(o)?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(o,u){return null}updateImmediateChild(o,u){return".priority"===o?this.updatePriority(u):u.isEmpty()&&".priority"!==o?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(o,u).updatePriority(this.priorityNode_)}updateChild(o,u){const p=ft(o);return null===p?u:u.isEmpty()&&".priority"!==p?this:((0,z.hu)(".priority"!==p||1===bt(o),".priority must be the last token in a path"),this.updateImmediateChild(p,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ct(o),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(o,u){return!1}val(o){return o&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let o="";this.priorityNode_.isEmpty()||(o+="priority:"+Yt(this.priorityNode_.val())+":");const u=typeof this.value_;o+=u+":",o+="number"===u?Yr(this.value_):this.value_,this.lazyHash_=de(o)}return this.lazyHash_}getValue(){return this.value_}compareTo(o){return o===a.__childrenNodeConstructor.EMPTY_NODE?1:o instanceof a.__childrenNodeConstructor?-1:((0,z.hu)(o.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(o))}compareToLeafNode_(o){const u=typeof o.value_,p=typeof this.value_,w=a.VALUE_TYPE_ORDER.indexOf(u),D=a.VALUE_TYPE_ORDER.indexOf(p);return(0,z.hu)(w>=0,"Unknown leaf type: "+u),(0,z.hu)(D>=0,"Unknown leaf type: "+p),w===D?"object"===p?0:this.value_<o.value_?-1:this.value_===o.value_?0:1:D-w}withIndex(){return this}isIndexed(){return!0}equals(o){return o===this||!!o.isLeafNode()&&(this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_))}}return a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a})();const bi=new class Cs extends er{compare(t,o){const u=t.node.getPriority(),p=o.node.getPriority(),w=u.compareTo(p);return 0===w?tr(t.name,o.name):w}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,o){return!t.getPriority().equals(o.getPriority())}minPost(){return _n.MIN}maxPost(){return new _n($n,new rr("[PRIORITY-POST]",Ir))}makePost(t,o){const u=Vr(t);return new _n(o,new rr("[PRIORITY-POST]",u))}toString(){return".priority"}},as=Math.log(2);class to{constructor(t){this.count=parseInt(Math.log(t+1)/as,10),this.current_=this.count-1;const p=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&p}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const la=function(a,t,o,u){a.sort(t);const p=function(k,H){const K=H-k;let Z,te;if(0===K)return null;if(1===K)return Z=a[k],te=o?o(Z):Z,new Mi(te,Z.node,Mi.BLACK,null,null);{const De=parseInt(K/2,10)+k,Ke=p(k,De),Qe=p(De+1,H);return Z=a[De],te=o?o(Z):Z,new Mi(te,Z.node,Mi.BLACK,Ke,Qe)}},N=function(k){let H=null,K=null,Z=a.length;const te=function(Ke,Qe){const Je=Z-Ke,gt=Z;Z-=Ke;const tt=p(Je+1,gt),Ye=a[Je],Ot=o?o(Ye):Ye;De(new Mi(Ot,Ye.node,Qe,null,tt))},De=function(Ke){H?(H.left=Ke,H=Ke):(K=Ke,H=Ke)};for(let Ke=0;Ke<k.count;++Ke){const Qe=k.nextBitIsOne(),Je=Math.pow(2,k.count-(Ke+1));Qe?te(Je,Mi.BLACK):(te(Je,Mi.BLACK),te(Je,Mi.RED))}return K}(new to(a.length));return new ms(u||t,N)};let Po;const vs={};class Es{constructor(t,o){this.indexes_=t,this.indexSet_=o}static get Default(){return(0,z.hu)(vs&&bi,"ChildrenNode.ts has not been loaded"),Po=Po||new Es({".priority":vs},{".priority":bi}),Po}get(t){const o=(0,z.DV)(this.indexes_,t);if(!o)throw new Error("No index defined for "+t);return o instanceof ms?o:null}hasIndex(t){return(0,z.r3)(this.indexSet_,t.toString())}addIndex(t,o){(0,z.hu)(t!==Ki,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let p=!1;const w=o.getIterator(_n.Wrap);let N,D=w.getNext();for(;D;)p=p||t.isDefinedOn(D.node),u.push(D),D=w.getNext();N=p?la(u,t.getCompare()):vs;const k=t.toString(),H=Object.assign({},this.indexSet_);H[k]=t;const K=Object.assign({},this.indexes_);return K[k]=N,new Es(K,H)}addToIndexes(t,o){const u=(0,z.UI)(this.indexes_,(p,w)=>{const D=(0,z.DV)(this.indexSet_,w);if((0,z.hu)(D,"Missing index implementation for "+w),p===vs){if(D.isDefinedOn(t.node)){const N=[],k=o.getIterator(_n.Wrap);let H=k.getNext();for(;H;)H.name!==t.name&&N.push(H),H=k.getNext();return N.push(t),la(N,D.getCompare())}return vs}{const N=o.get(t.name);let k=p;return N&&(k=k.remove(new _n(t.name,N))),k.insert(t,t.node)}});return new Es(u,this.indexSet_)}removeFromIndexes(t,o){const u=(0,z.UI)(this.indexes_,p=>{if(p===vs)return p;{const w=o.get(t.name);return w?p.remove(new _n(t.name,w)):p}});return new Es(u,this.indexSet_)}}let zo,_i=(()=>{class a{constructor(o,u,p){this.children_=o,this.priorityNode_=u,this.indexMap_=p,this.lazyHash_=null,this.priorityNode_&&un(this.priorityNode_),this.children_.isEmpty()&&(0,z.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zo||(zo=new a(new ms(ct),null,Es.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zo}updatePriority(o){return this.children_.isEmpty()?this:new a(this.children_,o,this.indexMap_)}getImmediateChild(o){if(".priority"===o)return this.getPriority();{const u=this.children_.get(o);return null===u?zo:u}}getChild(o){const u=ft(o);return null===u?this:this.getImmediateChild(u).getChild(Ct(o))}hasChild(o){return null!==this.children_.get(o)}updateImmediateChild(o,u){if((0,z.hu)(u,"We should always be passing snapshot nodes"),".priority"===o)return this.updatePriority(u);{const p=new _n(o,u);let w,D;u.isEmpty()?(w=this.children_.remove(o),D=this.indexMap_.removeFromIndexes(p,this.children_)):(w=this.children_.insert(o,u),D=this.indexMap_.addToIndexes(p,this.children_));const N=w.isEmpty()?zo:this.priorityNode_;return new a(w,N,D)}}updateChild(o,u){const p=ft(o);if(null===p)return u;{(0,z.hu)(".priority"!==ft(o)||1===bt(o),".priority must be the last token in a path");const w=this.getImmediateChild(p).updateChild(Ct(o),u);return this.updateImmediateChild(p,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(o){if(this.isEmpty())return null;const u={};let p=0,w=0,D=!0;if(this.forEachChild(bi,(N,k)=>{u[N]=k.val(o),p++,D&&a.INTEGER_REGEXP_.test(N)?w=Math.max(w,Number(N)):D=!1}),!o&&D&&w<2*p){const N=[];for(const k in u)N[k]=u[k];return N}return o&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let o="";this.getPriority().isEmpty()||(o+="priority:"+Yt(this.getPriority().val())+":"),this.forEachChild(bi,(u,p)=>{const w=p.hash();""!==w&&(o+=":"+u+":"+w)}),this.lazyHash_=""===o?"":de(o)}return this.lazyHash_}getPredecessorChildName(o,u,p){const w=this.resolveIndex_(p);if(w){const D=w.getPredecessorKey(new _n(o,u));return D?D.name:null}return this.children_.getPredecessorKey(o)}getFirstChildName(o){const u=this.resolveIndex_(o);if(u){const p=u.minKey();return p&&p.name}return this.children_.minKey()}getFirstChild(o){const u=this.getFirstChildName(o);return u?new _n(u,this.children_.get(u)):null}getLastChildName(o){const u=this.resolveIndex_(o);if(u){const p=u.maxKey();return p&&p.name}return this.children_.maxKey()}getLastChild(o){const u=this.getLastChildName(o);return u?new _n(u,this.children_.get(u)):null}forEachChild(o,u){const p=this.resolveIndex_(o);return p?p.inorderTraversal(w=>u(w.name,w.node)):this.children_.inorderTraversal(u)}getIterator(o){return this.getIteratorFrom(o.minPost(),o)}getIteratorFrom(o,u){const p=this.resolveIndex_(u);if(p)return p.getIteratorFrom(o,w=>w);{const w=this.children_.getIteratorFrom(o.name,_n.Wrap);let D=w.peek();for(;null!=D&&u.compare(D,o)<0;)w.getNext(),D=w.peek();return w}}getReverseIterator(o){return this.getReverseIteratorFrom(o.maxPost(),o)}getReverseIteratorFrom(o,u){const p=this.resolveIndex_(u);if(p)return p.getReverseIteratorFrom(o,w=>w);{const w=this.children_.getReverseIteratorFrom(o.name,_n.Wrap);let D=w.peek();for(;null!=D&&u.compare(D,o)>0;)w.getNext(),D=w.peek();return w}}compareTo(o){return this.isEmpty()?o.isEmpty()?0:-1:o.isLeafNode()||o.isEmpty()?1:o===Ro?-1:0}withIndex(o){if(o===Ki||this.indexMap_.hasIndex(o))return this;{const u=this.indexMap_.addIndex(o,this.children_);return new a(this.children_,this.priorityNode_,u)}}isIndexed(o){return o===Ki||this.indexMap_.hasIndex(o)}equals(o){if(o===this)return!0;if(o.isLeafNode())return!1;{const u=o;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const p=this.getIterator(bi),w=u.getIterator(bi);let D=p.getNext(),N=w.getNext();for(;D&&N;){if(D.name!==N.name||!D.node.equals(N.node))return!1;D=p.getNext(),N=w.getNext()}return null===D&&null===N}return!1}return!1}}resolveIndex_(o){return o===Ki?null:this.indexMap_.get(o.toString())}}return a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a})();const Ro=new class tl extends _i{constructor(){super(new ms(ct),_i.EMPTY_NODE,Es.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return _i.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_n,{MIN:{value:new _n(Bn,_i.EMPTY_NODE)},MAX:{value:new _n($n,Ro)}}),nr.__EMPTY_NODE=_i.EMPTY_NODE,rr.__childrenNodeConstructor=_i,function _t(a){et=a}(Ro),function Ri(a){Ir=a}(Ro);const M=!0;function S(a,t=null){if(null===a)return _i.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(t=a[".priority"]),(0,z.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new rr(a,S(t));if(a instanceof Array||!M){let o=_i.EMPTY_NODE;return mn(a,(u,p)=>{if((0,z.r3)(a,u)&&"."!==u.substring(0,1)){const w=S(p);(w.isLeafNode()||!w.isEmpty())&&(o=o.updateImmediateChild(u,w))}}),o.updatePriority(S(t))}{const o=[];let u=!1;if(mn(a,(D,N)=>{if("."!==D.substring(0,1)){const k=S(N);k.isEmpty()||(u=u||!k.getPriority().isEmpty(),o.push(new _n(D,k)))}}),0===o.length)return _i.EMPTY_NODE;const w=la(o,aa,D=>D.name,ct);if(u){const D=la(o,bi.getCompare());return new _i(w,S(t),new Es({".priority":D},{".priority":bi}))}return new _i(w,S(t),Es.Default)}}!function li(a){Vr=a}(S);class g extends er{constructor(t){super(),this.indexPath_=t,(0,z.hu)(!Xn(t)&&".priority"!==ft(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,o){const u=this.extractChild(t.node),p=this.extractChild(o.node),w=u.compareTo(p);return 0===w?tr(t.name,o.name):w}makePost(t,o){const u=S(t),p=_i.EMPTY_NODE.updateChild(this.indexPath_,u);return new _n(o,p)}maxPost(){const t=_i.EMPTY_NODE.updateChild(this.indexPath_,Ro);return new _n($n,t)}toString(){return qn(this.indexPath_,0).join("/")}}const U=new class C extends er{compare(t,o){const u=t.node.compareTo(o.node);return 0===u?tr(t.name,o.name):u}isDefinedOn(t){return!0}indexedValueChanged(t,o){return!t.equals(o)}minPost(){return _n.MIN}maxPost(){return _n.MAX}makePost(t,o){const u=S(t);return new _n(o,u)}toString(){return".value"}};function rt(a){return{type:"value",snapshotNode:a}}function zt(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function Qn(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function zr(a,t,o){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:o}}class Gs{constructor(t){this.index_=t}updateChild(t,o,u,p,w,D){(0,z.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const N=t.getImmediateChild(o);return N.getChild(p).equals(u.getChild(p))&&N.isEmpty()===u.isEmpty()||(null!=D&&(u.isEmpty()?t.hasChild(o)?D.trackChildChange(Qn(o,N)):(0,z.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):N.isEmpty()?D.trackChildChange(zt(o,u)):D.trackChildChange(zr(o,u,N))),t.isLeafNode()&&u.isEmpty())?t:t.updateImmediateChild(o,u).withIndex(this.index_)}updateFullNode(t,o,u){return null!=u&&(t.isLeafNode()||t.forEachChild(bi,(p,w)=>{o.hasChild(p)||u.trackChildChange(Qn(p,w))}),o.isLeafNode()||o.forEachChild(bi,(p,w)=>{if(t.hasChild(p)){const D=t.getImmediateChild(p);D.equals(w)||u.trackChildChange(zr(p,w,D))}else u.trackChildChange(zt(p,w))})),o.withIndex(this.index_)}updatePriority(t,o){return t.isEmpty()?_i.EMPTY_NODE:t.updatePriority(o)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class mo{constructor(t){this.indexedFilter_=new Gs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=mo.getStartPost_(t),this.endPost_=mo.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const o=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,u=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return o&&u}updateChild(t,o,u,p,w,D){return this.matches(new _n(o,u))||(u=_i.EMPTY_NODE),this.indexedFilter_.updateChild(t,o,u,p,w,D)}updateFullNode(t,o,u){o.isLeafNode()&&(o=_i.EMPTY_NODE);let p=o.withIndex(this.index_);p=p.updatePriority(_i.EMPTY_NODE);const w=this;return o.forEachChild(bi,(D,N)=>{w.matches(new _n(D,N))||(p=p.updateImmediateChild(D,_i.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,p,u)}updatePriority(t,o){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const o=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),o)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const o=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),o)}return t.getIndex().maxPost()}}class Ws{constructor(t){this.withinDirectionalStart=o=>this.reverse_?this.withinEndPost(o):this.withinStartPost(o),this.withinDirectionalEnd=o=>this.reverse_?this.withinStartPost(o):this.withinEndPost(o),this.withinStartPost=o=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),o);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=o=>{const u=this.index_.compare(o,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new mo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,o,u,p,w,D){return this.rangedFilter_.matches(new _n(o,u))||(u=_i.EMPTY_NODE),t.getImmediateChild(o).equals(u)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,o,u,p,w,D):this.fullLimitUpdateChild_(t,o,u,w,D)}updateFullNode(t,o,u){let p;if(o.isLeafNode()||o.isEmpty())p=_i.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){let w;p=_i.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let D=0;for(;w.hasNext()&&D<this.limit_;){const N=w.getNext();if(this.withinDirectionalStart(N)){if(!this.withinDirectionalEnd(N))break;p=p.updateImmediateChild(N.name,N.node),D++}}}else{let w;p=o.withIndex(this.index_),p=p.updatePriority(_i.EMPTY_NODE),w=this.reverse_?p.getReverseIterator(this.index_):p.getIterator(this.index_);let D=0;for(;w.hasNext();){const N=w.getNext();D<this.limit_&&this.withinDirectionalStart(N)&&this.withinDirectionalEnd(N)?D++:p=p.updateImmediateChild(N.name,_i.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,p,u)}updatePriority(t,o){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,o,u,p,w){let D;if(this.reverse_){const Z=this.index_.getCompare();D=(te,De)=>Z(De,te)}else D=this.index_.getCompare();const N=t;(0,z.hu)(N.numChildren()===this.limit_,"");const k=new _n(o,u),H=this.reverse_?N.getFirstChild(this.index_):N.getLastChild(this.index_),K=this.rangedFilter_.matches(k);if(N.hasChild(o)){const Z=N.getImmediateChild(o);let te=p.getChildAfterChild(this.index_,H,this.reverse_);for(;null!=te&&(te.name===o||N.hasChild(te.name));)te=p.getChildAfterChild(this.index_,te,this.reverse_);const De=null==te?1:D(te,k);if(K&&!u.isEmpty()&&De>=0)return null!=w&&w.trackChildChange(zr(o,u,Z)),N.updateImmediateChild(o,u);{null!=w&&w.trackChildChange(Qn(o,Z));const Qe=N.updateImmediateChild(o,_i.EMPTY_NODE);return null!=te&&this.rangedFilter_.matches(te)?(null!=w&&w.trackChildChange(zt(te.name,te.node)),Qe.updateImmediateChild(te.name,te.node)):Qe}}return u.isEmpty()?t:K&&D(H,k)>=0?(null!=w&&(w.trackChildChange(Qn(H.name,H.node)),w.trackChildChange(zt(o,u))),N.updateImmediateChild(o,u).updateImmediateChild(H.name,_i.EMPTY_NODE)):t}}class oo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,z.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,z.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$n}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,z.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bi}copy(){const t=new oo;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pl(a,t,o){const u=a.copy();return u.startSet_=!0,void 0===t&&(t=null),u.indexStartValue_=t,null!=o?(u.startNameSet_=!0,u.indexStartName_=o):(u.startNameSet_=!1,u.indexStartName_=""),u}function ao(a,t,o){const u=a.copy();return u.endSet_=!0,void 0===t&&(t=null),u.indexEndValue_=t,void 0!==o?(u.endNameSet_=!0,u.indexEndName_=o):(u.endNameSet_=!1,u.indexEndName_=""),u}function ss(a,t){const o=a.copy();return o.index_=t,o}function pc(a){const t={};if(a.isDefault())return t;let o;if(a.index_===bi?o="$priority":a.index_===U?o="$value":a.index_===Ki?o="$key":((0,z.hu)(a.index_ instanceof g,"Unrecognized index type!"),o=a.index_.toString()),t.orderBy=(0,z.Wl)(o),a.startSet_){const u=a.startAfterSet_?"startAfter":"startAt";t[u]=(0,z.Wl)(a.indexStartValue_),a.startNameSet_&&(t[u]+=","+(0,z.Wl)(a.indexStartName_))}if(a.endSet_){const u=a.endBeforeSet_?"endBefore":"endAt";t[u]=(0,z.Wl)(a.indexEndValue_),a.endNameSet_&&(t[u]+=","+(0,z.Wl)(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function gc(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let o=a.viewFrom_;""===o&&(o=a.isViewFromLeft()?"l":"r"),t.vf=o}return a.index_!==bi&&(t.i=a.index_.toString()),t}class ca extends $t{constructor(t,o,u,p){super(),this.repoInfo_=t,this.onDataUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=p,this.log_=Xt("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,o){return void 0!==o?"tag$"+o:((0,z.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,o,u,p){const w=t._path.toString();this.log_("Listen called for "+w+" "+t._queryIdentifier);const D=ca.getListenId_(t,u),N={};this.listens_[D]=N;const k=pc(t._queryParams);this.restRequest_(w+".json",k,(H,K)=>{let Z=K;if(404===H&&(Z=null,H=null),null===H&&this.onDataUpdate_(w,Z,!1,u),(0,z.DV)(this.listens_,D)===N){let te;te=H?401===H?"permission_denied":"rest_error:"+H:"ok",p(te,null)}})}unlisten(t,o){const u=ca.getListenId_(t,o);delete this.listens_[u]}get(t){const o=pc(t._queryParams),u=t._path.toString(),p=new z.BH;return this.restRequest_(u+".json",o,(w,D)=>{let N=D;404===w&&(N=null,w=null),null===w?(this.onDataUpdate_(u,N,!1,null),p.resolve(N)):p.reject(new Error(N))}),p.promise}refreshAuthToken(t){}restRequest_(t,o={},u){return o.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([p,w])=>{p&&p.accessToken&&(o.auth=p.accessToken),w&&w.token&&(o.ac=w.token);const D=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,z.xO)(o);this.log_("Sending REST request for "+D);const N=new XMLHttpRequest;N.onreadystatechange=()=>{if(u&&4===N.readyState){this.log_("REST Response for "+D+" received. status:",N.status,"response:",N.responseText);let k=null;if(N.status>=200&&N.status<300){try{k=(0,z.cI)(N.responseText)}catch{Nt("Failed to parse JSON response for "+D+": "+N.responseText)}u(null,k)}else 401!==N.status&&404!==N.status&&Nt("Got unsuccessful REST response for "+D+" Status: "+N.status),u(N.status);u=null}},N.open("GET",D,!0),N.send()})}}class ya{constructor(){this.rootNode_=_i.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,o){this.rootNode_=this.rootNode_.updateChild(t,o)}}function _a(){return{value:null,children:new Map}}function wa(a,t,o){if(Xn(t))a.value=o,a.children.clear();else if(null!==a.value)a.value=a.value.updateChild(t,o);else{const u=ft(t);a.children.has(u)||a.children.set(u,_a()),wa(a.children.get(u),t=Ct(t),o)}}function mc(a,t){if(Xn(t))return a.value=null,a.children.clear(),!0;if(null!==a.value){if(a.value.isLeafNode())return!1;{const o=a.value;return a.value=null,o.forEachChild(bi,(u,p)=>{wa(a,new lr(u),p)}),mc(a,t)}}if(a.children.size>0){const o=ft(t);return t=Ct(t),a.children.has(o)&&mc(a.children.get(o),t)&&a.children.delete(o),0===a.children.size}return!0}function Ea(a,t,o){null!==a.value?o(t,a.value):function Nl(a,t){a.children.forEach((o,u)=>{t(u,o)})}(a,(u,p)=>{Ea(p,new lr(t.toString()+"/"+u),o)})}class Cd{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),o=Object.assign({},t);return this.last_&&mn(this.last_,(u,p)=>{o[u]=o[u]-p}),this.last_=t,o}}class vc{constructor(t,o){this.server_=o,this.statsToReport_={},this.statsListener_=new Cd(t);const u=1e4+2e4*Math.random();xr(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const t=this.statsListener_.get(),o={};let u=!1;mn(t,(p,w)=>{w>0&&(0,z.r3)(this.statsToReport_,p)&&(o[p]=w,u=!0)}),u&&this.server_.reportStats(o),xr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ua=function(a){return a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",a}(ua||{});function kl(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class ka{constructor(t,o,u){this.path=t,this.affectedTree=o,this.revert=u,this.type=ua.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Xn(this.path)){if(null!=this.affectedTree.value)return(0,z.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const o=this.affectedTree.subtree(new lr(t));return new ka(wr(),o,this.revert)}}return(0,z.hu)(ft(this.path)===t,"operationForChild called for unrelated child."),new ka(Ct(this.path),this.affectedTree,this.revert)}}class La{constructor(t,o){this.source=t,this.path=o,this.type=ua.LISTEN_COMPLETE}operationForChild(t){return Xn(this.path)?new La(this.source,wr()):new La(this.source,Ct(this.path))}}class Fa{constructor(t,o,u){this.source=t,this.path=o,this.snap=u,this.type=ua.OVERWRITE}operationForChild(t){return Xn(this.path)?new Fa(this.source,wr(),this.snap.getImmediateChild(t)):new Fa(this.source,Ct(this.path),this.snap)}}class Qo{constructor(t,o,u){this.source=t,this.path=o,this.children=u,this.type=ua.MERGE}operationForChild(t){if(Xn(this.path)){const o=this.children.subtree(new lr(t));return o.isEmpty()?null:o.value?new Fa(this.source,wr(),o.value):new Qo(this.source,wr(),o)}return(0,z.hu)(ft(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Qo(this.source,Ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zs{constructor(t,o,u){this.node_=t,this.fullyInitialized_=o,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Xn(t))return this.isFullyInitialized()&&!this.filtered_;const o=ft(t);return this.isCompleteForChild(o)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class yc{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Jo(a,t,o,u,p,w){const D=u.filter(N=>N.type===o);D.sort((N,k)=>function Fs(a,t,o){if(null==t.childName||null==o.childName)throw(0,z.g5)("Should only compare child_ events.");const u=new _n(t.childName,t.snapshotNode),p=new _n(o.childName,o.snapshotNode);return a.index_.compare(u,p)}(a,N,k)),D.forEach(N=>{const k=function Dd(a,t,o){return"value"===t.type||"child_removed"===t.type||(t.prevName=o.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}(a,N,w);p.forEach(H=>{H.respondsTo(N.type)&&t.push(H.createEvent(k,a.query_))})})}function rl(a,t){return{eventCache:a,serverCache:t}}function Oi(a,t,o,u){return rl(new zs(t,o,u),a.serverCache)}function Xi(a,t,o,u){return rl(a.eventCache,new zs(t,o,u))}function L(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function le(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let W;class nt{constructor(t,o=(()=>(W||(W=new ms(Ar)),W))()){this.value=t,this.children=o}static fromObject(t){let o=new nt(null);return mn(t,(u,p)=>{o=o.set(new lr(u),p)}),o}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,o){if(null!=this.value&&o(this.value))return{path:wr(),value:this.value};if(Xn(t))return null;{const u=ft(t),p=this.children.get(u);if(null!==p){const w=p.findRootMostMatchingPathAndValue(Ct(t),o);return null!=w?{path:Pn(new lr(u),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Xn(t))return this;{const o=ft(t),u=this.children.get(o);return null!==u?u.subtree(Ct(t)):new nt(null)}}set(t,o){if(Xn(t))return new nt(o,this.children);{const u=ft(t),w=(this.children.get(u)||new nt(null)).set(Ct(t),o),D=this.children.insert(u,w);return new nt(this.value,D)}}remove(t){if(Xn(t))return this.children.isEmpty()?new nt(null):new nt(null,this.children);{const o=ft(t),u=this.children.get(o);if(u){const p=u.remove(Ct(t));let w;return w=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),null===this.value&&w.isEmpty()?new nt(null):new nt(this.value,w)}return this}}get(t){if(Xn(t))return this.value;{const o=ft(t),u=this.children.get(o);return u?u.get(Ct(t)):null}}setTree(t,o){if(Xn(t))return o;{const u=ft(t),w=(this.children.get(u)||new nt(null)).setTree(Ct(t),o);let D;return D=w.isEmpty()?this.children.remove(u):this.children.insert(u,w),new nt(this.value,D)}}fold(t){return this.fold_(wr(),t)}fold_(t,o){const u={};return this.children.inorderTraversal((p,w)=>{u[p]=w.fold_(Pn(t,p),o)}),o(t,this.value,u)}findOnPath(t,o){return this.findOnPath_(t,wr(),o)}findOnPath_(t,o,u){const p=!!this.value&&u(o,this.value);if(p)return p;if(Xn(t))return null;{const w=ft(t),D=this.children.get(w);return D?D.findOnPath_(Ct(t),Pn(o,w),u):null}}foreachOnPath(t,o){return this.foreachOnPath_(t,wr(),o)}foreachOnPath_(t,o,u){if(Xn(t))return this;{this.value&&u(o,this.value);const p=ft(t),w=this.children.get(p);return w?w.foreachOnPath_(Ct(t),Pn(o,p),u):new nt(null)}}foreach(t){this.foreach_(wr(),t)}foreach_(t,o){this.children.inorderTraversal((u,p)=>{p.foreach_(Pn(t,u),o)}),this.value&&o(t,this.value)}foreachChild(t){this.children.inorderTraversal((o,u)=>{u.value&&t(o,u.value)})}}class Qt{constructor(t){this.writeTree_=t}static empty(){return new Qt(new nt(null))}}function gn(a,t,o){if(Xn(t))return new Qt(new nt(o));{const u=a.writeTree_.findRootMostValueAndPath(t);if(null!=u){const p=u.path;let w=u.value;const D=vi(p,t);return w=w.updateChild(D,o),new Qt(a.writeTree_.set(p,w))}{const p=new nt(o),w=a.writeTree_.setTree(t,p);return new Qt(w)}}}function Cr(a,t,o){let u=a;return mn(o,(p,w)=>{u=gn(u,Pn(t,p),w)}),u}function Ci(a,t){if(Xn(t))return Qt.empty();{const o=a.writeTree_.setTree(t,new nt(null));return new Qt(o)}}function ci(a,t){return null!=ri(a,t)}function ri(a,t){const o=a.writeTree_.findRootMostValueAndPath(t);return null!=o?a.writeTree_.get(o.path).getChild(vi(o.path,t)):null}function wi(a){const t=[],o=a.writeTree_.value;return null!=o?o.isLeafNode()||o.forEachChild(bi,(u,p)=>{t.push(new _n(u,p))}):a.writeTree_.children.inorderTraversal((u,p)=>{null!=p.value&&t.push(new _n(u,p.value))}),t}function is(a,t){if(Xn(t))return a;{const o=ri(a,t);return new Qt(null!=o?new nt(o):a.writeTree_.subtree(t))}}function Qi(a){return a.writeTree_.isEmpty()}function fs(a,t){return Bs(wr(),a.writeTree_,t)}function Bs(a,t,o){if(null!=t.value)return o.updateChild(a,t.value);{let u=null;return t.children.inorderTraversal((p,w)=>{".priority"===p?((0,z.hu)(null!==w.value,"Priority writes must always be leaf nodes"),u=w.value):o=Bs(Pn(a,p),w,o)}),!o.getChild(a).isEmpty()&&null!==u&&(o=o.updateChild(Pn(a,".priority"),u)),o}}function Co(a,t){return xs(t,a)}function da(a,t){if(a.snap)return ji(a.path,t);for(const o in a.children)if(a.children.hasOwnProperty(o)&&ji(Pn(a.path,o),t))return!0;return!1}function Ll(a){return a.visible}function Ba(a,t,o){let u=Qt.empty();for(let p=0;p<a.length;++p){const w=a[p];if(t(w)){const D=w.path;let N;if(w.snap)ji(o,D)?(N=vi(o,D),u=gn(u,N,w.snap)):ji(D,o)&&(N=vi(D,o),u=gn(u,wr(),w.snap.getChild(N)));else{if(!w.children)throw(0,z.g5)("WriteRecord should have .snap or .children");if(ji(o,D))N=vi(o,D),u=Cr(u,N,w.children);else if(ji(D,o))if(N=vi(D,o),Xn(N))u=Cr(u,wr(),w.children);else{const k=(0,z.DV)(w.children,ft(N));if(k){const H=k.getChild(Ct(N));u=gn(u,wr(),H)}}}}}return u}function xh(a,t,o,u,p){if(u||p){const w=is(a.visibleWrites,t);return!p&&Qi(w)?o:p||null!=o||ci(w,wr())?fs(Ba(a.allWrites,function(H){return(H.visible||p)&&(!u||!~u.indexOf(H.writeId))&&(ji(H.path,t)||ji(t,H.path))},t),o||_i.EMPTY_NODE):null}{const w=ri(a.visibleWrites,t);if(null!=w)return w;{const D=is(a.visibleWrites,t);return Qi(D)?o:null!=o||ci(D,wr())?fs(D,o||_i.EMPTY_NODE):null}}}function Do(a,t,o,u){return xh(a.writeTree,a.treePath,t,o,u)}function Zn(a,t){return function yl(a,t,o){let u=_i.EMPTY_NODE;const p=ri(a.visibleWrites,t);if(p)return p.isLeafNode()||p.forEachChild(bi,(w,D)=>{u=u.updateImmediateChild(w,D)}),u;if(o){const w=is(a.visibleWrites,t);return o.forEachChild(bi,(D,N)=>{const k=fs(is(w,new lr(D)),N);u=u.updateImmediateChild(D,k)}),wi(w).forEach(D=>{u=u.updateImmediateChild(D.name,D.node)}),u}return wi(is(a.visibleWrites,t)).forEach(D=>{u=u.updateImmediateChild(D.name,D.node)}),u}(a.writeTree,a.treePath,t)}function xi(a,t,o,u){return function Td(a,t,o,u,p){(0,z.hu)(u||p,"Either existingEventSnap or existingServerSnap must exist");const w=Pn(t,o);if(ci(a.visibleWrites,w))return null;{const D=is(a.visibleWrites,w);return Qi(D)?p.getChild(o):fs(D,p.getChild(o))}}(a.writeTree,a.treePath,t,o,u)}function No(a,t){return function Fl(a,t){return ri(a.visibleWrites,t)}(a.writeTree,Pn(a.treePath,t))}function mr(a,t,o){return function Js(a,t,o,u){const p=Pn(t,o),w=ri(a.visibleWrites,p);return null!=w?w:u.isCompleteForChild(o)?fs(is(a.visibleWrites,p),u.getNode().getImmediateChild(o)):null}(a.writeTree,a.treePath,t,o)}function Ur(a,t){return xs(Pn(a.treePath,t),a.writeTree)}function xs(a,t){return{treePath:a,writeTree:t}}class Er{constructor(){this.changeMap=new Map}trackChildChange(t){const o=t.type,u=t.childName;(0,z.hu)("child_added"===o||"child_changed"===o||"child_removed"===o,"Only child changes supported for tracking"),(0,z.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const p=this.changeMap.get(u);if(p){const w=p.type;if("child_added"===o&&"child_removed"===w)this.changeMap.set(u,zr(u,t.snapshotNode,p.snapshotNode));else if("child_removed"===o&&"child_added"===w)this.changeMap.delete(u);else if("child_removed"===o&&"child_changed"===w)this.changeMap.set(u,Qn(u,p.oldSnap));else if("child_changed"===o&&"child_added"===w)this.changeMap.set(u,zt(u,t.snapshotNode));else{if("child_changed"!==o||"child_changed"!==w)throw(0,z.g5)("Illegal combination of changes: "+t+" occurred after "+p);this.changeMap.set(u,zr(u,t.snapshotNode,p.oldSnap))}}else this.changeMap.set(u,t)}getChanges(){return Array.from(this.changeMap.values())}}const Ln=new class hn{getCompleteChild(t){return null}getChildAfterChild(t,o,u){return null}};class qi{constructor(t,o,u=null){this.writes_=t,this.viewCache_=o,this.optCompleteServerCache_=u}getCompleteChild(t){const o=this.viewCache_.eventCache;if(o.isCompleteForChild(t))return o.getNode().getImmediateChild(t);{const u=null!=this.optCompleteServerCache_?new zs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mr(this.writes_,t,u)}}getChildAfterChild(t,o,u){const p=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:le(this.viewCache_),w=function _c(a,t,o,u,p,w){return function On(a,t,o,u,p,w,D){let N;const k=is(a.visibleWrites,t),H=ri(k,wr());if(null!=H)N=H;else{if(null==o)return[];N=fs(k,o)}if(N=N.withIndex(D),N.isEmpty()||N.isLeafNode())return[];{const K=[],Z=D.getCompare(),te=w?N.getReverseIteratorFrom(u,D):N.getIteratorFrom(u,D);let De=te.getNext();for(;De&&K.length<p;)0!==Z(De,u)&&K.push(De),De=te.getNext();return K}}(a.writeTree,a.treePath,t,o,u,p,w)}(this.writes_,p,o,1,u,t);return 0===w.length?null:w[0]}}function Xc(a,t,o,u,p,w){const D=t.eventCache;if(null!=No(u,o))return t;{let N,k;if(Xn(o))if((0,z.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const H=le(t),Z=Zn(u,H instanceof _i?H:_i.EMPTY_NODE);N=a.filter.updateFullNode(t.eventCache.getNode(),Z,w)}else{const H=Do(u,le(t));N=a.filter.updateFullNode(t.eventCache.getNode(),H,w)}else{const H=ft(o);if(".priority"===H){(0,z.hu)(1===bt(o),"Can't have a priority with additional path components");const K=D.getNode();k=t.serverCache.getNode();const Z=xi(u,o,K,k);N=null!=Z?a.filter.updatePriority(K,Z):D.getNode()}else{const K=Ct(o);let Z;if(D.isCompleteForChild(H)){k=t.serverCache.getNode();const te=xi(u,o,D.getNode(),k);Z=null!=te?D.getNode().getImmediateChild(H).updateChild(K,te):D.getNode().getImmediateChild(H)}else Z=mr(u,H,t.serverCache);N=null!=Z?a.filter.updateChild(D.getNode(),H,Z,K,p,w):D.getNode()}}return Oi(t,N,D.isFullyInitialized()||Xn(o),a.filter.filtersNodes())}}function Qc(a,t,o,u,p,w,D,N){const k=t.serverCache;let H;const K=D?a.filter:a.filter.getIndexedFilter();if(Xn(o))H=K.updateFullNode(k.getNode(),u,null);else if(K.filtersNodes()&&!k.isFiltered()){const De=k.getNode().updateChild(o,u);H=K.updateFullNode(k.getNode(),De,null)}else{const De=ft(o);if(!k.isCompleteForPath(o)&&bt(o)>1)return t;const Ke=Ct(o),Je=k.getNode().getImmediateChild(De).updateChild(Ke,u);H=".priority"===De?K.updatePriority(k.getNode(),Je):K.updateChild(k.getNode(),De,Je,Ke,Ln,null)}const Z=Xi(t,H,k.isFullyInitialized()||Xn(o),K.filtersNodes());return Xc(a,Z,o,p,new qi(p,Z,w),N)}function il(a,t,o,u,p,w,D){const N=t.eventCache;let k,H;const K=new qi(p,t,w);if(Xn(o))H=a.filter.updateFullNode(t.eventCache.getNode(),u,D),k=Oi(t,H,!0,a.filter.filtersNodes());else{const Z=ft(o);if(".priority"===Z)H=a.filter.updatePriority(t.eventCache.getNode(),u),k=Oi(t,H,N.isFullyInitialized(),N.isFiltered());else{const te=Ct(o),De=N.getNode().getImmediateChild(Z);let Ke;if(Xn(te))Ke=u;else{const Qe=K.getCompleteChild(Z);Ke=null!=Qe?".priority"===dn(te)&&Qe.getChild(kn(te)).isEmpty()?Qe:Qe.updateChild(te,u):_i.EMPTY_NODE}k=De.equals(Ke)?t:Oi(t,a.filter.updateChild(N.getNode(),Z,Ke,te,K,D),N.isFullyInitialized(),a.filter.filtersNodes())}}return k}function Jc(a,t){return a.eventCache.isCompleteForChild(t)}function Ec(a,t,o){return o.foreach((u,p)=>{t=t.updateChild(u,p)}),t}function bc(a,t,o,u,p,w,D,N){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let H,k=t;H=Xn(o)?u:new nt(null).setTree(o,u);const K=t.serverCache.getNode();return H.children.inorderTraversal((Z,te)=>{if(K.hasChild(Z)){const Ke=Ec(0,t.serverCache.getNode().getImmediateChild(Z),te);k=Qc(a,k,new lr(Z),Ke,p,w,D,N)}}),H.children.inorderTraversal((Z,te)=>{const De=!t.serverCache.isCompleteForChild(Z)&&null===te.value;if(!K.hasChild(Z)&&!De){const Qe=Ec(0,t.serverCache.getNode().getImmediateChild(Z),te);k=Qc(a,k,new lr(Z),Qe,p,w,D,N)}}),k}class Ss{constructor(t,o){this.query_=t,this.eventRegistrations_=[];const u=this.query_._queryParams,p=new Gs(u.getIndex()),w=function Io(a){return a.loadsAllData()?new Gs(a.getIndex()):a.hasLimit()?new Ws(a):new mo(a)}(u);this.processor_=function $a(a){return{filter:a}}(w);const D=o.serverCache,N=o.eventCache,k=p.updateFullNode(_i.EMPTY_NODE,D.getNode(),null),H=w.updateFullNode(_i.EMPTY_NODE,N.getNode(),null),K=new zs(k,D.isFullyInitialized(),p.filtersNodes()),Z=new zs(H,N.isFullyInitialized(),w.filtersNodes());this.viewCache_=rl(Z,K),this.eventGenerator_=new yc(this.query_)}get query(){return this.query_}}function os(a,t){const o=le(a.viewCache_);return o&&(a.query._queryParams.loadsAllData()||!Xn(t)&&!o.getImmediateChild(ft(t)).isEmpty())?o.getChild(t):null}function Bl(a){return 0===a.eventRegistrations_.length}function yr(a,t,o){const u=[];if(o){(0,z.hu)(null==t,"A cancel should cancel all event registrations.");const p=a.query._path;a.eventRegistrations_.forEach(w=>{const D=w.createCancelEvent(o,p);D&&u.push(D)})}if(t){let p=[];for(let w=0;w<a.eventRegistrations_.length;++w){const D=a.eventRegistrations_[w];if(D.matches(t)){if(t.hasAnyCallback()){p=p.concat(a.eventRegistrations_.slice(w+1));break}}else p.push(D)}a.eventRegistrations_=p}else a.eventRegistrations_=[];return u}function Bu(a,t,o,u){t.type===ua.MERGE&&null!==t.source.queryId&&((0,z.hu)(le(a.viewCache_),"We should always have a full cache before handling merges"),(0,z.hu)(L(a.viewCache_),"Missing event cache, even though we have a server cache"));const p=a.viewCache_,w=function wc(a,t,o,u,p){const w=new Er;let D,N;if(o.type===ua.OVERWRITE){const H=o;H.source.fromUser?D=il(a,t,H.path,H.snap,u,p,w):((0,z.hu)(H.source.fromServer,"Unknown source."),N=H.source.tagged||t.serverCache.isFiltered()&&!Xn(H.path),D=Qc(a,t,H.path,H.snap,u,p,N,w))}else if(o.type===ua.MERGE){const H=o;H.source.fromUser?D=function Mh(a,t,o,u,p,w,D){let N=t;return u.foreach((k,H)=>{const K=Pn(o,k);Jc(t,ft(K))&&(N=il(a,N,K,H,p,w,D))}),u.foreach((k,H)=>{const K=Pn(o,k);Jc(t,ft(K))||(N=il(a,N,K,H,p,w,D))}),N}(a,t,H.path,H.children,u,p,w):((0,z.hu)(H.source.fromServer,"Unknown source."),N=H.source.tagged||t.serverCache.isFiltered(),D=bc(a,t,H.path,H.children,u,p,N,w))}else if(o.type===ua.ACK_USER_WRITE){const H=o;D=H.revert?function eu(a,t,o,u,p,w){let D;if(null!=No(u,o))return t;{const N=new qi(u,t,p),k=t.eventCache.getNode();let H;if(Xn(o)||".priority"===ft(o)){let K;if(t.serverCache.isFullyInitialized())K=Do(u,le(t));else{const Z=t.serverCache.getNode();(0,z.hu)(Z instanceof _i,"serverChildren would be complete if leaf node"),K=Zn(u,Z)}H=a.filter.updateFullNode(k,K,w)}else{const K=ft(o);let Z=mr(u,K,t.serverCache);null==Z&&t.serverCache.isCompleteForChild(K)&&(Z=k.getImmediateChild(K)),H=null!=Z?a.filter.updateChild(k,K,Z,Ct(o),N,w):t.eventCache.getNode().hasChild(K)?a.filter.updateChild(k,K,_i.EMPTY_NODE,Ct(o),N,w):k,H.isEmpty()&&t.serverCache.isFullyInitialized()&&(D=Do(u,le(t)),D.isLeafNode()&&(H=a.filter.updateFullNode(H,D,w)))}return D=t.serverCache.isFullyInitialized()||null!=No(u,wr()),Oi(t,H,D,a.filter.filtersNodes())}}(a,t,H.path,u,p,w):function fi(a,t,o,u,p,w,D){if(null!=No(p,o))return t;const N=t.serverCache.isFiltered(),k=t.serverCache;if(null!=u.value){if(Xn(o)&&k.isFullyInitialized()||k.isCompleteForPath(o))return Qc(a,t,o,k.getNode().getChild(o),p,w,N,D);if(Xn(o)){let H=new nt(null);return k.getNode().forEachChild(Ki,(K,Z)=>{H=H.set(new lr(K),Z)}),bc(a,t,o,H,p,w,N,D)}return t}{let H=new nt(null);return u.foreach((K,Z)=>{const te=Pn(o,K);k.isCompleteForPath(te)&&(H=H.set(K,k.getNode().getChild(te)))}),bc(a,t,o,H,p,w,N,D)}}(a,t,H.path,H.affectedTree,u,p,w)}else{if(o.type!==ua.LISTEN_COMPLETE)throw(0,z.g5)("Unknown operation type: "+o.type);D=function Ic(a,t,o,u,p){const w=t.serverCache;return Xc(a,Xi(t,w.getNode(),w.isFullyInitialized()||Xn(o),w.isFiltered()),o,u,Ln,p)}(a,t,o.path,u,w)}const k=w.getChanges();return function _l(a,t,o){const u=t.eventCache;if(u.isFullyInitialized()){const p=u.getNode().isLeafNode()||u.getNode().isEmpty(),w=L(a);(o.length>0||!a.eventCache.isFullyInitialized()||p&&!u.getNode().equals(w)||!u.getNode().getPriority().equals(w.getPriority()))&&o.push(rt(L(t)))}}(t,D,k),{viewCache:D,changes:k}}(a.processor_,p,t,o,u);return function Qf(a,t){(0,z.hu)(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,z.hu)(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}(a.processor_,w.viewCache),(0,z.hu)(w.viewCache.serverCache.isFullyInitialized()||!p.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=w.viewCache,O(a,w.changes,w.viewCache.eventCache.getNode(),null)}function O(a,t,o,u){return function Sd(a,t,o,u){const p=[],w=[];return t.forEach(D=>{"child_changed"===D.type&&a.index_.indexedValueChanged(D.oldSnap,D.snapshotNode)&&w.push(function Ii(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}(D.childName,D.snapshotNode))}),Jo(a,p,"child_removed",t,u,o),Jo(a,p,"child_added",t,u,o),Jo(a,p,"child_moved",w,u,o),Jo(a,p,"child_changed",t,u,o),Jo(a,p,"value",t,u,o),p}(a.eventGenerator_,t,o,u?[u]:a.eventRegistrations_)}let B,wl;class x{constructor(){this.views=new Map}}function Ue(a,t,o,u){const p=t.source.queryId;if(null!==p){const w=a.views.get(p);return(0,z.hu)(null!=w,"SyncTree gave us an op for an invalid query."),Bu(w,t,o,u)}{let w=[];for(const D of a.views.values())w=w.concat(Bu(D,t,o,u));return w}}function Lt(a,t,o,u,p){const D=a.views.get(t._queryIdentifier);if(!D){let N=Do(o,p?u:null),k=!1;N?k=!0:u instanceof _i?(N=Zn(o,u),k=!1):(N=_i.EMPTY_NODE,k=!1);const H=rl(new zs(N,k,!1),new zs(u,p,!1));return new Ss(t,H)}return D}function ui(a){const t=[];for(const o of a.views.values())o.query._queryParams.loadsAllData()||t.push(o);return t}function Dr(a,t){let o=null;for(const u of a.views.values())o=o||os(u,t);return o}function us(a,t){return t._queryParams.loadsAllData()?Ms(a):a.views.get(t._queryIdentifier)}function Kt(a,t){return null!=us(a,t)}function Hs(a){return null!=Ms(a)}function Ms(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ol=1;class El{constructor(t){this.listenProvider_=t,this.syncPointTree_=new nt(null),this.pendingWriteTree_=function ns(){return{visibleWrites:Qt.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bl(a,t,o,u,p){return function Qr(a,t,o,u,p){(0,z.hu)(u>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===p&&(p=!0),a.allWrites.push({path:t,snap:o,writeId:u,visible:p}),p&&(a.visibleWrites=gn(a.visibleWrites,t,o)),a.lastWriteId=u}(a.pendingWriteTree_,t,o,u,p),p?Ac(a,new Fa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o)):[]}function $l(a,t,o=!1){const u=function Qs(a,t){for(let o=0;o<a.allWrites.length;o++){const u=a.allWrites[o];if(u.writeId===t)return u}return null}(a.pendingWriteTree_,t);if(function vl(a,t){const o=a.allWrites.findIndex(N=>N.writeId===t);(0,z.hu)(o>=0,"removeWrite called with nonexistent writeId.");const u=a.allWrites[o];a.allWrites.splice(o,1);let p=u.visible,w=!1,D=a.allWrites.length-1;for(;p&&D>=0;){const N=a.allWrites[D];N.visible&&(D>=o&&da(N,u.path)?p=!1:ji(u.path,N.path)&&(w=!0)),D--}return!!p&&(w?(function Xf(a){a.visibleWrites=Ba(a.allWrites,Ll,wr()),a.lastWriteId=a.allWrites.length>0?a.allWrites[a.allWrites.length-1].writeId:-1}(a),!0):(u.snap?a.visibleWrites=Ci(a.visibleWrites,u.path):mn(u.children,k=>{a.visibleWrites=Ci(a.visibleWrites,Pn(u.path,k))}),!0))}(a.pendingWriteTree_,t)){let w=new nt(null);return null!=u.snap?w=w.set(wr(),!0):mn(u.children,D=>{w=w.set(new lr(D),!0)}),Ac(a,new ka(u.path,w,o))}return[]}function Ad(a,t,o){return Ac(a,new Fa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}function Tc(a,t,o,u,p=!1){const w=t._path,D=a.syncPointTree_.get(w);let N=[];if(D&&("default"===t._queryIdentifier||Kt(D,t))){const k=function vr(a,t,o,u){const p=t._queryIdentifier,w=[];let D=[];const N=Hs(a);if("default"===p)for(const[k,H]of a.views.entries())D=D.concat(yr(H,o,u)),Bl(H)&&(a.views.delete(k),H.query._queryParams.loadsAllData()||w.push(H.query));else{const k=a.views.get(p);k&&(D=D.concat(yr(k,o,u)),Bl(k)&&(a.views.delete(p),k.query._queryParams.loadsAllData()||w.push(k.query)))}return N&&!Hs(a)&&w.push(new(function oe(){return(0,z.hu)(B,"Reference.ts has not been loaded"),B}())(t._repo,t._path)),{removed:w,events:D}}(D,t,o,u);(function He(a){return 0===a.views.size})(D)&&(a.syncPointTree_=a.syncPointTree_.remove(w));const H=k.removed;if(N=k.events,!p){const K=-1!==H.findIndex(te=>te._queryParams.loadsAllData()),Z=a.syncPointTree_.findOnPath(w,(te,De)=>Hs(De));if(K&&!Z){const te=a.syncPointTree_.subtree(w);if(!te.isEmpty()){const De=function ru(a){return a.fold((t,o,u)=>{if(o&&Hs(o))return[Ms(o)];{let p=[];return o&&(p=ui(o)),mn(u,(w,D)=>{p=p.concat(D)}),p}})}(te);for(let Ke=0;Ke<De.length;++Ke){const Qe=De[Ke],Je=Qe.query,gt=ag(a,Qe);a.listenProvider_.startListening(iu(Je),Go(a,Je),gt.hashFn,gt.onComplete)}}}!Z&&H.length>0&&!u&&(K?a.listenProvider_.stopListening(iu(t),null):H.forEach(te=>{const De=a.queryToTagMap.get(Rh(te));a.listenProvider_.stopListening(iu(te),De)}))}!function bm(a,t){for(let o=0;o<t.length;++o){const u=t[o];if(!u._queryParams.loadsAllData()){const p=Rh(u),w=a.queryToTagMap.get(p);a.queryToTagMap.delete(p),a.tagToQueryMap.delete(w)}}}(a,H)}return N}function lo(a,t,o,u){const p=xc(a,u);if(null!=p){const w=nu(p),D=w.path,N=w.queryId,k=vi(D,t);return Oh(a,D,new Fa(kl(N),k,o))}return[]}function tu(a,t,o,u=!1){const p=t._path;let w=null,D=!1;a.syncPointTree_.foreachOnPath(p,(te,De)=>{const Ke=vi(te,p);w=w||Dr(De,Ke),D=D||Hs(De)});let k,N=a.syncPointTree_.get(p);N?(D=D||Hs(N),w=w||Dr(N,wr())):(N=new x,a.syncPointTree_=a.syncPointTree_.set(p,N)),null!=w?k=!0:(k=!1,w=_i.EMPTY_NODE,a.syncPointTree_.subtree(p).foreachChild((De,Ke)=>{const Qe=Dr(Ke,wr());Qe&&(w=w.updateImmediateChild(De,Qe))}));const H=Kt(N,t);if(!H&&!t._queryParams.loadsAllData()){const te=Rh(t);(0,z.hu)(!a.queryToTagMap.has(te),"View does not exist, but we have a tag");const De=function Nh(){return ol++}();a.queryToTagMap.set(te,De),a.tagToQueryMap.set(De,te)}let Z=function An(a,t,o,u,p,w){const D=Lt(a,t,u,p,w);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,D),function $s(a,t){a.eventRegistrations_.push(t)}(D,o),function To(a,t){const o=a.viewCache_.eventCache,u=[];return o.getNode().isLeafNode()||o.getNode().forEachChild(bi,(w,D)=>{u.push(zt(w,D))}),o.isFullyInitialized()&&u.push(rt(o.getNode())),O(a,u,o.getNode(),t)}(D,o)}(N,t,o,Co(a.pendingWriteTree_,p),w,k);if(!H&&!D&&!u){const te=us(N,t);Z=Z.concat(function kh(a,t,o){const u=t._path,p=Go(a,t),w=ag(a,o),D=a.listenProvider_.startListening(iu(t),p,w.hashFn,w.onComplete),N=a.syncPointTree_.subtree(u);if(p)(0,z.hu)(!Hs(N.value),"If we're adding a query, it shouldn't be shadowed");else{const k=N.fold((H,K,Z)=>{if(!Xn(H)&&K&&Hs(K))return[Ms(K).query];{let te=[];return K&&(te=te.concat(ui(K).map(De=>De.query))),mn(Z,(De,Ke)=>{te=te.concat(Ke)}),te}});for(let H=0;H<k.length;++H){const K=k[H];a.listenProvider_.stopListening(iu(K),Go(a,K))}}return D}(a,t,te))}return Z}function Lo(a,t,o){const p=a.pendingWriteTree_,w=a.syncPointTree_.findOnPath(t,(D,N)=>{const H=Dr(N,vi(D,t));if(H)return H});return xh(p,t,w,o,!0)}function Ac(a,t){return Ph(t,a.syncPointTree_,null,Co(a.pendingWriteTree_,wr()))}function Ph(a,t,o,u){if(Xn(a.path))return xd(a,t,o,u);{const p=t.get(wr());null==o&&null!=p&&(o=Dr(p,wr()));let w=[];const D=ft(a.path),N=a.operationForChild(D),k=t.children.get(D);if(k&&N){const H=o?o.getImmediateChild(D):null,K=Ur(u,D);w=w.concat(Ph(N,k,H,K))}return p&&(w=w.concat(Ue(p,a,u,o))),w}}function xd(a,t,o,u){const p=t.get(wr());null==o&&null!=p&&(o=Dr(p,wr()));let w=[];return t.children.inorderTraversal((D,N)=>{const k=o?o.getImmediateChild(D):null,H=Ur(u,D),K=a.operationForChild(D);K&&(w=w.concat(xd(K,N,k,H)))}),p&&(w=w.concat(Ue(p,a,u,o))),w}function ag(a,t){const o=t.query,u=Go(a,o);return{hashFn:()=>(function Wr(a){return a.viewCache_.serverCache.getNode()}(t)||_i.EMPTY_NODE).hash(),onComplete:p=>{if("ok"===p)return u?function Il(a,t,o){const u=xc(a,o);if(u){const p=nu(u),w=p.path,D=p.queryId,N=vi(w,t);return Oh(a,w,new La(kl(D),N))}return[]}(a,o._path,u):function Dc(a,t){return Ac(a,new La({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(a,o._path);{const w=function hr(a,t){let o="Unknown Error";"too_big"===a?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===a?o="Client doesn't have permission to access the desired data.":"unavailable"===a&&(o="The service is unavailable");const u=new Error(a+" at "+t._path.toString()+": "+o);return u.code=a.toUpperCase(),u}(p,o);return Tc(a,o,null,w)}}}}function Go(a,t){const o=Rh(t);return a.queryToTagMap.get(o)}function Rh(a){return a._path.toString()+"$"+a._queryIdentifier}function xc(a,t){return a.tagToQueryMap.get(t)}function nu(a){const t=a.indexOf("$");return(0,z.hu)(-1!==t&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new lr(a.substr(0,t))}}function Oh(a,t,o){const u=a.syncPointTree_.get(t);return(0,z.hu)(u,"Missing sync point for query tag that we're tracking"),Ue(u,o,Co(a.pendingWriteTree_,t),null)}function iu(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(function ko(){return(0,z.hu)(wl,"Reference.ts has not been loaded"),wl}())(a._repo,a._path):a}class Uu{constructor(t){this.node_=t}getImmediateChild(t){const o=this.node_.getImmediateChild(t);return new Uu(o)}node(){return this.node_}}class Lh{constructor(t,o){this.syncTree_=t,this.path_=o}getImmediateChild(t){const o=Pn(this.path_,t);return new Lh(this.syncTree_,o)}node(){return Lo(this.syncTree_,this.path_)}}const Jf=function(a){return(a=a||{}).timestamp=a.timestamp||(new Date).getTime(),a},su=function(a,t,o){return a&&"object"==typeof a?((0,z.hu)(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"]?Mc(a[".sv"],t,o):"object"==typeof a[".sv"]?lg(a[".sv"],t):void(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2))):a},Mc=function(a,t,o){if("timestamp"===a)return o.timestamp;(0,z.hu)(!1,"Unexpected server value: "+a)},lg=function(a,t,o){a.hasOwnProperty("increment")||(0,z.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const u=a.increment;"number"!=typeof u&&(0,z.hu)(!1,"Unexpected increment value: "+u);const p=t.node();if((0,z.hu)(null!==p&&typeof p<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!p.isLeafNode())return u;const D=p.getValue();return"number"!=typeof D?u:D+u},Fh=function(a,t,o,u){return Cl(t,new Lh(o,a),u)},Vu=function(a,t,o){return Cl(a,new Uu(t),o)};function Cl(a,t,o){const u=a.getPriority().val(),p=su(u,t.getImmediateChild(".priority"),o);let w;if(a.isLeafNode()){const D=a,N=su(D.getValue(),t,o);return N!==D.getValue()||p!==D.getPriority().val()?new rr(N,S(p)):a}{const D=a;return w=D,p!==D.getPriority().val()&&(w=w.updatePriority(new rr(p))),D.forEachChild(bi,(N,k)=>{const H=Cl(k,t.getImmediateChild(N),o);H!==k&&(w=w.updateImmediateChild(N,H))}),w}}class co{constructor(t="",o=null,u={children:{},childCount:0}){this.name=t,this.parent=o,this.node=u}}function Pc(a,t){let o=t instanceof lr?t:new lr(t),u=a,p=ft(o);for(;null!==p;){const w=(0,z.DV)(u.node.children,p)||{children:{},childCount:0};u=new co(p,u,w),o=Ct(o),p=ft(o)}return u}function Wo(a){return a.node.value}function Bh(a,t){a.node.value=t,uo(a)}function bs(a){return a.node.childCount>0}function Ps(a,t){mn(a.node.children,(o,u)=>{t(new co(o,a,u))})}function ls(a,t,o,u){o&&!u&&t(a),Ps(a,p=>{ls(p,t,!0,u)}),o&&u&&t(a)}function Ua(a){return new lr(null===a.parent?a.name:Ua(a.parent)+"/"+a.name)}function uo(a){null!==a.parent&&function ou(a,t,o){const u=function ju(a){return void 0===Wo(a)&&!bs(a)}(o),p=(0,z.r3)(a.node.children,t);u&&p?(delete a.node.children[t],a.node.childCount--,uo(a)):!u&&!p&&(a.node.children[t]=o.node,a.node.childCount++,uo(a))}(a.parent,a.name,a)}const Im=/[\[\].#$\/\u0000-\u001F\u007F]/,ho=/[\[\].#$\u0000-\u001F\u007F]/,ep=10485760,Sl=function(a){return"string"==typeof a&&0!==a.length&&!Im.test(a)},Ys=function(a){return"string"==typeof a&&0!==a.length&&!ho.test(a)},au=function(a){return null===a||"string"==typeof a||"number"==typeof a&&!nn(a)||a&&"object"==typeof a&&(0,z.r3)(a,".sv")},Va=function(a,t,o,u){u&&void 0===t||ha((0,z.gK)(a,"value"),t,o)},ha=function(a,t,o){const u=o instanceof lr?new Ti(o,a):o;if(void 0===t)throw new Error(a+"contains undefined "+Ns(u));if("function"==typeof t)throw new Error(a+"contains a function "+Ns(u)+" with contents = "+t.toString());if(nn(t))throw new Error(a+"contains "+t.toString()+" "+Ns(u));if("string"==typeof t&&t.length>ep/3&&(0,z.ug)(t)>ep)throw new Error(a+"contains a string greater than "+ep+" utf8 bytes "+Ns(u)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let p=!1,w=!1;if(mn(t,(D,N)=>{if(".value"===D)p=!0;else if(".priority"!==D&&".sv"!==D&&(w=!0,!Sl(D)))throw new Error(a+" contains an invalid key ("+D+") "+Ns(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Is(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=(0,z.ug)(t),_r(a)})(u,D),ha(a,N,u),function ws(a){const t=a.parts_.pop();a.byteLength_-=(0,z.ug)(t),a.parts_.length>0&&(a.byteLength_-=1)}(u)}),p&&w)throw new Error(a+' contains ".value" child '+Ns(u)+" in addition to actual children.")}},Vl=function(a,t,o,u){if(u&&void 0===t)return;const p=(0,z.gK)(a,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(p+" must be an object containing the children to replace.");const w=[];mn(t,(D,N)=>{const k=new lr(D);if(ha(p,N,Pn(o,k)),".priority"===dn(k)&&!au(N))throw new Error(p+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(k)}),function(a,t){let o,u;for(o=0;o<t.length;o++){u=t[o];const w=qn(u);for(let D=0;D<w.length;D++)if((".priority"!==w[D]||D!==w.length-1)&&!Sl(w[D]))throw new Error(a+"contains an invalid key ("+w[D]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Os);let p=null;for(o=0;o<t.length;o++){if(u=t[o],null!==p&&ji(p,u))throw new Error(a+"contains a path "+p.toString()+" that is ancestor of another path "+u.toString());p=u}}(p,w)},Ds=function(a,t,o){if(!o||void 0!==t){if(nn(t))throw new Error((0,z.gK)(a,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!au(t))throw new Error((0,z.gK)(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jl=function(a,t,o,u){if(!(u&&void 0===o||Sl(o)))throw new Error((0,z.gK)(a,t)+'was an invalid key = "'+o+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Yo=function(a,t,o,u){if(!(u&&void 0===o||Ys(o)))throw new Error((0,z.gK)(a,t)+'was an invalid path = "'+o+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ia=function(a,t,o,u){o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Yo(a,t,o,u)},Rs=function(a,t){if(".info"===ft(t))throw new Error(a+" failed = Can't modify data under /.info/")},Ca=function(a,t){const o=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Sl(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==o.length&&!function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Ys(a)}(o))throw new Error((0,z.gK)(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class np{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ja(a,t){let o=null;for(let u=0;u<t.length;u++){const p=t[u],w=p.getPath();null!==o&&!yi(w,o.path)&&(a.eventLists_.push(o),o=null),null===o&&(o={events:[],path:w}),o.events.push(p)}o&&a.eventLists_.push(o)}function Rc(a,t,o){ja(a,o),lu(a,u=>yi(u,t))}function Ko(a,t,o){ja(a,o),lu(a,u=>ji(u,t)||ji(t,u))}function lu(a,t){a.recursionDepth_++;let o=!0;for(let u=0;u<a.eventLists_.length;u++){const p=a.eventLists_[u];p&&(t(p.path)?(rp(a.eventLists_[u]),a.eventLists_[u]=null):o=!1)}o&&(a.eventLists_=[]),a.recursionDepth_--}function rp(a){for(let t=0;t<a.events.length;t++){const o=a.events[t];if(null!==o){a.events[t]=null;const u=o.getEventRunner();vt&&on("event: "+o.toString()),fr(u)}}}const cu="repo_interrupt",fa=25;class $h{constructor(t,o,u,p){this.repoInfo_=t,this.forceRestClient_=o,this.authTokenProvider_=u,this.appCheckProvider_=p,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new np,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_a(),this.transactionQueueTree_=new co,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Md(a){const o=a.infoData_.getNode(new lr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+o}function uu(a){return Jf({timestamp:Md(a)})}function ip(a,t,o,u,p){a.dataUpdateCount++;const w=new lr(t);o=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,o):o;let D=[];if(p)if(u){const k=(0,z.UI)(o,H=>S(H));D=function Em(a,t,o,u){const p=xc(a,u);if(p){const w=nu(p),D=w.path,N=w.queryId,k=vi(D,t),H=nt.fromObject(o);return Oh(a,D,new Qo(kl(N),k,H))}return[]}(a.serverSyncTree_,w,k,p)}else{const k=S(o);D=lo(a.serverSyncTree_,w,k,p)}else if(u){const k=(0,z.UI)(o,H=>S(H));D=function ea(a,t,o){const u=nt.fromObject(o);return Ac(a,new Qo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,u))}(a.serverSyncTree_,w,k)}else{const k=S(o);D=Ad(a.serverSyncTree_,w,k)}let N=w;D.length>0&&(N=fu(a,w)),Ko(a.eventQueue_,N,D)}function cg(a,t){Uh(a,"connected",t),!1===t&&function hg(a){Gl(a,"onDisconnectEvents");const t=uu(a),o=_a();Ea(a.onDisconnect_,wr(),(p,w)=>{const D=Fh(p,w,a.serverSyncTree_,t);wa(o,p,D)});let u=[];Ea(o,wr(),(p,w)=>{u=u.concat(Ad(a.serverSyncTree_,p,w));const D=Ha(a,p);fu(a,D)}),a.onDisconnect_=_a(),Ko(a.eventQueue_,wr(),u)}(a)}function Uh(a,t,o){const u=new lr("/.info/"+t),p=S(o);a.infoData_.updateSnapshot(u,p);const w=Ad(a.infoSyncTree_,u,p);Ko(a.eventQueue_,u,w)}function fo(a){return a.nextWriteId_++}function ys(a,t,o,u,p){Gl(a,"set",{path:t.toString(),value:o,priority:u});const w=uu(a),D=S(o,u),N=Lo(a.serverSyncTree_,t),k=Vu(D,N,w),H=fo(a),K=bl(a.serverSyncTree_,t,k,H,!0);ja(a.eventQueue_,K),a.server_.put(t.toString(),D.val(!0),(te,De)=>{const Ke="ok"===te;Ke||Nt("set at "+t+" failed: "+te);const Qe=$l(a.serverSyncTree_,H,!Ke);Ko(a.eventQueue_,t,Qe),za(0,p,te,De)});const Z=Ha(a,t);fu(a,Z),Ko(a.eventQueue_,Z,[])}function du(a,t,o){a.server_.onDisconnectCancel(t.toString(),(u,p)=>{"ok"===u&&mc(a.onDisconnect_,t),za(0,o,u,p)})}function hu(a,t,o,u){const p=S(o);a.server_.onDisconnectPut(t.toString(),p.val(!0),(w,D)=>{"ok"===w&&wa(a.onDisconnect_,t,p),za(0,u,w,D)})}function ds(a,t,o){let u;u=".info"===ft(t._path)?Tc(a.infoSyncTree_,t,o):Tc(a.serverSyncTree_,t,o),Rc(a.eventQueue_,t._path,u)}function Hl(a){a.persistentConnection_&&a.persistentConnection_.interrupt(cu)}function Gl(a,...t){let o="";a.persistentConnection_&&(o=a.persistentConnection_.id+":"),on(o,...t)}function za(a,t,o,u){t&&fr(()=>{if("ok"===o)t(null);else{const p=(o||"error").toUpperCase();let w=p;u&&(w+=": "+u);const D=new Error(w);D.code=p,t(D)}})}function Yl(a,t,o){return Lo(a.serverSyncTree_,t,o)||_i.EMPTY_NODE}function Rd(a,t=a.transactionQueueTree_){if(t||jh(a,t),Wo(t)){const o=Vh(a,t);(0,z.hu)(o.length>0,"Sending zero length transaction queue"),o.every(p=>0===p.status)&&function Cm(a,t,o){const u=o.map(H=>H.currentWriteId),p=Yl(a,t,u);let w=p;const D=p.hash();for(let H=0;H<o.length;H++){const K=o[H];(0,z.hu)(0===K.status,"tryToSendTransactionQueue_: items in queue should all be run."),K.status=1,K.retryCount++;const Z=vi(t,K.path);w=w.updateChild(Z,K.currentOutputSnapshotRaw)}const N=w.val(!0),k=t;a.server_.put(k.toString(),N,H=>{Gl(a,"transaction put response",{path:k.toString(),status:H});let K=[];if("ok"===H){const Z=[];for(let te=0;te<o.length;te++)o[te].status=2,K=K.concat($l(a.serverSyncTree_,o[te].currentWriteId)),o[te].onComplete&&Z.push(()=>o[te].onComplete(null,!0,o[te].currentOutputSnapshotResolved)),o[te].unwatcher();jh(a,Pc(a.transactionQueueTree_,t)),Rd(a,a.transactionQueueTree_),Ko(a.eventQueue_,t,K);for(let te=0;te<Z.length;te++)fr(Z[te])}else{if("datastale"===H)for(let Z=0;Z<o.length;Z++)o[Z].status=3===o[Z].status?4:0;else{Nt("transaction at "+k.toString()+" failed: "+H);for(let Z=0;Z<o.length;Z++)o[Z].status=4,o[Z].abortReason=H}fu(a,t)}},D)}(a,Ua(t),o)}else bs(t)&&Ps(t,o=>{Rd(a,o)})}function fu(a,t){const o=Dm(a,t),u=Ua(o);return function Sm(a,t,o){if(0===t.length)return;const u=[];let p=[];const D=t.filter(N=>0===N.status).map(N=>N.currentWriteId);for(let N=0;N<t.length;N++){const k=t[N],H=vi(o,k.path);let Z,K=!1;if((0,z.hu)(null!==H,"rerunTransactionsUnderNode_: relativePath should not be null."),4===k.status)K=!0,Z=k.abortReason,p=p.concat($l(a.serverSyncTree_,k.currentWriteId,!0));else if(0===k.status)if(k.retryCount>=fa)K=!0,Z="maxretry",p=p.concat($l(a.serverSyncTree_,k.currentWriteId,!0));else{const te=Yl(a,k.path,D);k.currentInputSnapshot=te;const De=t[N].update(te.val());if(void 0!==De){ha("transaction failed: Data returned ",De,k.path);let Ke=S(De);"object"==typeof De&&null!=De&&(0,z.r3)(De,".priority")||(Ke=Ke.updatePriority(te.getPriority()));const Je=k.currentWriteId,gt=uu(a),tt=Vu(Ke,te,gt);k.currentOutputSnapshotRaw=Ke,k.currentOutputSnapshotResolved=tt,k.currentWriteId=fo(a),D.splice(D.indexOf(Je),1),p=p.concat(bl(a.serverSyncTree_,k.path,tt,k.currentWriteId,k.applyLocally)),p=p.concat($l(a.serverSyncTree_,Je,!0))}else K=!0,Z="nodata",p=p.concat($l(a.serverSyncTree_,k.currentWriteId,!0))}Ko(a.eventQueue_,o,p),p=[],K&&(t[N].status=2,setTimeout(t[N].unwatcher,Math.floor(0)),t[N].onComplete&&u.push("nodata"===Z?()=>t[N].onComplete(null,!1,t[N].currentInputSnapshot):()=>t[N].onComplete(new Error(Z),!1,null)))}jh(a,a.transactionQueueTree_);for(let N=0;N<u.length;N++)fr(u[N]);Rd(a,a.transactionQueueTree_)}(a,Vh(a,o),u),u}function Dm(a,t){let o,u=a.transactionQueueTree_;for(o=ft(t);null!==o&&void 0===Wo(u);)u=Pc(u,o),o=ft(t=Ct(t));return u}function Vh(a,t){const o=[];return pg(a,t,o),o.sort((u,p)=>u.order-p.order),o}function pg(a,t,o){const u=Wo(t);if(u)for(let p=0;p<u.length;p++)o.push(u[p]);Ps(t,p=>{pg(a,p,o)})}function jh(a,t){const o=Wo(t);if(o){let u=0;for(let p=0;p<o.length;p++)2!==o[p].status&&(o[u]=o[p],u++);o.length=u,Bh(t,o.length>0?o:void 0)}Ps(t,u=>{jh(a,u)})}function Ha(a,t){const o=Ua(Dm(a,t)),u=Pc(a.transactionQueueTree_,t);return function Ul(a,t,o){let u=o?a:a.parent;for(;null!==u;){if(t(u))return!0;u=u.parent}}(u,p=>{zh(a,p)}),zh(a,u),ls(u,p=>{zh(a,p)}),o}function zh(a,t){const o=Wo(t);if(o){const u=[];let p=[],w=-1;for(let D=0;D<o.length;D++)3===o[D].status||(1===o[D].status?((0,z.hu)(w===D-1,"All SENT items should be at beginning of queue."),w=D,o[D].status=3,o[D].abortReason="set"):((0,z.hu)(0===o[D].status,"Unexpected transaction status in abort"),o[D].unwatcher(),p=p.concat($l(a.serverSyncTree_,o[D].currentWriteId,!0)),o[D].onComplete&&u.push(o[D].onComplete.bind(null,new Error("set"),!1,null))));-1===w?Bh(t,void 0):o.length=w+1,Ko(a.eventQueue_,Ua(t),p);for(let D=0;D<u.length;D++)fr(u[D])}}const Oc=function(a,t){const o=Nc(a),u=o.namespace;return"firebase.com"===o.domain&&Ft(o.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==o.domain&&Ft("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),o.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new st(o.host,o.secure,u,"ws"===o.scheme||"wss"===o.scheme,t,"",u!==o.subdomain),path:new lr(o.pathString)}},Nc=function(a){let t="",o="",u="",p="",w="",D=!0,N="https",k=443;if("string"==typeof a){let H=a.indexOf("//");H>=0&&(N=a.substring(0,H-1),a=a.substring(H+2));let K=a.indexOf("/");-1===K&&(K=a.length);let Z=a.indexOf("?");-1===Z&&(Z=a.length),t=a.substring(0,Math.min(K,Z)),K<Z&&(p=function Tm(a){let t="";const o=a.split("/");for(let u=0;u<o.length;u++)if(o[u].length>0){let p=o[u];try{p=decodeURIComponent(p.replace(/\+/g," "))}catch{}t+="/"+p}return t}(a.substring(K,Z)));const te=function Hu(a){const t={};"?"===a.charAt(0)&&(a=a.substring(1));for(const o of a.split("&")){if(0===o.length)continue;const u=o.split("=");2===u.length?t[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):Nt(`Invalid query segment '${o}' in query '${a}'`)}return t}(a.substring(Math.min(a.length,Z)));H=t.indexOf(":"),H>=0?(D="https"===N||"wss"===N,k=parseInt(t.substring(H+1),10)):H=t.length;const De=t.slice(0,H);if("localhost"===De.toLowerCase())o="localhost";else if(De.split(".").length<=2)o=De;else{const Ke=t.indexOf(".");u=t.substring(0,Ke).toLowerCase(),o=t.substring(Ke+1),w=u}"ns"in te&&(w=te.ns)}return{host:t,port:k,domain:o,subdomain:u,secure:D,scheme:N,pathString:p,namespace:w}},Hh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Gh=function(){let a=0;const t=[];return function(o){const u=o===a;let p;a=o;const w=new Array(8);for(p=7;p>=0;p--)w[p]=Hh.charAt(o%64),o=Math.floor(o/64);(0,z.hu)(0===o,"Cannot push at time == 0");let D=w.join("");if(u){for(p=11;p>=0&&63===t[p];p--)t[p]=0;t[p]++}else for(p=0;p<12;p++)t[p]=Math.floor(64*Math.random());for(p=0;p<12;p++)D+=Hh.charAt(t[p]);return(0,z.hu)(20===D.length,"nextPushId: Length should be 20."),D}}();class Od{constructor(t,o,u,p){this.eventType=t,this.eventRegistration=o,this.snapshot=u,this.prevName=p}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,z.Wl)(this.snapshot.exportVal())}}class Nd{constructor(t,o,u){this.eventRegistration=t,this.error=o,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Tl{constructor(t,o){this.snapshotCallback=t,this.cancelCallback=o}onValue(t,o){this.snapshotCallback.call(null,t,o)}onCancel(t){return(0,z.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Wh{constructor(t,o){this._repo=t,this._path=o}cancel(){const t=new z.BH;return du(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Rs("OnDisconnect.remove",this._path);const t=new z.BH;return hu(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Rs("OnDisconnect.set",this._path),Va("OnDisconnect.set",t,this._path,!1);const o=new z.BH;return hu(this._repo,this._path,t,o.wrapCallback(()=>{})),o.promise}setWithPriority(t,o){Rs("OnDisconnect.setWithPriority",this._path),Va("OnDisconnect.setWithPriority",t,this._path,!1),Ds("OnDisconnect.setWithPriority",o,!1);const u=new z.BH;return function Pd(a,t,o,u,p){const w=S(o,u);a.server_.onDisconnectPut(t.toString(),w.val(!0),(D,N)=>{"ok"===D&&wa(a.onDisconnect_,t,w),za(0,p,D,N)})}(this._repo,this._path,t,o,u.wrapCallback(()=>{})),u.promise}update(t){Rs("OnDisconnect.update",this._path),Vl("OnDisconnect.update",t,this._path,!1);const o=new z.BH;return function fg(a,t,o,u){if((0,z.xb)(o))return on("onDisconnect().update() called with empty data.  Don't do anything."),void za(0,u,"ok",void 0);a.server_.onDisconnectMerge(t.toString(),o,(p,w)=>{"ok"===p&&mn(o,(D,N)=>{const k=S(N);wa(a.onDisconnect_,Pn(t,D),k)}),za(0,u,p,w)})}(this._repo,this._path,t,o.wrapCallback(()=>{})),o.promise}}class no{constructor(t,o,u,p){this._repo=t,this._path=o,this._queryParams=u,this._orderByCalled=p}get key(){return Xn(this._path)?null:dn(this._path)}get ref(){return new Da(this._repo,this._path)}get _queryIdentifier(){const t=gc(this._queryParams),o=sr(t);return"{}"===o?"default":o}get _queryObject(){return gc(this._queryParams)}isEqual(t){if(!((t=(0,z.m9)(t))instanceof no))return!1;const o=this._repo===t._repo,u=yi(this._path,t._path);return o&&u&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Nn(a){let t="";for(let o=a.pieceNum_;o<a.pieces_.length;o++)""!==a.pieces_[o]&&(t+="/"+encodeURIComponent(String(a.pieces_[o])));return t||"/"}(this._path)}}function Yh(a,t){if(!0===a._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Kl(a){let t=null,o=null;if(a.hasStart()&&(t=a.getIndexStartValue()),a.hasEnd()&&(o=a.getIndexEndValue()),a.getIndex()===Ki){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",p="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==Bn)throw new Error(u);if("string"!=typeof t)throw new Error(p)}if(a.hasEnd()){if(a.getIndexEndName()!==$n)throw new Error(u);if("string"!=typeof o)throw new Error(p)}}else if(a.getIndex()===bi){if(null!=t&&!au(t)||null!=o&&!au(o))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,z.hu)(a.getIndex()instanceof g||a.getIndex()===U,"unknown index type."),null!=t&&"object"==typeof t||null!=o&&"object"==typeof o)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gu(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Da extends no{constructor(t,o){super(t,o,new oo,!1)}get parent(){const t=kn(this._path);return null===t?null:new Da(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ta{constructor(t,o,u){this._node=t,this.ref=o,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const o=new lr(t),u=Aa(this.ref,t);return new Ta(this._node.getChild(o),u,bi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,p)=>t(new Ta(p,Aa(this.ref,u),bi)))}hasChild(t){const o=new lr(t);return!this._node.getChild(o).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ao(a,t){return(a=(0,z.m9)(a))._checkNotDeleted("ref"),void 0!==t?Aa(a._root,t):a._root}function pu(a,t){(a=(0,z.m9)(a))._checkNotDeleted("refFromURL");const o=Oc(t,a._repo.repoInfo_.nodeAdmin);Ca("refFromURL",o);const u=o.repoInfo;return!a._repo.repoInfo_.isCustomHost()&&u.host!==a._repo.repoInfo_.host&&Ft("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+a._repo.repoInfo_.host+")"),Ao(a,o.path.toString())}function Aa(a,t){return null===ft((a=(0,z.m9)(a))._path)?Ia("child","path",t,!1):Yo("child","path",t,!1),new Da(a._repo,Pn(a._path,t))}function Ga(a,t){a=(0,z.m9)(a),Rs("set",a._path),Va("set",t,a._path,!1);const o=new z.BH;return ys(a._repo,a._path,t,null,o.wrapCallback(()=>{})),o.promise}function qh(a,t){Vl("update",t,a._path,!1);const o=new z.BH;return function Sa(a,t,o,u){Gl(a,"update",{path:t.toString(),value:o});let p=!0;const w=uu(a),D={};if(mn(o,(N,k)=>{p=!1,D[N]=Fh(Pn(t,N),S(k),a.serverSyncTree_,w)}),p)on("update() called with empty data.  Don't do anything."),za(0,u,"ok",void 0);else{const N=fo(a),k=function Sc(a,t,o,u){!function So(a,t,o,u){(0,z.hu)(u>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:t,children:o,writeId:u,visible:!0}),a.visibleWrites=Cr(a.visibleWrites,t,o),a.lastWriteId=u}(a.pendingWriteTree_,t,o,u);const p=nt.fromObject(o);return Ac(a,new Qo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,p))}(a.serverSyncTree_,t,D,N);ja(a.eventQueue_,k),a.server_.merge(t.toString(),o,(H,K)=>{const Z="ok"===H;Z||Nt("update at "+t+" failed: "+H);const te=$l(a.serverSyncTree_,N,!Z),De=te.length>0?fu(a,t):t;Ko(a.eventQueue_,De,te),za(0,u,H,K)}),mn(o,H=>{const K=Ha(a,Pn(t,H));fu(a,K)}),Ko(a.eventQueue_,t,[])}}(a._repo,a._path,t,o.wrapCallback(()=>{})),o.promise}function Wa(a){a=(0,z.m9)(a);const t=new Tl(()=>{}),o=new ql(t);return function dg(a,t,o){const u=function $u(a,t){const o=t._path;let u=null;a.syncPointTree_.foreachOnPath(o,(H,K)=>{const Z=vi(H,o);u=u||Dr(K,Z)});let p=a.syncPointTree_.get(o);p?u=u||Dr(p,wr()):(p=new x,a.syncPointTree_=a.syncPointTree_.set(o,p));const w=null!=u,D=w?new zs(u,!0,!1):null;return function Cc(a){return L(a.viewCache_)}(Lt(p,t,Co(a.pendingWriteTree_,t._path),w?D.getNode():_i.EMPTY_NODE,w))}(a.serverSyncTree_,t);return null!=u?Promise.resolve(u):a.server_.get(t).then(p=>{const w=S(p).withIndex(t._queryParams.getIndex());let D;if(tu(a.serverSyncTree_,t,o,!0),t._queryParams.loadsAllData())D=Ad(a.serverSyncTree_,t._path,w);else{const N=Go(a.serverSyncTree_,t);D=lo(a.serverSyncTree_,t._path,w,N)}return Ko(a.eventQueue_,t._path,D),Tc(a.serverSyncTree_,t,o,null,!0),w},p=>(Gl(a,"get for query "+(0,z.Wl)(t)+" failed: "+p),Promise.reject(new Error(p))))}(a._repo,a,o).then(u=>new Ta(u,new Da(a._repo,a._path),a._queryParams.getIndex()))}class ql{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,o){const u=o._queryParams.getIndex();return new Od("value",this,new Ta(t.snapshotNode,new Da(o._repo,o._path),u))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,o){return this.callbackContext.hasCancelCallback?new Nd(this,t,o):null}matches(t){return t instanceof ql&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Fo{constructor(t,o){this.eventType=t,this.callbackContext=o}respondsTo(t){let o="children_added"===t?"child_added":t;return o="children_removed"===o?"child_removed":o,this.eventType===o}createCancelEvent(t,o){return this.callbackContext.hasCancelCallback?new Nd(this,t,o):null}createEvent(t,o){(0,z.hu)(null!=t.childName,"Child events should have a childName.");const u=Aa(new Da(o._repo,o._path),t.childName),p=o._queryParams.getIndex();return new Od(t.type,this,new Ta(t.snapshotNode,u,p),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Fo&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Yu(a,t,o,u,p){let w;if("object"==typeof u&&(w=void 0,p=u),"function"==typeof u&&(w=u),p&&p.onlyOnce){const k=o,H=(K,Z)=>{ds(a._repo,a,N),k(K,Z)};H.userCallback=o.userCallback,H.context=o.context,o=H}const D=new Tl(o,w||void 0),N="value"===t?new ql(D):new Fo(t,D);return function Ji(a,t,o){let u;u=".info"===ft(t._path)?tu(a.infoSyncTree_,t,o):tu(a.serverSyncTree_,t,o),Rc(a.eventQueue_,t._path,u)}(a._repo,a,N),()=>ds(a._repo,a,N)}function mu(a,t,o,u){return Yu(a,"value",t,o,u)}function Zh(a,t,o,u){return Yu(a,"child_added",t,o,u)}function Bo(a,t,o,u){return Yu(a,"child_changed",t,o,u)}function op(a,t,o,u){return Yu(a,"child_moved",t,o,u)}function vu(a,t,o,u){return Yu(a,"child_removed",t,o,u)}function gg(a,t,o){let u=null;const p=o?new Tl(o):null;"value"===t?u=new ql(p):t&&(u=new Fo(t,p)),ds(a._repo,a,u)}class Ya{}class Ni extends Ya{constructor(t,o){super(),this._value=t,this._key=o}_apply(t){Va("endAt",this._value,t._path,!0);const o=ao(t._queryParams,this._value,this._key);if(Gu(o),Kl(o),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new no(t._repo,t._path,o,t._orderByCalled)}}class $o extends Ya{constructor(t,o){super(),this._value=t,this._key=o}_apply(t){Va("endBefore",this._value,t._path,!1);const o=function Oo(a,t,o){let u;return u=ao(a,t,a.index_===Ki||o?o:Bn),u.endBeforeSet_=!0,u}(t._queryParams,this._value,this._key);if(Gu(o),Kl(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new no(t._repo,t._path,o,t._orderByCalled)}}class qu extends Ya{constructor(t,o){super(),this._value=t,this._key=o}_apply(t){Va("startAt",this._value,t._path,!0);const o=pl(t._queryParams,this._value,this._key);if(Gu(o),Kl(o),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new no(t._repo,t._path,o,t._orderByCalled)}}class vo extends Ya{constructor(t,o){super(),this._value=t,this._key=o}_apply(t){Va("startAfter",this._value,t._path,!1);const o=function fc(a,t,o){let u;return u=pl(a,t,a.index_===Ki||o?o:$n),u.startAfterSet_=!0,u}(t._queryParams,this._value,this._key);if(Gu(o),Kl(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new no(t._repo,t._path,o,t._orderByCalled)}}class mg extends Ya{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new no(t._repo,t._path,function Xo(a,t){const o=a.copy();return o.limitSet_=!0,o.limit_=t,o.viewFrom_="l",o}(t._queryParams,this._limit),t._orderByCalled)}}class Al extends Ya{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new no(t._repo,t._path,function Ho(a,t){const o=a.copy();return o.limitSet_=!0,o.limit_=t,o.viewFrom_="r",o}(t._queryParams,this._limit),t._orderByCalled)}}class vg extends Ya{constructor(t){super(),this._path=t}_apply(t){Yh(t,"orderByChild");const o=new lr(this._path);if(Xn(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new g(o),p=ss(t._queryParams,u);return Kl(p),new no(t._repo,t._path,p,!0)}}class Xh extends Ya{_apply(t){Yh(t,"orderByKey");const o=ss(t._queryParams,Ki);return Kl(o),new no(t._repo,t._path,o,!0)}}class ap extends Ya{_apply(t){Yh(t,"orderByPriority");const o=ss(t._queryParams,bi);return Kl(o),new no(t._repo,t._path,o,!0)}}class pa extends Ya{_apply(t){Yh(t,"orderByValue");const o=ss(t._queryParams,U);return Kl(o),new no(t._repo,t._path,o,!0)}}class xm extends Ya{constructor(t,o){super(),this._value=t,this._key=o}_apply(t){if(Va("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ni(this._value,this._key)._apply(new qu(this._value,this._key)._apply(t))}}function ga(a,...t){let o=(0,z.m9)(a);for(const u of t)o=u._apply(o);return o}(function V(a){(0,z.hu)(!B,"__referenceConstructor has already been defined"),B=a})(Da),function sl(a){(0,z.hu)(!wl,"__referenceConstructor has already been defined"),wl=a}(Da);const xo={};function wu(a,t,o,u,p){let w=u||a.options.databaseURL;void 0===w&&(a.options.projectId||Ft("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",a.options.projectId),w=`${a.options.projectId}-default-rtdb.firebaseio.com`);let k,H,D=Oc(w,p),N=D.repoInfo;typeof process<"u"&&process.env&&(H=process.env.FIREBASE_DATABASE_EMULATOR_HOST),H?(k=!0,w=`http://${H}?ns=${N.namespace}`,D=Oc(w,p),N=D.repoInfo):k=!D.repoInfo.secure;const K=p&&k?new Jr(Jr.OWNER):new Sr(a.name,a.options,t);Ca("Invalid Firebase Database URL",D),Xn(D.path)||Ft("Database URL must point to the root of a Firebase Database (not including a child path).");const Z=function al(a,t,o,u){let p=xo[t.name];p||(p={},xo[t.name]=p);let w=p[a.toURLString()];return w&&Ft("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new $h(a,false,o,u),p[a.toURLString()]=w,w}(N,a,K,new Hi(a.name,o));return new Zu(Z,a)}class Zu{constructor(t,o){this._repoInternal=t,this.app=o,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function zl(a,t,o){if(a.stats_=ln(a.repoInfo_),a.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new ca(a.repoInfo_,(u,p,w,D)=>{ip(a,u,p,w,D)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>cg(a,!0),0);else{if(typeof o<"u"&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,z.Wl)(o)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}a.persistentConnection_=new cn(a.repoInfo_,t,(u,p,w,D)=>{ip(a,u,p,w,D)},u=>{cg(a,u)},u=>{!function ug(a,t){mn(t,(o,u)=>{Uh(a,o,u)})}(a,u)},a.authTokenProvider_,a.appCheckProvider_,o),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(u=>{a.server_.refreshAuthToken(u)}),a.appCheckProvider_.addTokenChangeListener(u=>{a.server_.refreshAppCheckToken(u.token)}),a.statsReporter_=function En(a,t){const o=a.toString();return Ut[o]||(Ut[o]=t()),Ut[o]}(a.repoInfo_,()=>new vc(a.stats_,a.server_)),a.infoData_=new ya,a.infoSyncTree_=new El({startListening:(u,p,w,D)=>{let N=[];const k=a.infoData_.getNode(u._path);return k.isEmpty()||(N=Ad(a.infoSyncTree_,u._path,k),setTimeout(()=>{D("ok")},0)),N},stopListening:()=>{}}),Uh(a,"connected",!1),a.serverSyncTree_=new El({startListening:(u,p,w,D)=>(a.server_.listen(u,w,p,(N,k)=>{const H=D(N,k);Ko(a.eventQueue_,u._path,H)}),[]),stopListening:(u,p)=>{a.server_.unlisten(u,p)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Da(this._repo,wr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xa(a,t){const o=xo[t];(!o||o[a.key]!==a)&&Ft(`Database ${t}(${a.repoInfo_}) has already been deleted.`),Hl(a),delete o[a.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ft("Cannot call "+t+" on a deleted database.")}}function lp(){Ui.IS_TRANSPORT_INITIALIZED&&Nt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Jh(){lp(),ar.forceDisallow()}function Xu(){lp(),Yi.forceDisallow(),ar.forceAllow()}function v(a,t){xt(a,t)}const R={".sv":"timestamp"};class At{constructor(t,o){this.committed=t,this.snapshot=o}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)},cn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)},function b(a){lt(je.SDK_VERSION),(0,je._registerComponent)(new $e.wA("database",(t,{instanceIdentifier:o})=>wu(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),o),"PUBLIC").setMultipleInstances(!0)),(0,je.registerVersion)(ve,"0.14.4",a),(0,je.registerVersion)(ve,"0.14.4","esm2017")}();const Ks=new Re.Yd("@firebase/database-compat"),Uo=function(a){Ks.warn("FIREBASE WARNING: "+a)};class Fc{constructor(t){this._delegate=t}cancel(t){(0,z.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,z.Wj)("OnDisconnect.cancel","onComplete",t,!0);const o=this._delegate.cancel();return t&&o.then(()=>t(null),u=>t(u)),o}remove(t){(0,z.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,z.Wj)("OnDisconnect.remove","onComplete",t,!0);const o=this._delegate.remove();return t&&o.then(()=>t(null),u=>t(u)),o}set(t,o){(0,z.Dv)("OnDisconnect.set",1,2,arguments.length),(0,z.Wj)("OnDisconnect.set","onComplete",o,!0);const u=this._delegate.set(t);return o&&u.then(()=>o(null),p=>o(p)),u}setWithPriority(t,o,u){(0,z.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,z.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const p=this._delegate.setWithPriority(t,o);return u&&p.then(()=>u(null),w=>u(w)),p}update(t,o){if((0,z.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const p={};for(let w=0;w<t.length;++w)p[""+w]=t[w];t=p,Uo("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,z.Wj)("OnDisconnect.update","onComplete",o,!0);const u=this._delegate.update(t);return o&&u.then(()=>o(null),p=>o(p)),u}}class Qu{constructor(t,o){this.committed=t,this.snapshot=o}toJSON(){return(0,z.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class qa{constructor(t,o){this._database=t,this._delegate=o}val(){return(0,z.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,z.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,z.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,z.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,z.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Yo("DataSnapshot.child","path",t,!1),new qa(this._database,this._delegate.child(t))}hasChild(t){return(0,z.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Yo("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,z.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,z.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,z.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(o=>t(new qa(this._database,o)))}hasChildren(){return(0,z.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,z.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,z.Dv)("DataSnapshot.ref",0,0,arguments.length),new Mo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ro{constructor(t,o){this.database=t,this._delegate=o}on(t,o,u,p){var w;(0,z.Dv)("Query.on",2,4,arguments.length),(0,z.Wj)("Query.on","callback",o,!1);const D=ro.getCancelAndContextArgs_("Query.on",u,p),N=(H,K)=>{o.call(D.context,new qa(this.database,H),K)};N.userCallback=o,N.context=D.context;const k=null===(w=D.cancel)||void 0===w?void 0:w.bind(D.context);switch(t){case"value":return mu(this._delegate,N,k),o;case"child_added":return Zh(this._delegate,N,k),o;case"child_removed":return vu(this._delegate,N,k),o;case"child_changed":return Bo(this._delegate,N,k),o;case"child_moved":return op(this._delegate,N,k),o;default:throw new Error((0,z.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,o,u){if((0,z.Dv)("Query.off",0,3,arguments.length),function(a,t,o){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,z.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,z.Wj)("Query.off","callback",o,!0),(0,z.lb)("Query.off","context",u,!0),o){const p=()=>{};p.userCallback=o,p.context=u,gg(this._delegate,t,p)}else gg(this._delegate,t)}get(){return Wa(this._delegate).then(t=>new qa(this.database,t))}once(t,o,u,p){(0,z.Dv)("Query.once",1,4,arguments.length),(0,z.Wj)("Query.once","callback",o,!0);const w=ro.getCancelAndContextArgs_("Query.once",u,p),D=new z.BH,N=(H,K)=>{const Z=new qa(this.database,H);o&&o.call(w.context,Z,K),D.resolve(Z)};N.userCallback=o,N.context=w.context;const k=H=>{w.cancel&&w.cancel.call(w.context,H),D.reject(H)};switch(t){case"value":mu(this._delegate,N,k,{onlyOnce:!0});break;case"child_added":Zh(this._delegate,N,k,{onlyOnce:!0});break;case"child_removed":vu(this._delegate,N,k,{onlyOnce:!0});break;case"child_changed":Bo(this._delegate,N,k,{onlyOnce:!0});break;case"child_moved":op(this._delegate,N,k,{onlyOnce:!0});break;default:throw new Error((0,z.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return D.promise}limitToFirst(t){return(0,z.Dv)("Query.limitToFirst",1,1,arguments.length),new ro(this.database,ga(this._delegate,function ta(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mg(a)}(t)))}limitToLast(t){return(0,z.Dv)("Query.limitToLast",1,1,arguments.length),new ro(this.database,ga(this._delegate,function Zl(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Al(a)}(t)))}orderByChild(t){return(0,z.Dv)("Query.orderByChild",1,1,arguments.length),new ro(this.database,ga(this._delegate,function xl(a){if("$key"===a)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===a)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===a)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yo("orderByChild","path",a,!1),new vg(a)}(t)))}orderByKey(){return(0,z.Dv)("Query.orderByKey",0,0,arguments.length),new ro(this.database,ga(this._delegate,function _u(){return new Xh}()))}orderByPriority(){return(0,z.Dv)("Query.orderByPriority",0,0,arguments.length),new ro(this.database,ga(this._delegate,function yg(){return new ap}()))}orderByValue(){return(0,z.Dv)("Query.orderByValue",0,0,arguments.length),new ro(this.database,ga(this._delegate,function Qh(){return new pa}()))}startAt(t=null,o){return(0,z.Dv)("Query.startAt",0,2,arguments.length),new ro(this.database,ga(this._delegate,function Ld(a=null,t){return jl("startAt","key",t,!0),new qu(a,t)}(t,o)))}startAfter(t=null,o){return(0,z.Dv)("Query.startAfter",0,2,arguments.length),new ro(this.database,ga(this._delegate,function yu(a,t){return jl("startAfter","key",t,!0),new vo(a,t)}(t,o)))}endAt(t=null,o){return(0,z.Dv)("Query.endAt",0,2,arguments.length),new ro(this.database,ga(this._delegate,function Am(a,t){return jl("endAt","key",t,!0),new Ni(a,t)}(t,o)))}endBefore(t=null,o){return(0,z.Dv)("Query.endBefore",0,2,arguments.length),new ro(this.database,ga(this._delegate,function Ku(a,t){return jl("endBefore","key",t,!0),new $o(a,t)}(t,o)))}equalTo(t,o){return(0,z.Dv)("Query.equalTo",1,2,arguments.length),new ro(this.database,ga(this._delegate,function Ts(a,t){return jl("equalTo","key",t,!0),new xm(a,t)}(t,o)))}toString(){return(0,z.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,z.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,z.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ro))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,o,u){const p={cancel:void 0,context:void 0};if(o&&u)p.cancel=o,(0,z.Wj)(t,"cancel",p.cancel,!0),p.context=u,(0,z.lb)(t,"context",p.context,!0);else if(o)if("object"==typeof o&&null!==o)p.context=o;else{if("function"!=typeof o)throw new Error((0,z.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");p.cancel=o}return p}get ref(){return new Mo(this.database,new Da(this._delegate._repo,this._delegate._path))}}class Mo extends ro{constructor(t,o){super(t,new no(o._repo,o._path,new oo,!1)),this.database=t,this._delegate=o}getKey(){return(0,z.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,z.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Mo(this.database,Aa(this._delegate,t))}getParent(){(0,z.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Mo(this.database,t):null}getRoot(){return(0,z.Dv)("Reference.root",0,0,arguments.length),new Mo(this.database,this._delegate.root)}set(t,o){(0,z.Dv)("Reference.set",1,2,arguments.length),(0,z.Wj)("Reference.set","onComplete",o,!0);const u=Ga(this._delegate,t);return o&&u.then(()=>o(null),p=>o(p)),u}update(t,o){if((0,z.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const p={};for(let w=0;w<t.length;++w)p[""+w]=t[w];t=p,Uo("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Rs("Reference.update",this._delegate._path),(0,z.Wj)("Reference.update","onComplete",o,!0);const u=qh(this._delegate,t);return o&&u.then(()=>o(null),p=>o(p)),u}setWithPriority(t,o,u){(0,z.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,z.Wj)("Reference.setWithPriority","onComplete",u,!0);const p=function sp(a,t,o){if(Rs("setWithPriority",a._path),Va("setWithPriority",t,a._path,!1),Ds("setWithPriority",o,!1),".length"===a.key||".keys"===a.key)throw"setWithPriority failed: "+a.key+" is a read-only object.";const u=new z.BH;return ys(a._repo,a._path,t,o,u.wrapCallback(()=>{})),u.promise}(this._delegate,t,o);return u&&p.then(()=>u(null),w=>u(w)),p}remove(t){(0,z.Dv)("Reference.remove",0,1,arguments.length),(0,z.Wj)("Reference.remove","onComplete",t,!0);const o=function Kh(a){return Rs("remove",a._path),Ga(a,null)}(this._delegate);return t&&o.then(()=>t(null),u=>t(u)),o}transaction(t,o,u){(0,z.Dv)("Reference.transaction",1,3,arguments.length),(0,z.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,z.Wj)("Reference.transaction","onComplete",o,!0),function(a,t,o,u){if(void 0!==o&&"boolean"!=typeof o)throw new Error((0,z.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const p=function qt(a,t,o){var u;if(a=(0,z.m9)(a),Rs("Reference.transaction",a._path),".length"===a.key||".keys"===a.key)throw"Reference.transaction failed: "+a.key+" is a read-only object.";const p=null===(u=null==o?void 0:o.applyLocally)||void 0===u||u,w=new z.BH,N=mu(a,()=>{});return function Wl(a,t,o,u,p,w){Gl(a,"transaction on "+t);const D={path:t,update:o,onComplete:u,status:null,order:Q(),applyLocally:w,retryCount:0,unwatcher:p,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},N=Yl(a,t,void 0);D.currentInputSnapshot=N;const k=D.update(N.val());if(void 0===k)D.unwatcher(),D.currentOutputSnapshotRaw=null,D.currentOutputSnapshotResolved=null,D.onComplete&&D.onComplete(null,!1,D.currentInputSnapshot);else{ha("transaction failed: Data returned ",k,D.path),D.status=0;const H=Pc(a.transactionQueueTree_,t),K=Wo(H)||[];let Z;K.push(D),Bh(H,K),"object"==typeof k&&null!==k&&(0,z.r3)(k,".priority")?(Z=(0,z.DV)(k,".priority"),(0,z.hu)(au(Z),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Z=(Lo(a.serverSyncTree_,t)||_i.EMPTY_NODE).getPriority().val();const te=uu(a),De=S(k,Z),Ke=Vu(De,N,te);D.currentOutputSnapshotRaw=De,D.currentOutputSnapshotResolved=Ke,D.currentWriteId=fo(a);const Qe=bl(a.serverSyncTree_,t,Ke,D.currentWriteId,D.applyLocally);Ko(a.eventQueue_,t,Qe),Rd(a,a.transactionQueueTree_)}}(a._repo,a._path,t,(k,H,K)=>{let Z=null;k?w.reject(k):(Z=new Ta(K,new Da(a._repo,a._path),bi),w.resolve(new At(H,Z)))},N,p),w.promise}(this._delegate,t,{applyLocally:u}).then(w=>new Qu(w.committed,new qa(this.database,w.snapshot)));return o&&p.then(w=>o(null,w.committed,w.snapshot),w=>o(w,!1,null)),p}setPriority(t,o){(0,z.Dv)("Reference.setPriority",1,2,arguments.length),(0,z.Wj)("Reference.setPriority","onComplete",o,!0);const u=function Wu(a,t){a=(0,z.m9)(a),Rs("setPriority",a._path),Ds("setPriority",t,!1);const o=new z.BH;return ys(a._repo,Pn(a._path,".priority"),t,null,o.wrapCallback(()=>{})),o.promise}(this._delegate,t);return o&&u.then(()=>o(null),p=>o(p)),u}push(t,o){(0,z.Dv)("Reference.push",0,2,arguments.length),(0,z.Wj)("Reference.push","onComplete",o,!0);const u=function kd(a,t){a=(0,z.m9)(a),Rs("push",a._path),Va("push",t,a._path,!0);const o=Md(a._repo),u=Gh(o),p=Aa(a,u),w=Aa(a,u);let D;return D=null!=t?Ga(w,t).then(()=>w):Promise.resolve(w),p.then=D.then.bind(D),p.catch=D.then.bind(D,void 0),p}(this._delegate,t),p=u.then(D=>new Mo(this.database,D));o&&p.then(()=>o(null),D=>o(D));const w=new Mo(this.database,u);return w.then=p.then.bind(p),w.catch=p.catch.bind(p,void 0),w}onDisconnect(){return Rs("Reference.onDisconnect",this._delegate._path),new Fc(new Wh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ml{constructor(t,o){this._delegate=t,this.app=o,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Jh,forceLongPolling:Xu}}useEmulator(t,o,u={}){!function ef(a,t,o,u={}){(a=(0,z.m9)(a))._checkNotDeleted("useEmulator"),a._instanceStarted&&Ft("Cannot call useEmulator() after instance has already been initialized.");const p=a._repoInternal;let w;if(p.repoInfo_.nodeAdmin)u.mockUserToken&&Ft('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new Jr(Jr.OWNER);else if(u.mockUserToken){const D="string"==typeof u.mockUserToken?u.mockUserToken:(0,z.Sg)(u.mockUserToken,a.app.options.projectId);w=new Jr(D)}!function kc(a,t,o,u){a.repoInfo_=new st(`${t}:${o}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0),u&&(a.authTokenProvider_=u)}(p,t,o,w)}(this._delegate,t,o,u)}ref(t){if((0,z.Dv)("database.ref",0,1,arguments.length),t instanceof Mo){const o=pu(this._delegate,t.toString());return new Mo(this,o)}{const o=Ao(this._delegate,t);return new Mo(this,o)}}refFromURL(t){(0,z.Dv)("database.refFromURL",1,1,arguments.length);const u=pu(this._delegate,t);return new Mo(this,u)}goOffline(){return(0,z.Dv)("database.goOffline",0,0,arguments.length),function cp(a){(a=(0,z.m9)(a))._checkNotDeleted("goOffline"),Hl(a._repo)}(this._delegate)}goOnline(){return(0,z.Dv)("database.goOnline",0,0,arguments.length),function A(a){(a=(0,z.m9)(a))._checkNotDeleted("goOnline"),function zu(a){a.persistentConnection_&&a.persistentConnection_.resume(cu)}(a._repo)}(this._delegate)}}Ml.ServerValue={TIMESTAMP:function J(){return R}(),increment:a=>function Pe(a){return{".sv":{increment:a}}}(a)};var Ud=Object.freeze({__proto__:null,initStandalone:function $d({app:a,url:t,version:o,customAuthImpl:u,namespace:p,nodeAdmin:w=!1}){lt(o);const D=new $e.zt("auth-internal",new $e.H0("database-standalone"));return D.setComponent(new $e.wA("auth-internal",()=>u,"PRIVATE")),{instance:new Ml(wu(a,D,void 0,t,w),a),namespace:p}}});const tf=Ml.ServerValue;!function nf(a){a.INTERNAL.registerComponent(new $e.wA("database-compat",(t,{instanceIdentifier:o})=>{const u=t.getProvider("app-compat").getImmediate(),p=t.getProvider("database").getImmediate({identifier:o});return new Ml(p,u)},"PUBLIC").setServiceProps({Reference:Mo,Query:ro,Database:Ml,DataSnapshot:qa,enableLogging:v,INTERNAL:Ud,ServerValue:tf}).setMultipleInstances(!0)),a.registerVersion("@firebase/database-compat","0.3.4")}(Bt.Z);var rf=P(14),sf=P(120);function Pm(a){return null==a}function Xv(a){return"function"==typeof a.set}function po(a,t){return Xv(t)?t:a.ref(t)}function up(a,t){if(function Mm(a){return"string"==typeof a}(a))return t.stringCase();if(Xv(a))return t.firebaseCase();if(function Vd(a){return"function"==typeof a.exportVal}(a))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof a)}function jd(a,t,o="on",u=xe.z){return new ze.y(p=>{let w=null;return w=a[o](t,(D,N)=>{u.schedule(()=>{p.next({snapshot:D,prevKey:N})}),"once"===o&&u.schedule(()=>p.complete())},D=>{u.schedule(()=>p.error(D))}),"on"===o?{unsubscribe(){null!=w&&a.off(t,w)}}:{unsubscribe(){}}}).pipe((0,Ce.U)(p=>{const{snapshot:w,prevKey:D}=p;let N=null;return w.exists()&&(N=w.key),{type:t,payload:w,prevKey:D,key:N}}),(0,he.B)())}function ll(a,t){const o=a.length;for(let u=0;u<o;u++)if(a[u].payload.key===t)return u;return-1}function Qv(a,t){const{payload:o,prevKey:u,key:p}=t,w=ll(a,p),D=function ed(a,t){if(Pm(t))return 0;{const o=ll(a,t);return-1===o?a.length:o+1}}(a,u);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let N=null;t.payload.forEach(k=>{const H={payload:k,type:"value",prevKey:N,key:k.key};return N=k.key,a=[...a,H],!1})}return a;case"child_added":if(w>-1){const N=a[w-1];(N&&N.key||null)!==u&&(a=a.filter(k=>k.payload.key!==o.key)).splice(D,0,t)}else{if(null==u)return[t,...a];(a=a.slice()).splice(D,0,t)}return a;case"child_removed":return a.filter(N=>N.payload.key!==o.key);case"child_changed":return a.map(N=>N.payload.key===p?t:N);case"child_moved":if(w>-1){const N=a.splice(w,1)[0];return(a=a.slice()).splice(D,0,N),a}return a;default:return a}}function af(a){return(Pm(a)||0===a.length)&&(a=["child_added","child_removed","child_changed","child_moved"]),a}function Jv(a,t,o){return function Ju(a,t,o){return jd(a,"value","once",o).pipe((0,ne.w)(u=>{const p=[(0,G.of)(u)];return t.forEach(w=>p.push(jd(a,w,"on",o))),(0,Ve.T)(...p).pipe((0,me.R)(Qv,[]))}),(0,Ne.x)())}(a,t=af(t),o)}function Rm(a,t,o){const u=(t=af(t)).map(p=>jd(a,p,"on",o));return(0,Ve.T)(...u)}function bu(a,t){return function(u,p){return up(u,{stringCase:()=>a.child(u)[t](p),firebaseCase:()=>u[t](p),snapshotCase:()=>u.ref[t](p)})}}function hp(a){return function(o){return o?up(o,{stringCase:()=>a.child(o).remove(),firebaseCase:()=>o.remove(),snapshotCase:()=>o.ref.remove()}):a.remove()}}function Eg(a,t){return function(){return jd(a,"value","on",t)}}const Om=new _.OlP("angularfire2.realtimeDatabaseURL"),r_=new _.OlP("angularfire2.database.use-emulator");let ty=(()=>{class a{constructor(o,u,p,w,D,N,k,H,K,Z,te,De,Ke,Qe,Je){this.schedulers=N;const gt=k,tt=(0,re.on)(o,D,u);H&&(0,se.nw)(tt,D,K,te,De,Ke,Z,Qe),this.database=(0,re.cc)(`${tt.name}.database.${p}`,"AngularFireDatabase",tt.name,()=>{const Ye=D.runOutsideAngular(()=>tt.database(p||void 0));return gt&&Ye.useEmulator(...gt),Ye},[gt])}list(o,u){const p=this.schedulers.ngZone.runOutsideAngular(()=>po(this.database,o));let w=p;return u&&(w=u(p)),function ey(a,t){const o=t.schedulers.outsideAngular,u=t.schedulers.ngZone.run(()=>a.ref);return{query:a,update:bu(u,"update"),set:bu(u,"set"),push:p=>u.push(p),remove:hp(u),snapshotChanges:p=>Jv(a,p,o).pipe(ke.iC),stateChanges:p=>Rm(a,p,o).pipe(ke.iC),auditTrail:p=>function wg(a,t,o){return function dp(a,t,o){return function n_(a,t){return jd(a,"value","on",t).pipe((0,Ce.U)(o=>{let u;return o.payload.forEach(p=>(u=p.key,!1)),{data:o,lastKeyToLoad:u}}))}(a,o).pipe((0,be.M)(t),(0,Ce.U)(([p,w])=>{const D=p.lastKeyToLoad,N=w.map(k=>k.key);return{actions:w,lastKeyToLoad:D,loadedKeys:N}}),function ce(a){return(0,qe.e)((t,o)=>{let u=!1,p=0;t.subscribe((0,ut.x)(o,w=>(u||(u=!a(w,p++)))&&o.next(w)))})}(p=>-1===p.loadedKeys.indexOf(p.lastKeyToLoad)),(0,Ce.U)(p=>p.actions))}(a,Rm(a,t).pipe((0,me.R)((p,w)=>[...p,w],[])),o)}(a,p,o).pipe(ke.iC),valueChanges:(p,w)=>Jv(a,p,o).pipe((0,Ce.U)(N=>N.map(k=>w&&w.idField?Object.assign(Object.assign({},k.payload.val()),{[w.idField]:k.key}):k.payload.val())),ke.iC)}}(w,this)}object(o){return function bg(a,t){return{query:a,snapshotChanges:()=>Eg(a,t.schedulers.outsideAngular)().pipe(ke.iC),update:o=>a.ref.update(o),set:o=>a.ref.set(o),remove:()=>a.ref.remove(),valueChanges:()=>Eg(a,t.schedulers.outsideAngular)().pipe(ke.iC,(0,Ce.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>po(this.database,o)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return a.\u0275fac=function(o){return new(o||a)(_.LFG(re.Dh),_.LFG(re.xv,8),_.LFG(Om,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(ke.HU),_.LFG(r_,8),_.LFG(se.zQ,8),_.LFG(se.Qv,8),_.LFG(se.L6,8),_.LFG(se._Q,8),_.LFG(se.rT,8),_.LFG(se.lh,8),_.LFG(se.f7,8),_.LFG(rf.nm,8))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),i_=(()=>{class a{constructor(){sf.Z.registerVersion("angularfire",ke.q4.full,"rtdb-compat")}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({providers:[ty]}),a})();var s_=P(6573),Ig=P(2459);const Xl="firebasestorage.googleapis.com",Nm="storageBucket";class io extends z.ZR{constructor(t,o,u=0){super(fp(t),`Firebase Storage: ${o} (${fp(t)})`),this.status_=u,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,io.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return fp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var so=function(a){return a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment",a}(so||{});function fp(a){return"storage/"+a}function lf(){return new io(so.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function nd(){return new io(so.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pp(){return new io(so.CANCELED,"User canceled the upload/download.")}function ny(){return new io(so.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ql(a){return new io(so.INVALID_ARGUMENT,a)}function l_(){return new io(so.APP_DELETED,"The Firebase app was deleted.")}function Cg(a){return new io(so.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gp(a,t){return new io(so.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function mp(a){throw new io(so.INTERNAL_ERROR,"Internal error: "+a)}class ma{constructor(t,o){this.bucket=t,this.path_=o}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,o){let u;try{u=ma.makeFromUrl(t,o)}catch{return new ma(t,"")}if(""===u.path)return u;throw function Lm(a){return new io(so.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}(t)}static makeFromUrl(t,o){let u=null;const p="([A-Za-z0-9.\\-_]+)",N=new RegExp("^gs://"+p+"(/(.*))?$","i");function H(Ot){Ot.path_=decodeURIComponent(Ot.path)}const Z=o.replace(/[.]/g,"\\."),Ye=[{regex:N,indices:{bucket:1,path:3},postModify:function w(Ot){"/"===Ot.path.charAt(Ot.path.length-1)&&(Ot.path_=Ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Z}/v[A-Za-z0-9_]+/b/${p}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:H},{regex:new RegExp(`^https?://${o===Xl?"(?:storage.googleapis.com|storage.cloud.google.com)":o}/${p}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:H}];for(let Ot=0;Ot<Ye.length;Ot++){const vn=Ye[Ot],yn=vn.regex.exec(t);if(yn){let bn=yn[vn.indices.path];bn||(bn=""),u=new ma(yn[vn.indices.bucket],bn),vn.postModify(u);break}}if(null==u)throw function km(a){return new io(so.INVALID_URL,"Invalid URL '"+a+"'.")}(t);return u}}class vp{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Iu(a){return"string"==typeof a||a instanceof String}function Sg(a){return yp()&&a instanceof Blob}function yp(){return typeof Blob<"u"&&!(0,z.UG)()}function uf(a,t,o,u){if(u<t)throw Ql(`Invalid value for '${a}'. Expected ${t} or greater.`);if(u>o)throw Ql(`Invalid value for '${a}'. Expected ${o} or less.`)}function Pl(a,t,o){let u=t;return null==o&&(u=`https://${t}`),`${o}://${u}/v0${a}`}function Dg(a){const t=encodeURIComponent;let o="?";for(const u in a)a.hasOwnProperty(u)&&(o=o+(t(u)+"=")+t(a[u])+"&");return o=o.slice(0,-1),o}var Kd=function(a){return a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT",a}(Kd||{});function _p(a,t){const o=a>=500&&a<600,p=-1!==[408,429].indexOf(a),w=-1!==t.indexOf(a);return o||p||w}class c_{constructor(t,o,u,p,w,D,N,k,H,K,Z,te=!0){this.url_=t,this.method_=o,this.headers_=u,this.body_=p,this.successCodes_=w,this.additionalRetryCodes_=D,this.callback_=N,this.errorCallback_=k,this.timeout_=H,this.progressCallback_=K,this.connectionFactory_=Z,this.retry=te,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((De,Ke)=>{this.resolve_=De,this.reject_=Ke,this.start_()})}start_(){const o=(u,p)=>{const w=this.resolve_,D=this.reject_,N=p.connection;if(p.wasSuccessCode)try{const k=this.callback_(N,N.getResponse());!function ry(a){return void 0!==a}(k)?w():w(k)}catch(k){D(k)}else if(null!==N){const k=lf();k.serverResponse=N.getErrorText(),D(this.errorCallback_?this.errorCallback_(N,k):k)}else D(p.canceled?this.appDelete_?l_():pp():nd())};this.canceled_?o(0,new qd(!1,null,!0)):this.backoffId_=function rd(a,t,o){let u=1,p=null,w=null,D=!1,N=0;function k(){return 2===N}let H=!1;function K(...Je){H||(H=!0,t.apply(null,Je))}function Z(Je){p=setTimeout(()=>{p=null,a(De,k())},Je)}function te(){w&&clearTimeout(w)}function De(Je,...gt){if(H)return void te();if(Je)return te(),void K.call(null,Je,...gt);if(k()||D)return te(),void K.call(null,Je,...gt);let Ye;u<64&&(u*=2),1===N?(N=2,Ye=0):Ye=1e3*(u+Math.random()),Z(Ye)}let Ke=!1;function Qe(Je){Ke||(Ke=!0,te(),!H&&(null!==p?(Je||(N=2),clearTimeout(p),Z(0)):Je||(N=1)))}return Z(0),w=setTimeout(()=>{D=!0,Qe(!0)},o),Qe}((u,p)=>{if(p)return void u(!1,new qd(!1,null,!0));const w=this.connectionFactory_();this.pendingConnection_=w;const D=N=>{null!==this.progressCallback_&&this.progressCallback_(N.loaded,N.lengthComputable?N.total:-1)};null!==this.progressCallback_&&w.addUploadProgressListener(D),w.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&w.removeUploadProgressListener(D),this.pendingConnection_=null;const N=w.getErrorCode()===Kd.NO_ERROR,k=w.getStatus();if(!N||_p(k,this.additionalRetryCodes_)&&this.retry){const K=w.getErrorCode()===Kd.ABORT;return void u(!1,new qd(!1,null,K))}const H=-1!==this.successCodes_.indexOf(k);u(!0,new qd(H,w))})},o,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Jl(a){a(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qd{constructor(t,o,u){this.wasSuccessCode=t,this.connection=o,this.canceled=!!u}}function $m(...a){const t=function Zd(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const o=new t;for(let u=0;u<a.length;u++)o.append(a[u]);return o.getBlob()}if(yp())return new Blob(a);throw new io(so.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Za={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xd{constructor(t,o){this.data=t,this.contentType=o||null}}function Qd(a,t){switch(a){case Za.RAW:return new Xd(wp(t));case Za.BASE64:case Za.BASE64URL:return new Xd(Cu(a,t));case Za.DATA_URL:return new Xd(function Su(a){const t=new Vm(a);return t.base64?Cu(Za.BASE64,t.rest):function Jd(a){let t;try{t=decodeURIComponent(a)}catch{throw gp(Za.DATA_URL,"Malformed data URL.")}return wp(t)}(t.rest)}(t),function sy(a){return new Vm(a).contentType}(t))}throw lf()}function wp(a){const t=[];for(let o=0;o<a.length;o++){let u=a.charCodeAt(o);u<=127?t.push(u):u<=2047?t.push(192|u>>6,128|63&u):55296==(64512&u)?o<a.length-1&&56320==(64512&a.charCodeAt(o+1))?(u=65536|(1023&u)<<10|1023&a.charCodeAt(++o),t.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u)):t.push(239,191,189):56320==(64512&u)?t.push(239,191,189):t.push(224|u>>12,128|u>>6&63,128|63&u)}return new Uint8Array(t)}function Cu(a,t){switch(a){case Za.BASE64:{const p=-1!==t.indexOf("-"),w=-1!==t.indexOf("_");if(p||w)throw gp(a,"Invalid character '"+(p?"-":"_")+"' found: is it base64url encoded?");break}case Za.BASE64URL:{const p=-1!==t.indexOf("+"),w=-1!==t.indexOf("/");if(p||w)throw gp(a,"Invalid character '"+(p?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=function na(a){if(typeof atob>"u")throw function Yd(a){return new io(so.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(a)}(t)}catch(p){throw p.message.includes("polyfill")?p:gp(a,"Invalid character found")}const u=new Uint8Array(o.length);for(let p=0;p<o.length;p++)u[p]=o.charCodeAt(p);return u}class Vm{constructor(t){this.base64=!1,this.contentType=null;const o=t.match(/^data:([^,]+)?,/);if(null===o)throw gp(Za.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const u=o[1]||null;null!=u&&(this.base64=function eh(a,t){return a.length>=t.length&&a.substring(a.length-t.length)===t}(u,";base64"),this.contentType=this.base64?u.substring(0,u.length-7):u),this.rest=t.substring(t.indexOf(",")+1)}}class ra{constructor(t,o){let u=0,p="";Sg(t)?(this.data_=t,u=t.size,p=t.type):t instanceof ArrayBuffer?(o?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),u=this.data_.length):t instanceof Uint8Array&&(o?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),u=t.length),this.size_=u,this.type_=p}size(){return this.size_}type(){return this.type_}slice(t,o){if(Sg(this.data_)){const p=function Um(a,t,o){return a.webkitSlice?a.webkitSlice(t,o):a.mozSlice?a.mozSlice(t,o):a.slice?a.slice(t,o):null}(this.data_,t,o);return null===p?null:new ra(p)}{const u=new Uint8Array(this.data_.buffer,t,o-t);return new ra(u,!0)}}static getBlob(...t){if(yp()){const o=t.map(u=>u instanceof ra?u.data_:u);return new ra($m.apply(null,o))}{const o=t.map(D=>Iu(D)?Qd(Za.RAW,D).data:D.data_);let u=0;o.forEach(D=>{u+=D.byteLength});const p=new Uint8Array(u);let w=0;return o.forEach(D=>{for(let N=0;N<D.length;N++)p[w++]=D[N]}),new ra(p,!0)}}uploadData(){return this.data_}}function $c(a){let t;try{t=JSON.parse(a)}catch{return null}return function iy(a){return"object"==typeof a&&!Array.isArray(a)}(t)?t:null}function jm(a){const t=a.lastIndexOf("/",a.length-2);return-1===t?a:a.slice(t+1)}function zm(a,t){return t}class Vo{constructor(t,o,u,p){this.server=t,this.local=o||t,this.writable=!!u,this.xform=p||zm}}let Uc=null;function sd(){if(Uc)return Uc;const a=[];a.push(new Vo("bucket")),a.push(new Vo("generation")),a.push(new Vo("metageneration")),a.push(new Vo("name","fullPath",!0));const o=new Vo("name");o.xform=function t(w,D){return function hf(a){return!Iu(a)||a.length<2?a:jm(a)}(D)},a.push(o);const p=new Vo("size");return p.xform=function u(w,D){return void 0!==D?Number(D):D},a.push(p),a.push(new Vo("timeCreated")),a.push(new Vo("updated")),a.push(new Vo("md5Hash",null,!0)),a.push(new Vo("cacheControl",null,!0)),a.push(new Vo("contentDisposition",null,!0)),a.push(new Vo("contentEncoding",null,!0)),a.push(new Vo("contentLanguage",null,!0)),a.push(new Vo("contentType",null,!0)),a.push(new Vo("metadata","customMetadata",!0)),Uc=a,Uc}function Hm(a,t,o){const u=$c(t);return null===u?null:function oy(a,t,o){const u={type:"file"},p=o.length;for(let w=0;w<p;w++){const D=o[w];u[D.local]=D.xform(u,t[D.server])}return function u_(a,t){Object.defineProperty(a,"ref",{get:function o(){const w=new ma(a.bucket,a.fullPath);return t._makeStorageReference(w)}})}(u,a),u}(a,u,o)}function Du(a,t){const o={},u=t.length;for(let p=0;p<u;p++){const w=t[p];w.writable&&(o[w.server]=a[w.local])}return JSON.stringify(o)}const ff="prefixes",Gm="items";class ec{constructor(t,o,u,p){this.url=t,this.method=o,this.handler=u,this.timeout=p,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tc(a){if(!a)throw lf()}function pf(a,t){return function o(u,p){const w=Hm(a,p,t);return tc(null!==w),w}}function gf(a){return function t(o,u){let p;return p=401===o.getStatus()?o.getErrorText().includes("Firebase App Check token is invalid")?function Wd(){return new io(so.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Gd(){return new io(so.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===o.getStatus()?function Hd(a){return new io(so.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(a.bucket):403===o.getStatus()?function Bc(a){return new io(so.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}(a.path):u,p.status=o.getStatus(),p.serverResponse=u.serverResponse,p}}function Ep(a){const t=gf(a);return function o(u,p){let w=t(u,p);return 404===u.getStatus()&&(w=function zd(a){return new io(so.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}(a.path)),w.serverResponse=p.serverResponse,w}}function d_(a,t,o){const p=Pl(t.fullServerUrl(),a.host,a._protocol),D=a.maxOperationRetryTime,N=new ec(p,"GET",pf(a,o),D);return N.errorHandler=Ep(t),N}function d0(a,t,o,u,p){const w={};w.prefix=t.isRoot?"":t.path+"/",o&&o.length>0&&(w.delimiter=o),u&&(w.pageToken=u),p&&(w.maxResults=p);const N=Pl(t.bucketOnlyServerUrl(),a.host,a._protocol),H=a.maxOperationRetryTime,K=new ec(N,"GET",function ly(a,t){return function o(u,p){const w=function ay(a,t,o){const u=$c(o);return null===u?null:function xg(a,t,o){const u={prefixes:[],items:[],nextPageToken:o.nextPageToken};if(o[ff])for(const p of o[ff]){const w=p.replace(/\/$/,""),D=a._makeStorageReference(new ma(t,w));u.prefixes.push(D)}if(o[Gm])for(const p of o[Gm]){const w=a._makeStorageReference(new ma(t,p.name));u.items.push(w)}return u}(a,t,u)}(a,t,p);return tc(null!==w),w}}(a,t.bucket),H);return K.urlParams=w,K.errorHandler=gf(t),K}function _f(a,t,o){const u=Object.assign({},o);return u.fullPath=a.path,u.size=t.size(),u.contentType||(u.contentType=function yf(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}(null,t)),u}class nc{constructor(t,o,u,p){this.current=t,this.total=o,this.finalized=!!u,this.metadata=p||null}}function rc(a,t){let o=null;try{o=a.getResponseHeader("X-Goog-Upload-Status")}catch{tc(!1)}return tc(!!o&&-1!==(t||["active"]).indexOf(o)),o}const h0={STATE_CHANGED:"state_changed"},qo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ef(a){switch(a){case"running":case"pausing":case"canceling":return qo.RUNNING;case"paused":return qo.PAUSED;case"success":return qo.SUCCESS;case"canceled":return qo.CANCELED;default:return qo.ERROR}}class Pg{constructor(t,o,u){if(function Fm(a){return"function"==typeof a}(t)||null!=o||null!=u)this.next=t,this.error=null!=o?o:void 0,this.complete=null!=u?u:void 0;else{const w=t;this.next=w.next,this.error=w.error,this.complete=w.complete}}}function bf(a){return(...t)=>{Promise.resolve().then(()=>a(...t))}}let Wm=null;class cy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Kd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Kd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,o,u,p){if(this.sent_)throw mp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,t,!0),void 0!==p)for(const w in p)p.hasOwnProperty(w)&&this.xhr_.setRequestHeader(w,p[w].toString());return void 0!==u?this.xhr_.send(u):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Ym extends cy{initXhr(){this.xhr_.responseType="text"}}function ic(){return Wm?Wm():new Ym}class Ip{constructor(t,o,u=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=o,this._metadata=u,this._mappings=sd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=p=>{if(this._request=void 0,this._chunkMultiplier=1,p._codeEquals(so.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const w=this.isExponentialBackoffExpired();if(_p(p.status,[])){if(!w)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();p=nd()}this._error=p,this._transition("error")}},this._metadataErrorHandler=p=>{this._request=void 0,p._codeEquals(so.CANCELED)?this.completeTransitions_():(this._error=p,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((p,w)=>{this._resolve=p,this._reject=w,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return o=>this._updateProgress(t+o)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([o,u])=>{switch(this._state){case"running":t(o,u);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,o)=>{const u=function od(a,t,o,u,p){const w=t.bucketOnlyServerUrl(),D=_f(t,u,p),N={name:D.fullPath},k=Pl(w,a.host,a._protocol),K={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${u.size()}`,"X-Goog-Upload-Header-Content-Type":D.contentType,"Content-Type":"application/json; charset=utf-8"},Z=Du(D,o),Ke=new ec(k,"POST",function De(Qe){let Je;rc(Qe);try{Je=Qe.getResponseHeader("X-Goog-Upload-URL")}catch{tc(!1)}return tc(Iu(Je)),Je},a.maxUploadRetryTime);return Ke.urlParams=N,Ke.headers=K,Ke.body=Z,Ke.errorHandler=gf(t),Ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(u,ic,t,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._uploadUrl=w,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((o,u)=>{const p=function Mg(a,t,o,u){const k=new ec(o,"POST",function w(H){const K=rc(H,["active","final"]);let Z=null;try{Z=H.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tc(!1)}Z||tc(!1);const te=Number(Z);return tc(!isNaN(te)),new nc(te,u.size(),"final"===K)},a.maxUploadRetryTime);return k.headers={"X-Goog-Upload-Command":"query"},k.errorHandler=gf(t),k}(this._ref.storage,this._ref._location,t,this._blob),w=this._ref.storage._makeRequest(p,ic,o,u);this._request=w,w.getPromise().then(D=>{this._request=void 0,this._updateProgress(D.current),this._needToFetchStatus=!1,D.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,o=new nc(this._transferred,this._blob.size()),u=this._uploadUrl;this._resolveToken((p,w)=>{let D;try{D=function wf(a,t,o,u,p,w,D,N){const k=new nc(0,0);if(D?(k.current=D.current,k.total=D.total):(k.current=0,k.total=u.size()),u.size()!==k.total)throw function a_(){return new io(so.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const H=k.total-k.current;let K=H;p>0&&(K=Math.min(K,p));const Z=k.current;let De="";De=0===K?"finalize":H===K?"upload, finalize":"upload";const Ke={"X-Goog-Upload-Command":De,"X-Goog-Upload-Offset":`${k.current}`},Qe=u.slice(Z,Z+K);if(null===Qe)throw ny();const Ye=new ec(o,"POST",function Je(Ot,vn){const yn=rc(Ot,["active","final"]),Wn=k.current+K,bn=u.size();let Jt;return Jt="final"===yn?pf(t,w)(Ot,vn):null,new nc(Wn,bn,"final"===yn,Jt)},t.maxUploadRetryTime);return Ye.headers=Ke,Ye.body=Qe.uploadData(),Ye.progressCallback=N||null,Ye.errorHandler=gf(a),Ye}(this._ref._location,this._ref.storage,u,this._blob,t,this._mappings,o,this._makeProgressCallback())}catch(k){return this._error=k,void this._transition("error")}const N=this._ref.storage._makeRequest(D,ic,p,w,!1);this._request=N,N.getPromise().then(k=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(k.current),k.finalized?(this._metadata=k.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,o)=>{const u=d_(this._ref.storage,this._ref._location,this._mappings),p=this._ref.storage._makeRequest(u,ic,t,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,o)=>{const u=function rh(a,t,o,u,p){const w=t.bucketOnlyServerUrl(),D={"X-Goog-Upload-Protocol":"multipart"},k=function N(){let Ye="";for(let Ot=0;Ot<2;Ot++)Ye+=Math.random().toString().slice(2);return Ye}();D["Content-Type"]="multipart/related; boundary="+k;const H=_f(t,u,p),K=Du(H,o),De=ra.getBlob("--"+k+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+K+"\r\n--"+k+"\r\nContent-Type: "+H.contentType+"\r\n\r\n",u,"\r\n--"+k+"--");if(null===De)throw ny();const Ke={name:H.fullPath},Qe=Pl(w,a.host,a._protocol),gt=a.maxUploadRetryTime,tt=new ec(Qe,"POST",pf(a,o),gt);return tt.urlParams=Ke,tt.headers=D,tt.body=De.uploadData(),tt.errorHandler=gf(t),tt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(u,ic,t,o);this._request=p,p.getPromise().then(w=>{this._request=void 0,this._metadata=w,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const o=this._transferred;this._transferred=t,this._transferred!==o&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const o="paused"===this._state;this._state=t,o&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=pp(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Ef(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,o,u,p){const w=new Pg(o||void 0,u||void 0,p||void 0);return this._addObserver(w),()=>{this._removeObserver(w)}}then(t,o){return this._promise.then(t,o)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const o=this._observers.indexOf(t);-1!==o&&this._observers.splice(o,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(o=>{this._notifyObserver(o)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Ef(this._state)){case qo.SUCCESS:bf(this._resolve.bind(null,this.snapshot))();break;case qo.CANCELED:case qo.ERROR:bf(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Ef(this._state)){case qo.RUNNING:case qo.PAUSED:t.next&&bf(t.next.bind(t,this.snapshot))();break;case qo.SUCCESS:t.complete&&bf(t.complete.bind(t))();break;default:t.error&&bf(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class ad{constructor(t,o){this._service=t,this._location=o instanceof ma?o:ma.makeFromUrl(o,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,o){return new ad(t,o)}get root(){const t=new ma(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jm(this._location.path)}get storage(){return this._service}get parent(){const t=function Tg(a){if(0===a.length)return null;const t=a.lastIndexOf("/");return-1===t?"":a.slice(0,t)}(this._location.path);if(null===t)return null;const o=new ma(this._location.bucket,t);return new ad(this._service,o)}_throwIfRoot(t){if(""===this._location.path)throw Cg(t)}}function Og(a,t,o){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,Ee.Z)(function*(a,t,o){const p=yield Cp(a,{pageToken:o});t.prefixes.push(...p.prefixes),t.items.push(...p.items),null!=p.nextPageToken&&(yield Og(a,t,p.nextPageToken))})).apply(this,arguments)}function Cp(a,t){null!=t&&"number"==typeof t.maxResults&&uf("options.maxResults",1,1e3,t.maxResults);const o=t||{},u=d0(a.storage,a._location,"/",o.pageToken,o.maxResults);return a.storage.makeRequestWithTokens(u,ic)}function cd(a){a._throwIfRoot("getDownloadURL");const t=function h_(a,t,o){const p=Pl(t.fullServerUrl(),a.host,a._protocol),D=a.maxOperationRetryTime,N=new ec(p,"GET",function ia(a,t){return function o(u,p){const w=Hm(a,p,t);return tc(null!==w),function th(a,t,o,u){const p=$c(t);if(null===p||!Iu(p.downloadTokens))return null;const w=p.downloadTokens;if(0===w.length)return null;const D=encodeURIComponent;return w.split(",").map(H=>{const Z=a.fullPath;return Pl("/b/"+D(a.bucket)+"/o/"+D(Z),o,u)+Dg({alt:"media",token:H})})[0]}(w,p,a.host,a._protocol)}}(a,o),D);return N.errorHandler=Ep(t),N}(a.storage,a._location,sd());return a.storage.makeRequestWithTokens(t,ic).then(o=>{if(null===o)throw function cf(){return new io(so.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return o})}function Lg(a,t){const o=function Ag(a,t){const o=t.split("/").filter(u=>u.length>0).join("/");return 0===a.length?o:a+"/"+o}(a._location.path,t),u=new ma(a._location.bucket,o);return new ad(a.storage,u)}function Qm(a,t){if(a instanceof Dp){const o=a;if(null==o._bucket)throw function c0(){return new io(so.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nm+"' property when initializing the app?")}();const u=new ad(o,o._bucket);return null!=t?Qm(u,t):u}return void 0!==t?Lg(a,t):a}function Fg(a,t){if(t&&function Xm(a){return/^[A-Za-z]+:\/\//.test(a)}(t)){if(a instanceof Dp)return function p_(a,t){return new ad(a,t)}(a,t);throw Ql("To use ref(service, url), the first argument must be a Storage instance.")}return Qm(a,t)}function Sp(a,t){const o=null==t?void 0:t[Nm];return null==o?null:ma.makeFromBucketSpec(o,a)}class Dp{constructor(t,o,u,p,w){this.app=t,this._authProvider=o,this._appCheckProvider=u,this._url=p,this._firebaseVersion=w,this._bucket=null,this._host=Xl,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=p?ma.makeFromBucketSpec(p,this._host):Sp(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ma.makeFromBucketSpec(this._url,t):Sp(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){uf("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){uf("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ee.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const o=t._authProvider.getImmediate({optional:!0});if(o){const u=yield o.getToken();if(null!==u)return u.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ee.Z)(function*(){const o=t._appCheckProvider.getImmediate({optional:!0});return o?(yield o.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ad(this,t)}_makeRequest(t,o,u,p,w=!0){if(this._deleted)return new vp(l_());{const D=function id(a,t,o,u,p,w,D=!0){const N=Dg(a.urlParams),k=a.url+N,H=Object.assign({},a.headers);return function df(a,t){t&&(a["X-Firebase-GMPID"]=t)}(H,t),function Bm(a,t){null!==t&&t.length>0&&(a.Authorization="Firebase "+t)}(H,o),function u0(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(H,w),function hs(a,t){null!==t&&(a["X-Firebase-AppCheck"]=t)}(H,u),new c_(k,a.method,H,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,p,D)}(t,this._appId,u,p,o,this._firebaseVersion,w);return this._requests.add(D),D.getPromise().then(()=>this._requests.delete(D),()=>this._requests.delete(D)),D}}makeRequestWithTokens(t,o){var u=this;return(0,Ee.Z)(function*(){const[p,w]=yield Promise.all([u._getAuthToken(),u._getAppCheckToken()]);return u._makeRequest(t,o,p,w).getPromise()})()}}const yo="@firebase/storage";function py(a,t){return Fg(a=(0,z.m9)(a),t)}function xp(a,{instanceIdentifier:t}){const o=a.getProvider("app").getImmediate(),u=a.getProvider("auth-internal"),p=a.getProvider("app-check-internal");return new Dp(o,u,p,t,je.SDK_VERSION)}!function my(){(0,je._registerComponent)(new $e.wA("storage",xp,"PUBLIC").setMultipleInstances(!0)),(0,je.registerVersion)(yo,"0.11.2",""),(0,je.registerVersion)(yo,"0.11.2","esm2017")}();class Bg{constructor(t,o,u){this._delegate=t,this.task=o,this.ref=u}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Mp{constructor(t,o){this._delegate=t,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Bg(this._delegate.snapshot,this,this._ref)}then(t,o){return this._delegate.then(u=>{if(t)return t(new Bg(u,this,this._ref))},o)}on(t,o,u,p){let w;return o&&(w="function"==typeof o?D=>o(new Bg(D,this,this._ref)):{next:o.next?D=>o.next(new Bg(D,this,this._ref)):void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(t,w,u||void 0,p||void 0)}}class Pp{constructor(t,o){this._delegate=t,this._service=o}get prefixes(){return this._delegate.prefixes.map(t=>new Ra(t,this._service))}get items(){return this._delegate.items.map(t=>new Ra(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ra{constructor(t,o){this._delegate=t,this.storage=o}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const o=function Sf(a,t){return Lg(a,t)}(this._delegate,t);return new Ra(o,this.storage)}get root(){return new Ra(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Ra(t,this.storage)}put(t,o){return this._throwIfRoot("put"),new Mp(function ev(a,t,o){return function f_(a,t,o){return a._throwIfRoot("uploadBytesResumable"),new Ip(a,new ra(t),o)}(a=(0,z.m9)(a),t,o)}(this._delegate,t,o),this)}putString(t,o=Za.RAW,u){this._throwIfRoot("putString");const p=Qd(o,t),w=Object.assign({},u);return null==w.contentType&&null!=p.contentType&&(w.contentType=p.contentType),new Mp(new Ip(this._delegate,new ra(p.data,!0),w),this)}listAll(){return function v_(a){return function uy(a){const t={prefixes:[],items:[]};return Og(a,t).then(()=>t)}(a=(0,z.m9)(a))}(this._delegate).then(t=>new Pp(t,this.storage))}list(t){return function m_(a,t){return Cp(a=(0,z.m9)(a),t)}(this._delegate,t||void 0).then(o=>new Pp(o,this.storage))}getMetadata(){return function fy(a){return function ld(a){a._throwIfRoot("getMetadata");const t=d_(a.storage,a._location,sd());return a.storage.makeRequestWithTokens(t,ic)}(a=(0,z.m9)(a))}(this._delegate)}updateMetadata(t){return function g_(a,t){return function kg(a,t){a._throwIfRoot("updateMetadata");const o=function mf(a,t,o,u){const w=Pl(t.fullServerUrl(),a.host,a._protocol),N=Du(o,u),H=a.maxOperationRetryTime,K=new ec(w,"PATCH",pf(a,u),H);return K.headers={"Content-Type":"application/json; charset=utf-8"},K.body=N,K.errorHandler=Ep(t),K}(a.storage,a._location,t,sd());return a.storage.makeRequestWithTokens(o,ic)}(a=(0,z.m9)(a),t)}(this._delegate,t)}getDownloadURL(){return function tv(a){return cd(a=(0,z.m9)(a))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function y_(a){return function oh(a){a._throwIfRoot("deleteObject");const t=function vf(a,t){const u=Pl(t.fullServerUrl(),a.host,a._protocol),N=new ec(u,"DELETE",function D(k,H){},a.maxOperationRetryTime);return N.successCodes=[200,204],N.errorHandler=Ep(t),N}(a.storage,a._location);return a.storage.makeRequestWithTokens(t,ic)}(a=(0,z.m9)(a))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Cg(t)}}class $g{constructor(t,o){this.app=t,this._delegate=o}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Df(t))throw Ql("ref() expected a child path but got a URL, use refFromURL instead.");return new Ra(py(this._delegate,t),this)}refFromURL(t){if(!Df(t))throw Ql("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ma.makeFromUrl(t,this._delegate.host)}catch{throw Ql("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ra(py(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,o,u={}){!function Pa(a,t,o,u={}){!function dy(a,t,o,u={}){a.host=`${t}:${o}`,a._protocol="http";const{mockUserToken:p}=u;p&&(a._overrideAuthToken="string"==typeof p?p:(0,z.Sg)(p,a.app.options.projectId))}(a,t,o,u)}(this._delegate,t,o,u)}}function Df(a){return/^[A-Za-z]+:\/\//.test(a)}function Bi(a,{instanceIdentifier:t}){const o=a.getProvider("app-compat").getImmediate(),u=a.getProvider("storage").getImmediate({identifier:t});return new $g(o,u)}function rv(a){const t=function Rp(a){return new ze.y(t=>{const o=D=>t.next(D);o(a.snapshot);const w=a.on("state_changed",o);return a.then(D=>{o(D),t.complete()},D=>{o(a.snapshot),(D=>{t.error(D)})(D)}),function(){w()}}).pipe(function Ma(a,t=xe.z){return(0,qe.e)((o,u)=>{let p=null,w=null,D=null;const N=()=>{if(p){p.unsubscribe(),p=null;const H=w;w=null,u.next(H)}};function k(){const H=D+a,K=t.now();if(K<H)return p=this.schedule(void 0,H-K),void u.add(p);N()}o.subscribe((0,ut.x)(u,H=>{w=H,D=t.now(),p||(p=t.schedule(k,a),u.add(p))},()=>{N(),u.complete()},void 0,()=>{w=p=null}))})}(0))}(a);return{task:a,then:a.then.bind(a),catch:a.catch.bind(a),pause:a.pause.bind(a),cancel:a.cancel.bind(a),resume:a.resume.bind(a),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ce.U)(o=>o.bytesTransferred/o.totalBytes*100))}}function Tf(a){return{getDownloadURL:()=>(0,G.of)(void 0).pipe(ke.fc,(0,ne.w)(()=>a.getDownloadURL()),ke.iC),getMetadata:()=>(0,G.of)(void 0).pipe(ke.fc,(0,ne.w)(()=>a.getMetadata()),ke.iC),delete:()=>(0,Ig.D)(a.delete()),child:t=>Tf(a.child(t)),updateMetadata:t=>(0,Ig.D)(a.updateMetadata(t)),put:(t,o)=>rv(a.put(t,o)),putString:(t,o,u)=>rv(a.putString(t,o,u)),list:t=>(0,Ig.D)(a.list(t)),listAll:()=>(0,Ig.D)(a.listAll())}}!function jg(a){const t={TaskState:qo,TaskEvent:h0,StringFormat:Za,Storage:$g,Reference:Ra};a.INTERNAL.registerComponent(new $e.wA("storage-compat",Bi,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),a.registerVersion("@firebase/storage-compat","0.3.2")}(Bt.Z);const lh=new _.OlP("angularfire2.storageBucket"),iv=new _.OlP("angularfire2.storage.maxUploadRetryTime"),__=new _.OlP("angularfire2.storage.maxOperationRetryTime"),yy=new _.OlP("angularfire2.storage.use-emulator");let _y=(()=>{class a{constructor(o,u,p,w,D,N,k,H,K,Z){const te=(0,re.on)(o,D,u);this.storage=(0,re.cc)(`${te.name}.storage.${p}`,"AngularFireStorage",te.name,()=>{const De=D.runOutsideAngular(()=>te.storage(p||void 0)),Ke=K;return Ke&&De.useEmulator(...Ke),k&&De.setMaxUploadRetryTime(k),H&&De.setMaxOperationRetryTime(H),De},[k,H])}ref(o){return Tf(this.storage.ref(o))}refFromURL(o){return Tf(this.storage.refFromURL(o))}upload(o,u,p){return Tf(this.storage.ref(o)).put(u,p)}}return a.\u0275fac=function(o){return new(o||a)(_.LFG(re.Dh),_.LFG(re.xv,8),_.LFG(lh,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(ke.HU),_.LFG(iv,8),_.LFG(__,8),_.LFG(yy,8),_.LFG(rf.nm,8))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),w_=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({}),a})(),sv=(()=>{class a{constructor(){sf.Z.registerVersion("angularfire",ke.q4.full,"gcs-compat")}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({providers:[_y],imports:[w_]}),a})();var Au=P(8857),sa=P(7311),Af=P(6814),Vc=P(9422),xu=P.n(Vc);const ch={SecureStorage:"ionicSecureStorage",IndexedDB:xu().INDEXEDDB,LocalStorage:xu().LOCALSTORAGE},ov={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[ch.SecureStorage,ch.IndexedDB,ch.LocalStorage]};class ud{constructor(t=ov){this._db=null,this._secureStorageDriver=null;const o=Object.assign({},ov,t||{});this._config=o}create(){var t=this;return(0,Ee.Z)(function*(){const o=xu().createInstance(t._config);return t._db=o,yield o.setDriver(t._config.driverOrder||[]),t})()}defineDriver(t){var o=this;return(0,Ee.Z)(function*(){return t._driver===ch.SecureStorage&&(o._secureStorageDriver=t),xu().defineDriver(t)})()}get driver(){var t;return(null===(t=this._db)||void 0===t?void 0:t.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(t){return this.assertDb().getItem(t)}set(t,o){return this.assertDb().setItem(t,o)}remove(t){return this.assertDb().removeItem(t)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(t){return this.assertDb().iterate(t)}setEncryptionKey(t){var o;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(o=this._secureStorageDriver)||void 0===o||o.setEncryptionKey(t)}}const Mu=new _.OlP("STORAGE_CONFIG_TOKEN");class Op extends ud{constructor(){super()}create(){var t=this;return(0,Ee.Z)(function*(){return t})()}defineDriver(){return(0,Ee.Z)(function*(){})()}get driver(){return"noop"}get(t){return(0,Ee.Z)(function*(){return null})()}set(t,o){return(0,Ee.Z)(function*(){})()}remove(t){return(0,Ee.Z)(function*(){})()}clear(){return(0,Ee.Z)(function*(){})()}length(){return(0,Ee.Z)(function*(){return 0})()}keys(){return(0,Ee.Z)(function*(){return[]})()}forEach(t){return(0,Ee.Z)(function*(){})()}setEncryptionKey(t){}}function jc(a,t){return(0,Af.PM)(a)?new Op:new ud(t)}let zc=(()=>{class a{static forRoot(o=null){return{ngModule:a,providers:[{provide:Mu,useValue:o},{provide:ud,useFactory:jc,deps:[_.Lbi,Mu]}]}}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({}),a})();var Pu=P(4666),dd=P(6306),hd=P(9397);const zg=new _.OlP("NGXS_DEVTOOLS_OPTIONS");let fd=(()=>{class a{constructor(o,u,p){this._options=o,this._injector=u,this._ngZone=p,this.devtoolsExtension=null,this.globalDevtools=_.dqk.__REDUX_DEVTOOLS_EXTENSION__||_.dqk.devToolsExtension,this.unsubscribe=null,this.connect()}ngOnDestroy(){null!==this.unsubscribe&&this.unsubscribe(),this.globalDevtools&&this.globalDevtools.disconnect()}get store(){return this._injector.get(Pu.yh)}handle(o,u,p){return!this.devtoolsExtension||this._options.disabled?p(o,u):p(o,u).pipe((0,dd.K)(w=>{const D=this.store.snapshot();throw this.sendToDevTools(o,u,D),w}),(0,hd.b)(w=>{this.sendToDevTools(o,u,w)}))}sendToDevTools(o,u,p){const w=(0,Pu.f4)(u);"@@INIT"===w?this.devtoolsExtension.init(o):this.devtoolsExtension.send(Object.assign(Object.assign({},u),{action:null,type:w}),p)}dispatched(o){if("DISPATCH"===o.type){if("JUMP_TO_ACTION"===o.payload.type||"JUMP_TO_STATE"===o.payload.type){const u=JSON.parse(o.state);u.router&&u.router.trigger&&(u.router.trigger="devtools"),this.store.reset(u)}else if("TOGGLE_ACTION"===o.payload.type)console.warn("Skip is not supported at this time.");else if("IMPORT_STATE"===o.payload.type){const{actionsById:u,computedStates:p,currentStateIndex:w}=o.payload.nextLiftedState;this.devtoolsExtension.init(p[0].state),Object.keys(u).filter(D=>"0"!==D).forEach(D=>this.devtoolsExtension.send(u[D],p[D].state)),this.store.reset(p[w].state)}}else if("ACTION"===o.type){const u=JSON.parse(o.payload);this.store.dispatch(u)}}connect(){!this.globalDevtools||this._options.disabled||(this.devtoolsExtension=this._ngZone.runOutsideAngular(()=>this.globalDevtools.connect(this._options)),this.unsubscribe=this.devtoolsExtension.subscribe(o=>{("DISPATCH"===o.type||"ACTION"===o.type)&&this._ngZone.run(()=>{this.dispatched(o)})}))}}return a.\u0275fac=function(o){return new(o||a)(_.LFG(zg),_.LFG(_.zs3),_.LFG(_.R0b))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac}),a})();function E_(a){return Object.assign({name:"NGXS"},a)}const Ey=new _.OlP("USER_OPTIONS");let av=(()=>{class a{static forRoot(o){return{ngModule:a,providers:[{provide:Pu.fN,useClass:fd,multi:!0},{provide:Ey,useValue:o},{provide:zg,useFactory:E_,deps:[Ey]}]}}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({}),a})();var Hg=P(8180);const Np_firebase={projectId:"big-friday",appId:"1:663869675591:web:c78d65f107b4fcc693f962",storageBucket:"big-friday.appspot.com",apiKey:"AIzaSyAilTrmF_eDCvtxOz1GAh6hpDebvk9hg2g",authDomain:"big-friday.firebaseapp.com",messagingSenderId:"663869675591",measurementId:"G-C9TLJRGPJQ"},lv=[{path:"",loadChildren:()=>Promise.all([P.e(8592),P.e(7220)]).then(P.bind(P,7220)).then(a=>a.HomeModule)},{path:"events/:activityType",loadChildren:()=>P.e(3337).then(P.bind(P,3337)).then(a=>a.EventsPageModule)},{path:"event-details/:eventId",loadChildren:()=>Promise.all([P.e(1993),P.e(8895)]).then(P.bind(P,8895)).then(a=>a.EventDetailsPageModule)},{path:"dashboard",loadChildren:()=>P.e(4492).then(P.bind(P,4492)).then(a=>a.DashboardModule)},{path:"auth",loadChildren:()=>Promise.resolve().then(P.bind(P,4181)).then(a=>a.AuthModule)},{path:"chats",loadChildren:()=>Promise.all([P.e(1993),P.e(6994)]).then(P.bind(P,6994)).then(a=>a.ChatPageModule)},{path:"events",loadChildren:()=>Promise.all([P.e(8592),P.e(6532)]).then(P.bind(P,6532)).then(a=>a.ActivePastimeModule)},{path:"passive",loadChildren:()=>Promise.all([P.e(8592),P.e(8204)]).then(P.bind(P,8204)).then(a=>a.Tab2PageModule)},{path:"previous",loadChildren:()=>Promise.all([P.e(8592),P.e(582)]).then(P.bind(P,582)).then(a=>a.Tab3PageModule)},{path:"",redirectTo:"/events",pathMatch:"full"}];let b_=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({imports:[Au.Bz.forRoot(lv,{preloadingStrategy:Au.wm}),Au.Bz]}),a})();typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var xf=function(a){return a.Unimplemented="UNIMPLEMENTED",a.Unavailable="UNAVAILABLE",a}(xf||{});class Gg extends Error{constructor(t,o,u){super(t),this.message=t,this.code=o,this.data=u}}const Wg=a=>{var t,o,u,p,w;const D=a.CapacitorCustomPlatform||null,N=a.Capacitor||{},k=N.Plugins=N.Plugins||{},H=a.CapacitorPlatforms,Z=(null===(t=null==H?void 0:H.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==D?D.name:(a=>{var t,o;return null!=a&&a.androidBridge?"android":null!==(o=null===(t=null==a?void 0:a.webkit)||void 0===t?void 0:t.messageHandlers)&&void 0!==o&&o.bridge?"ios":"web"})(a)),De=(null===(o=null==H?void 0:H.currentPlatform)||void 0===o?void 0:o.isNativePlatform)||(()=>"web"!==Z()),Qe=(null===(u=null==H?void 0:H.currentPlatform)||void 0===u?void 0:u.isPluginAvailable)||(Wn=>{const bn=Ot.get(Wn);return!!(null!=bn&&bn.platforms.has(Z())||gt(Wn))}),gt=(null===(p=null==H?void 0:H.currentPlatform)||void 0===p?void 0:p.getPluginHeader)||(Wn=>{var bn;return null===(bn=N.PluginHeaders)||void 0===bn?void 0:bn.find(Jt=>Jt.name===Wn)}),Ot=new Map,yn=(null===(w=null==H?void 0:H.currentPlatform)||void 0===w?void 0:w.registerPlugin)||((Wn,bn={})=>{const Jt=Ot.get(Wn);if(Jt)return console.warn(`Capacitor plugin "${Wn}" already registered. Cannot register plugins twice.`),Jt.proxy;const fn=Z(),Dn=gt(Wn);let wn;const pn=function(){var Lr=(0,Ee.Z)(function*(){return!wn&&fn in bn?wn=wn="function"==typeof bn[fn]?yield bn[fn]():bn[fn]:null!==D&&!wn&&"web"in bn&&(wn=wn="function"==typeof bn.web?yield bn.web():bn.web),wn});return function(){return Lr.apply(this,arguments)}}(),rn=Lr=>{let ki;const Us=(...di)=>{const cs=pn().then(eo=>{const Eo=((Lr,ki)=>{var Us,di;if(!Dn){if(Lr)return null===(di=Lr[ki])||void 0===di?void 0:di.bind(Lr);throw new Gg(`"${Wn}" plugin is not implemented on ${fn}`,xf.Unimplemented)}{const cs=null==Dn?void 0:Dn.methods.find(eo=>ki===eo.name);if(cs)return"promise"===cs.rtype?eo=>N.nativePromise(Wn,ki.toString(),eo):(eo,Eo)=>N.nativeCallback(Wn,ki.toString(),eo,Eo);if(Lr)return null===(Us=Lr[ki])||void 0===Us?void 0:Us.bind(Lr)}})(eo,Lr);if(Eo){const Ol=Eo(...di);return ki=null==Ol?void 0:Ol.remove,Ol}throw new Gg(`"${Wn}.${Lr}()" is not implemented on ${fn}`,xf.Unimplemented)});return"addListener"===Lr&&(cs.remove=(0,Ee.Z)(function*(){return ki()})),cs};return Us.toString=()=>`${Lr.toString()}() { [capacitor code] }`,Object.defineProperty(Us,"name",{value:Lr,writable:!1,configurable:!1}),Us},Jn=rn("addListener"),Yn=rn("removeListener"),Un=(Lr,ki)=>{const Us=Jn({eventName:Lr},ki),di=function(){var eo=(0,Ee.Z)(function*(){const Eo=yield Us;Yn({eventName:Lr,callbackId:Eo},ki)});return function(){return eo.apply(this,arguments)}}(),cs=new Promise(eo=>Us.then(()=>eo({remove:di})));return cs.remove=(0,Ee.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield di()}),cs},zn=new Proxy({},{get(Lr,ki){switch(ki){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Dn?Un:Jn;case"removeListener":return Yn;default:return rn(ki)}}});return k[Wn]=zn,Ot.set(Wn,{name:Wn,proxy:zn,platforms:new Set([...Object.keys(bn),...Dn?[fn]:[]])}),zn});return N.convertFileSrc||(N.convertFileSrc=Wn=>Wn),N.getPlatform=Z,N.handleError=Wn=>a.console.error(Wn),N.isNativePlatform=De,N.isPluginAvailable=Qe,N.pluginMethodNoop=(Wn,bn,Jt)=>Promise.reject(`${Jt} does not have an implementation of "${bn}".`),N.registerPlugin=yn,N.Exception=Gg,N.DEBUG=!!N.DEBUG,N.isLoggingEnabled=!!N.isLoggingEnabled,N.platform=N.getPlatform(),N.isNative=N.isNativePlatform(),N},Mf=(a=>a.Capacitor=Wg(a))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),uv=Mf.registerPlugin;class Yg{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,o){var u=this;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(o);const w=this.windowListeners[t];w&&!w.registered&&this.addWindowListener(w);const D=function(){var k=(0,Ee.Z)(function*(){return u.removeListener(t,o)});return function(){return k.apply(this,arguments)}}(),N=Promise.resolve({remove:D});return Object.defineProperty(N,"remove",{value:(k=(0,Ee.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield D()}),function(){return k.apply(this,arguments)})}),N;var k}removeAllListeners(){var t=this;return(0,Ee.Z)(function*(){t.listeners={};for(const o in t.windowListeners)t.removeWindowListener(t.windowListeners[o]);t.windowListeners={}})()}notifyListeners(t,o){const u=this.listeners[t];u&&u.forEach(p=>p(o))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,o){this.windowListeners[o]={registered:!1,windowEventName:t,pluginEventName:o,handler:u=>{this.notifyListeners(o,u)}}}unimplemented(t="not implemented"){return new Mf.Exception(t,xf.Unimplemented)}unavailable(t="not available"){return new Mf.Exception(t,xf.Unavailable)}removeListener(t,o){var u=this;return(0,Ee.Z)(function*(){const p=u.listeners[t];if(!p)return;const w=p.indexOf(o);u.listeners[t].splice(w,1),u.listeners[t].length||u.removeWindowListener(u.windowListeners[t])})()}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const Kg=a=>encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),qg=a=>a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class T_ extends Yg{getCookies(){return(0,Ee.Z)(function*(){const t=document.cookie,o={};return t.split(";").forEach(u=>{if(u.length<=0)return;let[p,w]=u.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");p=qg(p).trim(),w=qg(w).trim(),o[p]=w}),o})()}setCookie(t){return(0,Ee.Z)(function*(){try{const o=Kg(t.key),u=Kg(t.value),p=`; expires=${(t.expires||"").replace("expires=","")}`,w=(t.path||"/").replace("path=",""),D=null!=t.url&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${o}=${u||""}${p}; path=${w}; ${D};`}catch(o){return Promise.reject(o)}})()}deleteCookie(t){return(0,Ee.Z)(function*(){try{document.cookie=`${t.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}})()}clearCookies(){return(0,Ee.Z)(function*(){try{const t=document.cookie.split(";")||[];for(const o of t)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(t){return Promise.reject(t)}})()}clearAllCookies(){var t=this;return(0,Ee.Z)(function*(){try{yield t.clearCookies()}catch(o){return Promise.reject(o)}})()}}uv("CapacitorCookies",{web:()=>new T_});const Cy=function(){var a=(0,Ee.Z)(function*(t){return new Promise((o,u)=>{const p=new FileReader;p.onload=()=>{const w=p.result;o(w.indexOf(",")>=0?w.split(",")[1]:w)},p.onerror=w=>u(w),p.readAsDataURL(t)})});return function(o){return a.apply(this,arguments)}}();class pv extends Yg{request(t){return(0,Ee.Z)(function*(){const o=((a,t={})=>{const o=Object.assign({method:a.method||"GET",headers:a.headers},t),p=((a={})=>{const t=Object.keys(a);return Object.keys(a).map(p=>p.toLocaleLowerCase()).reduce((p,w,D)=>(p[w]=a[t[D]],p),{})})(a.headers)["content-type"]||"";if("string"==typeof a.data)o.body=a.data;else if(p.includes("application/x-www-form-urlencoded")){const w=new URLSearchParams;for(const[D,N]of Object.entries(a.data||{}))w.set(D,N);o.body=w.toString()}else if(p.includes("multipart/form-data")){const w=new FormData;if(a.data instanceof FormData)a.data.forEach((N,k)=>{w.append(k,N)});else for(const N of Object.keys(a.data))w.append(N,a.data[N]);o.body=w;const D=new Headers(o.headers);D.delete("content-type"),o.headers=D}else(p.includes("application/json")||"object"==typeof a.data)&&(o.body=JSON.stringify(a.data));return o})(t,t.webFetchExtra),u=((a,t=!0)=>a?Object.entries(a).reduce((u,p)=>{const[w,D]=p;let N,k;return Array.isArray(D)?(k="",D.forEach(H=>{N=t?encodeURIComponent(H):H,k+=`${w}=${N}&`}),k.slice(0,-1)):(N=t?encodeURIComponent(D):D,k=`${w}=${N}`),`${u}&${k}`},"").substr(1):null)(t.params,t.shouldEncodeUrlParams),p=u?`${t.url}?${u}`:t.url,w=yield fetch(p,o),D=w.headers.get("content-type")||"";let k,H,{responseType:N="text"}=w.ok?t:{};switch(D.includes("application/json")&&(N="json"),N){case"arraybuffer":case"blob":H=yield w.blob(),k=yield Cy(H);break;case"json":k=yield w.json();break;default:k=yield w.text()}const K={};return w.headers.forEach((Z,te)=>{K[te]=Z}),{data:k,headers:K,status:w.status,url:w.url}})()}get(t){var o=this;return(0,Ee.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"GET"}))})()}post(t){var o=this;return(0,Ee.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"POST"}))})()}put(t){var o=this;return(0,Ee.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"PUT"}))})()}patch(t){var o=this;return(0,Ee.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"PATCH"}))})()}delete(t){var o=this;return(0,Ee.Z)(function*(){return o.request(Object.assign(Object.assign({},t),{method:"DELETE"}))})()}}uv("CapacitorHttp",{web:()=>new pv});const Ru=uv("PushNotifications",{});function gv(a){return null!==a&&"object"==typeof a&&"constructor"in a&&a.constructor===Object}function Pf(a,t){void 0===a&&(a={}),void 0===t&&(t={}),Object.keys(t).forEach(o=>{typeof a[o]>"u"?a[o]=t[o]:gv(t[o])&&gv(a[o])&&Object.keys(t[o]).length>0&&Pf(a[o],t[o])})}const Lp={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function jo(){const a=typeof document<"u"?document:{};return Pf(a,Lp),a}const Sy={document:Lp,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:a=>typeof setTimeout>"u"?(a(),null):setTimeout(a,0),cancelAnimationFrame(a){typeof setTimeout>"u"||clearTimeout(a)}};function qs(){const a=typeof window<"u"?window:{};return Pf(a,Sy),a}function Xa(a){return void 0===a&&(a=""),a.trim().split(" ").filter(t=>!!t.trim())}function Hc(a,t){return void 0===t&&(t=0),setTimeout(a,t)}function Qa(){return Date.now()}function ac(a,t){void 0===t&&(t="x");const o=qs();let u,p,w;const D=function oc(a){const t=qs();let o;return t.getComputedStyle&&(o=t.getComputedStyle(a,null)),!o&&a.currentStyle&&(o=a.currentStyle),o||(o=a.style),o}(a);return o.WebKitCSSMatrix?(p=D.transform||D.webkitTransform,p.split(",").length>6&&(p=p.split(", ").map(N=>N.replace(",",".")).join(", ")),w=new o.WebKitCSSMatrix("none"===p?"":p)):(w=D.MozTransform||D.OTransform||D.MsTransform||D.msTransform||D.transform||D.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),u=w.toString().split(",")),"x"===t&&(p=o.WebKitCSSMatrix?w.m41:16===u.length?parseFloat(u[12]):parseFloat(u[4])),"y"===t&&(p=o.WebKitCSSMatrix?w.m42:16===u.length?parseFloat(u[13]):parseFloat(u[5])),p||0}function uh(a){return"object"==typeof a&&null!==a&&a.constructor&&"Object"===Object.prototype.toString.call(a).slice(8,-1)}function vv(a){return typeof window<"u"&&typeof window.HTMLElement<"u"?a instanceof HTMLElement:a&&(1===a.nodeType||11===a.nodeType)}function Oa(){const a=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let o=1;o<arguments.length;o+=1){const u=o<0||arguments.length<=o?void 0:arguments[o];if(null!=u&&!vv(u)){const p=Object.keys(Object(u)).filter(w=>t.indexOf(w)<0);for(let w=0,D=p.length;w<D;w+=1){const N=p[w],k=Object.getOwnPropertyDescriptor(u,N);void 0!==k&&k.enumerable&&(uh(a[N])&&uh(u[N])?u[N].__swiper__?a[N]=u[N]:Oa(a[N],u[N]):!uh(a[N])&&uh(u[N])?(a[N]={},u[N].__swiper__?a[N]=u[N]:Oa(a[N],u[N])):a[N]=u[N])}}}return a}function dh(a,t,o){a.style.setProperty(t,o)}function Dy(a){let{swiper:t,targetPosition:o,side:u}=a;const p=qs(),w=-t.translate;let N,D=null;const k=t.params.speed;t.wrapperEl.style.scrollSnapType="none",p.cancelAnimationFrame(t.cssModeFrameID);const H=o>w?"next":"prev",K=(te,De)=>"next"===H&&te>=De||"prev"===H&&te<=De,Z=()=>{N=(new Date).getTime(),null===D&&(D=N);const te=Math.max(Math.min((N-D)/k,1),0),De=.5-Math.cos(te*Math.PI)/2;let Ke=w+De*(o-w);if(K(Ke,o)&&(Ke=o),t.wrapperEl.scrollTo({[u]:Ke}),K(Ke,o))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[u]:Ke})}),void p.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=p.requestAnimationFrame(Z)};Z()}function Ou(a){return a.querySelector(".swiper-slide-transform")||a.shadowRoot&&a.shadowRoot.querySelector(".swiper-slide-transform")||a}function Zo(a,t){return void 0===t&&(t=""),[...a.children].filter(o=>o.matches(t))}function Rf(a){try{return void console.warn(a)}catch{}}function va(a,t){void 0===t&&(t=[]);const o=document.createElement(a);return o.classList.add(...Array.isArray(t)?t:Xa(t)),o}function Gc(a){const t=qs(),o=jo(),u=a.getBoundingClientRect(),p=o.body;return{top:u.top+(a===t?t.scrollY:a.scrollTop)-(a.clientTop||p.clientTop||0),left:u.left+(a===t?t.scrollX:a.scrollLeft)-(a.clientLeft||p.clientLeft||0)}}function Nu(a,t){return qs().getComputedStyle(a,null).getPropertyValue(t)}function pd(a){let o,t=a;if(t){for(o=0;null!==(t=t.previousSibling);)1===t.nodeType&&(o+=1);return o}}function ku(a,t){const o=[];let u=a.parentElement;for(;u;)t?u.matches(t)&&o.push(u):o.push(u),u=u.parentElement;return o}function Fp(a,t){t&&a.addEventListener("transitionend",function o(u){u.target===a&&(t.call(a,u),a.removeEventListener("transitionend",o))})}function yv(a,t,o){const u=qs();return o?a["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(u.getComputedStyle(a,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(u.getComputedStyle(a,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):a.offsetWidth}let Of,Bp,hh;function gd(){return Of||(Of=function Ay(){const a=qs(),t=jo();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in a||a.DocumentTouch&&t instanceof a.DocumentTouch)}}()),Of}const md=(a,t)=>{if(!a||a.destroyed||!a.params)return;const u=t.closest(a.isElement?"swiper-slide":`.${a.params.slideClass}`);if(u){let p=u.querySelector(`.${a.params.lazyPreloaderClass}`);!p&&a.isElement&&(u.shadowRoot?p=u.shadowRoot.querySelector(`.${a.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{u.shadowRoot&&(p=u.shadowRoot.querySelector(`.${a.params.lazyPreloaderClass}`),p&&p.remove())})),p&&p.remove()}},Up=(a,t)=>{if(!a.slides[t])return;const o=a.slides[t].querySelector('[loading="lazy"]');o&&o.removeAttribute("loading")},ph=a=>{if(!a||a.destroyed||!a.params)return;let t=a.params.lazyPreloadPrevNext;const o=a.slides.length;if(!o||!t||t<0)return;t=Math.min(t,o);const u="auto"===a.params.slidesPerView?a.slidesPerViewDynamic():Math.ceil(a.params.slidesPerView),p=a.activeIndex;if(a.params.grid&&a.params.grid.rows>1){const D=p,N=[D-t];return N.push(...Array.from({length:t}).map((k,H)=>D+u+H)),void a.slides.forEach((k,H)=>{N.includes(k.column)&&Up(a,H)})}const w=p+u-1;if(a.params.rewind||a.params.loop)for(let D=p-t;D<=w+t;D+=1){const N=(D%o+o)%o;(N<p||N>w)&&Up(a,N)}else for(let D=Math.max(p-t,0);D<=Math.min(w+t,o-1);D+=1)D!==p&&(D>w||D<p)&&Up(a,D)};function Iv(a){let{swiper:t,runCallbacks:o,direction:u,step:p}=a;const{activeIndex:w,previousIndex:D}=t;let N=u;if(N||(N=w>D?"next":w<D?"prev":"reset"),t.emit(`transition${p}`),o&&w!==D){if("reset"===N)return void t.emit(`slideResetTransition${p}`);t.emit(`slideChangeTransition${p}`),t.emit("next"===N?`slideNextTransition${p}`:`slidePrevTransition${p}`)}}function lc(a,t,o){const u=qs(),{params:p}=a,w=p.edgeSwipeDetection,D=p.edgeSwipeThreshold;return!w||!(o<=D||o>=u.innerWidth-D)||"prevent"===w&&(t.preventDefault(),!0)}function yh(a){const t=this,o=jo();let u=a;u.originalEvent&&(u=u.originalEvent);const p=t.touchEventsData;if("pointerdown"===u.type){if(null!==p.pointerId&&p.pointerId!==u.pointerId)return;p.pointerId=u.pointerId}else"touchstart"===u.type&&1===u.targetTouches.length&&(p.touchId=u.targetTouches[0].identifier);if("touchstart"===u.type)return void lc(t,u,u.targetTouches[0].pageX);const{params:w,touches:D,enabled:N}=t;if(!N||!w.simulateTouch&&"mouse"===u.pointerType||t.animating&&w.preventInteractionOnTransition)return;!t.animating&&w.cssMode&&w.loop&&t.loopFix();let k=u.target;if("wrapper"===w.touchEventsTarget&&!t.wrapperEl.contains(k)||"which"in u&&3===u.which||"button"in u&&u.button>0||p.isTouched&&p.isMoved)return;const H=!!w.noSwipingClass&&""!==w.noSwipingClass,K=u.composedPath?u.composedPath():u.path;H&&u.target&&u.target.shadowRoot&&K&&(k=K[0]);const Z=w.noSwipingSelector?w.noSwipingSelector:`.${w.noSwipingClass}`;if(w.noSwiping&&(u.target&&u.target.shadowRoot?function vh(a,t){return void 0===t&&(t=this),function o(u){if(!u||u===jo()||u===qs())return null;u.assignedSlot&&(u=u.assignedSlot);const p=u.closest(a);return p||u.getRootNode?p||o(u.getRootNode().host):null}(t)}(Z,k):k.closest(Z)))return void(t.allowClick=!0);if(w.swipeHandler&&!k.closest(w.swipeHandler))return;D.currentX=u.pageX,D.currentY=u.pageY;const De=D.currentX,Ke=D.currentY;if(!lc(t,u,De))return;Object.assign(p,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),D.startX=De,D.startY=Ke,p.touchStartTime=Qa(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,w.threshold>0&&(p.allowThresholdMove=!1);let Qe=!0;k.matches(p.focusableElements)&&(Qe=!1,"SELECT"===k.nodeName&&(p.isTouched=!1)),o.activeElement&&o.activeElement.matches(p.focusableElements)&&o.activeElement!==k&&o.activeElement.blur(),(w.touchStartForcePreventDefault||Qe&&t.allowTouchMove&&w.touchStartPreventDefault)&&!k.isContentEditable&&u.preventDefault(),w.freeMode&&w.freeMode.enabled&&t.freeMode&&t.animating&&!w.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",u)}function As(a){const t=jo(),o=this,u=o.touchEventsData,{params:p,touches:w,rtlTranslate:D,enabled:N}=o;if(!N||!p.simulateTouch&&"mouse"===a.pointerType)return;let H,k=a;if(k.originalEvent&&(k=k.originalEvent),"pointermove"===k.type&&(null!==u.touchId||k.pointerId!==u.pointerId))return;if("touchmove"===k.type){if(H=[...k.changedTouches].filter(yn=>yn.identifier===u.touchId)[0],!H||H.identifier!==u.touchId)return}else H=k;if(!u.isTouched)return void(u.startMoving&&u.isScrolling&&o.emit("touchMoveOpposite",k));const K=H.pageX,Z=H.pageY;if(k.preventedByNestedSwiper)return w.startX=K,void(w.startY=Z);if(!o.allowTouchMove)return k.target.matches(u.focusableElements)||(o.allowClick=!1),void(u.isTouched&&(Object.assign(w,{startX:K,startY:Z,currentX:K,currentY:Z}),u.touchStartTime=Qa()));if(p.touchReleaseOnEdges&&!p.loop)if(o.isVertical()){if(Z<w.startY&&o.translate<=o.maxTranslate()||Z>w.startY&&o.translate>=o.minTranslate())return u.isTouched=!1,void(u.isMoved=!1)}else if(K<w.startX&&o.translate<=o.maxTranslate()||K>w.startX&&o.translate>=o.minTranslate())return;if(t.activeElement&&k.target===t.activeElement&&k.target.matches(u.focusableElements))return u.isMoved=!0,void(o.allowClick=!1);u.allowTouchCallbacks&&o.emit("touchMove",k),w.previousX=w.currentX,w.previousY=w.currentY,w.currentX=K,w.currentY=Z;const te=w.currentX-w.startX,De=w.currentY-w.startY;if(o.params.threshold&&Math.sqrt(te**2+De**2)<o.params.threshold)return;if(typeof u.isScrolling>"u"){let yn;o.isHorizontal()&&w.currentY===w.startY||o.isVertical()&&w.currentX===w.startX?u.isScrolling=!1:te*te+De*De>=25&&(yn=180*Math.atan2(Math.abs(De),Math.abs(te))/Math.PI,u.isScrolling=o.isHorizontal()?yn>p.touchAngle:90-yn>p.touchAngle)}if(u.isScrolling&&o.emit("touchMoveOpposite",k),typeof u.startMoving>"u"&&(w.currentX!==w.startX||w.currentY!==w.startY)&&(u.startMoving=!0),u.isScrolling)return void(u.isTouched=!1);if(!u.startMoving)return;o.allowClick=!1,!p.cssMode&&k.cancelable&&k.preventDefault(),p.touchMoveStopPropagation&&!p.nested&&k.stopPropagation();let Ke=o.isHorizontal()?te:De,Qe=o.isHorizontal()?w.currentX-w.previousX:w.currentY-w.previousY;p.oneWayMovement&&(Ke=Math.abs(Ke)*(D?1:-1),Qe=Math.abs(Qe)*(D?1:-1)),w.diff=Ke,Ke*=p.touchRatio,D&&(Ke=-Ke,Qe=-Qe);const Je=o.touchesDirection;o.swipeDirection=Ke>0?"prev":"next",o.touchesDirection=Qe>0?"prev":"next";const gt=o.params.loop&&!p.cssMode,tt="next"===o.touchesDirection&&o.allowSlideNext||"prev"===o.touchesDirection&&o.allowSlidePrev;if(!u.isMoved){if(gt&&tt&&o.loopFix({direction:o.swipeDirection}),u.startTranslate=o.getTranslate(),o.setTransition(0),o.animating){const yn=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});o.wrapperEl.dispatchEvent(yn)}u.allowMomentumBounce=!1,p.grabCursor&&(!0===o.allowSlideNext||!0===o.allowSlidePrev)&&o.setGrabCursor(!0),o.emit("sliderFirstMove",k)}if((new Date).getTime(),u.isMoved&&u.allowThresholdMove&&Je!==o.touchesDirection&&gt&&tt&&Math.abs(Ke)>=1)return Object.assign(w,{startX:K,startY:Z,currentX:K,currentY:Z,startTranslate:u.currentTranslate}),u.loopSwapReset=!0,void(u.startTranslate=u.currentTranslate);o.emit("sliderMove",k),u.isMoved=!0,u.currentTranslate=Ke+u.startTranslate;let Ot=!0,vn=p.resistanceRatio;if(p.touchReleaseOnEdges&&(vn=0),Ke>0?(gt&&tt&&u.allowThresholdMove&&u.currentTranslate>(p.centeredSlides?o.minTranslate()-o.slidesSizesGrid[o.activeIndex+1]:o.minTranslate())&&o.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),u.currentTranslate>o.minTranslate()&&(Ot=!1,p.resistance&&(u.currentTranslate=o.minTranslate()-1+(-o.minTranslate()+u.startTranslate+Ke)**vn))):Ke<0&&(gt&&tt&&u.allowThresholdMove&&u.currentTranslate<(p.centeredSlides?o.maxTranslate()+o.slidesSizesGrid[o.slidesSizesGrid.length-1]:o.maxTranslate())&&o.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:o.slides.length-("auto"===p.slidesPerView?o.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10)))}),u.currentTranslate<o.maxTranslate()&&(Ot=!1,p.resistance&&(u.currentTranslate=o.maxTranslate()+1-(o.maxTranslate()-u.startTranslate-Ke)**vn))),Ot&&(k.preventedByNestedSwiper=!0),!o.allowSlideNext&&"next"===o.swipeDirection&&u.currentTranslate<u.startTranslate&&(u.currentTranslate=u.startTranslate),!o.allowSlidePrev&&"prev"===o.swipeDirection&&u.currentTranslate>u.startTranslate&&(u.currentTranslate=u.startTranslate),!o.allowSlidePrev&&!o.allowSlideNext&&(u.currentTranslate=u.startTranslate),p.threshold>0){if(!(Math.abs(Ke)>p.threshold||u.allowThresholdMove))return void(u.currentTranslate=u.startTranslate);if(!u.allowThresholdMove)return u.allowThresholdMove=!0,w.startX=w.currentX,w.startY=w.currentY,u.currentTranslate=u.startTranslate,void(w.diff=o.isHorizontal()?w.currentX-w.startX:w.currentY-w.startY)}!p.followFinger||p.cssMode||((p.freeMode&&p.freeMode.enabled&&o.freeMode||p.watchSlidesProgress)&&(o.updateActiveIndex(),o.updateSlidesClasses()),p.freeMode&&p.freeMode.enabled&&o.freeMode&&o.freeMode.onTouchMove(),o.updateProgress(u.currentTranslate),o.setTranslate(u.currentTranslate))}function go(a){const t=this,o=t.touchEventsData;let p,u=a;if(u.originalEvent&&(u=u.originalEvent),"touchend"===u.type||"touchcancel"===u.type){if(p=[...u.changedTouches].filter(vn=>vn.identifier===o.touchId)[0],!p||p.identifier!==o.touchId)return}else{if(null!==o.touchId||u.pointerId!==o.pointerId)return;p=u}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(u.type)&&(!["pointercancel","contextmenu"].includes(u.type)||!t.browser.isSafari&&!t.browser.isWebView))return;o.pointerId=null,o.touchId=null;const{params:D,touches:N,rtlTranslate:k,slidesGrid:H,enabled:K}=t;if(!K||!D.simulateTouch&&"mouse"===u.pointerType)return;if(o.allowTouchCallbacks&&t.emit("touchEnd",u),o.allowTouchCallbacks=!1,!o.isTouched)return o.isMoved&&D.grabCursor&&t.setGrabCursor(!1),o.isMoved=!1,void(o.startMoving=!1);D.grabCursor&&o.isMoved&&o.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const Z=Qa(),te=Z-o.touchStartTime;if(t.allowClick){const vn=u.path||u.composedPath&&u.composedPath();t.updateClickedSlide(vn&&vn[0]||u.target,vn),t.emit("tap click",u),te<300&&Z-o.lastClickTime<300&&t.emit("doubleTap doubleClick",u)}if(o.lastClickTime=Qa(),Hc(()=>{t.destroyed||(t.allowClick=!0)}),!o.isTouched||!o.isMoved||!t.swipeDirection||0===N.diff&&!o.loopSwapReset||o.currentTranslate===o.startTranslate&&!o.loopSwapReset)return o.isTouched=!1,o.isMoved=!1,void(o.startMoving=!1);let De;if(o.isTouched=!1,o.isMoved=!1,o.startMoving=!1,De=D.followFinger?k?t.translate:-t.translate:-o.currentTranslate,D.cssMode)return;if(D.freeMode&&D.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:De});const Ke=De>=-t.maxTranslate()&&!t.params.loop;let Qe=0,Je=t.slidesSizesGrid[0];for(let vn=0;vn<H.length;vn+=vn<D.slidesPerGroupSkip?1:D.slidesPerGroup){const yn=vn<D.slidesPerGroupSkip-1?1:D.slidesPerGroup;typeof H[vn+yn]<"u"?(Ke||De>=H[vn]&&De<H[vn+yn])&&(Qe=vn,Je=H[vn+yn]-H[vn]):(Ke||De>=H[vn])&&(Qe=vn,Je=H[H.length-1]-H[H.length-2])}let gt=null,tt=null;D.rewind&&(t.isBeginning?tt=D.virtual&&D.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(gt=0));const Ye=(De-H[Qe])/Je,Ot=Qe<D.slidesPerGroupSkip-1?1:D.slidesPerGroup;if(te>D.longSwipesMs){if(!D.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(Ye>=D.longSwipesRatio?D.rewind&&t.isEnd?gt:Qe+Ot:Qe),"prev"===t.swipeDirection&&(Ye>1-D.longSwipesRatio?t.slideTo(Qe+Ot):null!==tt&&Ye<0&&Math.abs(Ye)>D.longSwipesRatio?t.slideTo(tt):t.slideTo(Qe))}else{if(!D.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||u.target!==t.navigation.nextEl&&u.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==gt?gt:Qe+Ot),"prev"===t.swipeDirection&&t.slideTo(null!==tt?tt:Qe)):t.slideTo(u.target===t.navigation.nextEl?Qe+Ot:Qe)}}function Rl(){const a=this,{params:t,el:o}=a;if(o&&0===o.offsetWidth)return;t.breakpoints&&a.setBreakpoint();const{allowSlideNext:u,allowSlidePrev:p,snapGrid:w}=a,D=a.virtual&&a.params.virtual.enabled;a.allowSlideNext=!0,a.allowSlidePrev=!0,a.updateSize(),a.updateSlides(),a.updateSlidesClasses(),!("auto"===t.slidesPerView||t.slidesPerView>1)||!a.isEnd||a.isBeginning||a.params.centeredSlides||D&&t.loop?a.params.loop&&!D?a.slideToLoop(a.realIndex,0,!1,!0):a.slideTo(a.activeIndex,0,!1,!0):a.slideTo(a.slides.length-1,0,!1,!0),a.autoplay&&a.autoplay.running&&a.autoplay.paused&&(clearTimeout(a.autoplay.resizeTimeout),a.autoplay.resizeTimeout=setTimeout(()=>{a.autoplay&&a.autoplay.running&&a.autoplay.paused&&a.autoplay.resume()},500)),a.allowSlidePrev=p,a.allowSlideNext=u,a.params.watchOverflow&&w!==a.snapGrid&&a.checkOverflow()}function Sv(a){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&a.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(a.stopPropagation(),a.stopImmediatePropagation())))}function Fy(){const a=this,{wrapperEl:t,rtlTranslate:o,enabled:u}=a;if(!u)return;let p;a.previousTranslate=a.translate,a.translate=a.isHorizontal()?-t.scrollLeft:-t.scrollTop,0===a.translate&&(a.translate=0),a.updateActiveIndex(),a.updateSlidesClasses();const w=a.maxTranslate()-a.minTranslate();p=0===w?0:(a.translate-a.minTranslate())/w,p!==a.progress&&a.updateProgress(o?-a.translate:a.translate),a.emit("setTranslate",a.translate,!1)}function zp(a){const t=this;md(t,a.target),!t.params.cssMode&&("auto"===t.params.slidesPerView||t.params.autoHeight)&&t.update()}function Dv(){const a=this;a.documentTouchHandlerProceeded||(a.documentTouchHandlerProceeded=!0,a.params.touchReleaseOnEdges&&(a.el.style.touchAction="auto"))}const Hp=(a,t)=>{const o=jo(),{params:u,el:p,wrapperEl:w,device:D}=a,N=!!u.nested,k="on"===t?"addEventListener":"removeEventListener",H=t;o[k]("touchstart",a.onDocumentTouchStart,{passive:!1,capture:N}),p[k]("touchstart",a.onTouchStart,{passive:!1}),p[k]("pointerdown",a.onTouchStart,{passive:!1}),o[k]("touchmove",a.onTouchMove,{passive:!1,capture:N}),o[k]("pointermove",a.onTouchMove,{passive:!1,capture:N}),o[k]("touchend",a.onTouchEnd,{passive:!0}),o[k]("pointerup",a.onTouchEnd,{passive:!0}),o[k]("pointercancel",a.onTouchEnd,{passive:!0}),o[k]("touchcancel",a.onTouchEnd,{passive:!0}),o[k]("pointerout",a.onTouchEnd,{passive:!0}),o[k]("pointerleave",a.onTouchEnd,{passive:!0}),o[k]("contextmenu",a.onTouchEnd,{passive:!0}),(u.preventClicks||u.preventClicksPropagation)&&p[k]("click",a.onClick,!0),u.cssMode&&w[k]("scroll",a.onScroll),a[H](u.updateOnWindowResize?D.ios||D.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Rl,!0),p[k]("load",a.onLoad,{capture:!0})},om=(a,t)=>a.grid&&t.grid&&t.grid.rows>1;var Tv={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function $_(a,t){return function(u){void 0===u&&(u={});const p=Object.keys(u)[0],w=u[p];"object"==typeof w&&null!==w?(!0===a[p]&&(a[p]={enabled:!0}),"navigation"===p&&a[p]&&a[p].enabled&&!a[p].prevEl&&!a[p].nextEl&&(a[p].auto=!0),["pagination","scrollbar"].indexOf(p)>=0&&a[p]&&a[p].enabled&&!a[p].el&&(a[p].auto=!0),p in a&&"enabled"in w?("object"==typeof a[p]&&!("enabled"in a[p])&&(a[p].enabled=!0),a[p]||(a[p]={enabled:!1}),Oa(t,u)):Oa(t,u)):Oa(t,u)}}const Gp={eventsEmitter:{on(a,t,o){const u=this;if(!u.eventsListeners||u.destroyed||"function"!=typeof t)return u;const p=o?"unshift":"push";return a.split(" ").forEach(w=>{u.eventsListeners[w]||(u.eventsListeners[w]=[]),u.eventsListeners[w][p](t)}),u},once(a,t,o){const u=this;if(!u.eventsListeners||u.destroyed||"function"!=typeof t)return u;function p(){u.off(a,p),p.__emitterProxy&&delete p.__emitterProxy;for(var w=arguments.length,D=new Array(w),N=0;N<w;N++)D[N]=arguments[N];t.apply(u,D)}return p.__emitterProxy=t,u.on(a,p,o)},onAny(a,t){const o=this;if(!o.eventsListeners||o.destroyed||"function"!=typeof a)return o;const u=t?"unshift":"push";return o.eventsAnyListeners.indexOf(a)<0&&o.eventsAnyListeners[u](a),o},offAny(a){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const o=t.eventsAnyListeners.indexOf(a);return o>=0&&t.eventsAnyListeners.splice(o,1),t},off(a,t){const o=this;return!o.eventsListeners||o.destroyed||!o.eventsListeners||a.split(" ").forEach(u=>{typeof t>"u"?o.eventsListeners[u]=[]:o.eventsListeners[u]&&o.eventsListeners[u].forEach((p,w)=>{(p===t||p.__emitterProxy&&p.__emitterProxy===t)&&o.eventsListeners[u].splice(w,1)})}),o},emit(){const a=this;if(!a.eventsListeners||a.destroyed||!a.eventsListeners)return a;let t,o,u;for(var p=arguments.length,w=new Array(p),D=0;D<p;D++)w[D]=arguments[D];return"string"==typeof w[0]||Array.isArray(w[0])?(t=w[0],o=w.slice(1,w.length),u=a):(t=w[0].events,o=w[0].data,u=w[0].context||a),o.unshift(u),(Array.isArray(t)?t:t.split(" ")).forEach(k=>{a.eventsAnyListeners&&a.eventsAnyListeners.length&&a.eventsAnyListeners.forEach(H=>{H.apply(u,[k,...o])}),a.eventsListeners&&a.eventsListeners[k]&&a.eventsListeners[k].forEach(H=>{H.apply(u,o)})}),a}},update:{updateSize:function Qg(){const a=this;let t,o;const u=a.el;t=typeof a.params.width<"u"&&null!==a.params.width?a.params.width:u.clientWidth,o=typeof a.params.height<"u"&&null!==a.params.height?a.params.height:u.clientHeight,!(0===t&&a.isHorizontal()||0===o&&a.isVertical())&&(t=t-parseInt(Nu(u,"padding-left")||0,10)-parseInt(Nu(u,"padding-right")||0,10),o=o-parseInt(Nu(u,"padding-top")||0,10)-parseInt(Nu(u,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(o)&&(o=0),Object.assign(a,{width:t,height:o,size:a.isHorizontal()?t:o}))},updateSlides:function M_(){const a=this;function t(fn,Dn){return parseFloat(fn.getPropertyValue(a.getDirectionLabel(Dn))||0)}const o=a.params,{wrapperEl:u,slidesEl:p,size:w,rtlTranslate:D,wrongRTL:N}=a,k=a.virtual&&o.virtual.enabled,H=k?a.virtual.slides.length:a.slides.length,K=Zo(p,`.${a.params.slideClass}, swiper-slide`),Z=k?a.virtual.slides.length:K.length;let te=[];const De=[],Ke=[];let Qe=o.slidesOffsetBefore;"function"==typeof Qe&&(Qe=o.slidesOffsetBefore.call(a));let Je=o.slidesOffsetAfter;"function"==typeof Je&&(Je=o.slidesOffsetAfter.call(a));const gt=a.snapGrid.length,tt=a.slidesGrid.length;let Ye=o.spaceBetween,Ot=-Qe,vn=0,yn=0;if(typeof w>"u")return;"string"==typeof Ye&&Ye.indexOf("%")>=0?Ye=parseFloat(Ye.replace("%",""))/100*w:"string"==typeof Ye&&(Ye=parseFloat(Ye)),a.virtualSize=-Ye,K.forEach(fn=>{D?fn.style.marginLeft="":fn.style.marginRight="",fn.style.marginBottom="",fn.style.marginTop=""}),o.centeredSlides&&o.cssMode&&(dh(u,"--swiper-centered-offset-before",""),dh(u,"--swiper-centered-offset-after",""));const Wn=o.grid&&o.grid.rows>1&&a.grid;let bn;Wn?a.grid.initSlides(K):a.grid&&a.grid.unsetSlides();const Jt="auto"===o.slidesPerView&&o.breakpoints&&Object.keys(o.breakpoints).filter(fn=>typeof o.breakpoints[fn].slidesPerView<"u").length>0;for(let fn=0;fn<Z;fn+=1){let Dn;if(bn=0,K[fn]&&(Dn=K[fn]),Wn&&a.grid.updateSlide(fn,Dn,K),!K[fn]||"none"!==Nu(Dn,"display")){if("auto"===o.slidesPerView){Jt&&(K[fn].style[a.getDirectionLabel("width")]="");const wn=getComputedStyle(Dn),pn=Dn.style.transform,Pt=Dn.style.webkitTransform;if(pn&&(Dn.style.transform="none"),Pt&&(Dn.style.webkitTransform="none"),o.roundLengths)bn=a.isHorizontal()?yv(Dn,"width",!0):yv(Dn,"height",!0);else{const rn=t(wn,"width"),Jn=t(wn,"padding-left"),Yn=t(wn,"padding-right"),Un=t(wn,"margin-left"),zn=t(wn,"margin-right"),Lr=wn.getPropertyValue("box-sizing");if(Lr&&"border-box"===Lr)bn=rn+Un+zn;else{const{clientWidth:ki,offsetWidth:Us}=Dn;bn=rn+Jn+Yn+Un+zn+(Us-ki)}}pn&&(Dn.style.transform=pn),Pt&&(Dn.style.webkitTransform=Pt),o.roundLengths&&(bn=Math.floor(bn))}else bn=(w-(o.slidesPerView-1)*Ye)/o.slidesPerView,o.roundLengths&&(bn=Math.floor(bn)),K[fn]&&(K[fn].style[a.getDirectionLabel("width")]=`${bn}px`);K[fn]&&(K[fn].swiperSlideSize=bn),Ke.push(bn),o.centeredSlides?(Ot=Ot+bn/2+vn/2+Ye,0===vn&&0!==fn&&(Ot=Ot-w/2-Ye),0===fn&&(Ot=Ot-w/2-Ye),Math.abs(Ot)<.001&&(Ot=0),o.roundLengths&&(Ot=Math.floor(Ot)),yn%o.slidesPerGroup==0&&te.push(Ot),De.push(Ot)):(o.roundLengths&&(Ot=Math.floor(Ot)),(yn-Math.min(a.params.slidesPerGroupSkip,yn))%a.params.slidesPerGroup==0&&te.push(Ot),De.push(Ot),Ot=Ot+bn+Ye),a.virtualSize+=bn+Ye,vn=bn,yn+=1}}if(a.virtualSize=Math.max(a.virtualSize,w)+Je,D&&N&&("slide"===o.effect||"coverflow"===o.effect)&&(u.style.width=`${a.virtualSize+Ye}px`),o.setWrapperSize&&(u.style[a.getDirectionLabel("width")]=`${a.virtualSize+Ye}px`),Wn&&a.grid.updateWrapperSize(bn,te),!o.centeredSlides){const fn=[];for(let Dn=0;Dn<te.length;Dn+=1){let wn=te[Dn];o.roundLengths&&(wn=Math.floor(wn)),te[Dn]<=a.virtualSize-w&&fn.push(wn)}te=fn,Math.floor(a.virtualSize-w)-Math.floor(te[te.length-1])>1&&te.push(a.virtualSize-w)}if(k&&o.loop){const fn=Ke[0]+Ye;if(o.slidesPerGroup>1){const Dn=Math.ceil((a.virtual.slidesBefore+a.virtual.slidesAfter)/o.slidesPerGroup),wn=fn*o.slidesPerGroup;for(let pn=0;pn<Dn;pn+=1)te.push(te[te.length-1]+wn)}for(let Dn=0;Dn<a.virtual.slidesBefore+a.virtual.slidesAfter;Dn+=1)1===o.slidesPerGroup&&te.push(te[te.length-1]+fn),De.push(De[De.length-1]+fn),a.virtualSize+=fn}if(0===te.length&&(te=[0]),0!==Ye){const fn=a.isHorizontal()&&D?"marginLeft":a.getDirectionLabel("marginRight");K.filter((Dn,wn)=>!(o.cssMode&&!o.loop)||wn!==K.length-1).forEach(Dn=>{Dn.style[fn]=`${Ye}px`})}if(o.centeredSlides&&o.centeredSlidesBounds){let fn=0;Ke.forEach(wn=>{fn+=wn+(Ye||0)}),fn-=Ye;const Dn=fn-w;te=te.map(wn=>wn<=0?-Qe:wn>Dn?Dn+Je:wn)}if(o.centerInsufficientSlides){let fn=0;if(Ke.forEach(Dn=>{fn+=Dn+(Ye||0)}),fn-=Ye,fn<w){const Dn=(w-fn)/2;te.forEach((wn,pn)=>{te[pn]=wn-Dn}),De.forEach((wn,pn)=>{De[pn]=wn+Dn})}}if(Object.assign(a,{slides:K,snapGrid:te,slidesGrid:De,slidesSizesGrid:Ke}),o.centeredSlides&&o.cssMode&&!o.centeredSlidesBounds){dh(u,"--swiper-centered-offset-before",-te[0]+"px"),dh(u,"--swiper-centered-offset-after",a.size/2-Ke[Ke.length-1]/2+"px");const fn=-a.snapGrid[0],Dn=-a.slidesGrid[0];a.snapGrid=a.snapGrid.map(wn=>wn+fn),a.slidesGrid=a.slidesGrid.map(wn=>wn+Dn)}if(Z!==H&&a.emit("slidesLengthChange"),te.length!==gt&&(a.params.watchOverflow&&a.checkOverflow(),a.emit("snapGridLengthChange")),De.length!==tt&&a.emit("slidesGridLengthChange"),o.watchSlidesProgress&&a.updateSlidesOffset(),a.emit("slidesUpdated"),!(k||o.cssMode||"slide"!==o.effect&&"fade"!==o.effect)){const fn=`${o.containerModifierClass}backface-hidden`,Dn=a.el.classList.contains(fn);Z<=o.maxBackfaceHiddenSlides?Dn||a.el.classList.add(fn):Dn&&a.el.classList.remove(fn)}},updateAutoHeight:function P_(a){const t=this,o=[],u=t.virtual&&t.params.virtual.enabled;let w,p=0;"number"==typeof a?t.setTransition(a):!0===a&&t.setTransition(t.params.speed);const D=N=>u?t.slides[t.getSlideIndexByData(N)]:t.slides[N];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(N=>{o.push(N)});else for(w=0;w<Math.ceil(t.params.slidesPerView);w+=1){const N=t.activeIndex+w;if(N>t.slides.length&&!u)break;o.push(D(N))}else o.push(D(t.activeIndex));for(w=0;w<o.length;w+=1)if(typeof o[w]<"u"){const N=o[w].offsetHeight;p=N>p?N:p}(p||0===p)&&(t.wrapperEl.style.height=`${p}px`)},updateSlidesOffset:function R_(){const a=this,t=a.slides,o=a.isElement?a.isHorizontal()?a.wrapperEl.offsetLeft:a.wrapperEl.offsetTop:0;for(let u=0;u<t.length;u+=1)t[u].swiperSlideOffset=(a.isHorizontal()?t[u].offsetLeft:t[u].offsetTop)-o-a.cssOverflowAdjustment()},updateSlidesProgress:function O_(a){void 0===a&&(a=this&&this.translate||0);const t=this,o=t.params,{slides:u,rtlTranslate:p,snapGrid:w}=t;if(0===u.length)return;typeof u[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let D=-a;p&&(D=a),u.forEach(k=>{k.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let N=o.spaceBetween;"string"==typeof N&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*t.size:"string"==typeof N&&(N=parseFloat(N));for(let k=0;k<u.length;k+=1){const H=u[k];let K=H.swiperSlideOffset;o.cssMode&&o.centeredSlides&&(K-=u[0].swiperSlideOffset);const Z=(D+(o.centeredSlides?t.minTranslate():0)-K)/(H.swiperSlideSize+N),te=(D-w[0]+(o.centeredSlides?t.minTranslate():0)-K)/(H.swiperSlideSize+N),De=-(D-K),Ke=De+t.slidesSizesGrid[k],Qe=De>=0&&De<=t.size-t.slidesSizesGrid[k];(De>=0&&De<t.size-1||Ke>1&&Ke<=t.size||De<=0&&Ke>=t.size)&&(t.visibleSlides.push(H),t.visibleSlidesIndexes.push(k),u[k].classList.add(o.slideVisibleClass)),Qe&&u[k].classList.add(o.slideFullyVisibleClass),H.progress=p?-Z:Z,H.originalProgress=p?-te:te}},updateProgress:function Jg(a){const t=this;typeof a>"u"&&(a=t&&t.translate&&t.translate*(t.rtlTranslate?-1:1)||0);const o=t.params,u=t.maxTranslate()-t.minTranslate();let{progress:p,isBeginning:w,isEnd:D,progressLoop:N}=t;const k=w,H=D;if(0===u)p=0,w=!0,D=!0;else{p=(a-t.minTranslate())/u;const K=Math.abs(a-t.minTranslate())<1,Z=Math.abs(a-t.maxTranslate())<1;w=K||p<=0,D=Z||p>=1,K&&(p=0),Z&&(p=1)}if(o.loop){const K=t.getSlideIndexByData(0),Z=t.getSlideIndexByData(t.slides.length-1),te=t.slidesGrid[K],De=t.slidesGrid[Z],Ke=t.slidesGrid[t.slidesGrid.length-1],Qe=Math.abs(a);N=Qe>=te?(Qe-te)/Ke:(Qe+Ke-De)/Ke,N>1&&(N-=1)}Object.assign(t,{progress:p,progressLoop:N,isBeginning:w,isEnd:D}),(o.watchSlidesProgress||o.centeredSlides&&o.autoHeight)&&t.updateSlidesProgress(a),w&&!k&&t.emit("reachBeginning toEdge"),D&&!H&&t.emit("reachEnd toEdge"),(k&&!w||H&&!D)&&t.emit("fromEdge"),t.emit("progress",p)},updateSlidesClasses:function em(){const a=this,{slides:t,params:o,slidesEl:u,activeIndex:p}=a,w=a.virtual&&o.virtual.enabled,D=a.grid&&o.grid&&o.grid.rows>1,N=Z=>Zo(u,`.${o.slideClass}${Z}, swiper-slide${Z}`)[0];let k,H,K;if(t.forEach(Z=>{Z.classList.remove(o.slideActiveClass,o.slideNextClass,o.slidePrevClass)}),w)if(o.loop){let Z=p-a.virtual.slidesBefore;Z<0&&(Z=a.virtual.slides.length+Z),Z>=a.virtual.slides.length&&(Z-=a.virtual.slides.length),k=N(`[data-swiper-slide-index="${Z}"]`)}else k=N(`[data-swiper-slide-index="${p}"]`);else D?(k=t.filter(Z=>Z.column===p)[0],K=t.filter(Z=>Z.column===p+1)[0],H=t.filter(Z=>Z.column===p-1)[0]):k=t[p];k&&(k.classList.add(o.slideActiveClass),D?(K&&K.classList.add(o.slideNextClass),H&&H.classList.add(o.slidePrevClass)):(K=function Ty(a,t){const o=[];for(;a.nextElementSibling;){const u=a.nextElementSibling;t?u.matches(t)&&o.push(u):o.push(u),a=u}return o}(k,`.${o.slideClass}, swiper-slide`)[0],o.loop&&!K&&(K=t[0]),K&&K.classList.add(o.slideNextClass),H=function Zg(a,t){const o=[];for(;a.previousElementSibling;){const u=a.previousElementSibling;t?u.matches(t)&&o.push(u):o.push(u),a=u}return o}(k,`.${o.slideClass}, swiper-slide`)[0],o.loop&&0===!H&&(H=t[t.length-1]),H&&H.classList.add(o.slidePrevClass))),a.emitSlidesClasses()},updateActiveIndex:function wv(a){const t=this,o=t.rtlTranslate?t.translate:-t.translate,{snapGrid:u,params:p,activeIndex:w,realIndex:D,snapIndex:N}=t;let H,k=a;const K=De=>{let Ke=De-t.virtual.slidesBefore;return Ke<0&&(Ke=t.virtual.slides.length+Ke),Ke>=t.virtual.slides.length&&(Ke-=t.virtual.slides.length),Ke};if(typeof k>"u"&&(k=function _v(a){const{slidesGrid:t,params:o}=a,u=a.rtlTranslate?a.translate:-a.translate;let p;for(let w=0;w<t.length;w+=1)typeof t[w+1]<"u"?u>=t[w]&&u<t[w+1]-(t[w+1]-t[w])/2?p=w:u>=t[w]&&u<t[w+1]&&(p=w+1):u>=t[w]&&(p=w);return o.normalizeSlideIndex&&(p<0||typeof p>"u")&&(p=0),p}(t)),u.indexOf(o)>=0)H=u.indexOf(o);else{const De=Math.min(p.slidesPerGroupSkip,k);H=De+Math.floor((k-De)/p.slidesPerGroup)}if(H>=u.length&&(H=u.length-1),k===w&&!t.params.loop)return void(H!==N&&(t.snapIndex=H,t.emit("snapIndexChange")));if(k===w&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=K(k));const Z=t.grid&&p.grid&&p.grid.rows>1;let te;if(t.virtual&&p.virtual.enabled&&p.loop)te=K(k);else if(Z){const De=t.slides.filter(Qe=>Qe.column===k)[0];let Ke=parseInt(De.getAttribute("data-swiper-slide-index"),10);Number.isNaN(Ke)&&(Ke=Math.max(t.slides.indexOf(De),0)),te=Math.floor(Ke/p.grid.rows)}else if(t.slides[k]){const De=t.slides[k].getAttribute("data-swiper-slide-index");te=De?parseInt(De,10):k}else te=k;Object.assign(t,{previousSnapIndex:N,snapIndex:H,previousRealIndex:D,realIndex:te,previousIndex:w,activeIndex:k}),t.initialized&&ph(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(D!==te&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function tm(a,t){const o=this,u=o.params;let p=a.closest(`.${u.slideClass}, swiper-slide`);!p&&o.isElement&&t&&t.length>1&&t.includes(a)&&[...t.slice(t.indexOf(a)+1,t.length)].forEach(N=>{!p&&N.matches&&N.matches(`.${u.slideClass}, swiper-slide`)&&(p=N)});let D,w=!1;if(p)for(let N=0;N<o.slides.length;N+=1)if(o.slides[N]===p){w=!0,D=N;break}if(!p||!w)return o.clickedSlide=void 0,void(o.clickedIndex=void 0);o.clickedSlide=p,o.clickedIndex=o.virtual&&o.params.virtual.enabled?parseInt(p.getAttribute("data-swiper-slide-index"),10):D,u.slideToClickedSlide&&void 0!==o.clickedIndex&&o.clickedIndex!==o.activeIndex&&o.slideToClickedSlide()}},translate:{getTranslate:function Ry(a){void 0===a&&(a=this.isHorizontal()?"x":"y");const{params:o,rtlTranslate:u,translate:p,wrapperEl:w}=this;if(o.virtualTranslate)return u?-p:p;if(o.cssMode)return p;let D=ac(w,a);return D+=this.cssOverflowAdjustment(),u&&(D=-D),D||0},setTranslate:function nm(a,t){const o=this,{rtlTranslate:u,params:p,wrapperEl:w,progress:D}=o;let K,N=0,k=0;o.isHorizontal()?N=u?-a:a:k=a,p.roundLengths&&(N=Math.floor(N),k=Math.floor(k)),o.previousTranslate=o.translate,o.translate=o.isHorizontal()?N:k,p.cssMode?w[o.isHorizontal()?"scrollLeft":"scrollTop"]=o.isHorizontal()?-N:-k:p.virtualTranslate||(o.isHorizontal()?N-=o.cssOverflowAdjustment():k-=o.cssOverflowAdjustment(),w.style.transform=`translate3d(${N}px, ${k}px, 0px)`);const Z=o.maxTranslate()-o.minTranslate();K=0===Z?0:(a-o.minTranslate())/Z,K!==D&&o.updateProgress(a),o.emit("setTranslate",o.translate,t)},minTranslate:function Oy(){return-this.snapGrid[0]},maxTranslate:function rm(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function bv(a,t,o,u,p){void 0===a&&(a=0),void 0===t&&(t=this.params.speed),void 0===o&&(o=!0),void 0===u&&(u=!0);const w=this,{params:D,wrapperEl:N}=w;if(w.animating&&D.preventInteractionOnTransition)return!1;const k=w.minTranslate(),H=w.maxTranslate();let K;if(K=u&&a>k?k:u&&a<H?H:a,w.updateProgress(K),D.cssMode){const Z=w.isHorizontal();if(0===t)N[Z?"scrollLeft":"scrollTop"]=-K;else{if(!w.support.smoothScroll)return Dy({swiper:w,targetPosition:-K,side:Z?"left":"top"}),!0;N.scrollTo({[Z?"left":"top"]:-K,behavior:"smooth"})}return!0}return 0===t?(w.setTransition(0),w.setTranslate(K),o&&(w.emit("beforeTransitionStart",t,p),w.emit("transitionEnd"))):(w.setTransition(t),w.setTranslate(K),o&&(w.emit("beforeTransitionStart",t,p),w.emit("transitionStart")),w.animating||(w.animating=!0,w.onTranslateToWrapperTransitionEnd||(w.onTranslateToWrapperTransitionEnd=function(te){!w||w.destroyed||te.target===this&&(w.wrapperEl.removeEventListener("transitionend",w.onTranslateToWrapperTransitionEnd),w.onTranslateToWrapperTransitionEnd=null,delete w.onTranslateToWrapperTransitionEnd,o&&w.emit("transitionEnd"))}),w.wrapperEl.addEventListener("transitionend",w.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function Ny(a,t){const o=this;o.params.cssMode||(o.wrapperEl.style.transitionDuration=`${a}ms`,o.wrapperEl.style.transitionDelay=0===a?"0ms":""),o.emit("setTransition",a,t)},transitionStart:function ky(a,t){void 0===a&&(a=!0);const o=this,{params:u}=o;u.cssMode||(u.autoHeight&&o.updateAutoHeight(),Iv({swiper:o,runCallbacks:a,direction:t,step:"Start"}))},transitionEnd:function g0(a,t){void 0===a&&(a=!0);const o=this,{params:u}=o;o.animating=!1,!u.cssMode&&(o.setTransition(0),Iv({swiper:o,runCallbacks:a,direction:t,step:"End"}))}},slide:{slideTo:function N_(a,t,o,u,p){void 0===a&&(a=0),void 0===t&&(t=this.params.speed),void 0===o&&(o=!0),"string"==typeof a&&(a=parseInt(a,10));const w=this;let D=a;D<0&&(D=0);const{params:N,snapGrid:k,slidesGrid:H,previousIndex:K,activeIndex:Z,rtlTranslate:te,wrapperEl:De,enabled:Ke}=w;if(w.animating&&N.preventInteractionOnTransition||!Ke&&!u&&!p)return!1;const Qe=Math.min(w.params.slidesPerGroupSkip,D);let Je=Qe+Math.floor((D-Qe)/w.params.slidesPerGroup);Je>=k.length&&(Je=k.length-1);const gt=-k[Je];if(N.normalizeSlideIndex)for(let Ye=0;Ye<H.length;Ye+=1){const Ot=-Math.floor(100*gt),vn=Math.floor(100*H[Ye]),yn=Math.floor(100*H[Ye+1]);typeof H[Ye+1]<"u"?Ot>=vn&&Ot<yn-(yn-vn)/2?D=Ye:Ot>=vn&&Ot<yn&&(D=Ye+1):Ot>=vn&&(D=Ye)}if(w.initialized&&D!==Z&&(!w.allowSlideNext&&(te?gt>w.translate&&gt>w.minTranslate():gt<w.translate&&gt<w.minTranslate())||!w.allowSlidePrev&&gt>w.translate&&gt>w.maxTranslate()&&(Z||0)!==D))return!1;let tt;if(D!==(K||0)&&o&&w.emit("beforeSlideChangeStart"),w.updateProgress(gt),tt=D>Z?"next":D<Z?"prev":"reset",te&&-gt===w.translate||!te&&gt===w.translate)return w.updateActiveIndex(D),N.autoHeight&&w.updateAutoHeight(),w.updateSlidesClasses(),"slide"!==N.effect&&w.setTranslate(gt),"reset"!==tt&&(w.transitionStart(o,tt),w.transitionEnd(o,tt)),!1;if(N.cssMode){const Ye=w.isHorizontal(),Ot=te?gt:-gt;if(0===t){const vn=w.virtual&&w.params.virtual.enabled;vn&&(w.wrapperEl.style.scrollSnapType="none",w._immediateVirtual=!0),vn&&!w._cssModeVirtualInitialSet&&w.params.initialSlide>0?(w._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{De[Ye?"scrollLeft":"scrollTop"]=Ot})):De[Ye?"scrollLeft":"scrollTop"]=Ot,vn&&requestAnimationFrame(()=>{w.wrapperEl.style.scrollSnapType="",w._immediateVirtual=!1})}else{if(!w.support.smoothScroll)return Dy({swiper:w,targetPosition:Ot,side:Ye?"left":"top"}),!0;De.scrollTo({[Ye?"left":"top"]:Ot,behavior:"smooth"})}return!0}return w.setTransition(t),w.setTranslate(gt),w.updateActiveIndex(D),w.updateSlidesClasses(),w.emit("beforeTransitionStart",t,u),w.transitionStart(o,tt),0===t?w.transitionEnd(o,tt):w.animating||(w.animating=!0,w.onSlideToWrapperTransitionEnd||(w.onSlideToWrapperTransitionEnd=function(Ot){!w||w.destroyed||Ot.target===this&&(w.wrapperEl.removeEventListener("transitionend",w.onSlideToWrapperTransitionEnd),w.onSlideToWrapperTransitionEnd=null,delete w.onSlideToWrapperTransitionEnd,w.transitionEnd(o,tt))}),w.wrapperEl.addEventListener("transitionend",w.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function Ly(a,t,o,u){void 0===a&&(a=0),void 0===t&&(t=this.params.speed),void 0===o&&(o=!0),"string"==typeof a&&(a=parseInt(a,10));const p=this,w=p.grid&&p.params.grid&&p.params.grid.rows>1;let D=a;if(p.params.loop)if(p.virtual&&p.params.virtual.enabled)D+=p.virtual.slidesBefore;else{let N;if(w){const te=D*p.params.grid.rows;N=p.slides.filter(De=>1*De.getAttribute("data-swiper-slide-index")===te)[0].column}else N=p.getSlideIndexByData(D);const k=w?Math.ceil(p.slides.length/p.params.grid.rows):p.slides.length,{centeredSlides:H}=p.params;let K=p.params.slidesPerView;"auto"===K?K=p.slidesPerViewDynamic():(K=Math.ceil(parseFloat(p.params.slidesPerView,10)),H&&K%2==0&&(K+=1));let Z=k-N<K;if(H&&(Z=Z||N<Math.ceil(K/2)),Z){const te=H?N<p.activeIndex?"prev":"next":N-p.activeIndex-1<p.params.slidesPerView?"next":"prev";p.loopFix({direction:te,slideTo:!0,activeSlideIndex:"next"===te?N+1:N-k+1,slideRealIndex:"next"===te?p.realIndex:void 0})}if(w){const te=D*p.params.grid.rows;D=p.slides.filter(De=>1*De.getAttribute("data-swiper-slide-index")===te)[0].column}else D=p.getSlideIndexByData(D)}return requestAnimationFrame(()=>{p.slideTo(D,t,o,u)}),p},slideNext:function Cv(a,t,o){void 0===a&&(a=this.params.speed),void 0===t&&(t=!0);const u=this,{enabled:p,params:w,animating:D}=u;if(!p)return u;let N=w.slidesPerGroup;"auto"===w.slidesPerView&&1===w.slidesPerGroup&&w.slidesPerGroupAuto&&(N=Math.max(u.slidesPerViewDynamic("current",!0),1));const k=u.activeIndex<w.slidesPerGroupSkip?1:N;if(w.loop){if(D&&(!u.virtual||!w.virtual.enabled)&&w.loopPreventsSliding)return!1;if(u.loopFix({direction:"next"}),u._clientLeft=u.wrapperEl.clientLeft,u.activeIndex===u.slides.length-1&&w.cssMode)return requestAnimationFrame(()=>{u.slideTo(u.activeIndex+k,a,t,o)}),!0}return u.slideTo(w.rewind&&u.isEnd?0:u.activeIndex+k,a,t,o)},slidePrev:function k_(a,t,o){void 0===a&&(a=this.params.speed),void 0===t&&(t=!0);const u=this,{params:p,snapGrid:w,slidesGrid:D,rtlTranslate:N,enabled:k,animating:H}=u;if(!k)return u;if(p.loop){if(H&&(!u.virtual||!p.virtual.enabled)&&p.loopPreventsSliding)return!1;u.loopFix({direction:"prev"}),u._clientLeft=u.wrapperEl.clientLeft}function te(gt){return gt<0?-Math.floor(Math.abs(gt)):Math.floor(gt)}const De=te(N?u.translate:-u.translate),Ke=w.map(gt=>te(gt));let Qe=w[Ke.indexOf(De)-1];if(typeof Qe>"u"&&p.cssMode){let gt;w.forEach((tt,Ye)=>{De>=tt&&(gt=Ye)}),typeof gt<"u"&&(Qe=w[gt>0?gt-1:gt])}let Je=0;return typeof Qe<"u"&&(Je=D.indexOf(Qe),Je<0&&(Je=u.activeIndex-1),"auto"===p.slidesPerView&&1===p.slidesPerGroup&&p.slidesPerGroupAuto&&(Je=Je-u.slidesPerViewDynamic("previous",!0)+1,Je=Math.max(Je,0))),p.rewind&&u.isBeginning?u.slideTo(u.params.virtual&&u.params.virtual.enabled&&u.virtual?u.virtual.slides.length-1:u.slides.length-1,a,t,o):p.loop&&0===u.activeIndex&&p.cssMode?(requestAnimationFrame(()=>{u.slideTo(Je,a,t,o)}),!0):u.slideTo(Je,a,t,o)},slideReset:function Wc(a,t,o){return void 0===a&&(a=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,a,t,o)},slideToClosest:function jp(a,t,o,u){void 0===a&&(a=this.params.speed),void 0===t&&(t=!0),void 0===u&&(u=.5);const p=this;let w=p.activeIndex;const D=Math.min(p.params.slidesPerGroupSkip,w),N=D+Math.floor((w-D)/p.params.slidesPerGroup),k=p.rtlTranslate?p.translate:-p.translate;if(k>=p.snapGrid[N]){const H=p.snapGrid[N];k-H>(p.snapGrid[N+1]-H)*u&&(w+=p.params.slidesPerGroup)}else{const H=p.snapGrid[N-1];k-H<=(p.snapGrid[N]-H)*u&&(w-=p.params.slidesPerGroup)}return w=Math.max(w,0),w=Math.min(w,p.slidesGrid.length-1),p.slideTo(w,a,t,o)},slideToClickedSlide:function oa(){const a=this,{params:t,slidesEl:o}=a,u="auto"===t.slidesPerView?a.slidesPerViewDynamic():t.slidesPerView;let w,p=a.clickedIndex;const D=a.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(a.animating)return;w=parseInt(a.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?p<a.loopedSlides-u/2||p>a.slides.length-a.loopedSlides+u/2?(a.loopFix(),p=a.getSlideIndex(Zo(o,`${D}[data-swiper-slide-index="${w}"]`)[0]),Hc(()=>{a.slideTo(p)})):a.slideTo(p):p>a.slides.length-u?(a.loopFix(),p=a.getSlideIndex(Zo(o,`${D}[data-swiper-slide-index="${w}"]`)[0]),Hc(()=>{a.slideTo(p)})):a.slideTo(p)}else a.slideTo(p)}},loop:{loopCreate:function kf(a){const t=this,{params:o,slidesEl:u}=t;if(!o.loop||t.virtual&&t.params.virtual.enabled)return;const p=()=>{Zo(u,`.${o.slideClass}, swiper-slide`).forEach((Z,te)=>{Z.setAttribute("data-swiper-slide-index",te)})},w=t.grid&&o.grid&&o.grid.rows>1,D=o.slidesPerGroup*(w?o.grid.rows:1),k=w&&t.slides.length%o.grid.rows!=0,H=K=>{for(let Z=0;Z<K;Z+=1){const te=t.isElement?va("swiper-slide",[o.slideBlankClass]):va("div",[o.slideClass,o.slideBlankClass]);t.slidesEl.append(te)}};t.slides.length%D!=0?(o.loopAddBlankSlides?(H(D-t.slides.length%D),t.recalcSlides(),t.updateSlides()):Rf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),p()):k?(o.loopAddBlankSlides?(H(o.grid.rows-t.slides.length%o.grid.rows),t.recalcSlides(),t.updateSlides()):Rf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),p()):p(),t.loopFix({slideRealIndex:a,direction:o.centeredSlides?void 0:"next"})},loopFix:function ul(a){let{slideRealIndex:t,slideTo:o=!0,direction:u,setTranslate:p,activeSlideIndex:w,byController:D,byMousewheel:N}=void 0===a?{}:a;const k=this;if(!k.params.loop)return;k.emit("beforeLoopFix");const{slides:H,allowSlidePrev:K,allowSlideNext:Z,slidesEl:te,params:De}=k,{centeredSlides:Ke}=De;if(k.allowSlidePrev=!0,k.allowSlideNext=!0,k.virtual&&De.virtual.enabled)return o&&(De.centeredSlides||0!==k.snapIndex?De.centeredSlides&&k.snapIndex<De.slidesPerView?k.slideTo(k.virtual.slides.length+k.snapIndex,0,!1,!0):k.snapIndex===k.snapGrid.length-1&&k.slideTo(k.virtual.slidesBefore,0,!1,!0):k.slideTo(k.virtual.slides.length,0,!1,!0)),k.allowSlidePrev=K,k.allowSlideNext=Z,void k.emit("loopFix");let Qe=De.slidesPerView;"auto"===Qe?Qe=k.slidesPerViewDynamic():(Qe=Math.ceil(parseFloat(De.slidesPerView,10)),Ke&&Qe%2==0&&(Qe+=1));const Je=De.slidesPerGroupAuto?Qe:De.slidesPerGroup;let gt=Je;gt%Je!=0&&(gt+=Je-gt%Je),gt+=De.loopAdditionalSlides,k.loopedSlides=gt;const tt=k.grid&&De.grid&&De.grid.rows>1;H.length<Qe+gt?Rf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):tt&&"row"===De.grid.fill&&Rf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Ye=[],Ot=[];let vn=k.activeIndex;typeof w>"u"?w=k.getSlideIndex(H.filter(pn=>pn.classList.contains(De.slideActiveClass))[0]):vn=w;const yn="next"===u||!u,Wn="prev"===u||!u;let bn=0,Jt=0;const fn=tt?Math.ceil(H.length/De.grid.rows):H.length,wn=(tt?H[w].column:w)+(Ke&&typeof p>"u"?-Qe/2+.5:0);if(wn<gt){bn=Math.max(gt-wn,Je);for(let pn=0;pn<gt-wn;pn+=1){const Pt=pn-Math.floor(pn/fn)*fn;if(tt){const rn=fn-Pt-1;for(let Jn=H.length-1;Jn>=0;Jn-=1)H[Jn].column===rn&&Ye.push(Jn)}else Ye.push(fn-Pt-1)}}else if(wn+Qe>fn-gt){Jt=Math.max(wn-(fn-2*gt),Je);for(let pn=0;pn<Jt;pn+=1){const Pt=pn-Math.floor(pn/fn)*fn;tt?H.forEach((rn,Jn)=>{rn.column===Pt&&Ot.push(Jn)}):Ot.push(Pt)}}if(k.__preventObserver__=!0,requestAnimationFrame(()=>{k.__preventObserver__=!1}),Wn&&Ye.forEach(pn=>{H[pn].swiperLoopMoveDOM=!0,te.prepend(H[pn]),H[pn].swiperLoopMoveDOM=!1}),yn&&Ot.forEach(pn=>{H[pn].swiperLoopMoveDOM=!0,te.append(H[pn]),H[pn].swiperLoopMoveDOM=!1}),k.recalcSlides(),"auto"===De.slidesPerView?k.updateSlides():tt&&(Ye.length>0&&Wn||Ot.length>0&&yn)&&k.slides.forEach((pn,Pt)=>{k.grid.updateSlide(Pt,pn,k.slides)}),De.watchSlidesProgress&&k.updateSlidesOffset(),o)if(Ye.length>0&&Wn)if(typeof t>"u"){const rn=k.slidesGrid[vn+bn]-k.slidesGrid[vn];N?k.setTranslate(k.translate-rn):(k.slideTo(vn+bn,0,!1,!0),p&&(k.touchEventsData.startTranslate=k.touchEventsData.startTranslate-rn,k.touchEventsData.currentTranslate=k.touchEventsData.currentTranslate-rn))}else p&&(k.slideTo(k.activeIndex+(tt?Ye.length/De.grid.rows:Ye.length),0,!1,!0),k.touchEventsData.currentTranslate=k.translate);else if(Ot.length>0&&yn)if(typeof t>"u"){const rn=k.slidesGrid[vn-Jt]-k.slidesGrid[vn];N?k.setTranslate(k.translate-rn):(k.slideTo(vn-Jt,0,!1,!0),p&&(k.touchEventsData.startTranslate=k.touchEventsData.startTranslate-rn,k.touchEventsData.currentTranslate=k.touchEventsData.currentTranslate-rn))}else k.slideTo(k.activeIndex-(tt?Ot.length/De.grid.rows:Ot.length),0,!1,!0);if(k.allowSlidePrev=K,k.allowSlideNext=Z,k.controller&&k.controller.control&&!D){const pn={slideRealIndex:t,direction:u,setTranslate:p,activeSlideIndex:w,byController:!0};Array.isArray(k.controller.control)?k.controller.control.forEach(Pt=>{!Pt.destroyed&&Pt.params.loop&&Pt.loopFix({...pn,slideTo:Pt.params.slidesPerView===De.slidesPerView&&o})}):k.controller.control instanceof k.constructor&&k.controller.control.params.loop&&k.controller.control.loopFix({...pn,slideTo:k.controller.control.params.slidesPerView===De.slidesPerView&&o})}k.emit("loopFix")},loopDestroy:function im(){const a=this,{params:t,slidesEl:o}=a;if(!t.loop||a.virtual&&a.params.virtual.enabled)return;a.recalcSlides();const u=[];a.slides.forEach(p=>{const w=typeof p.swiperSlideIndex>"u"?1*p.getAttribute("data-swiper-slide-index"):p.swiperSlideIndex;u[w]=p}),a.slides.forEach(p=>{p.removeAttribute("data-swiper-slide-index")}),u.forEach(p=>{o.append(p)}),a.recalcSlides(),a.slideTo(a.realIndex,0)}},grabCursor:{setGrabCursor:function Lu(a){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const o="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),o.style.cursor="move",o.style.cursor=a?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function es(){const a=this;a.params.watchOverflow&&a.isLocked||a.params.cssMode||(a.isElement&&(a.__preventObserver__=!0),a["container"===a.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",a.isElement&&requestAnimationFrame(()=>{a.__preventObserver__=!1}))}},events:{attachEvents:function By(){const a=this,{params:t}=a;a.onTouchStart=yh.bind(a),a.onTouchMove=As.bind(a),a.onTouchEnd=go.bind(a),a.onDocumentTouchStart=Dv.bind(a),t.cssMode&&(a.onScroll=Fy.bind(a)),a.onClick=Sv.bind(a),a.onLoad=zp.bind(a),Hp(a,"on")},detachEvents:function sm(){Hp(this,"off")}},breakpoints:{setBreakpoint:function Zs(){const a=this,{realIndex:t,initialized:o,params:u,el:p}=a,w=u.breakpoints;if(!w||w&&0===Object.keys(w).length)return;const D=a.getBreakpoint(w,a.params.breakpointsBase,a.el);if(!D||a.currentBreakpoint===D)return;const k=(D in w?w[D]:void 0)||a.originalParams,H=om(a,u),K=om(a,k),Z=u.enabled;H&&!K?(p.classList.remove(`${u.containerModifierClass}grid`,`${u.containerModifierClass}grid-column`),a.emitContainerClasses()):!H&&K&&(p.classList.add(`${u.containerModifierClass}grid`),(k.grid.fill&&"column"===k.grid.fill||!k.grid.fill&&"column"===u.grid.fill)&&p.classList.add(`${u.containerModifierClass}grid-column`),a.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(gt=>{if(typeof k[gt]>"u")return;const tt=u[gt]&&u[gt].enabled,Ye=k[gt]&&k[gt].enabled;tt&&!Ye&&a[gt].disable(),!tt&&Ye&&a[gt].enable()});const te=k.direction&&k.direction!==u.direction,De=u.loop&&(k.slidesPerView!==u.slidesPerView||te),Ke=u.loop;te&&o&&a.changeDirection(),Oa(a.params,k);const Qe=a.params.enabled,Je=a.params.loop;Object.assign(a,{allowTouchMove:a.params.allowTouchMove,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev}),Z&&!Qe?a.disable():!Z&&Qe&&a.enable(),a.currentBreakpoint=D,a.emit("_beforeBreakpoint",k),o&&(De?(a.loopDestroy(),a.loopCreate(t),a.updateSlides()):!Ke&&Je?(a.loopCreate(t),a.updateSlides()):Ke&&!Je&&a.loopDestroy()),a.emit("breakpoint",k)},getBreakpoint:function B0(a,t,o){if(void 0===t&&(t="window"),!a||"container"===t&&!o)return;let u=!1;const p=qs(),w="window"===t?p.innerHeight:o.clientHeight,D=Object.keys(a).map(N=>{if("string"==typeof N&&0===N.indexOf("@")){const k=parseFloat(N.substr(1));return{value:w*k,point:N}}return{value:N,point:N}});D.sort((N,k)=>parseInt(N.value,10)-parseInt(k.value,10));for(let N=0;N<D.length;N+=1){const{point:k,value:H}=D[N];"window"===t?p.matchMedia(`(min-width: ${H}px)`).matches&&(u=k):H<=o.clientWidth&&(u=k)}return u||"max"}},checkOverflow:{checkOverflow:function F_(){const a=this,{isLocked:t,params:o}=a,{slidesOffsetBefore:u}=o;if(u){const p=a.slides.length-1;a.isLocked=a.size>a.slidesGrid[p]+a.slidesSizesGrid[p]+2*u}else a.isLocked=1===a.snapGrid.length;!0===o.allowSlideNext&&(a.allowSlideNext=!a.isLocked),!0===o.allowSlidePrev&&(a.allowSlidePrev=!a.isLocked),t&&t!==a.isLocked&&(a.isEnd=!1),t!==a.isLocked&&a.emit(a.isLocked?"lock":"unlock")}},classes:{addClasses:function Uy(){const a=this,{classNames:t,params:o,rtl:u,el:p,device:w}=a,D=function _o(a,t){const o=[];return a.forEach(u=>{"object"==typeof u?Object.keys(u).forEach(p=>{u[p]&&o.push(t+p)}):"string"==typeof u&&o.push(t+u)}),o}(["initialized",o.direction,{"free-mode":a.params.freeMode&&o.freeMode.enabled},{autoheight:o.autoHeight},{rtl:u},{grid:o.grid&&o.grid.rows>1},{"grid-column":o.grid&&o.grid.rows>1&&"column"===o.grid.fill},{android:w.android},{ios:w.ios},{"css-mode":o.cssMode},{centered:o.cssMode&&o.centeredSlides},{"watch-progress":o.watchSlidesProgress}],o.containerModifierClass);t.push(...D),p.classList.add(...t),a.emitContainerClasses()},removeClasses:function m0(){const{el:t,classNames:o}=this;t.classList.remove(...o),this.emitContainerClasses()}}},Lf={};class Na{constructor(){let t,o;for(var u=arguments.length,p=new Array(u),w=0;w<u;w++)p[w]=arguments[w];1===p.length&&p[0].constructor&&"Object"===Object.prototype.toString.call(p[0]).slice(8,-1)?o=p[0]:[t,o]=p,o||(o={}),o=Oa({},o),t&&!o.el&&(o.el=t);const D=jo();if(o.el&&"string"==typeof o.el&&D.querySelectorAll(o.el).length>1){const K=[];return D.querySelectorAll(o.el).forEach(Z=>{const te=Oa({},o,{el:Z});K.push(new Na(te))}),K}const N=this;N.__swiper__=!0,N.support=gd(),N.device=function xy(a){return void 0===a&&(a={}),Bp||(Bp=function Xg(a){let{userAgent:t}=void 0===a?{}:a;const o=gd(),u=qs(),p=u.navigator.platform,w=t||u.navigator.userAgent,D={ios:!1,android:!1},N=u.screen.width,k=u.screen.height,H=w.match(/(Android);?[\s\/]+([\d.]+)?/);let K=w.match(/(iPad).*OS\s([\d_]+)/);const Z=w.match(/(iPod)(.*OS\s([\d_]+))?/),te=!K&&w.match(/(iPhone\sOS|iOS)\s([\d_]+)/),De="Win32"===p;let Ke="MacIntel"===p;return!K&&Ke&&o.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${N}x${k}`)>=0&&(K=w.match(/(Version)\/([\d.]+)/),K||(K=[0,1,"13_0_0"]),Ke=!1),H&&!De&&(D.os="android",D.android=!0),(K||te||Z)&&(D.os="ios",D.ios=!0),D}(a)),Bp}({userAgent:o.userAgent}),N.browser=function fh(){return hh||(hh=function x_(){const a=qs();let t=!1;function o(){const u=a.navigator.userAgent.toLowerCase();return u.indexOf("safari")>=0&&u.indexOf("chrome")<0&&u.indexOf("android")<0}if(o()){const u=String(a.navigator.userAgent);if(u.includes("Version/")){const[p,w]=u.split("Version/")[1].split(" ")[0].split(".").map(D=>Number(D));t=p<16||16===p&&w<2}}return{isSafari:t||o(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(a.navigator.userAgent)}}()),hh}(),N.eventsListeners={},N.eventsAnyListeners=[],N.modules=[...N.__modules__],o.modules&&Array.isArray(o.modules)&&N.modules.push(...o.modules);const k={};N.modules.forEach(K=>{K({params:o,swiper:N,extendParams:$_(o,k),on:N.on.bind(N),once:N.once.bind(N),off:N.off.bind(N),emit:N.emit.bind(N)})});const H=Oa({},Tv,k);return N.params=Oa({},H,Lf,o),N.originalParams=Oa({},N.params),N.passedParams=Oa({},o),N.params&&N.params.on&&Object.keys(N.params.on).forEach(K=>{N.on(K,N.params.on[K])}),N.params&&N.params.onAny&&N.onAny(N.params.onAny),Object.assign(N,{enabled:N.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===N.params.direction,isVertical:()=>"vertical"===N.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:N.params.allowSlideNext,allowSlidePrev:N.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:N.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:N.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),N.emit("_swiper"),N.params.init&&N.init(),N}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:o,params:u}=this,w=pd(Zo(o,`.${u.slideClass}, swiper-slide`)[0]);return pd(t)-w}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(o=>1*o.getAttribute("data-swiper-slide-index")===t)[0])}recalcSlides(){const{slidesEl:o,params:u}=this;this.slides=Zo(o,`.${u.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,o){const u=this;t=Math.min(Math.max(t,0),1);const p=u.minTranslate(),D=(u.maxTranslate()-p)*t+p;u.translateTo(D,typeof o>"u"?0:o),u.updateActiveIndex(),u.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const o=t.el.className.split(" ").filter(u=>0===u.indexOf("swiper")||0===u.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",o.join(" "))}getSlideClasses(t){const o=this;return o.destroyed?"":t.className.split(" ").filter(u=>0===u.indexOf("swiper-slide")||0===u.indexOf(o.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const o=[];t.slides.forEach(u=>{const p=t.getSlideClasses(u);o.push({slideEl:u,classNames:p}),t.emit("_slideClass",u,p)}),t.emit("_slideClasses",o)}slidesPerViewDynamic(t,o){void 0===t&&(t="current"),void 0===o&&(o=!1);const{params:p,slides:w,slidesGrid:D,slidesSizesGrid:N,size:k,activeIndex:H}=this;let K=1;if("number"==typeof p.slidesPerView)return p.slidesPerView;if(p.centeredSlides){let te,Z=w[H]?w[H].swiperSlideSize:0;for(let De=H+1;De<w.length;De+=1)w[De]&&!te&&(Z+=w[De].swiperSlideSize,K+=1,Z>k&&(te=!0));for(let De=H-1;De>=0;De-=1)w[De]&&!te&&(Z+=w[De].swiperSlideSize,K+=1,Z>k&&(te=!0))}else if("current"===t)for(let Z=H+1;Z<w.length;Z+=1)(o?D[Z]+N[Z]-D[H]<k:D[Z]-D[H]<k)&&(K+=1);else for(let Z=H-1;Z>=0;Z-=1)D[H]-D[Z]<k&&(K+=1);return K}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:o,params:u}=t;function p(){const N=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(N),t.updateActiveIndex(),t.updateSlidesClasses()}let w;u.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(D=>{D.complete&&md(t,D)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),u.freeMode&&u.freeMode.enabled&&!u.cssMode?(p(),u.autoHeight&&t.updateAutoHeight()):(w=t.slideTo(("auto"===u.slidesPerView||u.slidesPerView>1)&&t.isEnd&&!u.centeredSlides?(t.virtual&&u.virtual.enabled?t.virtual.slides:t.slides).length-1:t.activeIndex,0,!1,!0),w||p()),u.watchOverflow&&o!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,o){void 0===o&&(o=!0);const u=this,p=u.params.direction;return t||(t="horizontal"===p?"vertical":"horizontal"),t===p||"horizontal"!==t&&"vertical"!==t||(u.el.classList.remove(`${u.params.containerModifierClass}${p}`),u.el.classList.add(`${u.params.containerModifierClass}${t}`),u.emitContainerClasses(),u.params.direction=t,u.slides.forEach(w=>{"vertical"===t?w.style.width="":w.style.height=""}),u.emit("changeDirection"),o&&u.update()),u}changeLanguageDirection(t){const o=this;o.rtl&&"rtl"===t||!o.rtl&&"ltr"===t||(o.rtl="rtl"===t,o.rtlTranslate="horizontal"===o.params.direction&&o.rtl,o.rtl?(o.el.classList.add(`${o.params.containerModifierClass}rtl`),o.el.dir="rtl"):(o.el.classList.remove(`${o.params.containerModifierClass}rtl`),o.el.dir="ltr"),o.update())}mount(t){const o=this;if(o.mounted)return!0;let u=t||o.params.el;if("string"==typeof u&&(u=document.querySelector(u)),!u)return!1;u.swiper=o,u.parentNode&&u.parentNode.host&&"SWIPER-CONTAINER"===u.parentNode.host.nodeName&&(o.isElement=!0);const p=()=>`.${(o.params.wrapperClass||"").trim().split(" ").join(".")}`;let D=u&&u.shadowRoot&&u.shadowRoot.querySelector?u.shadowRoot.querySelector(p()):Zo(u,p())[0];return!D&&o.params.createElements&&(D=va("div",o.params.wrapperClass),u.append(D),Zo(u,`.${o.params.slideClass}`).forEach(N=>{D.append(N)})),Object.assign(o,{el:u,wrapperEl:D,slidesEl:o.isElement&&!u.parentNode.host.slideSlots?u.parentNode.host:D,hostEl:o.isElement?u.parentNode.host:u,mounted:!0,rtl:"rtl"===u.dir.toLowerCase()||"rtl"===Nu(u,"direction"),rtlTranslate:"horizontal"===o.params.direction&&("rtl"===u.dir.toLowerCase()||"rtl"===Nu(u,"direction")),wrongRTL:"-webkit-box"===Nu(D,"display")}),!0}init(t){const o=this;if(o.initialized||!1===o.mount(t))return o;o.emit("beforeInit"),o.params.breakpoints&&o.setBreakpoint(),o.addClasses(),o.updateSize(),o.updateSlides(),o.params.watchOverflow&&o.checkOverflow(),o.params.grabCursor&&o.enabled&&o.setGrabCursor(),o.slideTo(o.params.loop&&o.virtual&&o.params.virtual.enabled?o.params.initialSlide+o.virtual.slidesBefore:o.params.initialSlide,0,o.params.runCallbacksOnInit,!1,!0),o.params.loop&&o.loopCreate(),o.attachEvents();const p=[...o.el.querySelectorAll('[loading="lazy"]')];return o.isElement&&p.push(...o.hostEl.querySelectorAll('[loading="lazy"]')),p.forEach(w=>{w.complete?md(o,w):w.addEventListener("load",D=>{md(o,D.target)})}),ph(o),o.initialized=!0,ph(o),o.emit("init"),o.emit("afterInit"),o}destroy(t,o){void 0===t&&(t=!0),void 0===o&&(o=!0);const u=this,{params:p,el:w,wrapperEl:D,slides:N}=u;return typeof u.params>"u"||u.destroyed||(u.emit("beforeDestroy"),u.initialized=!1,u.detachEvents(),p.loop&&u.loopDestroy(),o&&(u.removeClasses(),w.removeAttribute("style"),D.removeAttribute("style"),N&&N.length&&N.forEach(k=>{k.classList.remove(p.slideVisibleClass,p.slideFullyVisibleClass,p.slideActiveClass,p.slideNextClass,p.slidePrevClass),k.removeAttribute("style"),k.removeAttribute("data-swiper-slide-index")})),u.emit("destroy"),Object.keys(u.eventsListeners).forEach(k=>{u.off(k)}),!1!==t&&(u.el.swiper=null,function mv(a){const t=a;Object.keys(t).forEach(o=>{try{t[o]=null}catch{}try{delete t[o]}catch{}})}(u)),u.destroyed=!0),null}static extendDefaults(t){Oa(Lf,t)}static get extendedDefaults(){return Lf}static get defaults(){return Tv}static installModule(t){Na.prototype.__modules__||(Na.prototype.__modules__=[]);const o=Na.prototype.__modules__;"function"==typeof t&&o.indexOf(t)<0&&o.push(t)}static use(t){return Array.isArray(t)?(t.forEach(o=>Na.installModule(o)),Na):(Na.installModule(t),Na)}}function lm(a,t,o,u){return a.params.createElements&&Object.keys(u).forEach(p=>{if(!o[p]&&!0===o.auto){let w=Zo(a.el,`.${u[p]}`)[0];w||(w=va("div",u[p]),w.className=u[p],a.el.append(w)),o[p]=w,t[p]=w}}),o}function wo(a){return void 0===a&&(a=""),`.${a.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Pv(a){const t=this,{params:o,slidesEl:u}=t;o.loop&&t.loopDestroy();const p=w=>{if("string"==typeof w){const D=document.createElement("div");D.innerHTML=w,u.append(D.children[0]),D.innerHTML=""}else u.append(w)};if("object"==typeof a&&"length"in a)for(let w=0;w<a.length;w+=1)a[w]&&p(a[w]);else p(a);t.recalcSlides(),o.loop&&t.loopCreate(),(!o.observer||t.isElement)&&t.update()}function Rv(a){const t=this,{params:o,activeIndex:u,slidesEl:p}=t;o.loop&&t.loopDestroy();let w=u+1;const D=N=>{if("string"==typeof N){const k=document.createElement("div");k.innerHTML=N,p.prepend(k.children[0]),k.innerHTML=""}else p.prepend(N)};if("object"==typeof a&&"length"in a){for(let N=0;N<a.length;N+=1)a[N]&&D(a[N]);w=u+a.length}else D(a);t.recalcSlides(),o.loop&&t.loopCreate(),(!o.observer||t.isElement)&&t.update(),t.slideTo(w,0,!1)}function j_(a,t){const o=this,{params:u,activeIndex:p,slidesEl:w}=o;let D=p;u.loop&&(D-=o.loopedSlides,o.loopDestroy(),o.recalcSlides());const N=o.slides.length;if(a<=0)return void o.prependSlide(t);if(a>=N)return void o.appendSlide(t);let k=D>a?D+1:D;const H=[];for(let K=N-1;K>=a;K-=1){const Z=o.slides[K];Z.remove(),H.unshift(Z)}if("object"==typeof t&&"length"in t){for(let K=0;K<t.length;K+=1)t[K]&&w.append(t[K]);k=D>a?D+t.length:D}else w.append(t);for(let K=0;K<H.length;K+=1)w.append(H[K]);o.recalcSlides(),u.loop&&o.loopCreate(),(!u.observer||o.isElement)&&o.update(),o.slideTo(u.loop?k+o.loopedSlides:k,0,!1)}function Vy(a){const t=this,{params:o,activeIndex:u}=t;let p=u;o.loop&&(p-=t.loopedSlides,t.loopDestroy());let D,w=p;if("object"==typeof a&&"length"in a){for(let N=0;N<a.length;N+=1)D=a[N],t.slides[D]&&t.slides[D].remove(),D<w&&(w-=1);w=Math.max(w,0)}else D=a,t.slides[D]&&t.slides[D].remove(),D<w&&(w-=1),w=Math.max(w,0);t.recalcSlides(),o.loop&&t.loopCreate(),(!o.observer||t.isElement)&&t.update(),t.slideTo(o.loop?w+t.loopedSlides:w,0,!1)}function jy(){const a=this,t=[];for(let o=0;o<a.slides.length;o+=1)t.push(o);a.removeSlide(t)}function yd(a){const{effect:t,swiper:o,on:u,setTranslate:p,setTransition:w,overwriteParams:D,perspective:N,recreateShadows:k,getEffectParams:H}=a;let K;u("beforeInit",()=>{if(o.params.effect!==t)return;o.classNames.push(`${o.params.containerModifierClass}${t}`),N&&N()&&o.classNames.push(`${o.params.containerModifierClass}3d`);const Z=D?D():{};Object.assign(o.params,Z),Object.assign(o.originalParams,Z)}),u("setTranslate",()=>{o.params.effect===t&&p()}),u("setTransition",(Z,te)=>{o.params.effect===t&&w(te)}),u("transitionEnd",()=>{if(o.params.effect===t&&k){if(!H||!H().slideShadows)return;o.slides.forEach(Z=>{Z.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(te=>te.remove())}),k()}}),u("virtualUpdate",()=>{o.params.effect===t&&(o.slides.length||(K=!0),requestAnimationFrame(()=>{K&&o.slides&&o.slides.length&&(p(),K=!1)}))})}function Bf(a,t){const o=Ou(t);return o!==t&&(o.style.backfaceVisibility="hidden",o.style["-webkit-backface-visibility"]="hidden"),o}function Kc(a){let{swiper:t,duration:o,transformElements:u,allSlides:p}=a;const{activeIndex:w}=t;if(t.params.virtualTranslate&&0!==o){let k,N=!1;k=p?u:u.filter(H=>{const K=H.classList.contains("swiper-slide-transform")?(N=>N.parentElement?N.parentElement:t.slides.filter(H=>H.shadowRoot&&H.shadowRoot===N.parentNode)[0])(H):H;return t.getSlideIndex(K)===w}),k.forEach(H=>{Fp(H,()=>{if(N||!t||t.destroyed)return;N=!0,t.animating=!1;const K=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(K)})})}}function qc(a,t,o){const u=`swiper-slide-shadow${o?`-${o}`:""}${a?` swiper-slide-shadow-${a}`:""}`,p=Ou(t);let w=p.querySelector(`.${u.split(" ").join(".")}`);return w||(w=va("div",u.split(" ")),p.append(w)),w}Object.keys(Gp).forEach(a=>{Object.keys(Gp[a]).forEach(t=>{Na.prototype[t]=Gp[a][t]})}),Na.use([function My(a){let{swiper:t,on:o,emit:u}=a;const p=qs();let w=null,D=null;const N=()=>{!t||t.destroyed||!t.initialized||(u("beforeResize"),u("resize"))},K=()=>{!t||t.destroyed||!t.initialized||u("orientationchange")};o("init",()=>{t.params.resizeObserver&&typeof p.ResizeObserver<"u"?!t||t.destroyed||!t.initialized||(w=new ResizeObserver(Z=>{D=p.requestAnimationFrame(()=>{const{width:te,height:De}=t;let Ke=te,Qe=De;Z.forEach(Je=>{let{contentBoxSize:gt,contentRect:tt,target:Ye}=Je;Ye&&Ye!==t.el||(Ke=tt?tt.width:(gt[0]||gt).inlineSize,Qe=tt?tt.height:(gt[0]||gt).blockSize)}),(Ke!==te||Qe!==De)&&N()})}),w.observe(t.el)):(p.addEventListener("resize",N),p.addEventListener("orientationchange",K))}),o("destroy",()=>{D&&p.cancelAnimationFrame(D),w&&w.unobserve&&t.el&&(w.unobserve(t.el),w=null),p.removeEventListener("resize",N),p.removeEventListener("orientationchange",K)})},function $p(a){let{swiper:t,extendParams:o,on:u,emit:p}=a;const w=[],D=qs(),N=function(K,Z){void 0===Z&&(Z={});const De=new(D.MutationObserver||D.WebkitMutationObserver)(Ke=>{if(t.__preventObserver__)return;if(1===Ke.length)return void p("observerUpdate",Ke[0]);const Qe=function(){p("observerUpdate",Ke[0])};D.requestAnimationFrame?D.requestAnimationFrame(Qe):D.setTimeout(Qe,0)});De.observe(K,{attributes:typeof Z.attributes>"u"||Z.attributes,childList:typeof Z.childList>"u"||Z.childList,characterData:typeof Z.characterData>"u"||Z.characterData}),w.push(De)};o({observer:!1,observeParents:!1,observeSlideChildren:!1}),u("init",()=>{if(t.params.observer){if(t.params.observeParents){const K=ku(t.hostEl);for(let Z=0;Z<K.length;Z+=1)N(K[Z])}N(t.hostEl,{childList:t.params.observeSlideChildren}),N(t.wrapperEl,{attributes:!1})}}),u("destroy",()=>{w.forEach(K=>{K.disconnect()}),w.splice(0,w.length)})}]),Na.use([function am(a){let w,{swiper:t,extendParams:o,on:u,emit:p}=a;o({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const D=jo();t.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const N=D.createElement("div");function k(Ke,Qe){const Je=t.params.virtual;if(Je.cache&&t.virtual.cache[Qe])return t.virtual.cache[Qe];let gt;return Je.renderSlide?(gt=Je.renderSlide.call(t,Ke,Qe),"string"==typeof gt&&(N.innerHTML=gt,gt=N.children[0])):gt=t.isElement?va("swiper-slide"):va("div",t.params.slideClass),gt.setAttribute("data-swiper-slide-index",Qe),Je.renderSlide||(gt.innerHTML=Ke),Je.cache&&(t.virtual.cache[Qe]=gt),gt}function H(Ke){const{slidesPerView:Qe,slidesPerGroup:Je,centeredSlides:gt,loop:tt}=t.params,{addSlidesBefore:Ye,addSlidesAfter:Ot}=t.params.virtual,{from:vn,to:yn,slides:Wn,slidesGrid:bn,offset:Jt}=t.virtual;t.params.cssMode||t.updateActiveIndex();const fn=t.activeIndex||0;let Dn,wn,pn;Dn=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",gt?(wn=Math.floor(Qe/2)+Je+Ot,pn=Math.floor(Qe/2)+Je+Ye):(wn=Qe+(Je-1)+Ot,pn=(tt?Qe:Je)+Ye);let Pt=fn-pn,rn=fn+wn;tt||(Pt=Math.max(Pt,0),rn=Math.min(rn,Wn.length-1));let Jn=(t.slidesGrid[Pt]||0)-(t.slidesGrid[0]||0);function Yn(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),p("virtualUpdate")}if(tt&&fn>=pn?(Pt-=pn,gt||(Jn+=t.slidesGrid[0])):tt&&fn<pn&&(Pt=-pn,gt&&(Jn+=t.slidesGrid[0])),Object.assign(t.virtual,{from:Pt,to:rn,offset:Jn,slidesGrid:t.slidesGrid,slidesBefore:pn,slidesAfter:wn}),vn===Pt&&yn===rn&&!Ke)return t.slidesGrid!==bn&&Jn!==Jt&&t.slides.forEach(di=>{di.style[Dn]=Jn-Math.abs(t.cssOverflowAdjustment())+"px"}),t.updateProgress(),void p("virtualUpdate");if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:Jn,from:Pt,to:rn,slides:function(){const cs=[];for(let eo=Pt;eo<=rn;eo+=1)cs.push(Wn[eo]);return cs}()}),void(t.params.virtual.renderExternalUpdate?Yn():p("virtualUpdate"));const Un=[],zn=[],Lr=di=>{let cs=di;return di<0?cs=Wn.length+di:cs>=Wn.length&&(cs-=Wn.length),cs};if(Ke)t.slides.filter(di=>di.matches(`.${t.params.slideClass}, swiper-slide`)).forEach(di=>{di.remove()});else for(let di=vn;di<=yn;di+=1)if(di<Pt||di>rn){const cs=Lr(di);t.slides.filter(eo=>eo.matches(`.${t.params.slideClass}[data-swiper-slide-index="${cs}"], swiper-slide[data-swiper-slide-index="${cs}"]`)).forEach(eo=>{eo.remove()})}const Us=tt?2*Wn.length:Wn.length;for(let di=tt?-Wn.length:0;di<Us;di+=1)if(di>=Pt&&di<=rn){const cs=Lr(di);typeof yn>"u"||Ke?zn.push(cs):(di>yn&&zn.push(cs),di<vn&&Un.push(cs))}if(zn.forEach(di=>{t.slidesEl.append(k(Wn[di],di))}),tt)for(let di=Un.length-1;di>=0;di-=1){const cs=Un[di];t.slidesEl.prepend(k(Wn[cs],cs))}else Un.sort((di,cs)=>cs-di),Un.forEach(di=>{t.slidesEl.prepend(k(Wn[di],di))});Zo(t.slidesEl,".swiper-slide, swiper-slide").forEach(di=>{di.style[Dn]=Jn-Math.abs(t.cssOverflowAdjustment())+"px"}),Yn()}u("beforeInit",()=>{if(!t.params.virtual.enabled)return;let Ke;if(typeof t.passedParams.virtual.slides>"u"){const Qe=[...t.slidesEl.children].filter(Je=>Je.matches(`.${t.params.slideClass}, swiper-slide`));Qe&&Qe.length&&(t.virtual.slides=[...Qe],Ke=!0,Qe.forEach((Je,gt)=>{Je.setAttribute("data-swiper-slide-index",gt),t.virtual.cache[gt]=Je,Je.remove()}))}Ke||(t.virtual.slides=t.params.virtual.slides),t.classNames.push(`${t.params.containerModifierClass}virtual`),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0,H()}),u("setTranslate",()=>{t.params.virtual.enabled&&(t.params.cssMode&&!t._immediateVirtual?(clearTimeout(w),w=setTimeout(()=>{H()},100)):H())}),u("init update resize",()=>{t.params.virtual.enabled&&t.params.cssMode&&dh(t.wrapperEl,"--swiper-virtual-size",`${t.virtualSize}px`)}),Object.assign(t.virtual,{appendSlide:function K(Ke){if("object"==typeof Ke&&"length"in Ke)for(let Qe=0;Qe<Ke.length;Qe+=1)Ke[Qe]&&t.virtual.slides.push(Ke[Qe]);else t.virtual.slides.push(Ke);H(!0)},prependSlide:function Z(Ke){const Qe=t.activeIndex;let Je=Qe+1,gt=1;if(Array.isArray(Ke)){for(let tt=0;tt<Ke.length;tt+=1)Ke[tt]&&t.virtual.slides.unshift(Ke[tt]);Je=Qe+Ke.length,gt=Ke.length}else t.virtual.slides.unshift(Ke);if(t.params.virtual.cache){const tt=t.virtual.cache,Ye={};Object.keys(tt).forEach(Ot=>{const vn=tt[Ot],yn=vn.getAttribute("data-swiper-slide-index");yn&&vn.setAttribute("data-swiper-slide-index",parseInt(yn,10)+gt),Ye[parseInt(Ot,10)+gt]=vn}),t.virtual.cache=Ye}H(!0),t.slideTo(Je,0)},removeSlide:function te(Ke){if(typeof Ke>"u"||null===Ke)return;let Qe=t.activeIndex;if(Array.isArray(Ke))for(let Je=Ke.length-1;Je>=0;Je-=1)t.params.virtual.cache&&(delete t.virtual.cache[Ke[Je]],Object.keys(t.virtual.cache).forEach(gt=>{gt>Ke&&(t.virtual.cache[gt-1]=t.virtual.cache[gt],t.virtual.cache[gt-1].setAttribute("data-swiper-slide-index",gt-1),delete t.virtual.cache[gt])})),t.virtual.slides.splice(Ke[Je],1),Ke[Je]<Qe&&(Qe-=1),Qe=Math.max(Qe,0);else t.params.virtual.cache&&(delete t.virtual.cache[Ke],Object.keys(t.virtual.cache).forEach(Je=>{Je>Ke&&(t.virtual.cache[Je-1]=t.virtual.cache[Je],t.virtual.cache[Je-1].setAttribute("data-swiper-slide-index",Je-1),delete t.virtual.cache[Je])})),t.virtual.slides.splice(Ke,1),Ke<Qe&&(Qe-=1),Qe=Math.max(Qe,0);H(!0),t.slideTo(Qe,0)},removeAllSlides:function De(){t.virtual.slides=[],t.params.virtual.cache&&(t.virtual.cache={}),H(!0),t.slideTo(0,0)},update:H})},function Av(a){let{swiper:t,extendParams:o,on:u,emit:p}=a;const w=jo(),D=qs();function N(K){if(!t.enabled)return;const{rtlTranslate:Z}=t;let te=K;te.originalEvent&&(te=te.originalEvent);const De=te.keyCode||te.charCode,Ke=t.params.keyboard.pageUpDown,Qe=Ke&&33===De,Je=Ke&&34===De,gt=37===De,tt=39===De,Ye=38===De,Ot=40===De;if(!t.allowSlideNext&&(t.isHorizontal()&&tt||t.isVertical()&&Ot||Je)||!t.allowSlidePrev&&(t.isHorizontal()&&gt||t.isVertical()&&Ye||Qe))return!1;if(!(te.shiftKey||te.altKey||te.ctrlKey||te.metaKey||w.activeElement&&w.activeElement.nodeName&&("input"===w.activeElement.nodeName.toLowerCase()||"textarea"===w.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(Qe||Je||gt||tt||Ye||Ot)){let vn=!1;if(ku(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===ku(t.el,`.${t.params.slideActiveClass}`).length)return;const yn=t.el,Wn=yn.clientWidth,bn=yn.clientHeight,Jt=D.innerWidth,fn=D.innerHeight,Dn=Gc(yn);Z&&(Dn.left-=yn.scrollLeft);const wn=[[Dn.left,Dn.top],[Dn.left+Wn,Dn.top],[Dn.left,Dn.top+bn],[Dn.left+Wn,Dn.top+bn]];for(let pn=0;pn<wn.length;pn+=1){const Pt=wn[pn];if(Pt[0]>=0&&Pt[0]<=Jt&&Pt[1]>=0&&Pt[1]<=fn){if(0===Pt[0]&&0===Pt[1])continue;vn=!0}}if(!vn)return}t.isHorizontal()?((Qe||Je||gt||tt)&&(te.preventDefault?te.preventDefault():te.returnValue=!1),((Je||tt)&&!Z||(Qe||gt)&&Z)&&t.slideNext(),((Qe||gt)&&!Z||(Je||tt)&&Z)&&t.slidePrev()):((Qe||Je||Ye||Ot)&&(te.preventDefault?te.preventDefault():te.returnValue=!1),(Je||Ot)&&t.slideNext(),(Qe||Ye)&&t.slidePrev()),p("keyPress",De)}}function k(){t.keyboard.enabled||(w.addEventListener("keydown",N),t.keyboard.enabled=!0)}function H(){t.keyboard.enabled&&(w.removeEventListener("keydown",N),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},o({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),u("init",()=>{t.params.keyboard.enabled&&k()}),u("destroy",()=>{t.keyboard.enabled&&H()}),Object.assign(t.keyboard,{enable:k,disable:H})},function Fu(a){let{swiper:t,extendParams:o,on:u,emit:p}=a;const w=qs();o({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let D,k,N=Qa();const H=[];function Z(){t.enabled&&(t.mouseEntered=!0)}function te(){t.enabled&&(t.mouseEntered=!1)}function De(Ye){return!(t.params.mousewheel.thresholdDelta&&Ye.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&Qa()-N<t.params.mousewheel.thresholdTime)&&(Ye.delta>=6&&Qa()-N<60||(Ye.direction<0?(!t.isEnd||t.params.loop)&&!t.animating&&(t.slideNext(),p("scroll",Ye.raw)):(!t.isBeginning||t.params.loop)&&!t.animating&&(t.slidePrev(),p("scroll",Ye.raw)),N=(new w.Date).getTime(),!1))}function Qe(Ye){let Ot=Ye,vn=!0;if(!t.enabled||Ye.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const yn=t.params.mousewheel;t.params.cssMode&&Ot.preventDefault();let Wn=t.el;"container"!==t.params.mousewheel.eventsTarget&&(Wn=document.querySelector(t.params.mousewheel.eventsTarget));const bn=Wn&&Wn.contains(Ot.target);if(!t.mouseEntered&&!bn&&!yn.releaseOnEdges)return!0;Ot.originalEvent&&(Ot=Ot.originalEvent);let Jt=0;const fn=t.rtlTranslate?-1:1,Dn=function K(Ye){let Wn=0,bn=0,Jt=0,fn=0;return"detail"in Ye&&(bn=Ye.detail),"wheelDelta"in Ye&&(bn=-Ye.wheelDelta/120),"wheelDeltaY"in Ye&&(bn=-Ye.wheelDeltaY/120),"wheelDeltaX"in Ye&&(Wn=-Ye.wheelDeltaX/120),"axis"in Ye&&Ye.axis===Ye.HORIZONTAL_AXIS&&(Wn=bn,bn=0),Jt=10*Wn,fn=10*bn,"deltaY"in Ye&&(fn=Ye.deltaY),"deltaX"in Ye&&(Jt=Ye.deltaX),Ye.shiftKey&&!Jt&&(Jt=fn,fn=0),(Jt||fn)&&Ye.deltaMode&&(1===Ye.deltaMode?(Jt*=40,fn*=40):(Jt*=800,fn*=800)),Jt&&!Wn&&(Wn=Jt<1?-1:1),fn&&!bn&&(bn=fn<1?-1:1),{spinX:Wn,spinY:bn,pixelX:Jt,pixelY:fn}}(Ot);if(yn.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(Dn.pixelX)>Math.abs(Dn.pixelY)))return!0;Jt=-Dn.pixelX*fn}else{if(!(Math.abs(Dn.pixelY)>Math.abs(Dn.pixelX)))return!0;Jt=-Dn.pixelY}else Jt=Math.abs(Dn.pixelX)>Math.abs(Dn.pixelY)?-Dn.pixelX*fn:-Dn.pixelY;if(0===Jt)return!0;yn.invert&&(Jt=-Jt);let wn=t.getTranslate()+Jt*yn.sensitivity;if(wn>=t.minTranslate()&&(wn=t.minTranslate()),wn<=t.maxTranslate()&&(wn=t.maxTranslate()),vn=!!t.params.loop||!(wn===t.minTranslate()||wn===t.maxTranslate()),vn&&t.params.nested&&Ot.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const pn={time:Qa(),delta:Math.abs(Jt),direction:Math.sign(Jt)},Pt=k&&pn.time<k.time+500&&pn.delta<=k.delta&&pn.direction===k.direction;if(!Pt){k=void 0;let rn=t.getTranslate()+Jt*yn.sensitivity;const Jn=t.isBeginning,Yn=t.isEnd;if(rn>=t.minTranslate()&&(rn=t.minTranslate()),rn<=t.maxTranslate()&&(rn=t.maxTranslate()),t.setTransition(0),t.setTranslate(rn),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!Jn&&t.isBeginning||!Yn&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:pn.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(D),D=void 0,H.length>=15&&H.shift();const Un=H.length?H[H.length-1]:void 0,zn=H[0];if(H.push(pn),Un&&(pn.delta>Un.delta||pn.direction!==Un.direction))H.splice(0);else if(H.length>=15&&pn.time-zn.time<500&&zn.delta-pn.delta>=1&&pn.delta<=6){const Lr=Jt>0?.8:.2;k=pn,H.splice(0),D=Hc(()=>{t.slideToClosest(t.params.speed,!0,void 0,Lr)},0)}D||(D=Hc(()=>{k=pn,H.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(Pt||p("scroll",Ot),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),yn.releaseOnEdges&&(rn===t.minTranslate()||rn===t.maxTranslate()))return!0}}else{const pn={time:Qa(),delta:Math.abs(Jt),direction:Math.sign(Jt),raw:Ye};H.length>=2&&H.shift();const Pt=H.length?H[H.length-1]:void 0;if(H.push(pn),Pt?(pn.direction!==Pt.direction||pn.delta>Pt.delta||pn.time>Pt.time+150)&&De(pn):De(pn),function Ke(Ye){const Ot=t.params.mousewheel;if(Ye.direction<0){if(t.isEnd&&!t.params.loop&&Ot.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&Ot.releaseOnEdges)return!0;return!1}(pn))return!0}return Ot.preventDefault?Ot.preventDefault():Ot.returnValue=!1,!1}function Je(Ye){let Ot=t.el;"container"!==t.params.mousewheel.eventsTarget&&(Ot=document.querySelector(t.params.mousewheel.eventsTarget)),Ot[Ye]("mouseenter",Z),Ot[Ye]("mouseleave",te),Ot[Ye]("wheel",Qe)}function gt(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",Qe),!0):!t.mousewheel.enabled&&(Je("addEventListener"),t.mousewheel.enabled=!0,!0)}function tt(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,Qe),!0):!!t.mousewheel.enabled&&(Je("removeEventListener"),t.mousewheel.enabled=!1,!0)}u("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&tt(),t.params.mousewheel.enabled&&gt()}),u("destroy",()=>{t.params.cssMode&&gt(),t.mousewheel.enabled&&tt()}),Object.assign(t.mousewheel,{enable:gt,disable:tt})},function Yc(a){let{swiper:t,extendParams:o,on:u,emit:p}=a;o({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const w=Qe=>(Array.isArray(Qe)?Qe:[Qe]).filter(Je=>!!Je);function D(Qe){let Je;return Qe&&"string"==typeof Qe&&t.isElement&&(Je=t.el.querySelector(Qe),Je)?Je:(Qe&&("string"==typeof Qe&&(Je=[...document.querySelectorAll(Qe)]),t.params.uniqueNavElements&&"string"==typeof Qe&&Je.length>1&&1===t.el.querySelectorAll(Qe).length&&(Je=t.el.querySelector(Qe))),Qe&&!Je?Qe:Je)}function N(Qe,Je){const gt=t.params.navigation;(Qe=w(Qe)).forEach(tt=>{tt&&(tt.classList[Je?"add":"remove"](...gt.disabledClass.split(" ")),"BUTTON"===tt.tagName&&(tt.disabled=Je),t.params.watchOverflow&&t.enabled&&tt.classList[t.isLocked?"add":"remove"](gt.lockClass))})}function k(){const{nextEl:Qe,prevEl:Je}=t.navigation;if(t.params.loop)return N(Je,!1),void N(Qe,!1);N(Je,t.isBeginning&&!t.params.rewind),N(Qe,t.isEnd&&!t.params.rewind)}function H(Qe){Qe.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),p("navigationPrev"))}function K(Qe){Qe.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),p("navigationNext"))}function Z(){const Qe=t.params.navigation;if(t.params.navigation=lm(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!Qe.nextEl&&!Qe.prevEl)return;let Je=D(Qe.nextEl),gt=D(Qe.prevEl);Object.assign(t.navigation,{nextEl:Je,prevEl:gt}),Je=w(Je),gt=w(gt);const tt=(Ye,Ot)=>{Ye&&Ye.addEventListener("click","next"===Ot?K:H),!t.enabled&&Ye&&Ye.classList.add(...Qe.lockClass.split(" "))};Je.forEach(Ye=>tt(Ye,"next")),gt.forEach(Ye=>tt(Ye,"prev"))}function te(){let{nextEl:Qe,prevEl:Je}=t.navigation;Qe=w(Qe),Je=w(Je);const gt=(tt,Ye)=>{tt.removeEventListener("click","next"===Ye?K:H),tt.classList.remove(...t.params.navigation.disabledClass.split(" "))};Qe.forEach(tt=>gt(tt,"next")),Je.forEach(tt=>gt(tt,"prev"))}u("init",()=>{!1===t.params.navigation.enabled?Ke():(Z(),k())}),u("toEdge fromEdge lock unlock",()=>{k()}),u("destroy",()=>{te()}),u("enable disable",()=>{let{nextEl:Qe,prevEl:Je}=t.navigation;Qe=w(Qe),Je=w(Je),t.enabled?k():[...Qe,...Je].filter(gt=>!!gt).forEach(gt=>gt.classList.add(t.params.navigation.lockClass))}),u("click",(Qe,Je)=>{let{nextEl:gt,prevEl:tt}=t.navigation;gt=w(gt),tt=w(tt);const Ye=Je.target;if(t.params.navigation.hideOnClick&&!tt.includes(Ye)&&!gt.includes(Ye)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===Ye||t.pagination.el.contains(Ye)))return;let Ot;gt.length?Ot=gt[0].classList.contains(t.params.navigation.hiddenClass):tt.length&&(Ot=tt[0].classList.contains(t.params.navigation.hiddenClass)),p(!0===Ot?"navigationShow":"navigationHide"),[...gt,...tt].filter(vn=>!!vn).forEach(vn=>vn.classList.toggle(t.params.navigation.hiddenClass))}});const Ke=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),te()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),Z(),k()},disable:Ke,update:k,init:Z,destroy:te})},function v0(a){let{swiper:t,extendParams:o,on:u,emit:p}=a;const w="swiper-pagination";o({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:tt=>tt,formatFractionTotal:tt=>tt,bulletClass:`${w}-bullet`,bulletActiveClass:`${w}-bullet-active`,modifierClass:`${w}-`,currentClass:`${w}-current`,totalClass:`${w}-total`,hiddenClass:`${w}-hidden`,progressbarFillClass:`${w}-progressbar-fill`,progressbarOppositeClass:`${w}-progressbar-opposite`,clickableClass:`${w}-clickable`,lockClass:`${w}-lock`,horizontalClass:`${w}-horizontal`,verticalClass:`${w}-vertical`,paginationDisabledClass:`${w}-disabled`}}),t.pagination={el:null,bullets:[]};let D,N=0;const k=tt=>(Array.isArray(tt)?tt:[tt]).filter(Ye=>!!Ye);function H(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function K(tt,Ye){const{bulletActiveClass:Ot}=t.params.pagination;tt&&(tt=tt[("prev"===Ye?"previous":"next")+"ElementSibling"])&&(tt.classList.add(`${Ot}-${Ye}`),(tt=tt[("prev"===Ye?"previous":"next")+"ElementSibling"])&&tt.classList.add(`${Ot}-${Ye}-${Ye}`))}function Z(tt){const Ye=tt.target.closest(wo(t.params.pagination.bulletClass));if(!Ye)return;tt.preventDefault();const Ot=pd(Ye)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===Ot)return;t.slideToLoop(Ot)}else t.slideTo(Ot)}function te(){const tt=t.rtl,Ye=t.params.pagination;if(H())return;let vn,yn,Ot=t.pagination.el;Ot=k(Ot);const bn=t.params.loop?Math.ceil((t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(yn=t.previousRealIndex||0,vn=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(vn=t.snapIndex,yn=t.previousSnapIndex):(yn=t.previousIndex||0,vn=t.activeIndex||0),"bullets"===Ye.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const Jt=t.pagination.bullets;let fn,Dn,wn;if(Ye.dynamicBullets&&(D=yv(Jt[0],t.isHorizontal()?"width":"height",!0),Ot.forEach(pn=>{pn.style[t.isHorizontal()?"width":"height"]=D*(Ye.dynamicMainBullets+4)+"px"}),Ye.dynamicMainBullets>1&&void 0!==yn&&(N+=vn-(yn||0),N>Ye.dynamicMainBullets-1?N=Ye.dynamicMainBullets-1:N<0&&(N=0)),fn=Math.max(vn-N,0),Dn=fn+(Math.min(Jt.length,Ye.dynamicMainBullets)-1),wn=(Dn+fn)/2),Jt.forEach(pn=>{const Pt=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(rn=>`${Ye.bulletActiveClass}${rn}`)].map(rn=>"string"==typeof rn&&rn.includes(" ")?rn.split(" "):rn).flat();pn.classList.remove(...Pt)}),Ot.length>1)Jt.forEach(pn=>{const Pt=pd(pn);Pt===vn?pn.classList.add(...Ye.bulletActiveClass.split(" ")):t.isElement&&pn.setAttribute("part","bullet"),Ye.dynamicBullets&&(Pt>=fn&&Pt<=Dn&&pn.classList.add(...`${Ye.bulletActiveClass}-main`.split(" ")),Pt===fn&&K(pn,"prev"),Pt===Dn&&K(pn,"next"))});else{const pn=Jt[vn];if(pn&&pn.classList.add(...Ye.bulletActiveClass.split(" ")),t.isElement&&Jt.forEach((Pt,rn)=>{Pt.setAttribute("part",rn===vn?"bullet-active":"bullet")}),Ye.dynamicBullets){const Pt=Jt[fn],rn=Jt[Dn];for(let Jn=fn;Jn<=Dn;Jn+=1)Jt[Jn]&&Jt[Jn].classList.add(...`${Ye.bulletActiveClass}-main`.split(" "));K(Pt,"prev"),K(rn,"next")}}if(Ye.dynamicBullets){const pn=Math.min(Jt.length,Ye.dynamicMainBullets+4),Pt=(D*pn-D)/2-wn*D,rn=tt?"right":"left";Jt.forEach(Jn=>{Jn.style[t.isHorizontal()?rn:"top"]=`${Pt}px`})}}Ot.forEach((Jt,fn)=>{if("fraction"===Ye.type&&(Jt.querySelectorAll(wo(Ye.currentClass)).forEach(Dn=>{Dn.textContent=Ye.formatFractionCurrent(vn+1)}),Jt.querySelectorAll(wo(Ye.totalClass)).forEach(Dn=>{Dn.textContent=Ye.formatFractionTotal(bn)})),"progressbar"===Ye.type){let Dn;Dn=Ye.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const wn=(vn+1)/bn;let pn=1,Pt=1;"horizontal"===Dn?pn=wn:Pt=wn,Jt.querySelectorAll(wo(Ye.progressbarFillClass)).forEach(rn=>{rn.style.transform=`translate3d(0,0,0) scaleX(${pn}) scaleY(${Pt})`,rn.style.transitionDuration=`${t.params.speed}ms`})}"custom"===Ye.type&&Ye.renderCustom?(Jt.innerHTML=Ye.renderCustom(t,vn+1,bn),0===fn&&p("paginationRender",Jt)):(0===fn&&p("paginationRender",Jt),p("paginationUpdate",Jt)),t.params.watchOverflow&&t.enabled&&Jt.classList[t.isLocked?"add":"remove"](Ye.lockClass)})}function De(){const tt=t.params.pagination;if(H())return;const Ye=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let Ot=t.pagination.el;Ot=k(Ot);let vn="";if("bullets"===tt.type){let yn=t.params.loop?Math.ceil(Ye/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&yn>Ye&&(yn=Ye);for(let Wn=0;Wn<yn;Wn+=1)vn+=tt.renderBullet?tt.renderBullet.call(t,Wn,tt.bulletClass):`<${tt.bulletElement} ${t.isElement?'part="bullet"':""} class="${tt.bulletClass}"></${tt.bulletElement}>`}"fraction"===tt.type&&(vn=tt.renderFraction?tt.renderFraction.call(t,tt.currentClass,tt.totalClass):`<span class="${tt.currentClass}"></span> / <span class="${tt.totalClass}"></span>`),"progressbar"===tt.type&&(vn=tt.renderProgressbar?tt.renderProgressbar.call(t,tt.progressbarFillClass):`<span class="${tt.progressbarFillClass}"></span>`),t.pagination.bullets=[],Ot.forEach(yn=>{"custom"!==tt.type&&(yn.innerHTML=vn||""),"bullets"===tt.type&&t.pagination.bullets.push(...yn.querySelectorAll(wo(tt.bulletClass)))}),"custom"!==tt.type&&p("paginationRender",Ot[0])}function Ke(){t.params.pagination=lm(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const tt=t.params.pagination;if(!tt.el)return;let Ye;"string"==typeof tt.el&&t.isElement&&(Ye=t.el.querySelector(tt.el)),!Ye&&"string"==typeof tt.el&&(Ye=[...document.querySelectorAll(tt.el)]),Ye||(Ye=tt.el),Ye&&0!==Ye.length&&(t.params.uniqueNavElements&&"string"==typeof tt.el&&Array.isArray(Ye)&&Ye.length>1&&(Ye=[...t.el.querySelectorAll(tt.el)],Ye.length>1&&(Ye=Ye.filter(Ot=>ku(Ot,".swiper")[0]===t.el)[0])),Array.isArray(Ye)&&1===Ye.length&&(Ye=Ye[0]),Object.assign(t.pagination,{el:Ye}),Ye=k(Ye),Ye.forEach(Ot=>{"bullets"===tt.type&&tt.clickable&&Ot.classList.add(...(tt.clickableClass||"").split(" ")),Ot.classList.add(tt.modifierClass+tt.type),Ot.classList.add(t.isHorizontal()?tt.horizontalClass:tt.verticalClass),"bullets"===tt.type&&tt.dynamicBullets&&(Ot.classList.add(`${tt.modifierClass}${tt.type}-dynamic`),N=0,tt.dynamicMainBullets<1&&(tt.dynamicMainBullets=1)),"progressbar"===tt.type&&tt.progressbarOpposite&&Ot.classList.add(tt.progressbarOppositeClass),tt.clickable&&Ot.addEventListener("click",Z),t.enabled||Ot.classList.add(tt.lockClass)}))}function Qe(){const tt=t.params.pagination;if(H())return;let Ye=t.pagination.el;Ye&&(Ye=k(Ye),Ye.forEach(Ot=>{Ot.classList.remove(tt.hiddenClass),Ot.classList.remove(tt.modifierClass+tt.type),Ot.classList.remove(t.isHorizontal()?tt.horizontalClass:tt.verticalClass),tt.clickable&&(Ot.classList.remove(...(tt.clickableClass||"").split(" ")),Ot.removeEventListener("click",Z))})),t.pagination.bullets&&t.pagination.bullets.forEach(Ot=>Ot.classList.remove(...tt.bulletActiveClass.split(" ")))}u("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const tt=t.params.pagination;let{el:Ye}=t.pagination;Ye=k(Ye),Ye.forEach(Ot=>{Ot.classList.remove(tt.horizontalClass,tt.verticalClass),Ot.classList.add(t.isHorizontal()?tt.horizontalClass:tt.verticalClass)})}),u("init",()=>{!1===t.params.pagination.enabled?gt():(Ke(),De(),te())}),u("activeIndexChange",()=>{typeof t.snapIndex>"u"&&te()}),u("snapIndexChange",()=>{te()}),u("snapGridLengthChange",()=>{De(),te()}),u("destroy",()=>{Qe()}),u("enable disable",()=>{let{el:tt}=t.pagination;tt&&(tt=k(tt),tt.forEach(Ye=>Ye.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),u("lock unlock",()=>{te()}),u("click",(tt,Ye)=>{const Ot=Ye.target,vn=k(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&vn&&vn.length>0&&!Ot.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&Ot===t.navigation.nextEl||t.navigation.prevEl&&Ot===t.navigation.prevEl))return;const yn=vn[0].classList.contains(t.params.pagination.hiddenClass);p(!0===yn?"paginationShow":"paginationHide"),vn.forEach(Wn=>Wn.classList.toggle(t.params.pagination.hiddenClass))}});const gt=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:tt}=t.pagination;tt&&(tt=k(tt),tt.forEach(Ye=>Ye.classList.add(t.params.pagination.paginationDisabledClass))),Qe()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:tt}=t.pagination;tt&&(tt=k(tt),tt.forEach(Ye=>Ye.classList.remove(t.params.pagination.paginationDisabledClass))),Ke(),De(),te()},disable:gt,render:De,update:te,init:Ke,destroy:Qe})},function _h(a){let{swiper:t,extendParams:o,on:u,emit:p}=a;const w=jo();let H,K,Z,te,D=!1,N=null,k=null;function De(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:wn,rtlTranslate:pn}=t,{dragEl:Pt,el:rn}=wn,Jn=t.params.scrollbar;let Un=K,zn=(Z-K)*(t.params.loop?t.progressLoop:t.progress);pn?(zn=-zn,zn>0?(Un=K-zn,zn=0):-zn+K>Z&&(Un=Z+zn)):zn<0?(Un=K+zn,zn=0):zn+K>Z&&(Un=Z-zn),t.isHorizontal()?(Pt.style.transform=`translate3d(${zn}px, 0, 0)`,Pt.style.width=`${Un}px`):(Pt.style.transform=`translate3d(0px, ${zn}px, 0)`,Pt.style.height=`${Un}px`),Jn.hide&&(clearTimeout(N),rn.style.opacity=1,N=setTimeout(()=>{rn.style.opacity=0,rn.style.transitionDuration="400ms"},1e3))}function Qe(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:wn}=t,{dragEl:pn,el:Pt}=wn;pn.style.width="",pn.style.height="",Z=t.isHorizontal()?Pt.offsetWidth:Pt.offsetHeight,te=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),K="auto"===t.params.scrollbar.dragSize?Z*te:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?pn.style.width=`${K}px`:pn.style.height=`${K}px`,Pt.style.display=te>=1?"none":"",t.params.scrollbar.hide&&(Pt.style.opacity=0),t.params.watchOverflow&&t.enabled&&wn.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function Je(wn){return t.isHorizontal()?wn.clientX:wn.clientY}function gt(wn){const{scrollbar:pn,rtlTranslate:Pt}=t,{el:rn}=pn;let Jn;Jn=(Je(wn)-Gc(rn)[t.isHorizontal()?"left":"top"]-(null!==H?H:K/2))/(Z-K),Jn=Math.max(Math.min(Jn,1),0),Pt&&(Jn=1-Jn);const Yn=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*Jn;t.updateProgress(Yn),t.setTranslate(Yn),t.updateActiveIndex(),t.updateSlidesClasses()}function tt(wn){const pn=t.params.scrollbar,{scrollbar:Pt,wrapperEl:rn}=t,{el:Jn,dragEl:Yn}=Pt;D=!0,H=wn.target===Yn?Je(wn)-wn.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,wn.preventDefault(),wn.stopPropagation(),rn.style.transitionDuration="100ms",Yn.style.transitionDuration="100ms",gt(wn),clearTimeout(k),Jn.style.transitionDuration="0ms",pn.hide&&(Jn.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),p("scrollbarDragStart",wn)}function Ye(wn){const{scrollbar:pn,wrapperEl:Pt}=t,{el:rn,dragEl:Jn}=pn;D&&(wn.preventDefault?wn.preventDefault():wn.returnValue=!1,gt(wn),Pt.style.transitionDuration="0ms",rn.style.transitionDuration="0ms",Jn.style.transitionDuration="0ms",p("scrollbarDragMove",wn))}function Ot(wn){const pn=t.params.scrollbar,{scrollbar:Pt,wrapperEl:rn}=t,{el:Jn}=Pt;D&&(D=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",rn.style.transitionDuration=""),pn.hide&&(clearTimeout(k),k=Hc(()=>{Jn.style.opacity=0,Jn.style.transitionDuration="400ms"},1e3)),p("scrollbarDragEnd",wn),pn.snapOnRelease&&t.slideToClosest())}function vn(wn){const{scrollbar:pn,params:Pt}=t,rn=pn.el;if(!rn)return;const Yn=!!Pt.passiveListeners&&{passive:!1,capture:!1},Un=!!Pt.passiveListeners&&{passive:!0,capture:!1};if(!rn)return;const zn="on"===wn?"addEventListener":"removeEventListener";rn[zn]("pointerdown",tt,Yn),w[zn]("pointermove",Ye,Yn),w[zn]("pointerup",Ot,Un)}function bn(){const{scrollbar:wn,el:pn}=t;t.params.scrollbar=lm(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const Pt=t.params.scrollbar;if(!Pt.el)return;let rn,Jn;if("string"==typeof Pt.el&&t.isElement&&(rn=t.el.querySelector(Pt.el)),rn||"string"!=typeof Pt.el)rn||(rn=Pt.el);else if(rn=w.querySelectorAll(Pt.el),!rn.length)return;t.params.uniqueNavElements&&"string"==typeof Pt.el&&rn.length>1&&1===pn.querySelectorAll(Pt.el).length&&(rn=pn.querySelector(Pt.el)),rn.length>0&&(rn=rn[0]),rn.classList.add(t.isHorizontal()?Pt.horizontalClass:Pt.verticalClass),rn&&(Jn=rn.querySelector(wo(t.params.scrollbar.dragClass)),Jn||(Jn=va("div",t.params.scrollbar.dragClass),rn.append(Jn))),Object.assign(wn,{el:rn,dragEl:Jn}),Pt.draggable&&function yn(){!t.params.scrollbar.el||!t.scrollbar.el||vn("on")}(),rn&&rn.classList[t.enabled?"remove":"add"](...Xa(t.params.scrollbar.lockClass))}function Jt(){const wn=t.params.scrollbar,pn=t.scrollbar.el;pn&&pn.classList.remove(...Xa(t.isHorizontal()?wn.horizontalClass:wn.verticalClass)),function Wn(){!t.params.scrollbar.el||!t.scrollbar.el||vn("off")}()}o({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},u("init",()=>{!1===t.params.scrollbar.enabled?Dn():(bn(),Qe(),De())}),u("update resize observerUpdate lock unlock",()=>{Qe()}),u("setTranslate",()=>{De()}),u("setTransition",(wn,pn)=>{!function Ke(wn){!t.params.scrollbar.el||!t.scrollbar.el||(t.scrollbar.dragEl.style.transitionDuration=`${wn}ms`)}(pn)}),u("enable disable",()=>{const{el:wn}=t.scrollbar;wn&&wn.classList[t.enabled?"remove":"add"](...Xa(t.params.scrollbar.lockClass))}),u("destroy",()=>{Jt()});const Dn=()=>{t.el.classList.add(...Xa(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...Xa(t.params.scrollbar.scrollbarDisabledClass)),Jt()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...Xa(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...Xa(t.params.scrollbar.scrollbarDisabledClass)),bn(),Qe(),De()},disable:Dn,updateSize:Qe,setTranslate:De,init:bn,destroy:Jt})},function cm(a){let{swiper:t,extendParams:o,on:u}=a;o({parallax:{enabled:!1}});const p="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",w=(k,H)=>{const{rtl:K}=t,Z=K?-1:1,te=k.getAttribute("data-swiper-parallax")||"0";let De=k.getAttribute("data-swiper-parallax-x"),Ke=k.getAttribute("data-swiper-parallax-y");const Qe=k.getAttribute("data-swiper-parallax-scale"),Je=k.getAttribute("data-swiper-parallax-opacity"),gt=k.getAttribute("data-swiper-parallax-rotate");if(De||Ke?(De=De||"0",Ke=Ke||"0"):t.isHorizontal()?(De=te,Ke="0"):(Ke=te,De="0"),De=De.indexOf("%")>=0?parseInt(De,10)*H*Z+"%":De*H*Z+"px",Ke=Ke.indexOf("%")>=0?parseInt(Ke,10)*H+"%":Ke*H+"px",typeof Je<"u"&&null!==Je){const Ye=Je-(Je-1)*(1-Math.abs(H));k.style.opacity=Ye}let tt=`translate3d(${De}, ${Ke}, 0px)`;typeof Qe<"u"&&null!==Qe&&(tt+=` scale(${Qe-(Qe-1)*(1-Math.abs(H))})`),gt&&typeof gt<"u"&&null!==gt&&(tt+=` rotate(${gt*H*-1}deg)`),k.style.transform=tt},D=()=>{const{el:k,slides:H,progress:K,snapGrid:Z}=t,De=Zo(k,p);t.isElement&&De.push(...Zo(t.hostEl,p)),De.forEach(Ke=>{w(Ke,K)}),H.forEach((Ke,Qe)=>{let Je=Ke.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(Je+=Math.ceil(Qe/2)-K*(Z.length-1)),Je=Math.min(Math.max(Je,-1),1),Ke.querySelectorAll(`${p}, [data-swiper-parallax-rotate]`).forEach(gt=>{w(gt,Je)})})};u("beforeInit",()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),u("init",()=>{t.params.parallax.enabled&&D()}),u("setTranslate",()=>{t.params.parallax.enabled&&D()}),u("setTransition",(k,H)=>{t.params.parallax.enabled&&function(k){void 0===k&&(k=t.params.speed);const{el:H,hostEl:K}=t,Z=[...H.querySelectorAll(p)];t.isElement&&Z.push(...K.querySelectorAll(p)),Z.forEach(te=>{let De=parseInt(te.getAttribute("data-swiper-parallax-duration"),10)||k;0===k&&(De=0),te.style.transitionDuration=`${De}ms`})}(H)})},function U_(a){let{swiper:t,extendParams:o,on:u,emit:p}=a;const w=qs();o({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let k,H,D=1,N=!1;const K=[],Z={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},te={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},De={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let Ke=1;function Qe(){return K.length<2?1:Math.sqrt((K[1].pageX-K[0].pageX)**2+(K[1].pageY-K[0].pageY)**2)}function tt(Yn){const Un=function gt(){return t.isElement?"swiper-slide":`.${t.params.slideClass}`}();return!!(Yn.target.matches(Un)||t.slides.filter(zn=>zn.contains(Yn.target)).length>0)}function Ot(Yn){if("mouse"===Yn.pointerType&&K.splice(0,K.length),!tt(Yn))return;const Un=t.params.zoom;if(k=!1,H=!1,K.push(Yn),!(K.length<2)){if(k=!0,Z.scaleStart=Qe(),!Z.slideEl){Z.slideEl=Yn.target.closest(`.${t.params.slideClass}, swiper-slide`),Z.slideEl||(Z.slideEl=t.slides[t.activeIndex]);let zn=Z.slideEl.querySelector(`.${Un.containerClass}`);if(zn&&(zn=zn.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),Z.imageEl=zn,Z.imageWrapEl=zn?ku(Z.imageEl,`.${Un.containerClass}`)[0]:void 0,!Z.imageWrapEl)return void(Z.imageEl=void 0);Z.maxRatio=Z.imageWrapEl.getAttribute("data-swiper-zoom")||Un.maxRatio}if(Z.imageEl){const[zn,Lr]=function Je(){if(K.length<2)return{x:null,y:null};const Yn=Z.imageEl.getBoundingClientRect();return[(K[0].pageX+(K[1].pageX-K[0].pageX)/2-Yn.x-w.scrollX)/D,(K[0].pageY+(K[1].pageY-K[0].pageY)/2-Yn.y-w.scrollY)/D]}();Z.originX=zn,Z.originY=Lr,Z.imageEl.style.transitionDuration="0ms"}N=!0}}function vn(Yn){if(!tt(Yn))return;const Un=t.params.zoom,zn=t.zoom,Lr=K.findIndex(ki=>ki.pointerId===Yn.pointerId);Lr>=0&&(K[Lr]=Yn),!(K.length<2)&&(H=!0,Z.scaleMove=Qe(),Z.imageEl&&(zn.scale=Z.scaleMove/Z.scaleStart*D,zn.scale>Z.maxRatio&&(zn.scale=Z.maxRatio-1+(zn.scale-Z.maxRatio+1)**.5),zn.scale<Un.minRatio&&(zn.scale=Un.minRatio+1-(Un.minRatio-zn.scale+1)**.5),Z.imageEl.style.transform=`translate3d(0,0,0) scale(${zn.scale})`))}function yn(Yn){if(!tt(Yn)||"mouse"===Yn.pointerType&&"pointerout"===Yn.type)return;const Un=t.params.zoom,zn=t.zoom,Lr=K.findIndex(ki=>ki.pointerId===Yn.pointerId);Lr>=0&&K.splice(Lr,1),k&&H&&(k=!1,H=!1,Z.imageEl&&(zn.scale=Math.max(Math.min(zn.scale,Z.maxRatio),Un.minRatio),Z.imageEl.style.transitionDuration=`${t.params.speed}ms`,Z.imageEl.style.transform=`translate3d(0,0,0) scale(${zn.scale})`,D=zn.scale,N=!1,zn.scale>1&&Z.slideEl?Z.slideEl.classList.add(`${Un.zoomedSlideClass}`):zn.scale<=1&&Z.slideEl&&Z.slideEl.classList.remove(`${Un.zoomedSlideClass}`),1===zn.scale&&(Z.originX=0,Z.originY=0,Z.slideEl=void 0)))}function bn(Yn){if(!tt(Yn)||!function Ye(Yn){const Un=`.${t.params.zoom.containerClass}`;return!!(Yn.target.matches(Un)||[...t.hostEl.querySelectorAll(Un)].filter(zn=>zn.contains(Yn.target)).length>0)}(Yn))return;const Un=t.zoom;if(!Z.imageEl||!te.isTouched||!Z.slideEl)return;te.isMoved||(te.width=Z.imageEl.offsetWidth,te.height=Z.imageEl.offsetHeight,te.startX=ac(Z.imageWrapEl,"x")||0,te.startY=ac(Z.imageWrapEl,"y")||0,Z.slideWidth=Z.slideEl.offsetWidth,Z.slideHeight=Z.slideEl.offsetHeight,Z.imageWrapEl.style.transitionDuration="0ms");const zn=te.width*Un.scale,Lr=te.height*Un.scale;if(zn<Z.slideWidth&&Lr<Z.slideHeight)return;if(te.minX=Math.min(Z.slideWidth/2-zn/2,0),te.maxX=-te.minX,te.minY=Math.min(Z.slideHeight/2-Lr/2,0),te.maxY=-te.minY,te.touchesCurrent.x=K.length>0?K[0].pageX:Yn.pageX,te.touchesCurrent.y=K.length>0?K[0].pageY:Yn.pageY,Math.max(Math.abs(te.touchesCurrent.x-te.touchesStart.x),Math.abs(te.touchesCurrent.y-te.touchesStart.y))>5&&(t.allowClick=!1),!te.isMoved&&!N){if(t.isHorizontal()&&(Math.floor(te.minX)===Math.floor(te.startX)&&te.touchesCurrent.x<te.touchesStart.x||Math.floor(te.maxX)===Math.floor(te.startX)&&te.touchesCurrent.x>te.touchesStart.x))return void(te.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(te.minY)===Math.floor(te.startY)&&te.touchesCurrent.y<te.touchesStart.y||Math.floor(te.maxY)===Math.floor(te.startY)&&te.touchesCurrent.y>te.touchesStart.y))return void(te.isTouched=!1)}Yn.cancelable&&Yn.preventDefault(),Yn.stopPropagation(),te.isMoved=!0;const Us=(Un.scale-D)/(Z.maxRatio-t.params.zoom.minRatio),{originX:di,originY:cs}=Z;te.currentX=te.touchesCurrent.x-te.touchesStart.x+te.startX+Us*(te.width-2*di),te.currentY=te.touchesCurrent.y-te.touchesStart.y+te.startY+Us*(te.height-2*cs),te.currentX<te.minX&&(te.currentX=te.minX+1-(te.minX-te.currentX+1)**.8),te.currentX>te.maxX&&(te.currentX=te.maxX-1+(te.currentX-te.maxX+1)**.8),te.currentY<te.minY&&(te.currentY=te.minY+1-(te.minY-te.currentY+1)**.8),te.currentY>te.maxY&&(te.currentY=te.maxY-1+(te.currentY-te.maxY+1)**.8),De.prevPositionX||(De.prevPositionX=te.touchesCurrent.x),De.prevPositionY||(De.prevPositionY=te.touchesCurrent.y),De.prevTime||(De.prevTime=Date.now()),De.x=(te.touchesCurrent.x-De.prevPositionX)/(Date.now()-De.prevTime)/2,De.y=(te.touchesCurrent.y-De.prevPositionY)/(Date.now()-De.prevTime)/2,Math.abs(te.touchesCurrent.x-De.prevPositionX)<2&&(De.x=0),Math.abs(te.touchesCurrent.y-De.prevPositionY)<2&&(De.y=0),De.prevPositionX=te.touchesCurrent.x,De.prevPositionY=te.touchesCurrent.y,De.prevTime=Date.now(),Z.imageWrapEl.style.transform=`translate3d(${te.currentX}px, ${te.currentY}px,0)`}function fn(){const Yn=t.zoom;Z.slideEl&&t.activeIndex!==t.slides.indexOf(Z.slideEl)&&(Z.imageEl&&(Z.imageEl.style.transform="translate3d(0,0,0) scale(1)"),Z.imageWrapEl&&(Z.imageWrapEl.style.transform="translate3d(0,0,0)"),Z.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),Yn.scale=1,D=1,Z.slideEl=void 0,Z.imageEl=void 0,Z.imageWrapEl=void 0,Z.originX=0,Z.originY=0)}function Dn(Yn){const Un=t.zoom,zn=t.params.zoom;if(!Z.slideEl){Yn&&Yn.target&&(Z.slideEl=Yn.target.closest(`.${t.params.slideClass}, swiper-slide`)),Z.slideEl||(Z.slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?Zo(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:t.slides[t.activeIndex]);let Dh=Z.slideEl.querySelector(`.${zn.containerClass}`);Dh&&(Dh=Dh.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),Z.imageEl=Dh,Z.imageWrapEl=Dh?ku(Z.imageEl,`.${zn.containerClass}`)[0]:void 0}if(!Z.imageEl||!Z.imageWrapEl)return;let Lr,ki,Us,di,cs,eo,Eo,Ol,zv,eg,ym,Hv,bd,Id,Gf,tg,ng,Sh;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),Z.slideEl.classList.add(`${zn.zoomedSlideClass}`),typeof te.touchesStart.x>"u"&&Yn?(Lr=Yn.pageX,ki=Yn.pageY):(Lr=te.touchesStart.x,ki=te.touchesStart.y);const Wf="number"==typeof Yn?Yn:null;1===D&&Wf&&(Lr=void 0,ki=void 0),Un.scale=Wf||Z.imageWrapEl.getAttribute("data-swiper-zoom")||zn.maxRatio,D=Wf||Z.imageWrapEl.getAttribute("data-swiper-zoom")||zn.maxRatio,!Yn||1===D&&Wf?(Eo=0,Ol=0):(ng=Z.slideEl.offsetWidth,Sh=Z.slideEl.offsetHeight,Us=Gc(Z.slideEl).left+w.scrollX,di=Gc(Z.slideEl).top+w.scrollY,cs=Us+ng/2-Lr,eo=di+Sh/2-ki,zv=Z.imageEl.offsetWidth,eg=Z.imageEl.offsetHeight,ym=zv*Un.scale,Hv=eg*Un.scale,bd=Math.min(ng/2-ym/2,0),Id=Math.min(Sh/2-Hv/2,0),Gf=-bd,tg=-Id,Eo=cs*Un.scale,Ol=eo*Un.scale,Eo<bd&&(Eo=bd),Eo>Gf&&(Eo=Gf),Ol<Id&&(Ol=Id),Ol>tg&&(Ol=tg)),Wf&&1===Un.scale&&(Z.originX=0,Z.originY=0),Z.imageWrapEl.style.transitionDuration="300ms",Z.imageWrapEl.style.transform=`translate3d(${Eo}px, ${Ol}px,0)`,Z.imageEl.style.transitionDuration="300ms",Z.imageEl.style.transform=`translate3d(0,0,0) scale(${Un.scale})`}function wn(){const Yn=t.zoom,Un=t.params.zoom;if(!Z.slideEl){Z.slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?Zo(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:t.slides[t.activeIndex];let zn=Z.slideEl.querySelector(`.${Un.containerClass}`);zn&&(zn=zn.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),Z.imageEl=zn,Z.imageWrapEl=zn?ku(Z.imageEl,`.${Un.containerClass}`)[0]:void 0}!Z.imageEl||!Z.imageWrapEl||(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),Yn.scale=1,D=1,Z.imageWrapEl.style.transitionDuration="300ms",Z.imageWrapEl.style.transform="translate3d(0,0,0)",Z.imageEl.style.transitionDuration="300ms",Z.imageEl.style.transform="translate3d(0,0,0) scale(1)",Z.slideEl.classList.remove(`${Un.zoomedSlideClass}`),Z.slideEl=void 0,Z.originX=0,Z.originY=0)}function pn(Yn){const Un=t.zoom;Un.scale&&1!==Un.scale?wn():Dn(Yn)}function Pt(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function rn(){const Yn=t.zoom;if(Yn.enabled)return;Yn.enabled=!0;const{passiveListener:Un,activeListenerWithCapture:zn}=Pt();t.wrapperEl.addEventListener("pointerdown",Ot,Un),t.wrapperEl.addEventListener("pointermove",vn,zn),["pointerup","pointercancel","pointerout"].forEach(Lr=>{t.wrapperEl.addEventListener(Lr,yn,Un)}),t.wrapperEl.addEventListener("pointermove",bn,zn)}function Jn(){const Yn=t.zoom;if(!Yn.enabled)return;Yn.enabled=!1;const{passiveListener:Un,activeListenerWithCapture:zn}=Pt();t.wrapperEl.removeEventListener("pointerdown",Ot,Un),t.wrapperEl.removeEventListener("pointermove",vn,zn),["pointerup","pointercancel","pointerout"].forEach(Lr=>{t.wrapperEl.removeEventListener(Lr,yn,Un)}),t.wrapperEl.removeEventListener("pointermove",bn,zn)}Object.defineProperty(t.zoom,"scale",{get:()=>Ke,set(Yn){Ke!==Yn&&p("zoomChange",Yn,Z.imageEl,Z.slideEl),Ke=Yn}}),u("init",()=>{t.params.zoom.enabled&&rn()}),u("destroy",()=>{Jn()}),u("touchStart",(Yn,Un)=>{t.zoom.enabled&&function Wn(Yn){if(!Z.imageEl||te.isTouched)return;t.device.android&&Yn.cancelable&&Yn.preventDefault(),te.isTouched=!0;const zn=K.length>0?K[0]:Yn;te.touchesStart.x=zn.pageX,te.touchesStart.y=zn.pageY}(Un)}),u("touchEnd",(Yn,Un)=>{t.zoom.enabled&&function Jt(){const Yn=t.zoom;if(!Z.imageEl)return;if(!te.isTouched||!te.isMoved)return te.isTouched=!1,void(te.isMoved=!1);te.isTouched=!1,te.isMoved=!1;let Un=300,zn=300;const ki=te.currentX+De.x*Un,di=te.currentY+De.y*zn;0!==De.x&&(Un=Math.abs((ki-te.currentX)/De.x)),0!==De.y&&(zn=Math.abs((di-te.currentY)/De.y));const cs=Math.max(Un,zn);te.currentX=ki,te.currentY=di;const Eo=te.height*Yn.scale;te.minX=Math.min(Z.slideWidth/2-te.width*Yn.scale/2,0),te.maxX=-te.minX,te.minY=Math.min(Z.slideHeight/2-Eo/2,0),te.maxY=-te.minY,te.currentX=Math.max(Math.min(te.currentX,te.maxX),te.minX),te.currentY=Math.max(Math.min(te.currentY,te.maxY),te.minY),Z.imageWrapEl.style.transitionDuration=`${cs}ms`,Z.imageWrapEl.style.transform=`translate3d(${te.currentX}px, ${te.currentY}px,0)`}()}),u("doubleTap",(Yn,Un)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&pn(Un)}),u("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&fn()}),u("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&fn()}),Object.assign(t.zoom,{enable:rn,disable:Jn,in:Dn,out:wn,toggle:pn})},function xv(a){let{swiper:t,extendParams:o,on:u}=a;function p(H,K){const Z=function(){let Qe,Je,gt;return(tt,Ye)=>{for(Je=-1,Qe=tt.length;Qe-Je>1;)gt=Qe+Je>>1,tt[gt]<=Ye?Je=gt:Qe=gt;return Qe}}();let te,De;return this.x=H,this.y=K,this.lastIndex=H.length-1,this.interpolate=function(Qe){return Qe?(De=Z(this.x,Qe),te=De-1,(Qe-this.x[te])*(this.y[De]-this.y[te])/(this.x[De]-this.x[te])+this.y[te]):0},this}function k(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}o({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},u("beforeInit",()=>{if(typeof window<"u"&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){const H=document.querySelector(t.params.controller.control);if(H&&H.swiper)t.controller.control=H.swiper;else if(H){const K=Z=>{t.controller.control=Z.detail[0],t.update(),H.removeEventListener("init",K)};H.addEventListener("init",K)}}else t.controller.control=t.params.controller.control}),u("update",()=>{k()}),u("resize",()=>{k()}),u("observerUpdate",()=>{k()}),u("setTranslate",(H,K,Z)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTranslate(K,Z)}),u("setTransition",(H,K,Z)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTransition(K,Z)}),Object.assign(t.controller,{setTranslate:function D(H,K){const Z=t.controller.control;let te,De;const Ke=t.constructor;function Qe(Je){if(Je.destroyed)return;const gt=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(function w(H){t.controller.spline=t.params.loop?new p(t.slidesGrid,H.slidesGrid):new p(t.snapGrid,H.snapGrid)}(Je),De=-t.controller.spline.interpolate(-gt)),(!De||"container"===t.params.controller.by)&&(te=(Je.maxTranslate()-Je.minTranslate())/(t.maxTranslate()-t.minTranslate()),(Number.isNaN(te)||!Number.isFinite(te))&&(te=1),De=(gt-t.minTranslate())*te+Je.minTranslate()),t.params.controller.inverse&&(De=Je.maxTranslate()-De),Je.updateProgress(De),Je.setTranslate(De,t),Je.updateActiveIndex(),Je.updateSlidesClasses()}if(Array.isArray(Z))for(let Je=0;Je<Z.length;Je+=1)Z[Je]!==K&&Z[Je]instanceof Ke&&Qe(Z[Je]);else Z instanceof Ke&&K!==Z&&Qe(Z)},setTransition:function N(H,K){const Z=t.constructor,te=t.controller.control;let De;function Ke(Qe){Qe.destroyed||(Qe.setTransition(H,t),0!==H&&(Qe.transitionStart(),Qe.params.autoHeight&&Hc(()=>{Qe.updateAutoHeight()}),Fp(Qe.wrapperEl,()=>{te&&Qe.transitionEnd()})))}if(Array.isArray(te))for(De=0;De<te.length;De+=1)te[De]!==K&&te[De]instanceof Z&&Ke(te[De]);else te instanceof Z&&K!==te&&Ke(te)}})},function Wp(a){let{swiper:t,extendParams:o,on:u}=a;o({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let p=null;function w(Pt){const rn=p;0!==rn.length&&(rn.innerHTML="",rn.innerHTML=Pt)}const D=Pt=>(Array.isArray(Pt)?Pt:[Pt]).filter(rn=>!!rn);function k(Pt){(Pt=D(Pt)).forEach(rn=>{rn.setAttribute("tabIndex","0")})}function H(Pt){(Pt=D(Pt)).forEach(rn=>{rn.setAttribute("tabIndex","-1")})}function K(Pt,rn){(Pt=D(Pt)).forEach(Jn=>{Jn.setAttribute("role",rn)})}function Z(Pt,rn){(Pt=D(Pt)).forEach(Jn=>{Jn.setAttribute("aria-roledescription",rn)})}function De(Pt,rn){(Pt=D(Pt)).forEach(Jn=>{Jn.setAttribute("aria-label",rn)})}function Je(Pt){(Pt=D(Pt)).forEach(rn=>{rn.setAttribute("aria-disabled",!0)})}function gt(Pt){(Pt=D(Pt)).forEach(rn=>{rn.setAttribute("aria-disabled",!1)})}function tt(Pt){if(13!==Pt.keyCode&&32!==Pt.keyCode)return;const rn=t.params.a11y,Jn=Pt.target;t.pagination&&t.pagination.el&&(Jn===t.pagination.el||t.pagination.el.contains(Pt.target))&&!Pt.target.matches(wo(t.params.pagination.bulletClass))||(t.navigation&&t.navigation.nextEl&&Jn===t.navigation.nextEl&&(t.isEnd&&!t.params.loop||t.slideNext(),w(t.isEnd?rn.lastSlideMessage:rn.nextSlideMessage)),t.navigation&&t.navigation.prevEl&&Jn===t.navigation.prevEl&&(t.isBeginning&&!t.params.loop||t.slidePrev(),w(t.isBeginning?rn.firstSlideMessage:rn.prevSlideMessage)),t.pagination&&Jn.matches(wo(t.params.pagination.bulletClass))&&Jn.click())}function Ot(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function vn(){return Ot()&&t.params.pagination.clickable}const Wn=(Pt,rn,Jn)=>{k(Pt),"BUTTON"!==Pt.tagName&&(K(Pt,"button"),Pt.addEventListener("keydown",tt)),De(Pt,Jn),function te(Pt,rn){(Pt=D(Pt)).forEach(Jn=>{Jn.setAttribute("aria-controls",rn)})}(Pt,rn)},bn=()=>{t.a11y.clicked=!0},Jt=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},fn=Pt=>{if(t.a11y.clicked)return;const rn=Pt.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!rn||!t.slides.includes(rn))return;const Jn=t.slides.indexOf(rn)===t.activeIndex,Yn=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(rn);Jn||Yn||Pt.sourceCapabilities&&Pt.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(rn),0))},Dn=()=>{const Pt=t.params.a11y;Pt.itemRoleDescriptionMessage&&Z(t.slides,Pt.itemRoleDescriptionMessage),Pt.slideRole&&K(t.slides,Pt.slideRole);const rn=t.slides.length;Pt.slideLabelMessage&&t.slides.forEach((Jn,Yn)=>{const Un=t.params.loop?parseInt(Jn.getAttribute("data-swiper-slide-index"),10):Yn;De(Jn,Pt.slideLabelMessage.replace(/\{\{index\}\}/,Un+1).replace(/\{\{slidesLength\}\}/,rn))})};u("beforeInit",()=>{p=va("span",t.params.a11y.notificationClass),p.setAttribute("aria-live","assertive"),p.setAttribute("aria-atomic","true")}),u("afterInit",()=>{t.params.a11y.enabled&&(()=>{const Pt=t.params.a11y;t.el.append(p);const rn=t.el;Pt.containerRoleDescriptionMessage&&Z(rn,Pt.containerRoleDescriptionMessage),Pt.containerMessage&&De(rn,Pt.containerMessage);const Jn=t.wrapperEl,Yn=Pt.id||Jn.getAttribute("id")||`swiper-wrapper-${function N(Pt){return void 0===Pt&&(Pt=16),"x".repeat(Pt).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,Un=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";(function Ke(Pt,rn){(Pt=D(Pt)).forEach(Jn=>{Jn.setAttribute("id",rn)})})(Jn,Yn),function Qe(Pt,rn){(Pt=D(Pt)).forEach(Jn=>{Jn.setAttribute("aria-live",rn)})}(Jn,Un),Dn();let{nextEl:zn,prevEl:Lr}=t.navigation?t.navigation:{};zn=D(zn),Lr=D(Lr),zn&&zn.forEach(ki=>Wn(ki,Yn,Pt.nextSlideMessage)),Lr&&Lr.forEach(ki=>Wn(ki,Yn,Pt.prevSlideMessage)),vn()&&D(t.pagination.el).forEach(Us=>{Us.addEventListener("keydown",tt)}),t.el.addEventListener("focus",fn,!0),t.el.addEventListener("pointerdown",bn,!0),t.el.addEventListener("pointerup",Jt,!0)})()}),u("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&Dn()}),u("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&function Ye(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:Pt,prevEl:rn}=t.navigation;rn&&(t.isBeginning?(Je(rn),H(rn)):(gt(rn),k(rn))),Pt&&(t.isEnd?(Je(Pt),H(Pt)):(gt(Pt),k(Pt)))}()}),u("paginationUpdate",()=>{t.params.a11y.enabled&&function yn(){const Pt=t.params.a11y;Ot()&&t.pagination.bullets.forEach(rn=>{t.params.pagination.clickable&&(k(rn),t.params.pagination.renderBullet||(K(rn,"button"),De(rn,Pt.paginationBulletMessage.replace(/\{\{index\}\}/,pd(rn)+1)))),rn.matches(wo(t.params.pagination.bulletActiveClass))?rn.setAttribute("aria-current","true"):rn.removeAttribute("aria-current")})}()}),u("destroy",()=>{t.params.a11y.enabled&&function pn(){p&&p.remove();let{nextEl:Pt,prevEl:rn}=t.navigation?t.navigation:{};Pt=D(Pt),rn=D(rn),Pt&&Pt.forEach(Jn=>Jn.removeEventListener("keydown",tt)),rn&&rn.forEach(Jn=>Jn.removeEventListener("keydown",tt)),vn()&&D(t.pagination.el).forEach(Yn=>{Yn.removeEventListener("keydown",tt)}),t.el.removeEventListener("focus",fn,!0),t.el.removeEventListener("pointerdown",bn,!0),t.el.removeEventListener("pointerup",Jt,!0)}()})},function Yp(a){let{swiper:t,extendParams:o,on:u}=a;o({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let p=!1,w={};const D=De=>De.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),N=De=>{const Ke=qs();let Qe;Qe=De?new URL(De):Ke.location;const Je=Qe.pathname.slice(1).split("/").filter(Ot=>""!==Ot),gt=Je.length;return{key:Je[gt-2],value:Je[gt-1]}},k=(De,Ke)=>{const Qe=qs();if(!p||!t.params.history.enabled)return;let Je;Je=t.params.url?new URL(t.params.url):Qe.location;let tt=D(t.slides[Ke].getAttribute("data-history"));if(t.params.history.root.length>0){let Ot=t.params.history.root;"/"===Ot[Ot.length-1]&&(Ot=Ot.slice(0,Ot.length-1)),tt=`${Ot}/${De?`${De}/`:""}${tt}`}else Je.pathname.includes(De)||(tt=`${De?`${De}/`:""}${tt}`);t.params.history.keepQuery&&(tt+=Je.search);const Ye=Qe.history.state;Ye&&Ye.value===tt||(t.params.history.replaceState?Qe.history.replaceState({value:tt},null,tt):Qe.history.pushState({value:tt},null,tt))},H=(De,Ke,Qe)=>{if(Ke)for(let Je=0,gt=t.slides.length;Je<gt;Je+=1){const tt=t.slides[Je];if(D(tt.getAttribute("data-history"))===Ke){const Ot=t.getSlideIndex(tt);t.slideTo(Ot,De,Qe)}}else t.slideTo(0,De,Qe)},K=()=>{w=N(t.params.url),H(t.params.speed,w.value,!1)};u("init",()=>{t.params.history.enabled&&(()=>{const De=qs();if(t.params.history){if(!De.history||!De.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);if(p=!0,w=N(t.params.url),!w.key&&!w.value)return void(t.params.history.replaceState||De.addEventListener("popstate",K));H(0,w.value,t.params.runCallbacksOnInit),t.params.history.replaceState||De.addEventListener("popstate",K)}})()}),u("destroy",()=>{t.params.history.enabled&&(()=>{const De=qs();t.params.history.replaceState||De.removeEventListener("popstate",K)})()}),u("transitionEnd _freeModeNoMomentumRelease",()=>{p&&k(t.params.history.key,t.activeIndex)}),u("slideChange",()=>{p&&t.params.cssMode&&k(t.params.history.key,t.activeIndex)})},function Mv(a){let{swiper:t,extendParams:o,emit:u,on:p}=a,w=!1;const D=jo(),N=qs();o({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(te,De){if(t.virtual&&t.params.virtual.enabled){const Ke=t.slides.filter(Je=>Je.getAttribute("data-hash")===De)[0];return Ke?parseInt(Ke.getAttribute("data-swiper-slide-index"),10):0}return t.getSlideIndex(Zo(t.slidesEl,`.${t.params.slideClass}[data-hash="${De}"], swiper-slide[data-hash="${De}"]`)[0])}}});const k=()=>{u("hashChange");const te=D.location.hash.replace("#",""),De=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex];if(te!==(De?De.getAttribute("data-hash"):"")){const Qe=t.params.hashNavigation.getSlideIndex(t,te);if(typeof Qe>"u"||Number.isNaN(Qe))return;t.slideTo(Qe)}},H=()=>{if(!w||!t.params.hashNavigation.enabled)return;const te=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],De=te?te.getAttribute("data-hash")||te.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&N.history&&N.history.replaceState?(N.history.replaceState(null,null,`#${De}`||""),u("hashSet")):(D.location.hash=De||"",u("hashSet"))};p("init",()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;w=!0;const te=D.location.hash.replace("#","");if(te){const Ke=t.params.hashNavigation.getSlideIndex(t,te);t.slideTo(Ke||0,0,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&N.addEventListener("hashchange",k)})()}),p("destroy",()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&N.removeEventListener("hashchange",k)}),p("transitionEnd _freeModeNoMomentumRelease",()=>{w&&H()}),p("slideChange",()=>{w&&t.params.cssMode&&H()})},function V_(a){let{swiper:t,extendParams:o,on:u,emit:p,params:w}=a;t.autoplay={running:!1,paused:!1,timeLeft:0},o({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let D,N,K,te,De,Ke,Qe,Je,gt,tt,k=w&&w.autoplay?w.autoplay.delay:3e3,H=w&&w.autoplay?w.autoplay.delay:3e3,Z=(new Date).getTime();function Ye(Un){!t||t.destroyed||!t.wrapperEl||Un.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",Ye),!tt&&fn())}const Ot=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?te=!0:te&&(H=K,te=!1);const Un=t.autoplay.paused?K:Z+H-(new Date).getTime();t.autoplay.timeLeft=Un,p("autoplayTimeLeft",Un,Un/k),N=requestAnimationFrame(()=>{Ot()})},yn=Un=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(N),Ot();let zn=typeof Un>"u"?t.params.autoplay.delay:Un;k=t.params.autoplay.delay,H=t.params.autoplay.delay;const Lr=(()=>{let Un;return Un=t.virtual&&t.params.virtual.enabled?t.slides.filter(Lr=>Lr.classList.contains("swiper-slide-active"))[0]:t.slides[t.activeIndex],Un?parseInt(Un.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(Lr)&&Lr>0&&typeof Un>"u"&&(zn=Lr,k=Lr,H=Lr),K=zn;const ki=t.params.speed,Us=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(ki,!0,!0),p("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,ki,!0,!0),p("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(ki,!0,!0),p("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,ki,!0,!0),p("autoplay")),t.params.cssMode&&(Z=(new Date).getTime(),requestAnimationFrame(()=>{yn()})))};return zn>0?(clearTimeout(D),D=setTimeout(()=>{Us()},zn)):requestAnimationFrame(()=>{Us()}),zn},Wn=()=>{Z=(new Date).getTime(),t.autoplay.running=!0,yn(),p("autoplayStart")},bn=()=>{t.autoplay.running=!1,clearTimeout(D),cancelAnimationFrame(N),p("autoplayStop")},Jt=(Un,zn)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(D),Un||(gt=!0);const Lr=()=>{p("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",Ye):fn()};if(t.autoplay.paused=!0,zn)return Je&&(K=t.params.autoplay.delay),Je=!1,void Lr();K=(K||t.params.autoplay.delay)-((new Date).getTime()-Z),(!(t.isEnd&&K<0)||t.params.loop)&&(K<0&&(K=0),Lr())},fn=()=>{t.isEnd&&K<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(Z=(new Date).getTime(),gt?(gt=!1,yn(K)):yn(),t.autoplay.paused=!1,p("autoplayResume"))},Dn=()=>{if(t.destroyed||!t.autoplay.running)return;const Un=jo();"hidden"===Un.visibilityState&&(gt=!0,Jt(!0)),"visible"===Un.visibilityState&&fn()},wn=Un=>{"mouse"===Un.pointerType&&(gt=!0,tt=!0,!t.animating&&!t.autoplay.paused&&Jt(!0))},pn=Un=>{"mouse"===Un.pointerType&&(tt=!1,t.autoplay.paused&&fn())};u("init",()=>{t.params.autoplay.enabled&&(t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",wn),t.el.addEventListener("pointerleave",pn)),jo().addEventListener("visibilitychange",Dn),Wn())}),u("destroy",()=>{t.el.removeEventListener("pointerenter",wn),t.el.removeEventListener("pointerleave",pn),jo().removeEventListener("visibilitychange",Dn),t.autoplay.running&&bn()}),u("_freeModeStaticRelease",()=>{(Ke||gt)&&fn()}),u("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?bn():Jt(!0,!0)}),u("beforeTransitionStart",(Un,zn,Lr)=>{t.destroyed||!t.autoplay.running||(Lr||!t.params.autoplay.disableOnInteraction?Jt(!0,!0):bn())}),u("sliderFirstMove",()=>{if(!t.destroyed&&t.autoplay.running){if(t.params.autoplay.disableOnInteraction)return void bn();De=!0,Ke=!1,gt=!1,Qe=setTimeout(()=>{gt=!0,Ke=!0,Jt(!0)},200)}}),u("touchEnd",()=>{if(!t.destroyed&&t.autoplay.running&&De){if(clearTimeout(Qe),clearTimeout(D),t.params.autoplay.disableOnInteraction)return Ke=!1,void(De=!1);Ke&&t.params.cssMode&&fn(),Ke=!1,De=!1}}),u("slideChange",()=>{t.destroyed||!t.autoplay.running||(Je=!0)}),Object.assign(t.autoplay,{start:Wn,stop:bn,pause:Jt,resume:fn})},function wh(a){let{swiper:t,extendParams:o,on:u}=a;o({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let p=!1,w=!1;function D(){const H=t.thumbs.swiper;if(!H||H.destroyed)return;const K=H.clickedIndex,Z=H.clickedSlide;if(Z&&Z.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof K>"u"||null===K)return;let te;te=H.params.loop?parseInt(H.clickedSlide.getAttribute("data-swiper-slide-index"),10):K,t.params.loop?t.slideToLoop(te):t.slideTo(te)}function N(){const{thumbs:H}=t.params;if(p)return!1;p=!0;const K=t.constructor;if(H.swiper instanceof K)t.thumbs.swiper=H.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(uh(H.swiper)){const Z=Object.assign({},H.swiper);Object.assign(Z,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new K(Z),w=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",D),!0}function k(H){const K=t.thumbs.swiper;if(!K||K.destroyed)return;const Z="auto"===K.params.slidesPerView?K.slidesPerViewDynamic():K.params.slidesPerView;let te=1;const De=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(te=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(te=1),te=Math.floor(te),K.slides.forEach(Je=>Je.classList.remove(De)),K.params.loop||K.params.virtual&&K.params.virtual.enabled)for(let Je=0;Je<te;Je+=1)Zo(K.slidesEl,`[data-swiper-slide-index="${t.realIndex+Je}"]`).forEach(gt=>{gt.classList.add(De)});else for(let Je=0;Je<te;Je+=1)K.slides[t.realIndex+Je]&&K.slides[t.realIndex+Je].classList.add(De);const Ke=t.params.thumbs.autoScrollOffset,Qe=Ke&&!K.params.loop;if(t.realIndex!==K.realIndex||Qe){const Je=K.activeIndex;let gt,tt;if(K.params.loop){const Ye=K.slides.filter(Ot=>Ot.getAttribute("data-swiper-slide-index")===`${t.realIndex}`)[0];gt=K.slides.indexOf(Ye),tt=t.activeIndex>t.previousIndex?"next":"prev"}else gt=t.realIndex,tt=gt>t.previousIndex?"next":"prev";Qe&&(gt+="next"===tt?Ke:-1*Ke),K.visibleSlidesIndexes&&K.visibleSlidesIndexes.indexOf(gt)<0&&(K.params.centeredSlides&&(gt=gt>Je?gt-Math.floor(Z/2)+1:gt+Math.floor(Z/2)-1),K.slideTo(gt,H?0:void 0))}}t.thumbs={swiper:null},u("beforeInit",()=>{const{thumbs:H}=t.params;if(H&&H.swiper)if("string"==typeof H.swiper||H.swiper instanceof HTMLElement){const K=jo(),Z=()=>{const De="string"==typeof H.swiper?K.querySelector(H.swiper):H.swiper;if(De&&De.swiper)H.swiper=De.swiper,N(),k(!0);else if(De){const Ke=Qe=>{H.swiper=Qe.detail[0],De.removeEventListener("init",Ke),N(),k(!0),H.swiper.update(),t.update()};De.addEventListener("init",Ke)}return De},te=()=>{t.destroyed||Z()||requestAnimationFrame(te)};requestAnimationFrame(te)}else N(),k(!0)}),u("slideChange update resize observerUpdate",()=>{k()}),u("setTransition",(H,K)=>{const Z=t.thumbs.swiper;!Z||Z.destroyed||Z.setTransition(K)}),u("beforeDestroy",()=>{const H=t.thumbs.swiper;!H||H.destroyed||w&&H.destroy()}),Object.assign(t.thumbs,{init:N,update:k})},function Ff(a){let{swiper:t,extendParams:o,emit:u,once:p}=a;o({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function w(){if(t.params.cssMode)return;const k=t.getTranslate();t.setTranslate(k),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function D(){if(t.params.cssMode)return;const{touchEventsData:k,touches:H}=t;0===k.velocities.length&&k.velocities.push({position:H[t.isHorizontal()?"startX":"startY"],time:k.touchStartTime}),k.velocities.push({position:H[t.isHorizontal()?"currentX":"currentY"],time:Qa()})},onTouchEnd:function N(k){let{currentPos:H}=k;if(t.params.cssMode)return;const{params:K,wrapperEl:Z,rtlTranslate:te,snapGrid:De,touchEventsData:Ke}=t,Je=Qa()-Ke.touchStartTime;if(H<-t.minTranslate())t.slideTo(t.activeIndex);else if(H>-t.maxTranslate())t.slideTo(t.slides.length<De.length?De.length-1:t.slides.length-1);else{if(K.freeMode.momentum){if(Ke.velocities.length>1){const bn=Ke.velocities.pop(),Jt=Ke.velocities.pop(),Dn=bn.time-Jt.time;t.velocity=(bn.position-Jt.position)/Dn,t.velocity/=2,Math.abs(t.velocity)<K.freeMode.minimumVelocity&&(t.velocity=0),(Dn>150||Qa()-bn.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=K.freeMode.momentumVelocityRatio,Ke.velocities.length=0;let gt=1e3*K.freeMode.momentumRatio,Ye=t.translate+t.velocity*gt;te&&(Ye=-Ye);let vn,Ot=!1;const yn=20*Math.abs(t.velocity)*K.freeMode.momentumBounceRatio;let Wn;if(Ye<t.maxTranslate())K.freeMode.momentumBounce?(Ye+t.maxTranslate()<-yn&&(Ye=t.maxTranslate()-yn),vn=t.maxTranslate(),Ot=!0,Ke.allowMomentumBounce=!0):Ye=t.maxTranslate(),K.loop&&K.centeredSlides&&(Wn=!0);else if(Ye>t.minTranslate())K.freeMode.momentumBounce?(Ye-t.minTranslate()>yn&&(Ye=t.minTranslate()+yn),vn=t.minTranslate(),Ot=!0,Ke.allowMomentumBounce=!0):Ye=t.minTranslate(),K.loop&&K.centeredSlides&&(Wn=!0);else if(K.freeMode.sticky){let bn;for(let Jt=0;Jt<De.length;Jt+=1)if(De[Jt]>-Ye){bn=Jt;break}Ye=Math.abs(De[bn]-Ye)<Math.abs(De[bn-1]-Ye)||"next"===t.swipeDirection?De[bn]:De[bn-1],Ye=-Ye}if(Wn&&p("transitionEnd",()=>{t.loopFix()}),0!==t.velocity){if(gt=te?Math.abs((-Ye-t.translate)/t.velocity):Math.abs((Ye-t.translate)/t.velocity),K.freeMode.sticky){const bn=Math.abs((te?-Ye:Ye)-t.translate),Jt=t.slidesSizesGrid[t.activeIndex];gt=bn<Jt?K.speed:bn<2*Jt?1.5*K.speed:2.5*K.speed}}else if(K.freeMode.sticky)return void t.slideToClosest();K.freeMode.momentumBounce&&Ot?(t.updateProgress(vn),t.setTransition(gt),t.setTranslate(Ye),t.transitionStart(!0,t.swipeDirection),t.animating=!0,Fp(Z,()=>{!t||t.destroyed||!Ke.allowMomentumBounce||(u("momentumBounce"),t.setTransition(K.speed),setTimeout(()=>{t.setTranslate(vn),Fp(Z,()=>{!t||t.destroyed||t.transitionEnd()})},0))})):t.velocity?(u("_freeModeNoMomentumRelease"),t.updateProgress(Ye),t.setTransition(gt),t.setTranslate(Ye),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,Fp(Z,()=>{!t||t.destroyed||t.transitionEnd()}))):t.updateProgress(Ye),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(K.freeMode.sticky)return void t.slideToClosest();K.freeMode&&u("_freeModeNoMomentumRelease")}(!K.freeMode.momentum||Je>=K.longSwipesMs)&&(u("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function Kp(a){let p,w,D,N,{swiper:t,extendParams:o,on:u}=a;o({grid:{rows:1,fill:"column"}});const k=()=>{let Qe=t.params.spaceBetween;return"string"==typeof Qe&&Qe.indexOf("%")>=0?Qe=parseFloat(Qe.replace("%",""))/100*t.size:"string"==typeof Qe&&(Qe=parseFloat(Qe)),Qe};u("init",()=>{N=t.params.grid&&t.params.grid.rows>1}),u("update",()=>{const{params:Qe,el:Je}=t,gt=Qe.grid&&Qe.grid.rows>1;N&&!gt?(Je.classList.remove(`${Qe.containerModifierClass}grid`,`${Qe.containerModifierClass}grid-column`),D=1,t.emitContainerClasses()):!N&&gt&&(Je.classList.add(`${Qe.containerModifierClass}grid`),"column"===Qe.grid.fill&&Je.classList.add(`${Qe.containerModifierClass}grid-column`),t.emitContainerClasses()),N=gt}),t.grid={initSlides:Qe=>{const{slidesPerView:Je}=t.params,{rows:gt,fill:tt}=t.params.grid,Ye=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:Qe.length;D=Math.floor(Ye/gt),p=Math.floor(Ye/gt)===Ye/gt?Ye:Math.ceil(Ye/gt)*gt,"auto"!==Je&&"row"===tt&&(p=Math.max(p,Je*gt)),w=p/gt},unsetSlides:()=>{t.slides&&t.slides.forEach(Qe=>{Qe.swiperSlideGridSet&&(Qe.style.height="",Qe.style[t.getDirectionLabel("margin-top")]="")})},updateSlide:(Qe,Je,gt)=>{const{slidesPerGroup:tt}=t.params,Ye=k(),{rows:Ot,fill:vn}=t.params.grid,yn=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:gt.length;let Wn,bn,Jt;if("row"===vn&&tt>1){const fn=Math.floor(Qe/(tt*Ot)),Dn=Qe-Ot*tt*fn,wn=0===fn?tt:Math.min(Math.ceil((yn-fn*Ot*tt)/Ot),tt);Jt=Math.floor(Dn/wn),bn=Dn-Jt*wn+fn*tt,Wn=bn+Jt*p/Ot,Je.style.order=Wn}else"column"===vn?(bn=Math.floor(Qe/Ot),Jt=Qe-bn*Ot,(bn>D||bn===D&&Jt===Ot-1)&&(Jt+=1,Jt>=Ot&&(Jt=0,bn+=1))):(Jt=Math.floor(Qe/w),bn=Qe-Jt*w);Je.row=Jt,Je.column=bn,Je.style.height=`calc((100% - ${(Ot-1)*Ye}px) / ${Ot})`,Je.style[t.getDirectionLabel("margin-top")]=0!==Jt?Ye&&`${Ye}px`:"",Je.swiperSlideGridSet=!0},updateWrapperSize:(Qe,Je)=>{const{centeredSlides:gt,roundLengths:tt}=t.params,Ye=k(),{rows:Ot}=t.params.grid;if(t.virtualSize=(Qe+Ye)*p,t.virtualSize=Math.ceil(t.virtualSize/Ot)-Ye,t.params.cssMode||(t.wrapperEl.style[t.getDirectionLabel("width")]=`${t.virtualSize+Ye}px`),gt){const vn=[];for(let yn=0;yn<Je.length;yn+=1){let Wn=Je[yn];tt&&(Wn=Math.floor(Wn)),Je[yn]<t.virtualSize+Je[0]&&vn.push(Wn)}Je.splice(0,Je.length),Je.push(...vn)}}}},function um(a){let{swiper:t}=a;Object.assign(t,{appendSlide:Pv.bind(t),prependSlide:Rv.bind(t),addSlide:j_.bind(t),removeSlide:Vy.bind(t),removeAllSlides:jy.bind(t)})},function Ov(a){let{swiper:t,extendParams:o,on:u}=a;o({fadeEffect:{crossFade:!1}}),yd({effect:"fade",swiper:t,on:u,setTranslate:()=>{const{slides:D}=t;for(let k=0;k<D.length;k+=1){const H=t.slides[k];let Z=-H.swiperSlideOffset;t.params.virtualTranslate||(Z-=t.translate);let te=0;t.isHorizontal()||(te=Z,Z=0);const De=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(H.progress),0):1+Math.min(Math.max(H.progress,-1),0),Ke=Bf(0,H);Ke.style.opacity=De,Ke.style.transform=`translate3d(${Z}px, ${te}px, 0px)`}},setTransition:D=>{const N=t.slides.map(k=>Ou(k));N.forEach(k=>{k.style.transitionDuration=`${D}ms`}),Kc({swiper:t,duration:D,transformElements:N,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function dm(a){let{swiper:t,extendParams:o,on:u}=a;o({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const p=(k,H,K)=>{let Z=k.querySelector(K?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),te=k.querySelector(K?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");Z||(Z=va("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(K?"left":"top")).split(" ")),k.append(Z)),te||(te=va("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(K?"right":"bottom")).split(" ")),k.append(te)),Z&&(Z.style.opacity=Math.max(-H,0)),te&&(te.style.opacity=Math.max(H,0))};yd({effect:"cube",swiper:t,on:u,setTranslate:()=>{const{el:k,wrapperEl:H,slides:K,width:Z,height:te,rtlTranslate:De,size:Ke,browser:Qe}=t,Je=t.params.cubeEffect,gt=t.isHorizontal(),tt=t.virtual&&t.params.virtual.enabled;let Ot,Ye=0;Je.shadow&&(gt?(Ot=t.wrapperEl.querySelector(".swiper-cube-shadow"),Ot||(Ot=va("div","swiper-cube-shadow"),t.wrapperEl.append(Ot)),Ot.style.height=`${Z}px`):(Ot=k.querySelector(".swiper-cube-shadow"),Ot||(Ot=va("div","swiper-cube-shadow"),k.append(Ot))));for(let yn=0;yn<K.length;yn+=1){const Wn=K[yn];let bn=yn;tt&&(bn=parseInt(Wn.getAttribute("data-swiper-slide-index"),10));let Jt=90*bn,fn=Math.floor(Jt/360);De&&(Jt=-Jt,fn=Math.floor(-Jt/360));const Dn=Math.max(Math.min(Wn.progress,1),-1);let wn=0,pn=0,Pt=0;bn%4==0?(wn=4*-fn*Ke,Pt=0):(bn-1)%4==0?(wn=0,Pt=4*-fn*Ke):(bn-2)%4==0?(wn=Ke+4*fn*Ke,Pt=Ke):(bn-3)%4==0&&(wn=-Ke,Pt=3*Ke+4*Ke*fn),De&&(wn=-wn),gt||(pn=wn,wn=0);const rn=`rotateX(${gt?0:-Jt}deg) rotateY(${gt?Jt:0}deg) translate3d(${wn}px, ${pn}px, ${Pt}px)`;Dn<=1&&Dn>-1&&(Ye=90*bn+90*Dn,De&&(Ye=90*-bn-90*Dn),t.browser&&t.browser.isSafari&&Math.abs(Ye)/90%2==1&&(Ye+=.001)),Wn.style.transform=rn,Je.slideShadows&&p(Wn,Dn,gt)}if(H.style.transformOrigin=`50% 50% -${Ke/2}px`,H.style["-webkit-transform-origin"]=`50% 50% -${Ke/2}px`,Je.shadow)if(gt)Ot.style.transform=`translate3d(0px, ${Z/2+Je.shadowOffset}px, ${-Z/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${Je.shadowScale})`;else{const yn=Math.abs(Ye)-90*Math.floor(Math.abs(Ye)/90),Wn=1.5-(Math.sin(2*yn*Math.PI/360)/2+Math.cos(2*yn*Math.PI/360)/2),Jt=Je.shadowScale/Wn;Ot.style.transform=`scale3d(${Je.shadowScale}, 1, ${Jt}) translate3d(0px, ${te/2+Je.shadowOffset}px, ${-te/2/Jt}px) rotateX(-89.99deg)`}const vn=(Qe.isSafari||Qe.isWebView)&&Qe.needPerspectiveFix?-Ke/2:0;H.style.transform=`translate3d(0px,0,${vn}px) rotateX(${t.isHorizontal()?0:Ye}deg) rotateY(${t.isHorizontal()?-Ye:0}deg)`,H.style.setProperty("--swiper-cube-translate-z",`${vn}px`)},setTransition:k=>{const{el:H,slides:K}=t;if(K.forEach(Z=>{Z.style.transitionDuration=`${k}ms`,Z.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(te=>{te.style.transitionDuration=`${k}ms`})}),t.params.cubeEffect.shadow&&!t.isHorizontal()){const Z=H.querySelector(".swiper-cube-shadow");Z&&(Z.style.transitionDuration=`${k}ms`)}},recreateShadows:()=>{const k=t.isHorizontal();t.slides.forEach(H=>{const K=Math.max(Math.min(H.progress,1),-1);p(H,K,k)})},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function qp(a){let{swiper:t,extendParams:o,on:u}=a;o({flipEffect:{slideShadows:!0,limitRotation:!0}});const p=(k,H)=>{let K=t.isHorizontal()?k.querySelector(".swiper-slide-shadow-left"):k.querySelector(".swiper-slide-shadow-top"),Z=t.isHorizontal()?k.querySelector(".swiper-slide-shadow-right"):k.querySelector(".swiper-slide-shadow-bottom");K||(K=qc("flip",k,t.isHorizontal()?"left":"top")),Z||(Z=qc("flip",k,t.isHorizontal()?"right":"bottom")),K&&(K.style.opacity=Math.max(-H,0)),Z&&(Z.style.opacity=Math.max(H,0))};yd({effect:"flip",swiper:t,on:u,setTranslate:()=>{const{slides:k,rtlTranslate:H}=t,K=t.params.flipEffect;for(let Z=0;Z<k.length;Z+=1){const te=k[Z];let De=te.progress;t.params.flipEffect.limitRotation&&(De=Math.max(Math.min(te.progress,1),-1));const Ke=te.swiperSlideOffset;let Je=-180*De,gt=0,tt=t.params.cssMode?-Ke-t.translate:-Ke,Ye=0;t.isHorizontal()?H&&(Je=-Je):(Ye=tt,tt=0,gt=-Je,Je=0),t.browser&&t.browser.isSafari&&(Math.abs(Je)/90%2==1&&(Je+=.001),Math.abs(gt)/90%2==1&&(gt+=.001)),te.style.zIndex=-Math.abs(Math.round(De))+k.length,K.slideShadows&&p(te,De);const Ot=`translate3d(${tt}px, ${Ye}px, 0px) rotateX(${gt}deg) rotateY(${Je}deg)`;Bf(0,te).style.transform=Ot}},setTransition:k=>{const H=t.slides.map(K=>Ou(K));H.forEach(K=>{K.style.transitionDuration=`${k}ms`,K.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Z=>{Z.style.transitionDuration=`${k}ms`})}),Kc({swiper:t,duration:k,transformElements:H})},recreateShadows:()=>{t.slides.forEach(k=>{let H=k.progress;t.params.flipEffect.limitRotation&&(H=Math.max(Math.min(k.progress,1),-1)),p(k,H)})},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function hm(a){let{swiper:t,extendParams:o,on:u}=a;o({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),yd({effect:"coverflow",swiper:t,on:u,setTranslate:()=>{const{width:D,height:N,slides:k,slidesSizesGrid:H}=t,K=t.params.coverflowEffect,Z=t.isHorizontal(),te=t.translate,De=Z?D/2-te:N/2-te,Ke=Z?K.rotate:-K.rotate,Qe=K.depth;for(let Je=0,gt=k.length;Je<gt;Je+=1){const tt=k[Je],Ye=H[Je],vn=(De-tt.swiperSlideOffset-Ye/2)/Ye,yn="function"==typeof K.modifier?K.modifier(vn):vn*K.modifier;let Wn=Z?Ke*yn:0,bn=Z?0:Ke*yn,Jt=-Qe*Math.abs(yn),fn=K.stretch;"string"==typeof fn&&-1!==fn.indexOf("%")&&(fn=parseFloat(K.stretch)/100*Ye);let Dn=Z?0:fn*yn,wn=Z?fn*yn:0,pn=1-(1-K.scale)*Math.abs(yn);Math.abs(wn)<.001&&(wn=0),Math.abs(Dn)<.001&&(Dn=0),Math.abs(Jt)<.001&&(Jt=0),Math.abs(Wn)<.001&&(Wn=0),Math.abs(bn)<.001&&(bn=0),Math.abs(pn)<.001&&(pn=0),t.browser&&t.browser.isSafari&&(Math.abs(Wn)/90%2==1&&(Wn+=.001),Math.abs(bn)/90%2==1&&(bn+=.001));const Pt=`translate3d(${wn}px,${Dn}px,${Jt}px)  rotateX(${bn}deg) rotateY(${Wn}deg) scale(${pn})`;if(Bf(0,tt).style.transform=Pt,tt.style.zIndex=1-Math.abs(Math.round(yn)),K.slideShadows){let Jn=tt.querySelector(Z?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Yn=tt.querySelector(Z?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");Jn||(Jn=qc("coverflow",tt,Z?"left":"top")),Yn||(Yn=qc("coverflow",tt,Z?"right":"bottom")),Jn&&(Jn.style.opacity=yn>0?yn:0),Yn&&(Yn.style.opacity=-yn>0?-yn:0)}}},setTransition:D=>{t.slides.map(k=>Ou(k)).forEach(k=>{k.style.transitionDuration=`${D}ms`,k.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(H=>{H.style.transitionDuration=`${D}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function Eh(a){let{swiper:t,extendParams:o,on:u}=a;o({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const p=N=>"string"==typeof N?N:`${N}px`;yd({effect:"creative",swiper:t,on:u,setTranslate:()=>{const{slides:N,wrapperEl:k,slidesSizesGrid:H}=t,K=t.params.creativeEffect,{progressMultiplier:Z}=K,te=t.params.centeredSlides;te&&(k.style.transform=`translateX(calc(50% - ${H[0]/2-t.params.slidesOffsetBefore||0}px))`);for(let De=0;De<N.length;De+=1){const Ke=N[De],Qe=Ke.progress,Je=Math.min(Math.max(Ke.progress,-K.limitProgress),K.limitProgress);let gt=Je;te||(gt=Math.min(Math.max(Ke.originalProgress,-K.limitProgress),K.limitProgress));const tt=Ke.swiperSlideOffset,Ye=[t.params.cssMode?-tt-t.translate:-tt,0,0],Ot=[0,0,0];let vn=!1;t.isHorizontal()||(Ye[1]=Ye[0],Ye[0]=0);let yn={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};Je<0?(yn=K.next,vn=!0):Je>0&&(yn=K.prev,vn=!0),Ye.forEach((pn,Pt)=>{Ye[Pt]=`calc(${pn}px + (${p(yn.translate[Pt])} * ${Math.abs(Je*Z)}))`}),Ot.forEach((pn,Pt)=>{let rn=yn.rotate[Pt]*Math.abs(Je*Z);t.browser&&t.browser.isSafari&&Math.abs(rn)/90%2==1&&(rn+=.001),Ot[Pt]=rn}),Ke.style.zIndex=-Math.abs(Math.round(Qe))+N.length;const Wn=Ye.join(", "),fn=gt<0?1+(1-yn.opacity)*gt*Z:1-(1-yn.opacity)*gt*Z,Dn=`translate3d(${Wn}) rotateX(${Ot[0]}deg) rotateY(${Ot[1]}deg) rotateZ(${Ot[2]}deg) ${gt<0?`scale(${1+(1-yn.scale)*gt*Z})`:`scale(${1-(1-yn.scale)*gt*Z})`}`;if(vn&&yn.shadow||!vn){let pn=Ke.querySelector(".swiper-slide-shadow");!pn&&yn.shadow&&(pn=qc("creative",Ke)),pn&&(pn.style.opacity=Math.min(Math.max(Math.abs(K.shadowPerProgress?Je*(1/K.limitProgress):Je),0),1))}const wn=Bf(0,Ke);wn.style.transform=Dn,wn.style.opacity=fn,yn.origin&&(wn.style.transformOrigin=yn.origin)}},setTransition:N=>{const k=t.slides.map(H=>Ou(H));k.forEach(H=>{H.style.transitionDuration=`${N}ms`,H.querySelectorAll(".swiper-slide-shadow").forEach(K=>{K.style.transitionDuration=`${N}ms`})}),Kc({swiper:t,duration:N,transformElements:k,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function $f(a){let{swiper:t,extendParams:o,on:u}=a;o({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),yd({effect:"cards",swiper:t,on:u,setTranslate:()=>{const{slides:D,activeIndex:N,rtlTranslate:k}=t,H=t.params.cardsEffect,{startTranslate:K,isTouched:Z}=t.touchEventsData,te=k?-t.translate:t.translate;for(let De=0;De<D.length;De+=1){const Ke=D[De],Qe=Ke.progress,Je=Math.min(Math.max(Qe,-4),4);let gt=Ke.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(gt-=D[0].swiperSlideOffset);let tt=t.params.cssMode?-gt-t.translate:-gt,Ye=0;const Ot=-100*Math.abs(Je);let vn=1,yn=-H.perSlideRotate*Je,Wn=H.perSlideOffset-.75*Math.abs(Je);const bn=t.virtual&&t.params.virtual.enabled?t.virtual.from+De:De;if((bn===N||bn===N-1)&&Je>0&&Je<1&&(Z||t.params.cssMode)&&te<K||(bn===N||bn===N+1)&&Je<0&&Je>-1&&(Z||t.params.cssMode)&&te>K){const Pt=(1-Math.abs((Math.abs(Je)-.5)/.5))**.5;yn+=-28*Je*Pt,vn+=-.5*Pt,Wn+=96*Pt,Ye=-25*Pt*Math.abs(Je)+"%"}if(tt=Je<0?`calc(${tt}px ${k?"-":"+"} (${Wn*Math.abs(Je)}%))`:Je>0?`calc(${tt}px ${k?"-":"+"} (-${Wn*Math.abs(Je)}%))`:`${tt}px`,!t.isHorizontal()){const Pt=Ye;Ye=tt,tt=Pt}const wn=`\n        translate3d(${tt}, ${Ye}, ${Ot}px)\n        rotateZ(${H.rotate?k?-yn:yn:0}deg)\n        scale(${Je<0?""+(1+(1-vn)*Je):""+(1-(1-vn)*Je)})\n      `;if(H.slideShadows){let Pt=Ke.querySelector(".swiper-slide-shadow");Pt||(Pt=qc("cards",Ke)),Pt&&(Pt.style.opacity=Math.min(Math.max((Math.abs(Je)-.5)/.5,0),1))}Ke.style.zIndex=-Math.abs(Math.round(Qe))+D.length,Bf(0,Ke).style.transform=wn}},setTransition:D=>{const N=t.slides.map(k=>Ou(k));N.forEach(k=>{k.style.transitionDuration=`${D}ms`,k.querySelectorAll(".swiper-slide-shadow").forEach(H=>{H.style.transitionDuration=`${D}ms`})}),Kc({swiper:t,duration:D,transformElements:N})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}]);const _d=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Uf(a){return"object"==typeof a&&null!==a&&a.constructor&&"Object"===Object.prototype.toString.call(a).slice(8,-1)&&!a.__swiper__}function Vf(a,t){const o=["__proto__","constructor","prototype"];Object.keys(t).filter(u=>o.indexOf(u)<0).forEach(u=>{typeof a[u]>"u"?a[u]=t[u]:Uf(t[u])&&Uf(a[u])&&Object.keys(t[u]).length>0?t[u].__swiper__?a[u]=t[u]:Vf(a[u],t[u]):a[u]=t[u]})}function Ed(a){return void 0===a&&(a=""),a.replace(/-[a-z]/g,t=>t.toUpperCase().replace("-",""))}const kv=a=>{if(parseFloat(a)===Number(a))return Number(a);if("true"===a||""===a)return!0;if("false"===a)return!1;if("null"===a)return null;if("undefined"!==a){if("string"==typeof a&&a.includes("{")&&a.includes("}")&&a.includes('"')){let t;try{t=JSON.parse(a)}catch{t=a}return t}return a}},zy=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function zf(a,t,o){const u={},p={};Vf(u,Tv);const w=[..._d,"on"],D=w.map(k=>k.replace(/_/,""));w.forEach(k=>{k=k.replace("_",""),typeof a[k]<"u"&&(p[k]=a[k])});const N=[...a.attributes];return"string"==typeof t&&typeof o<"u"&&N.push({name:t,value:Uf(o)?{...o}:o}),N.forEach(k=>{const H=zy.filter(K=>0===k.name.indexOf(`${K}-`))[0];if(H){const K=Ed(H),Z=Ed(k.name.split(`${H}-`)[1]);typeof p[K]>"u"&&(p[K]={}),!0===p[K]&&(p[K]={enabled:!0}),p[K][Z]=kv(k.value)}else{const K=Ed(k.name);if(!D.includes(K))return;const Z=kv(k.value);p[K]&&zy.includes(k.name)&&!Uf(Z)?(p[K].constructor!==Object&&(p[K]={}),p[K].enabled=!!Z):p[K]=Z}}),Vf(u,p),u.navigation?u.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==u.navigation?u.navigation:{}}:!1===u.navigation&&delete u.navigation,u.scrollbar?u.scrollbar={el:".swiper-scrollbar",...!0!==u.scrollbar?u.scrollbar:{}}:!1===u.scrollbar&&delete u.scrollbar,u.pagination?u.pagination={el:".swiper-pagination",...!0!==u.pagination?u.pagination:{}}:!1===u.pagination&&delete u.pagination,{params:u,passedParams:p}}const Hy=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",Lv=typeof window>"u"||typeof HTMLElement>"u"?class Gy{}:HTMLElement,Hf='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',Fv=(a,t)=>{if(typeof CSSStyleSheet<"u"&&a.adoptedStyleSheets){const o=new CSSStyleSheet;o.replaceSync(t),a.adoptedStyleSheets=[o]}else{const o=document.createElement("style");o.rel="stylesheet",o.textContent=t,a.appendChild(o)}};class Wy extends Lv{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return Hf}static get prevButtonSvg(){return Hf.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[Hy,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const t=this.slideSlots||0,o=[...this.querySelectorAll("[slot^=slide-]")].map(u=>parseInt(u.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=o.length?Math.max(...o)+1:0,this.rendered)if(this.slideSlots>t)for(let u=t;u<this.slideSlots;u+=1){const p=document.createElement("swiper-slide");p.setAttribute("part",`slide slide-${u+1}`);const w=document.createElement("slot");w.setAttribute("name",`slide-${u+1}`),p.appendChild(w),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(p)}else if(this.slideSlots<t){const u=this.swiper.slides;for(let p=u.length-1;p>=0;p-=1)p>this.slideSlots&&u[p].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let t=this.cssStyles();this.slideSlots>0&&(t=t.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),t.length&&Fv(this.shadowRoot,t),this.cssLinks().forEach(u=>{if(this.shadowRoot.querySelector(`link[href="${u}"]`))return;const w=document.createElement("link");w.rel="stylesheet",w.href=u,this.shadowRoot.appendChild(w)});const o=document.createElement("div");o.classList.add("swiper"),o.part="container",o.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((u,p)=>`\n        <swiper-slide part="slide slide-${p}">\n          <slot name="slide-${p}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function Zp(a){return void 0===a&&(a={}),a.navigation&&typeof a.navigation.nextEl>"u"&&typeof a.navigation.prevEl>"u"}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function jf(a){return void 0===a&&(a={}),a.pagination&&typeof a.pagination.el>"u"}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function bh(a){return void 0===a&&(a={}),a.scrollbar&&typeof a.scrollbar.el>"u"}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(o),this.rendered=!0}initialize(){var t=this;if(this.initialized)return;this.initialized=!0;const{params:o,passedParams:u}=zf(this);this.swiperParams=o,this.passedParams=u,delete this.swiperParams.init,this.render(),this.swiper=new Na(this.shadowRoot.querySelector(".swiper"),{...o.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...o,touchEventsTarget:"container",onAny:function(p){"observerUpdate"===p&&t.calcSlideSlots();const w=o.eventsPrefix?`${o.eventsPrefix}${p.toLowerCase()}`:p.toLowerCase();for(var D=arguments.length,N=new Array(D>1?D-1:0),k=1;k<D;k++)N[k-1]=arguments[k];const H=new CustomEvent(w,{detail:N,bubbles:"hashChange"!==p,cancelable:!0});t.dispatchEvent(H)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(t,o){const{params:u,passedParams:p}=zf(this,t,o);this.passedParams=p,this.swiperParams=u,(!this.swiper||this.swiper.params[t]!==o)&&function Ih(a){let{swiper:t,slides:o,passedParams:u,changedParams:p,nextEl:w,prevEl:D,scrollbarEl:N,paginationEl:k}=a;const H=p.filter(Jt=>"children"!==Jt&&"direction"!==Jt&&"wrapperClass"!==Jt),{params:K,pagination:Z,navigation:te,scrollbar:De,virtual:Ke,thumbs:Qe}=t;let Je,gt,tt,Ye,Ot,vn,yn,Wn;p.includes("thumbs")&&u.thumbs&&u.thumbs.swiper&&K.thumbs&&!K.thumbs.swiper&&(Je=!0),p.includes("controller")&&u.controller&&u.controller.control&&K.controller&&!K.controller.control&&(gt=!0),p.includes("pagination")&&u.pagination&&(u.pagination.el||k)&&(K.pagination||!1===K.pagination)&&Z&&!Z.el&&(tt=!0),p.includes("scrollbar")&&u.scrollbar&&(u.scrollbar.el||N)&&(K.scrollbar||!1===K.scrollbar)&&De&&!De.el&&(Ye=!0),p.includes("navigation")&&u.navigation&&(u.navigation.prevEl||D)&&(u.navigation.nextEl||w)&&(K.navigation||!1===K.navigation)&&te&&!te.prevEl&&!te.nextEl&&(Ot=!0);const bn=Jt=>{t[Jt]&&(t[Jt].destroy(),"navigation"===Jt?(t.isElement&&(t[Jt].prevEl.remove(),t[Jt].nextEl.remove()),K[Jt].prevEl=void 0,K[Jt].nextEl=void 0,t[Jt].prevEl=void 0,t[Jt].nextEl=void 0):(t.isElement&&t[Jt].el.remove(),K[Jt].el=void 0,t[Jt].el=void 0))};p.includes("loop")&&t.isElement&&(K.loop&&!u.loop?vn=!0:!K.loop&&u.loop?yn=!0:Wn=!0),H.forEach(Jt=>{if(Uf(K[Jt])&&Uf(u[Jt]))Object.assign(K[Jt],u[Jt]),("navigation"===Jt||"pagination"===Jt||"scrollbar"===Jt)&&"enabled"in u[Jt]&&!u[Jt].enabled&&bn(Jt);else{const fn=u[Jt];!0!==fn&&!1!==fn||"navigation"!==Jt&&"pagination"!==Jt&&"scrollbar"!==Jt?K[Jt]=u[Jt]:!1===fn&&bn(Jt)}}),H.includes("controller")&&!gt&&t.controller&&t.controller.control&&K.controller&&K.controller.control&&(t.controller.control=K.controller.control),p.includes("children")&&o&&Ke&&K.virtual.enabled?(Ke.slides=o,Ke.update(!0)):p.includes("virtual")&&Ke&&K.virtual.enabled&&(o&&(Ke.slides=o),Ke.update(!0)),p.includes("children")&&o&&K.loop&&(Wn=!0),Je&&Qe.init()&&Qe.update(!0),gt&&(t.controller.control=K.controller.control),tt&&(t.isElement&&(!k||"string"==typeof k)&&(k=document.createElement("div"),k.classList.add("swiper-pagination"),k.part.add("pagination"),t.el.appendChild(k)),k&&(K.pagination.el=k),Z.init(),Z.render(),Z.update()),Ye&&(t.isElement&&(!N||"string"==typeof N)&&(N=document.createElement("div"),N.classList.add("swiper-scrollbar"),N.part.add("scrollbar"),t.el.appendChild(N)),N&&(K.scrollbar.el=N),De.init(),De.updateSize(),De.setTranslate()),Ot&&(t.isElement&&((!w||"string"==typeof w)&&(w=document.createElement("div"),w.classList.add("swiper-button-next"),w.innerHTML=t.hostEl.constructor.nextButtonSvg,w.part.add("button-next"),t.el.appendChild(w)),(!D||"string"==typeof D)&&(D=document.createElement("div"),D.classList.add("swiper-button-prev"),D.innerHTML=t.hostEl.constructor.prevButtonSvg,D.part.add("button-prev"),t.el.appendChild(D))),w&&(K.navigation.nextEl=w),D&&(K.navigation.prevEl=D),te.init(),te.update()),p.includes("allowSlideNext")&&(t.allowSlideNext=u.allowSlideNext),p.includes("allowSlidePrev")&&(t.allowSlidePrev=u.allowSlidePrev),p.includes("direction")&&t.changeDirection(u.direction,!1),(vn||Wn)&&t.loopDestroy(),(yn||Wn)&&t.loopCreate(),t.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Ed(t)],..."navigation"===t&&p[t]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===t&&p[t]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===t&&p[t]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(t,o,u){this.initialized&&("true"===o&&null===u&&(u=!1),this.updateSwiperOnPropChange(t,u))}static get observedAttributes(){return _d.filter(o=>o.includes("_")).map(o=>o.replace(/[A-Z]/g,u=>`-${u}`).replace("_","").toLowerCase())}}_d.forEach(a=>{"init"!==a&&(a=a.replace("_",""),Object.defineProperty(Wy.prototype,a,{configurable:!0,get(){return(this.passedParams||{})[a]},set(t){this.passedParams||(this.passedParams={}),this.passedParams[a]=t,this.initialized&&this.updateSwiperOnPropChange(a,t)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=a=>{_d.push(...a)});var Bv=P(2333),pm=P(3926),$v=P(1282),gm=P(2181);let Uv=(()=>{class a{constructor(o,u){this.toastController=o,this.router=u,this.router.events.pipe((0,gm.h)(p=>p instanceof Au.m2)).subscribe(p=>{this.currentUrl=p.urlAfterRedirects})}handleNotification(o){!this.currentUrl.includes(o.data.chatId)&&this.showNotification(o)}showNotification(o){const{title:u,body:p}=o;this.presentToast(`${u} - ${p}`)}presentToast(o){var u=this;return(0,Ee.Z)(function*(){(yield u.toastController.create({message:o,duration:3e3,position:"top"})).present()})()}}return a.\u0275fac=function(o){return new(o||a)(_.LFG(sa.yF),_.LFG(Au.F0))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var mm=P(6514);const Vv=[{tab:"home",icon:"home-outline",label:"Home"},{tab:"events",icon:"bicycle-outline",label:"Events"},{tab:"previous",icon:"play-skip-back-outline",label:"Previous"},{tab:"chats",icon:"chatbubble-ellipses-outline",label:"My chats"}];function vm(a,t){if(1&a&&(_.TgZ(0,"ion-badge",6),_._uU(1),_.qZA()),2&a){const o=t.ngIf;_.xp6(1),_.Oqu(o)}}function Qp(a,t){if(1&a&&(_.TgZ(0,"ion-tab-button",3),_.YNc(1,vm,2,1,"ion-badge",4),_.ALo(2,"async"),_.ALo(3,"async"),_._UZ(4,"ion-icon",5),_.TgZ(5,"ion-label"),_._uU(6),_.qZA()()),2&a){const o=t.$implicit,u=_.oxw();_.Q6J("tab",o.tab),_.xp6(1),_.Q6J("ngIf","chats"===o.tab&&!1===_.lcZ(2,4,u.isChatPage$)&&_.lcZ(3,6,u.unreadMessagesCount$)),_.xp6(3),_.Q6J("name",o.icon),_.xp6(2),_.Oqu(o.label)}}let Ky=(()=>{class a{constructor(o,u){this.store=o,this.router=u,this.unreadMessagesCount$=this.store.select(mm.gG.unreadMessagesCount),this.tabs=Vv,this.isChatPage$=this.router.events.pipe((0,gm.h)(p=>p instanceof Au.m2),(0,Ce.U)(p=>"/chats"===p.urlAfterRedirects))}}return a.\u0275fac=function(o){return new(o||a)(_.Y36(Pu.yh),_.Y36(Au.F0))},a.\u0275cmp=_.Xpm({type:a,selectors:[["app-footer"]],decls:3,vars:1,consts:[[1,"footer-tabs"],["slot","bottom"],[3,"tab",4,"ngFor","ngForOf"],[3,"tab"],["color","danger",4,"ngIf"],[3,"name"],["color","danger"]],template:function(o,u){1&o&&(_.TgZ(0,"ion-tabs",0)(1,"ion-tab-bar",1),_.YNc(2,Qp,7,8,"ion-tab-button",2),_.qZA()()),2&o&&(_.xp6(2),_.Q6J("ngForOf",u.tabs))},dependencies:[sa.yp,sa.gu,sa.Q$,sa.yq,sa.ZU,sa.UN,Af.sg,Af.O5,Af.Ov],styles:["ion-tab-bar[_ngcontent-%COMP%]{box-shadow:0 -4px 10px var(--ion-color-primary);border-top:1px solid var(--ion-color-primary)}ion-label[_ngcontent-%COMP%]{color:var(--ion-color-primary, #000)}ion-tab-button.tab-selected[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-decoration:underline}ion-badge[_ngcontent-%COMP%]{font-size:11px;position:absolute;right:6px}"]}),a})();typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Wy),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class Xp extends Lv{constructor(){super(),this.attachShadow({mode:"open"})}render(){const t=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(Fv(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),t){const o=document.createElement("div");o.classList.add("swiper-lazy-preloader"),o.part.add("preloader"),this.shadowRoot.appendChild(o)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let jv=(()=>{class a{constructor(o,u,p,w,D,N,k,H){this.platform=o,this.router=u,this.authService=p,this.firestoreApiService=w,this.messagingService=D,this.alertController=N,this.notificationService=k,this.ngZone=H,this.initializeApp()}initializeApp(){this.platform.ready().then(()=>Mf.isPluginAvailable("PushNotifications")&&this.platform.is("hybrid")?this.registerNotifications():this.messagingService.requestPermission())}registerPush(){var o=this;return(0,Ee.Z)(function*(){const u=o.authService.getCurrentUserId();Ru.addListener("registration",p=>{o.firestoreApiService.updateUserFcmToken(u,p.value)}),Ru.addListener("registrationError",p=>{console.error("Registration error: ",p.error)}),Ru.addListener("pushNotificationReceived",p=>{o.ngZone.run(()=>o.notificationService.handleNotification(p))}),Ru.addListener("pushNotificationActionPerformed",p=>{const D=p.notification.data.chatId;D&&o.router.navigateByUrl(`/chats/${D}`)})})()}registerNotifications(){var o=this;return(0,Ee.Z)(function*(){let u=yield Ru.checkPermissions();"prompt"===u.receive&&(u=yield Ru.requestPermissions()),"granted"===u.receive&&(yield Ru.register().then(()=>o.registerPush()))})()}}return a.\u0275fac=function(o){return new(o||a)(_.Y36(sa.t4),_.Y36(Au.F0),_.Y36(Bv.e),_.Y36(pm.P),_.Y36($v.o),_.Y36(sa.Br),_.Y36(Uv),_.Y36(_.R0b))},a.\u0275cmp=_.Xpm({type:a,selectors:[["app-root"]],decls:3,vars:0,template:function(o,u){1&o&&(_.TgZ(0,"ion-app"),_._UZ(1,"ion-router-outlet")(2,"app-footer"),_.qZA())},dependencies:[sa.dr,sa.jP,Ky]}),a})();var Ch=P(4181),z_=P(6223);let _0=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=_.oAB({type:a}),a.\u0275inj=_.cJS({imports:[sa.Pc,Af.ez,z_.u5]}),a})();var qy=P(4360),dl=P(5062),cc=P(9207),Jp=P(7140);function Zc(a){return()=>a.authState$.pipe((0,Hg.q)(1)).toPromise()}let w0=(()=>{class a{constructor(){}}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=_.oAB({type:a,bootstrap:[jv]}),a.\u0275inj=_.cJS({providers:[{provide:Au.wN,useClass:sa.r4},{provide:_.ip1,useFactory:Zc,deps:[Bv.e],multi:!0}],imports:[y.b2,zc.forRoot(),sa.Pc.forRoot(),b_,Pu.$l.forRoot([dl.jq,cc.nF,Jp.aF,mm.gG]),av.forRoot({disabled:true}),re.hO.initializeApp(Np_firebase),se.ww,s_.yb,sv,i_,zc.forRoot(),Ch.AuthModule,qy.F,_0]}),a})();(0,_.G48)(),y.q6().bootstrapModule(w0).catch(a=>console.log(a))},4666:(Cn,mt,P)=>{"use strict";P.d(mt,{aU:()=>sn,fN:()=>Hn,$l:()=>Ht,Ph:()=>bt,Qf:()=>ji,ZM:()=>Mn,yh:()=>ie,f4:()=>Le});var y=P(5879),_=P(7328);let se=(()=>{class fe{constructor(){this.bootstrap$=new _.t(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return fe.\u0275fac=function(Oe){return new(Oe||fe)},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function xe(fe,yt){return fe===yt}function G(fe,yt=xe){let Oe=null,at=null;function Gt(){return function ze(fe,yt,Oe){if(null===yt||null===Oe||yt.length!==Oe.length)return!1;const at=yt.length;for(let Gt=0;Gt<at;Gt++)if(!fe(yt[Gt],Oe[Gt]))return!1;return!0}(yt,Oe,arguments)||(at=fe.apply(null,arguments)),Oe=arguments,at}return Gt.reset=function(){Oe=null,at=null},Gt}let Ve=(()=>{class fe{static set(Oe){this._value=Oe}static pop(){const Oe=this._value;return this._value={},Oe}}return fe._value={},fe})();const Ce=new y.OlP("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>Ve.pop()}),he=new y.OlP("\u0275NGXS_STATE_FACTORY"),ne=new y.OlP("\u0275NGXS_STATE_CONTEXT_FACTORY");var me=P(6814),Ne=P(5592),be=P(8645),qe=P(5619),ut=P(2096),ce=P(9315),ke=P(8504),St=P(6232),Bt=P(2459),$e=P(2664),Ee=P(2181),je=P(7398),z=P(7081),Re=P(8180),ve=P(4829),we=P(9360),We=P(8251);function lt(fe,yt){return yt?Oe=>Oe.pipe(lt((at,Gt)=>(0,ve.Xf)(fe(at,Gt)).pipe((0,je.U)((cn,_n)=>yt(at,cn,Gt,_n))))):(0,we.e)((Oe,at)=>{let Gt=0,cn=null,_n=!1;Oe.subscribe((0,We.x)(at,er=>{cn||(cn=(0,We.x)(at,void 0,()=>{cn=null,_n&&at.complete()}),(0,ve.Xf)(fe(er,Gt++)).subscribe(cn))},()=>{_n=!0,!cn&&at.complete()}))})}var it=P(1631),ht=P(3572),It=P(6306),an=P(9773),dt=P(3997),Me=P(9397),Q=P(7921),de=P(9384);function Le(fe){return fe.constructor&&fe.constructor.type?fe.constructor.type:fe.type}const Tt=(fe,yt,Oe)=>{fe=Object.assign({},fe);const at=yt.split("."),Gt=at.length-1;return at.reduce((cn,_n,er)=>(cn[_n]=er===Gt?Oe:Array.isArray(cn[_n])?cn[_n].slice():Object.assign({},cn[_n]),cn&&cn[_n]),fe),fe},xt=(fe,yt)=>yt.split(".").reduce((Oe,at)=>Oe&&Oe[at],fe),on=fe=>fe&&"object"==typeof fe&&!Array.isArray(fe),Xt=(fe,...yt)=>{if(!yt.length)return fe;const Oe=yt.shift();if(on(fe)&&on(Oe))for(const at in Oe)on(Oe[at])?(fe[at]||Object.assign(fe,{[at]:{}}),Xt(fe[at],Oe[at])):Object.assign(fe,{[at]:Oe[at]});return Xt(fe,...yt)};let sr=(()=>{class fe{constructor(Oe,at){this._ngZone=Oe,this._platformId=at}enter(Oe){return(0,me.PM)(this._platformId)?this.runInsideAngular(Oe):this.runOutsideAngular(Oe)}leave(Oe){return this.runInsideAngular(Oe)}runInsideAngular(Oe){return y.R0b.isInAngularZone()?Oe():this._ngZone.run(Oe)}runOutsideAngular(Oe){return y.R0b.isInAngularZone()?this._ngZone.runOutsideAngular(Oe):Oe()}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(y.R0b),y.LFG(y.Lbi))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();const mn=new y.OlP("ROOT_OPTIONS"),Yr=new y.OlP("ROOT_STATE_TOKEN"),qr=new y.OlP("FEATURE_STATE_TOKEN"),Hn=new y.OlP("NGXS_PLUGINS"),hr="NGXS_META",Br="NGXS_OPTIONS_META",dr="NGXS_SELECTOR_META";let $r=(()=>{class fe{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=sr}}return fe.\u0275fac=function(Oe){return new(Oe||fe)},fe.\u0275prov=y.Yz7({token:fe,factory:function(Oe){let at=null;return Oe?at=new Oe:(Gt=y.LFG(mn),at=Xt(new fe,Gt)),at;var Gt},providedIn:"root"}),fe})();class Ei{constructor(yt,Oe,at){this.previousValue=yt,this.currentValue=Oe,this.firstChange=at}}let fr=(()=>{class fe{enter(Oe){return Oe()}leave(Oe){return Oe()}}return fe.\u0275fac=function(Oe){return new(Oe||fe)},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();const Pi=new y.OlP("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),xr=new y.OlP("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const fe=(0,y.f3M)(y.gxx),yt=fe.get(Pi);return fe.get(yt||(typeof y.dqk.Zone<"u"?sr:fr))}});function Hi(fe){if(!fe.hasOwnProperty(hr)){const yt={name:null,actions:{},defaults:{},path:null,makeRootSelector:Oe=>Oe.getStateGetter(yt.name),children:[]};Object.defineProperty(fe,hr,{value:yt})}return Sr(fe)}function Sr(fe){return fe[hr]}function Xr(fe){return fe[dr]}function Di(fe,yt){return yt&&yt.compatibility&&yt.compatibility.strictContentSecurityPolicy?function gi(fe){const yt=fe.slice();return Oe=>yt.reduce((at,Gt)=>at&&at[Gt],Oe)}(fe):function mi(fe){const yt=fe;let Oe="store."+yt[0],at=0;const Gt=yt.length;let cn=Oe;for(;++at<Gt;)cn=cn+" && "+(Oe=Oe+"."+yt[at]);return new Function("store","return "+cn+";")}(fe)}function oi(...fe){return function Fe(fe,yt,Oe=En){const at=function ir(fe){return fe.reduce((yt,Oe)=>(yt[Le(Oe)]=!0,yt),{})}(fe),Gt=yt&&function pr(fe){return fe.reduce((yt,Oe)=>(yt[Oe]=!0,yt),{})}(yt);return function(cn){return cn.pipe(function Ut(fe,yt){return(0,Ee.h)(Oe=>{const at=Le(Oe.action);return fe[at]&&(!yt||yt[Oe.status])})}(at,Gt),Oe())}}(fe,["DISPATCHED"])}function En(){return(0,je.U)(fe=>fe.action)}function br(fe){return yt=>new Ne.y(Oe=>yt.subscribe({next(at){fe.leave(()=>Oe.next(at))},error(at){fe.leave(()=>Oe.error(at))},complete(){fe.leave(()=>Oe.complete())}}))}let Gn=(()=>{class fe{constructor(Oe){this._executionStrategy=Oe}enter(Oe){return this._executionStrategy.enter(Oe)}leave(Oe){return this._executionStrategy.leave(Oe)}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(xr))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function ai(fe){const yt=[];let Oe=!1;return function(...Gt){if(Oe)yt.unshift(Gt);else{for(Oe=!0,fe(...Gt);yt.length>0;){const cn=yt.pop();cn&&fe(...cn)}Oe=!1}}}class Gi extends be.x{constructor(){super(...arguments),this._orderedNext=ai(yt=>super.next(yt))}next(yt){this._orderedNext(yt)}}class Li extends qe.X{constructor(yt){super(yt),this._orderedNext=ai(Oe=>super.next(Oe)),this._currentValue=yt}getValue(){return this._currentValue}next(yt){this._currentValue=yt,this._orderedNext(yt)}}let Dt=(()=>{class fe extends Gi{ngOnDestroy(){this.complete()}}return fe.\u0275fac=function(){let yt;return function(at){return(yt||(yt=y.n5z(fe)))(at||fe)}}(),fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();const pt=fe=>(...yt)=>fe.shift()(...yt,(...at)=>pt(fe)(...at));let Sn=(()=>{class fe{constructor(Oe){this._injector=Oe,this._errorHandler=null}reportErrorSafely(Oe){null===this._errorHandler&&(this._errorHandler=this._injector.get(y.qLn));try{this._errorHandler.handleError(Oe)}catch{}}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(y.zs3))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),Rn=(()=>{class fe extends Li{constructor(){super({})}ngOnDestroy(){this.complete()}}return fe.\u0275fac=function(Oe){return new(Oe||fe)},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),or=(()=>{class fe{constructor(Oe,at){this._parentManager=Oe,this._pluginHandlers=at,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const Oe=this.getPluginHandlers();this.rootPlugins.push(...Oe)}getPluginHandlers(){return(this._pluginHandlers||[]).map(at=>at.handle?at.handle.bind(at):at)}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(fe,12),y.LFG(Hn,8))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),kr=(()=>{class fe extends be.x{}return fe.\u0275fac=function(){let yt;return function(at){return(yt||(yt=y.n5z(fe)))(at||fe)}}(),fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),jr=(()=>{class fe{constructor(Oe,at,Gt,cn,_n,er){this._actions=Oe,this._actionResults=at,this._pluginManager=Gt,this._stateStream=cn,this._ngxsExecutionStrategy=_n,this._internalErrorReporter=er}dispatch(Oe){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(Oe)).pipe(function jt(fe,yt){return Oe=>{let at=!1;return Oe.subscribe({error:Gt=>{yt.enter(()=>Promise.resolve().then(()=>{at||yt.leave(()=>fe.reportErrorSafely(Gt))}))}}),new Ne.y(Gt=>(at=!0,Oe.pipe(br(yt)).subscribe(Gt)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(Oe){return Array.isArray(Oe)?0===Oe.length?(0,ut.of)(this._stateStream.getValue()):(0,ce.D)(Oe.map(at=>this.dispatchSingle(at))):this.dispatchSingle(Oe)}dispatchSingle(Oe){const at=this._stateStream.getValue();return pt([...this._pluginManager.plugins,(cn,_n)=>{cn!==at&&this._stateStream.next(cn);const er=this.getActionResultStream(_n);return er.subscribe(Or=>this._actions.next(Or)),this._actions.next({action:_n,status:"DISPATCHED"}),this.createDispatchObservable(er)}])(at,Oe).pipe((0,z.d)())}getActionResultStream(Oe){return this._actionResults.pipe((0,Ee.h)(at=>at.action===Oe&&"DISPATCHED"!==at.status),(0,Re.q)(1),(0,z.d)())}createDispatchObservable(Oe){return Oe.pipe(lt(at=>{switch(at.status){case"SUCCESSFUL":return(0,ut.of)(this._stateStream.getValue());case"ERRORED":return(0,ke._)(at.error);default:return St.E}})).pipe((0,z.d)())}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(Dt),y.LFG(kr),y.LFG(or),y.LFG(Rn),y.LFG(Gn),y.LFG(Sn))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),Gr=(()=>{class fe{constructor(Oe,at,Gt){this._stateStream=Oe,this._dispatcher=at,this._config=Gt}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:at=>this._stateStream.next(at),dispatch:at=>this._dispatcher.dispatch(at)}}setStateToTheCurrentWithNew(Oe){const at=this.getRootStateOperations(),Gt=at.getState();at.setState(Object.assign(Object.assign({},Gt),Oe.defaults))}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(Rn),y.LFG(jr),y.LFG($r))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),ts=(()=>{class fe{constructor(Oe){this._internalStateOperations=Oe}createStateContext(Oe){const at=this._internalStateOperations.getRootStateOperations();function Gt(Or){return xt(Or,Oe.path)}function cn(Or,nr){const Ki=Tt(Or,Oe.path,nr);return at.setState(Ki),Ki}function _n(Or,nr){return cn(Or,nr(Gt(Or)))}return{getState:()=>Gt(at.getState()),patchState(Or){const nr=at.getState(),Ki=function Zr(fe){return yt=>{const Oe=Object.assign({},yt);for(const at in fe)Oe[at]=fe[at];return Oe}}(Or);return _n(nr,Ki)},setState(Or){const nr=at.getState();return function er(Or){return"function"==typeof Or}(Or)?_n(nr,Or):cn(nr,Or)},dispatch:Or=>at.dispatch(Or)}}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(Gr))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();new RegExp("^[a-zA-Z0-9_]+$");class Vi{static get type(){return"@@INIT"}}class gs{constructor(yt){this.addedStates=yt}static get type(){return"@@UPDATE_STATE"}}new y.OlP("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let Rt=(()=>{class fe{constructor(Oe,at,Gt,cn,_n,er,Or){this._injector=Oe,this._config=at,this._parentFactory=Gt,this._actions=cn,this._actionResults=_n,this._stateContextFactory=er,this._initialState=Or,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=G(()=>{const nr=this;function Ki(Mi){const Fi=nr.statePaths[Mi];return Fi?Di(Fi.split("."),nr._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(Mi){let Fi=Ki(Mi);return Fi||((...ms)=>(Fi||(Fi=Ki(Mi)),Fi?Fi(...ms):void 0))},getSelectorOptions:Mi=>Object.assign(Object.assign({},nr._config.selectorOptions),Mi||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static cloneDefaults(Oe){let at={};return at=Array.isArray(Oe)?Oe.slice():function hi(fe){return"object"==typeof fe&&null!==fe||"function"==typeof fe}(Oe)?Object.assign({},Oe):void 0===Oe?{}:Oe,at}ngOnDestroy(){var Oe;null===(Oe=this._actionsSubscription)||void 0===Oe||Oe.unsubscribe()}add(Oe){const{newStates:at}=this.addToStatesMap(Oe);if(!at.length)return[];const Gt=function ii(fe){const yt=Oe=>fe.find(Gt=>Gt===Oe)[hr].name;return fe.reduce((Oe,at)=>{const{name:Gt,children:cn}=at[hr];return Oe[Gt]=(cn||[]).map(yt),Oe},{})}(at),cn=function pi(fe){const yt=[],Oe={},at=(Gt,cn=[])=>{Array.isArray(cn)||(cn=[]),cn.push(Gt),Oe[Gt]=!0,fe[Gt].forEach(_n=>{Oe[_n]||at(_n,cn.slice(0))}),yt.indexOf(Gt)<0&&yt.push(Gt)};return Object.keys(fe).forEach(Gt=>at(Gt)),yt.reverse()}(Gt),_n=function si(fe,yt={}){const Oe=(at,Gt)=>{for(const cn in at)if(at.hasOwnProperty(cn)&&at[cn].indexOf(Gt)>=0){const _n=Oe(at,cn);return null!==_n?`${_n}.${cn}`:cn}return null};for(const at in fe)if(fe.hasOwnProperty(at)){const Gt=Oe(fe,at);yt[at]=Gt?`${Gt}.${at}`:at}return yt}(Gt),er=function ei(fe){return fe.reduce((yt,Oe)=>(yt[Oe[hr].name]=Oe,yt),{})}(at),Or=[];for(const nr of cn){const Ki=er[nr],Ai=_n[nr],Mi=Ki[hr];this.addRuntimeInfoToMeta(Mi,Ai);const Fi={name:nr,path:Ai,isInitialised:!1,actions:Mi.actions,instance:this._injector.get(Ki),defaults:fe.cloneDefaults(Mi.defaults)};this.hasBeenMountedAndBootstrapped(nr,Ai)||Or.push(Fi),this.states.push(Fi)}return Or}addAndReturnDefaults(Oe){const Gt=this.add(Oe||[]);return{defaults:Gt.reduce((_n,er)=>Tt(_n,er.path,er.defaults),{}),states:Gt}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const Oe=new be.x;this._actionsSubscription=this._actions.pipe((0,Ee.h)(at=>"DISPATCHED"===at.status),(0,it.z)(at=>{Oe.next(at);const Gt=at.action;return this.invokeActions(Oe,Gt).pipe((0,je.U)(()=>({action:Gt,status:"SUCCESSFUL"})),(0,ht.d)({action:Gt,status:"CANCELED"}),(0,It.K)(cn=>(0,ut.of)({action:Gt,status:"ERRORED",error:cn})))})).subscribe(at=>this._actionResults.next(at))}invokeActions(Oe,at){const Gt=Le(at),cn=[];let _n=!1;for(const er of this.states){const Or=er.actions[Gt];if(Or)for(const nr of Or){const Ki=this._stateContextFactory.createStateContext(er);try{let Ai=er.instance[nr.fn](Ki,at);Ai instanceof Promise&&(Ai=(0,Bt.D)(Ai)),(0,$e.b)(Ai)?(Ai=Ai.pipe((0,it.z)(Mi=>Mi instanceof Promise?(0,Bt.D)(Mi):(0,$e.b)(Mi)?Mi:(0,ut.of)(Mi)),(0,ht.d)({})),nr.options.cancelUncompleted&&(Ai=Ai.pipe((0,an.R)(Oe.pipe(oi(at)))))):Ai=(0,ut.of)({}).pipe((0,z.d)()),cn.push(Ai)}catch(Ai){cn.push((0,ke._)(Ai))}_n=!0}}return cn.length||cn.push((0,ut.of)({})),(0,ce.D)(cn)}addToStatesMap(Oe){const at=[],Gt=this.statesByName;for(const cn of Oe){const _n=Sr(cn).name;!Gt[_n]&&(at.push(cn),Gt[_n]=cn)}return{newStates:at}}addRuntimeInfoToMeta(Oe,at){this.statePaths[Oe.name]=at,Oe.path=at}hasBeenMountedAndBootstrapped(Oe,at){const Gt=void 0!==xt(this._initialState,at);return this.statesByName[Oe]&&Gt}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(y.zs3),y.LFG($r),y.LFG(fe,12),y.LFG(Dt),y.LFG(kr),y.LFG(ts),y.LFG(Ce,8))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function Y(fe){const yt=Xr(fe)||Sr(fe);return yt&&yt.makeRootSelector||(()=>fe)}let ie=(()=>{class fe{constructor(Oe,at,Gt,cn,_n,er){this._stateStream=Oe,this._internalStateOperations=at,this._config=Gt,this._internalExecutionStrategy=cn,this._stateFactory=_n,this._selectableStateStream=this._stateStream.pipe(br(this._internalExecutionStrategy),(0,z.d)({bufferSize:1,refCount:!0})),this.initStateStream(er)}dispatch(Oe){return this._internalStateOperations.getRootStateOperations().dispatch(Oe)}select(Oe){const at=this.getStoreBoundSelectorFn(Oe);return this._selectableStateStream.pipe((0,je.U)(at),(0,It.K)(Gt=>{const{suppressErrors:cn}=this._config.selectorOptions;return Gt instanceof TypeError&&cn?(0,ut.of)(void 0):(0,ke._)(Gt)}),(0,dt.x)(),br(this._internalExecutionStrategy))}selectOnce(Oe){return this.select(Oe).pipe((0,Re.q)(1))}selectSnapshot(Oe){return this.getStoreBoundSelectorFn(Oe)(this._stateStream.getValue())}subscribe(Oe){return this._selectableStateStream.pipe(br(this._internalExecutionStrategy)).subscribe(Oe)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(Oe){return this._internalStateOperations.getRootStateOperations().setState(Oe)}getStoreBoundSelectorFn(Oe){return Y(Oe)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(Oe){const at=this._stateStream.value;if(!at||0===Object.keys(at).length){const _n=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),Oe):Oe;this._stateStream.next(_n)}}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(Rn),y.LFG(Gr),y.LFG($r),y.LFG(Gn),y.LFG(Rt),y.LFG(Ce,8))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),ge=(()=>{class fe{constructor(Oe,at){fe.store=Oe,fe.config=at}ngOnDestroy(){fe.store=null,fe.config=null}}return fe.store=null,fe.config=null,fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(ie),y.LFG($r))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),ot=(()=>{class fe{constructor(Oe,at,Gt,cn,_n){this._store=Oe,this._internalErrorReporter=at,this._internalStateOperations=Gt,this._stateContextFactory=cn,this._bootstrapper=_n,this._destroy$=new be.x}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(Oe,at){this._internalStateOperations.getRootStateOperations().dispatch(Oe).pipe((0,Ee.h)(()=>!!at),(0,Me.b)(()=>this._invokeInitOnStates(at.states)),(0,it.z)(()=>this._bootstrapper.appBootstrapped$),(0,Ee.h)(Gt=>!!Gt),(0,It.K)(Gt=>(this._internalErrorReporter.reportErrorSafely(Gt),St.E)),(0,an.R)(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(at.states))}_invokeInitOnStates(Oe){for(const at of Oe){const Gt=at.instance;Gt.ngxsOnChanges&&this._store.select(cn=>xt(cn,at.path)).pipe((0,Q.O)(void 0),(0,de.G)(),(0,an.R)(this._destroy$)).subscribe(([cn,_n])=>{const er=new Ei(cn,_n,!at.isInitialised);Gt.ngxsOnChanges(er)}),Gt.ngxsOnInit&&Gt.ngxsOnInit(this._getStateContext(at)),at.isInitialised=!0}}_invokeBootstrapOnStates(Oe){for(const at of Oe){const Gt=at.instance;Gt.ngxsAfterBootstrap&&Gt.ngxsAfterBootstrap(this._getStateContext(at))}}_getStateContext(Oe){return this._stateContextFactory.createStateContext(Oe)}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(ie),y.LFG(Sn),y.LFG(Gr),y.LFG(ts),y.LFG(se))},fe.\u0275prov=y.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})(),kt=(()=>{class fe{constructor(Oe,at,Gt,cn,_n=[],er){const Or=Oe.addAndReturnDefaults(_n);at.setStateToTheCurrentWithNew(Or),Oe.connectActionHandlers(),er.ngxsBootstrap(new Vi,Or)}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(Rt),y.LFG(Gr),y.LFG(ie),y.LFG(ge),y.LFG(Yr,8),y.LFG(ot))},fe.\u0275mod=y.oAB({type:fe}),fe.\u0275inj=y.cJS({}),fe})(),$t=(()=>{class fe{constructor(Oe,at,Gt,cn=[],_n){const er=fe.flattenStates(cn),Or=Gt.addAndReturnDefaults(er);Or.states.length&&(at.setStateToTheCurrentWithNew(Or),_n.ngxsBootstrap(new gs(Or.defaults),Or))}static flattenStates(Oe=[]){return Oe.reduce((at,Gt)=>at.concat(Gt),[])}}return fe.\u0275fac=function(Oe){return new(Oe||fe)(y.LFG(ie),y.LFG(Gr),y.LFG(Rt),y.LFG(qr,8),y.LFG(ot))},fe.\u0275mod=y.oAB({type:fe}),fe.\u0275inj=y.cJS({}),fe})(),Ht=(()=>{class fe{static forRoot(Oe=[],at={}){return{ngModule:kt,providers:[Rt,or,...Oe,...fe.ngxsTokenProviders(Oe,at)]}}static forFeature(Oe=[]){return{ngModule:$t,providers:[Rt,or,...Oe,{provide:qr,multi:!0,useValue:Oe}]}}static ngxsTokenProviders(Oe,at){return[{provide:Pi,useValue:at.executionStrategy},{provide:Yr,useValue:Oe},{provide:mn,useValue:at},{provide:y.tb,useFactory:fe.appBootstrapListenerFactory,multi:!0,deps:[se]},{provide:ne,useExisting:ts},{provide:he,useExisting:Rt}]}static appBootstrapListenerFactory(Oe){return()=>Oe.bootstrap()}}return fe.\u0275fac=function(Oe){return new(Oe||fe)},fe.\u0275mod=y.oAB({type:fe}),fe.\u0275inj=y.cJS({}),fe})();function sn(fe,yt){return(Oe,at)=>{const Gt=Hi(Oe.constructor);Array.isArray(fe)||(fe=[fe]);for(const cn of fe){const _n=cn.type;Gt.actions[_n]||(Gt.actions[_n]=[]),Gt.actions[_n].push({fn:at,options:yt||{},type:_n})}}}function Mn(fe){return at=>{const Gt=at,cn=Hi(Gt),_n=Object.getPrototypeOf(Gt),er=function yt(at){return Object.assign(Object.assign({},at[Br]||{}),fe)}(_n);(function Oe(at){const{meta:Gt,inheritedStateClass:cn,optionsWithInheritance:_n}=at,{children:er,defaults:Or,name:nr}=_n,Ki="string"==typeof nr?nr:nr&&nr.getName()||null;if(cn.hasOwnProperty(hr)){const Ai=cn[hr]||{};Gt.actions=Object.assign(Object.assign({},Gt.actions),Ai.actions)}Gt.children=er,Gt.defaults=Or,Gt.name=Ki})({meta:cn,inheritedStateClass:_n,optionsWithInheritance:er}),Gt[Br]=er}}const Kn=36;function bt(fe,...yt){return function(Oe,at){const Gt=at.toString(),cn=`__${Gt}__selector`,_n=function wr(fe,yt,Oe=[]){return yt=yt||function ft(fe){const yt=fe.length-1;return fe.charCodeAt(yt)===Kn?fe.slice(0,yt):fe}(fe),"string"==typeof yt?Di(Oe.length?[yt,...Oe]:yt.split("."),ge.config):yt}(Gt,fe,yt);Object.defineProperties(Oe,{[cn]:{writable:!0,enumerable:!1,configurable:!0},[Gt]:{enumerable:!0,configurable:!0,get(){return this[cn]||(this[cn]=function lr(fe){return ge.store||function tr(){throw new Error("You have forgotten to import the NGXS module!")}(),ge.store.select(fe)}(_n))}}})}}const Ct="NGXS_SELECTOR_OPTIONS_META",dn={getOptions:fe=>fe&&fe[Ct]||{},defineOptions:(fe,yt)=>{fe&&(fe[Ct]=yt)}};function Nn(fe,yt){const Oe=function Jr(fe){return fe.hasOwnProperty(dr)||Object.defineProperty(fe,dr,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),Xr(fe)}(fe);Oe.originalFn=fe;let at=()=>({});yt&&(Oe.containerClass=yt.containerClass,Oe.selectorName=yt.selectorName||null,at=yt.getSelectorOptions||at);const Gt=Object.assign({},Oe);return Oe.getSelectorOptions=()=>function qn(fe,yt){return Object.assign(Object.assign(Object.assign(Object.assign({},dn.getOptions(fe.containerClass)||{}),dn.getOptions(fe.originalFn)||{}),fe.getSelectorOptions()||{}),yt)}(Gt,at()),Oe}function yi(fe,yt,Oe){const at=function q(fe,yt){const Oe=yt&&yt.containerClass,Gt=G(function(..._n){const er=fe.apply(Oe,_n);return er instanceof Function?G.apply(null,[er]):er});return Object.setPrototypeOf(Gt,fe),Gt}(yt,Oe),Gt=Nn(yt,Oe);return Gt.makeRootSelector=function Vt(fe,yt,Oe){return at=>{const{argumentSelectorFunctions:Gt,selectorOptions:cn}=function pe(fe,yt,Oe=[]){const at=yt.getSelectorOptions(),Gt=fe.getSelectorOptions(at),_n=function ue(fe=[],yt,Oe){const at=[];return Oe&&(0===fe.length||yt.injectContainerState)&&Sr(Oe)&&at.push(Oe),fe&&at.push(...fe),at}(Oe,Gt,yt.containerClass).map(er=>Y(er)(fe));return{selectorOptions:Gt,argumentSelectorFunctions:_n}}(at,fe,yt);return function(er){const Or=Gt.map(nr=>nr(er));try{return Oe(...Or)}catch(nr){if(nr instanceof TypeError&&cn.suppressErrors)return;throw nr}}}}(Gt,fe,at),at}function ji(fe){return(yt,Oe,at)=>{at||(at=Object.getOwnPropertyDescriptor(yt,Oe));const Gt=null==at?void 0:at.value,cn=yi(fe,Gt,{containerClass:yt,selectorName:Oe.toString(),getSelectorOptions:()=>({})}),_n={configurable:!0,get:()=>cn};return _n.originalFn=Gt,_n}}},9422:Cn=>{Cn.exports=function _(re,se,xe){function ze(Ce,he){if(!se[Ce]){if(!re[Ce]){if(G)return G(Ce,!0);var me=new Error("Cannot find module '"+Ce+"'");throw me.code="MODULE_NOT_FOUND",me}var Ne=se[Ce]={exports:{}};re[Ce][0].call(Ne.exports,function(be){return ze(re[Ce][1][be]||be)},Ne,Ne.exports,_,re,se,xe)}return se[Ce].exports}for(var G=void 0,Ve=0;Ve<xe.length;Ve++)ze(xe[Ve]);return ze}({1:[function(_,re,se){(function(xe){"use strict";var G,ze=xe.MutationObserver||xe.WebKitMutationObserver;if(ze){var Ve=0,Ce=new ze(be),he=xe.document.createTextNode("");Ce.observe(he,{characterData:!0}),G=function(){he.data=Ve=++Ve%2}}else if(!xe.setImmediate&&typeof xe.MessageChannel<"u"){var ne=new xe.MessageChannel;ne.port1.onmessage=be,G=function(){ne.port2.postMessage(0)}}else G="document"in xe&&"onreadystatechange"in xe.document.createElement("script")?function(){var ut=xe.document.createElement("script");ut.onreadystatechange=function(){be(),ut.onreadystatechange=null,ut.parentNode.removeChild(ut),ut=null},xe.document.documentElement.appendChild(ut)}:function(){setTimeout(be,0)};var me,Ne=[];function be(){me=!0;for(var ut,ce,ke=Ne.length;ke;){for(ce=Ne,Ne=[],ut=-1;++ut<ke;)ce[ut]();ke=Ne.length}me=!1}re.exports=function qe(ut){1===Ne.push(ut)&&!me&&G()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(_,re,se){"use strict";var xe=_(1);function ze(){}var G={},Ve=["REJECTED"],Ce=["FULFILLED"],he=["PENDING"];function ne($e){if("function"!=typeof $e)throw new TypeError("resolver must be a function");this.state=he,this.queue=[],this.outcome=void 0,$e!==ze&&qe(this,$e)}function me($e,Ee,je){this.promise=$e,"function"==typeof Ee&&(this.onFulfilled=Ee,this.callFulfilled=this.otherCallFulfilled),"function"==typeof je&&(this.onRejected=je,this.callRejected=this.otherCallRejected)}function Ne($e,Ee,je){xe(function(){var z;try{z=Ee(je)}catch(Re){return G.reject($e,Re)}z===$e?G.reject($e,new TypeError("Cannot resolve promise with itself")):G.resolve($e,z)})}function be($e){var Ee=$e&&$e.then;if($e&&("object"==typeof $e||"function"==typeof $e)&&"function"==typeof Ee)return function(){Ee.apply($e,arguments)}}function qe($e,Ee){var je=!1;function z(We){je||(je=!0,G.reject($e,We))}function Re(We){je||(je=!0,G.resolve($e,We))}var we=ut(function ve(){Ee(Re,z)});"error"===we.status&&z(we.value)}function ut($e,Ee){var je={};try{je.value=$e(Ee),je.status="success"}catch(z){je.status="error",je.value=z}return je}re.exports=ne,ne.prototype.catch=function($e){return this.then(null,$e)},ne.prototype.then=function($e,Ee){if("function"!=typeof $e&&this.state===Ce||"function"!=typeof Ee&&this.state===Ve)return this;var je=new this.constructor(ze);return this.state!==he?Ne(je,this.state===Ce?$e:Ee,this.outcome):this.queue.push(new me(je,$e,Ee)),je},me.prototype.callFulfilled=function($e){G.resolve(this.promise,$e)},me.prototype.otherCallFulfilled=function($e){Ne(this.promise,this.onFulfilled,$e)},me.prototype.callRejected=function($e){G.reject(this.promise,$e)},me.prototype.otherCallRejected=function($e){Ne(this.promise,this.onRejected,$e)},G.resolve=function($e,Ee){var je=ut(be,Ee);if("error"===je.status)return G.reject($e,je.value);var z=je.value;if(z)qe($e,z);else{$e.state=Ce,$e.outcome=Ee;for(var Re=-1,ve=$e.queue.length;++Re<ve;)$e.queue[Re].callFulfilled(Ee)}return $e},G.reject=function($e,Ee){$e.state=Ve,$e.outcome=Ee;for(var je=-1,z=$e.queue.length;++je<z;)$e.queue[je].callRejected(Ee);return $e},ne.resolve=function ce($e){return $e instanceof this?$e:G.resolve(new this(ze),$e)},ne.reject=function ke($e){var Ee=new this(ze);return G.reject(Ee,$e)},ne.all=function St($e){var Ee=this;if("[object Array]"!==Object.prototype.toString.call($e))return this.reject(new TypeError("must be an array"));var je=$e.length,z=!1;if(!je)return this.resolve([]);for(var Re=new Array(je),ve=0,we=-1,We=new this(ze);++we<je;)lt($e[we],we);return We;function lt(it,ht){Ee.resolve(it).then(function It(an){Re[ht]=an,++ve===je&&!z&&(z=!0,G.resolve(We,Re))},function(an){z||(z=!0,G.reject(We,an))})}},ne.race=function Bt($e){var Ee=this;if("[object Array]"!==Object.prototype.toString.call($e))return this.reject(new TypeError("must be an array"));var je=$e.length,z=!1;if(!je)return this.resolve([]);for(var Re=-1,ve=new this(ze);++Re<je;)Ee.resolve($e[Re]).then(function(lt){z||(z=!0,G.resolve(ve,lt))},function(lt){z||(z=!0,G.reject(ve,lt))});return ve}},{1:1}],3:[function(_,re,se){(function(xe){"use strict";"function"!=typeof xe.Promise&&(xe.Promise=_(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(_,re,se){"use strict";var xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ae){return typeof Ae}:function(Ae){return Ae&&"function"==typeof Symbol&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};var Ve=function G(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function he(Ae,Et){Ae=Ae||[],Et=Et||{};try{return new Blob(Ae,Et)}catch(q){if("TypeError"!==q.name)throw q;for(var Rt=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Vt=0;Vt<Ae.length;Vt+=1)Rt.append(Ae[Vt]);return Rt.getBlob(Et.type)}}typeof Promise>"u"&&_(3);var ne=Promise;function me(Ae,Et){Et&&Ae.then(function(Ze){Et(null,Ze)},function(Ze){Et(Ze)})}function Ne(Ae,Et,Ze){"function"==typeof Et&&Ae.then(Et),"function"==typeof Ze&&Ae.catch(Ze)}function be(Ae){return"string"!=typeof Ae&&(console.warn(Ae+" used as a key, but it is not a string."),Ae=String(Ae)),Ae}function qe(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var ut="local-forage-detect-blob-support",ce=void 0,ke={},St=Object.prototype.toString,Bt="readonly",$e="readwrite";function Ee(Ae){for(var Et=Ae.length,Ze=new ArrayBuffer(Et),Rt=new Uint8Array(Ze),Vt=0;Vt<Et;Vt++)Rt[Vt]=Ae.charCodeAt(Vt);return Ze}function z(Ae){return"boolean"==typeof ce?ne.resolve(ce):function je(Ae){return new ne(function(Et){var Ze=Ae.transaction(ut,$e),Rt=he([""]);Ze.objectStore(ut).put(Rt,"key"),Ze.onabort=function(Vt){Vt.preventDefault(),Vt.stopPropagation(),Et(!1)},Ze.oncomplete=function(){var Vt=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);Et(q||!Vt||parseInt(Vt[1],10)>=43)}}).catch(function(){return!1})}(Ae).then(function(Et){return ce=Et})}function Re(Ae){var Et=ke[Ae.name],Ze={};Ze.promise=new ne(function(Rt,Vt){Ze.resolve=Rt,Ze.reject=Vt}),Et.deferredOperations.push(Ze),Et.dbReady=Et.dbReady?Et.dbReady.then(function(){return Ze.promise}):Ze.promise}function ve(Ae){var Ze=ke[Ae.name].deferredOperations.pop();if(Ze)return Ze.resolve(),Ze.promise}function we(Ae,Et){var Rt=ke[Ae.name].deferredOperations.pop();if(Rt)return Rt.reject(Et),Rt.promise}function We(Ae,Et){return new ne(function(Ze,Rt){if(ke[Ae.name]=ke[Ae.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},Ae.db){if(!Et)return Ze(Ae.db);Re(Ae),Ae.db.close()}var Vt=[Ae.name];Et&&Vt.push(Ae.version);var q=Ve.open.apply(Ve,Vt);Et&&(q.onupgradeneeded=function(pe){var ue=q.result;try{ue.createObjectStore(Ae.storeName),pe.oldVersion<=1&&ue.createObjectStore(ut)}catch(Y){if("ConstraintError"!==Y.name)throw Y;console.warn('The database "'+Ae.name+'" has been upgraded from version '+pe.oldVersion+" to version "+pe.newVersion+', but the storage "'+Ae.storeName+'" already exists.')}}),q.onerror=function(pe){pe.preventDefault(),Rt(q.error)},q.onsuccess=function(){var pe=q.result;pe.onversionchange=function(ue){ue.target.close()},Ze(pe),ve(Ae)}})}function lt(Ae){return We(Ae,!1)}function it(Ae){return We(Ae,!0)}function ht(Ae,Et){if(!Ae.db)return!0;var Ze=!Ae.db.objectStoreNames.contains(Ae.storeName),Vt=Ae.version>Ae.db.version;if(Ae.version<Ae.db.version&&(Ae.version!==Et&&console.warn('The database "'+Ae.name+"\" can't be downgraded from version "+Ae.db.version+" to version "+Ae.version+"."),Ae.version=Ae.db.version),Vt||Ze){if(Ze){var q=Ae.db.version+1;q>Ae.version&&(Ae.version=q)}return!0}return!1}function an(Ae){return he([Ee(atob(Ae.data))],{type:Ae.type})}function dt(Ae){return Ae&&Ae.__local_forage_encoded_blob}function Me(Ae){var Et=this,Ze=Et._initReady().then(function(){var Rt=ke[Et._dbInfo.name];if(Rt&&Rt.dbReady)return Rt.dbReady});return Ne(Ze,Ae,Ae),Ze}function de(Ae,Et,Ze,Rt){void 0===Rt&&(Rt=1);try{var Vt=Ae.db.transaction(Ae.storeName,Et);Ze(null,Vt)}catch(q){if(Rt>0&&(!Ae.db||"InvalidStateError"===q.name||"NotFoundError"===q.name))return ne.resolve().then(function(){if(!Ae.db||"NotFoundError"===q.name&&!Ae.db.objectStoreNames.contains(Ae.storeName)&&Ae.version<=Ae.db.version)return Ae.db&&(Ae.version=Ae.db.version+1),it(Ae)}).then(function(){return function Q(Ae){Re(Ae);for(var Et=ke[Ae.name],Ze=Et.forages,Rt=0;Rt<Ze.length;Rt++){var Vt=Ze[Rt];Vt._dbInfo.db&&(Vt._dbInfo.db.close(),Vt._dbInfo.db=null)}return Ae.db=null,lt(Ae).then(function(q){return Ae.db=q,ht(Ae)?it(Ae):q}).then(function(q){Ae.db=Et.db=q;for(var pe=0;pe<Ze.length;pe++)Ze[pe]._dbInfo.db=q}).catch(function(q){throw we(Ae,q),q})}(Ae).then(function(){de(Ae,Et,Ze,Rt-1)})}).catch(Ze);Ze(q)}}var xn={_driver:"asyncStorage",_initStorage:function vt(Ae){var Et=this,Ze={db:null};if(Ae)for(var Rt in Ae)Ze[Rt]=Ae[Rt];var Vt=ke[Ze.name];Vt||(ke[Ze.name]=Vt={forages:[],db:null,dbReady:null,deferredOperations:[]}),Vt.forages.push(Et),Et._initReady||(Et._initReady=Et.ready,Et.ready=Me);var q=[];function pe(){return ne.resolve()}for(var ue=0;ue<Vt.forages.length;ue++){var Y=Vt.forages[ue];Y!==Et&&q.push(Y._initReady().catch(pe))}var ie=Vt.forages.slice(0);return ne.all(q).then(function(){return Ze.db=Vt.db,lt(Ze)}).then(function(ge){return Ze.db=ge,ht(Ze,Et._defaultConfig.version)?it(Ze):ge}).then(function(ge){Ze.db=Vt.db=ge,Et._dbInfo=Ze;for(var ot=0;ot<ie.length;ot++){var kt=ie[ot];kt!==Et&&(kt._dbInfo.db=Ze.db,kt._dbInfo.version=Ze.version)}})},_support:function Ce(){try{if(!Ve||!Ve.open)return!1;var Ae=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Et="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!Ae||Et)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function xt(Ae,Et){var Ze=this,Rt=new ne(function(Vt,q){Ze.ready().then(function(){de(Ze._dbInfo,Bt,function(pe,ue){if(pe)return q(pe);try{var ie=ue.objectStore(Ze._dbInfo.storeName).openCursor(),ge=1;ie.onsuccess=function(){var ot=ie.result;if(ot){var kt=ot.value;dt(kt)&&(kt=an(kt));var $t=Ae(kt,ot.key,ge++);void 0!==$t?Vt($t):ot.continue()}else Vt()},ie.onerror=function(){q(ie.error)}}catch(ot){q(ot)}})}).catch(q)});return me(Rt,Et),Rt},getItem:function Tt(Ae,Et){var Ze=this;Ae=be(Ae);var Rt=new ne(function(Vt,q){Ze.ready().then(function(){de(Ze._dbInfo,Bt,function(pe,ue){if(pe)return q(pe);try{var ie=ue.objectStore(Ze._dbInfo.storeName).get(Ae);ie.onsuccess=function(){var ge=ie.result;void 0===ge&&(ge=null),dt(ge)&&(ge=an(ge)),Vt(ge)},ie.onerror=function(){q(ie.error)}}catch(ge){q(ge)}})}).catch(q)});return me(Rt,Et),Rt},setItem:function on(Ae,Et,Ze){var Rt=this;Ae=be(Ae);var Vt=new ne(function(q,pe){var ue;Rt.ready().then(function(){return ue=Rt._dbInfo,"[object Blob]"===St.call(Et)?z(ue.db).then(function(Y){return Y?Et:function It(Ae){return new ne(function(Et,Ze){var Rt=new FileReader;Rt.onerror=Ze,Rt.onloadend=function(Vt){var q=btoa(Vt.target.result||"");Et({__local_forage_encoded_blob:!0,data:q,type:Ae.type})},Rt.readAsBinaryString(Ae)})}(Et)}):Et}).then(function(Y){de(Rt._dbInfo,$e,function(ie,ge){if(ie)return pe(ie);try{var ot=ge.objectStore(Rt._dbInfo.storeName);null===Y&&(Y=void 0);var kt=ot.put(Y,Ae);ge.oncomplete=function(){void 0===Y&&(Y=null),q(Y)},ge.onabort=ge.onerror=function(){pe(kt.error?kt.error:kt.transaction.error)}}catch($t){pe($t)}})}).catch(pe)});return me(Vt,Ze),Vt},removeItem:function Xt(Ae,Et){var Ze=this;Ae=be(Ae);var Rt=new ne(function(Vt,q){Ze.ready().then(function(){de(Ze._dbInfo,$e,function(pe,ue){if(pe)return q(pe);try{var ie=ue.objectStore(Ze._dbInfo.storeName).delete(Ae);ue.oncomplete=function(){Vt()},ue.onerror=function(){q(ie.error)},ue.onabort=function(){q(ie.error?ie.error:ie.transaction.error)}}catch(ge){q(ge)}})}).catch(q)});return me(Rt,Et),Rt},clear:function Zt(Ae){var Et=this,Ze=new ne(function(Rt,Vt){Et.ready().then(function(){de(Et._dbInfo,$e,function(q,pe){if(q)return Vt(q);try{var Y=pe.objectStore(Et._dbInfo.storeName).clear();pe.oncomplete=function(){Rt()},pe.onabort=pe.onerror=function(){Vt(Y.error?Y.error:Y.transaction.error)}}catch(ie){Vt(ie)}})}).catch(Vt)});return me(Ze,Ae),Ze},length:function Ft(Ae){var Et=this,Ze=new ne(function(Rt,Vt){Et.ready().then(function(){de(Et._dbInfo,Bt,function(q,pe){if(q)return Vt(q);try{var Y=pe.objectStore(Et._dbInfo.storeName).count();Y.onsuccess=function(){Rt(Y.result)},Y.onerror=function(){Vt(Y.error)}}catch(ie){Vt(ie)}})}).catch(Vt)});return me(Ze,Ae),Ze},key:function Nt(Ae,Et){var Ze=this,Rt=new ne(function(Vt,q){Ae<0?Vt(null):Ze.ready().then(function(){de(Ze._dbInfo,Bt,function(pe,ue){if(pe)return q(pe);try{var Y=ue.objectStore(Ze._dbInfo.storeName),ie=!1,ge=Y.openKeyCursor();ge.onsuccess=function(){var ot=ge.result;ot?0===Ae||ie?Vt(ot.key):(ie=!0,ot.advance(Ae)):Vt(null)},ge.onerror=function(){q(ge.error)}}catch(ot){q(ot)}})}).catch(q)});return me(Rt,Et),Rt},keys:function tn(Ae){var Et=this,Ze=new ne(function(Rt,Vt){Et.ready().then(function(){de(Et._dbInfo,Bt,function(q,pe){if(q)return Vt(q);try{var Y=pe.objectStore(Et._dbInfo.storeName).openKeyCursor(),ie=[];Y.onsuccess=function(){var ge=Y.result;ge?(ie.push(ge.key),ge.continue()):Rt(ie)},Y.onerror=function(){Vt(Y.error)}}catch(ge){Vt(ge)}})}).catch(Vt)});return me(Ze,Ae),Ze},dropInstance:function nn(Ae,Et){Et=qe.apply(this,arguments);var Vt,Ze=this.config();return(Ae="function"!=typeof Ae&&Ae||{}).name||(Ae.name=Ae.name||Ze.name,Ae.storeName=Ae.storeName||Ze.storeName),me(Vt=Ae.name?(Ae.name===Ze.name&&this._dbInfo.db?ne.resolve(this._dbInfo.db):lt(Ae).then(function(ue){var Y=ke[Ae.name],ie=Y.forages;Y.db=ue;for(var ge=0;ge<ie.length;ge++)ie[ge]._dbInfo.db=ue;return ue})).then(Ae.storeName?function(ue){if(ue.objectStoreNames.contains(Ae.storeName)){var Y=ue.version+1;Re(Ae);var ie=ke[Ae.name],ge=ie.forages;ue.close();for(var ot=0;ot<ge.length;ot++){var kt=ge[ot];kt._dbInfo.db=null,kt._dbInfo.version=Y}return new ne(function(Ht,sn){var Mn=Ve.open(Ae.name,Y);Mn.onerror=function(Kn){Mn.result.close(),sn(Kn)},Mn.onupgradeneeded=function(){Mn.result.deleteObjectStore(Ae.storeName)},Mn.onsuccess=function(){var Kn=Mn.result;Kn.close(),Ht(Kn)}}).then(function(Ht){ie.db=Ht;for(var sn=0;sn<ge.length;sn++){var Mn=ge[sn];Mn._dbInfo.db=Ht,ve(Mn._dbInfo)}}).catch(function(Ht){throw(we(Ae,Ht)||ne.resolve()).catch(function(){}),Ht})}}:function(ue){Re(Ae);var Y=ke[Ae.name],ie=Y.forages;ue.close();for(var ge=0;ge<ie.length;ge++)ie[ge]._dbInfo.db=null;return new ne(function($t,Ht){var sn=Ve.deleteDatabase(Ae.name);sn.onerror=function(){var Mn=sn.result;Mn&&Mn.close(),Ht(sn.error)},sn.onblocked=function(){console.warn('dropInstance blocked for database "'+Ae.name+'" until all open connections are closed')},sn.onsuccess=function(){var Mn=sn.result;Mn&&Mn.close(),$t(Mn)}}).then(function($t){Y.db=$t;for(var Ht=0;Ht<ie.length;Ht++)ve(ie[Ht]._dbInfo)}).catch(function($t){throw(we(Ae,$t)||ne.resolve()).catch(function(){}),$t})}):ne.reject("Invalid arguments"),Et),Vt}};var $n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ar=/^~~local_forage_type~([^~]+)~/,Hr="__lfsc__:",Fr="arbf",mn="blob",xr=Object.prototype.toString;function Hi(Ae){var Rt,q,pe,ue,Y,Et=.75*Ae.length,Ze=Ae.length,Vt=0;"="===Ae[Ae.length-1]&&(Et--,"="===Ae[Ae.length-2]&&Et--);var ie=new ArrayBuffer(Et),ge=new Uint8Array(ie);for(Rt=0;Rt<Ze;Rt+=4)q=$n.indexOf(Ae[Rt]),pe=$n.indexOf(Ae[Rt+1]),ue=$n.indexOf(Ae[Rt+2]),Y=$n.indexOf(Ae[Rt+3]),ge[Vt++]=q<<2|pe>>4,ge[Vt++]=(15&pe)<<4|ue>>2,ge[Vt++]=(3&ue)<<6|63&Y;return ie}function Sr(Ae){var Rt,Et=new Uint8Array(Ae),Ze="";for(Rt=0;Rt<Et.length;Rt+=3)Ze+=$n[Et[Rt]>>2],Ze+=$n[(3&Et[Rt])<<4|Et[Rt+1]>>4],Ze+=$n[(15&Et[Rt+1])<<2|Et[Rt+2]>>6],Ze+=$n[63&Et[Rt+2]];return Et.length%3==2?Ze=Ze.substring(0,Ze.length-1)+"=":Et.length%3==1&&(Ze=Ze.substring(0,Ze.length-2)+"=="),Ze}var gi={serialize:function Jr(Ae,Et){var Ze="";if(Ae&&(Ze=xr.call(Ae)),Ae&&("[object ArrayBuffer]"===Ze||Ae.buffer&&"[object ArrayBuffer]"===xr.call(Ae.buffer))){var Rt,Vt=Hr;Ae instanceof ArrayBuffer?(Rt=Ae,Vt+=Fr):(Rt=Ae.buffer,"[object Int8Array]"===Ze?Vt+="si08":"[object Uint8Array]"===Ze?Vt+="ui08":"[object Uint8ClampedArray]"===Ze?Vt+="uic8":"[object Int16Array]"===Ze?Vt+="si16":"[object Uint16Array]"===Ze?Vt+="ur16":"[object Int32Array]"===Ze?Vt+="si32":"[object Uint32Array]"===Ze?Vt+="ui32":"[object Float32Array]"===Ze?Vt+="fl32":"[object Float64Array]"===Ze?Vt+="fl64":Et(new Error("Failed to get type for BinaryArray"))),Et(Vt+Sr(Rt))}else if("[object Blob]"===Ze){var q=new FileReader;q.onload=function(){var pe="~~local_forage_type~"+Ae.type+"~"+Sr(this.result);Et(Hr+mn+pe)},q.readAsArrayBuffer(Ae)}else try{Et(JSON.stringify(Ae))}catch(pe){console.error("Couldn't convert value into a JSON string: ",Ae),Et(null,pe)}},deserialize:function Xr(Ae){if(Ae.substring(0,9)!==Hr)return JSON.parse(Ae);var Rt,Et=Ae.substring(13),Ze=Ae.substring(9,13);if(Ze===mn&&Ar.test(Et)){var Vt=Et.match(Ar);Rt=Vt[1],Et=Et.substring(Vt[0].length)}var q=Hi(Et);switch(Ze){case Fr:return q;case mn:return he([q],{type:Rt});case"si08":return new Int8Array(q);case"ui08":return new Uint8Array(q);case"uic8":return new Uint8ClampedArray(q);case"si16":return new Int16Array(q);case"ur16":return new Uint16Array(q);case"si32":return new Int32Array(q);case"ui32":return new Uint32Array(q);case"fl32":return new Float32Array(q);case"fl64":return new Float64Array(q);default:throw new Error("Unkown type: "+Ze)}},stringToBuffer:Hi,bufferToString:Sr};function mi(Ae,Et,Ze,Rt){Ae.executeSql("CREATE TABLE IF NOT EXISTS "+Et.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ze,Rt)}function ii(Ae,Et,Ze,Rt,Vt,q){Ae.executeSql(Ze,Rt,Vt,function(pe,ue){ue.code===ue.SYNTAX_ERR?pe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Et.storeName],function(Y,ie){ie.rows.length?q(Y,ue):mi(Y,Et,function(){Y.executeSql(Ze,Rt,Vt,q)},q)},q):q(pe,ue)},q)}function pi(Ae,Et,Ze,Rt){var Vt=this;Ae=be(Ae);var q=new ne(function(pe,ue){Vt.ready().then(function(){void 0===Et&&(Et=null);var Y=Et,ie=Vt._dbInfo;ie.serializer.serialize(Et,function(ge,ot){ot?ue(ot):ie.db.transaction(function(kt){ii(kt,ie,"INSERT OR REPLACE INTO "+ie.storeName+" (key, value) VALUES (?, ?)",[Ae,ge],function(){pe(Y)},function($t,Ht){ue(Ht)})},function(kt){if(kt.code===kt.QUOTA_ERR){if(Rt>0)return void pe(pi.apply(Vt,[Ae,Y,Ze,Rt-1]));ue(kt)}})})}).catch(ue)});return me(q,Ze),q}var Ut={_driver:"webSQLStorage",_initStorage:function Di(Ae){var Et=this,Ze={db:null};if(Ae)for(var Rt in Ae)Ze[Rt]="string"!=typeof Ae[Rt]?Ae[Rt].toString():Ae[Rt];var Vt=new ne(function(q,pe){try{Ze.db=openDatabase(Ze.name,String(Ze.version),Ze.description,Ze.size)}catch(ue){return pe(ue)}Ze.db.transaction(function(ue){mi(ue,Ze,function(){Et._dbInfo=Ze,q()},function(Y,ie){pe(ie)})},pe)});return Ze.serializer=gi,Vt},_support:function Bn(){return"function"==typeof openDatabase}(),iterate:function si(Ae,Et){var Ze=this,Rt=new ne(function(Vt,q){Ze.ready().then(function(){var pe=Ze._dbInfo;pe.db.transaction(function(ue){ii(ue,pe,"SELECT * FROM "+pe.storeName,[],function(Y,ie){for(var ge=ie.rows,ot=ge.length,kt=0;kt<ot;kt++){var $t=ge.item(kt),Ht=$t.value;if(Ht&&(Ht=pe.serializer.deserialize(Ht)),void 0!==(Ht=Ae(Ht,$t.key,kt+1)))return void Vt(Ht)}Vt()},function(Y,ie){q(ie)})})}).catch(q)});return me(Rt,Et),Rt},getItem:function ei(Ae,Et){var Ze=this;Ae=be(Ae);var Rt=new ne(function(Vt,q){Ze.ready().then(function(){var pe=Ze._dbInfo;pe.db.transaction(function(ue){ii(ue,pe,"SELECT * FROM "+pe.storeName+" WHERE key = ? LIMIT 1",[Ae],function(Y,ie){var ge=ie.rows.length?ie.rows.item(0).value:null;ge&&(ge=pe.serializer.deserialize(ge)),Vt(ge)},function(Y,ie){q(ie)})})}).catch(q)});return me(Rt,Et),Rt},setItem:function hi(Ae,Et,Ze){return pi.apply(this,[Ae,Et,Ze,1])},removeItem:function ti(Ae,Et){var Ze=this;Ae=be(Ae);var Rt=new ne(function(Vt,q){Ze.ready().then(function(){var pe=Ze._dbInfo;pe.db.transaction(function(ue){ii(ue,pe,"DELETE FROM "+pe.storeName+" WHERE key = ?",[Ae],function(){Vt()},function(Y,ie){q(ie)})})}).catch(q)});return me(Rt,Et),Rt},clear:function oi(Ae){var Et=this,Ze=new ne(function(Rt,Vt){Et.ready().then(function(){var q=Et._dbInfo;q.db.transaction(function(pe){ii(pe,q,"DELETE FROM "+q.storeName,[],function(){Rt()},function(ue,Y){Vt(Y)})})}).catch(Vt)});return me(Ze,Ae),Ze},length:function st(Ae){var Et=this,Ze=new ne(function(Rt,Vt){Et.ready().then(function(){var q=Et._dbInfo;q.db.transaction(function(pe){ii(pe,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(ue,Y){var ie=Y.rows.item(0).c;Rt(ie)},function(ue,Y){Vt(Y)})})}).catch(Vt)});return me(Ze,Ae),Ze},key:function ye(Ae,Et){var Ze=this,Rt=new ne(function(Vt,q){Ze.ready().then(function(){var pe=Ze._dbInfo;pe.db.transaction(function(ue){ii(ue,pe,"SELECT key FROM "+pe.storeName+" WHERE id = ? LIMIT 1",[Ae+1],function(Y,ie){var ge=ie.rows.length?ie.rows.item(0).key:null;Vt(ge)},function(Y,ie){q(ie)})})}).catch(q)});return me(Rt,Et),Rt},keys:function _e(Ae){var Et=this,Ze=new ne(function(Rt,Vt){Et.ready().then(function(){var q=Et._dbInfo;q.db.transaction(function(pe){ii(pe,q,"SELECT key FROM "+q.storeName,[],function(ue,Y){for(var ie=[],ge=0;ge<Y.rows.length;ge++)ie.push(Y.rows.item(ge).key);Rt(ie)},function(ue,Y){Vt(Y)})})}).catch(Vt)});return me(Ze,Ae),Ze},dropInstance:function Fe(Ae,Et){Et=qe.apply(this,arguments);var Ze=this.config();(Ae="function"!=typeof Ae&&Ae||{}).name||(Ae.name=Ae.name||Ze.name,Ae.storeName=Ae.storeName||Ze.storeName);var Vt,Rt=this;return me(Vt=Ae.name?new ne(function(q){var pe;pe=Ae.name===Ze.name?Rt._dbInfo.db:openDatabase(Ae.name,"","",0),q(Ae.storeName?{db:pe,storeNames:[Ae.storeName]}:function Se(Ae){return new ne(function(Et,Ze){Ae.transaction(function(Rt){Rt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Vt,q){for(var pe=[],ue=0;ue<q.rows.length;ue++)pe.push(q.rows.item(ue).name);Et({db:Ae,storeNames:pe})},function(Vt,q){Ze(q)})},function(Rt){Ze(Rt)})})}(pe))}).then(function(q){return new ne(function(pe,ue){q.db.transaction(function(Y){function ie($t){return new ne(function(Ht,sn){Y.executeSql("DROP TABLE IF EXISTS "+$t,[],function(){Ht()},function(Mn,Kn){sn(Kn)})})}for(var ge=[],ot=0,kt=q.storeNames.length;ot<kt;ot++)ge.push(ie(q.storeNames[ot]));ne.all(ge).then(function(){pe()}).catch(function($t){ue($t)})},function(Y){ue(Y)})})}):ne.reject("Invalid arguments"),Et),Vt}};function En(Ae,Et){var Ze=Ae.name+"/";return Ae.storeName!==Et.storeName&&(Ze+=Ae.storeName+"/"),Ze}function pr(){return!function ir(){var Ae="_localforage_support_test";try{return localStorage.setItem(Ae,!0),localStorage.removeItem(Ae),!1}catch{return!0}}()||localStorage.length>0}var Rn={_driver:"localStorageWrapper",_initStorage:function br(Ae){var Ze={};if(Ae)for(var Rt in Ae)Ze[Rt]=Ae[Rt];return Ze.keyPrefix=En(Ae,this._defaultConfig),pr()?(this._dbInfo=Ze,Ze.serializer=gi,ne.resolve()):ne.reject()},_support:function ln(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function Gi(Ae,Et){var Ze=this,Rt=Ze.ready().then(function(){for(var Vt=Ze._dbInfo,q=Vt.keyPrefix,pe=q.length,ue=localStorage.length,Y=1,ie=0;ie<ue;ie++){var ge=localStorage.key(ie);if(0===ge.indexOf(q)){var ot=localStorage.getItem(ge);if(ot&&(ot=Vt.serializer.deserialize(ot)),void 0!==(ot=Ae(ot,ge.substring(pe),Y++)))return ot}}});return me(Rt,Et),Rt},getItem:function ai(Ae,Et){var Ze=this;Ae=be(Ae);var Rt=Ze.ready().then(function(){var Vt=Ze._dbInfo,q=localStorage.getItem(Vt.keyPrefix+Ae);return q&&(q=Vt.serializer.deserialize(q)),q});return me(Rt,Et),Rt},setItem:function jt(Ae,Et,Ze){var Rt=this;Ae=be(Ae);var Vt=Rt.ready().then(function(){void 0===Et&&(Et=null);var q=Et;return new ne(function(pe,ue){var Y=Rt._dbInfo;Y.serializer.serialize(Et,function(ie,ge){if(ge)ue(ge);else try{localStorage.setItem(Y.keyPrefix+Ae,ie),pe(q)}catch(ot){("QuotaExceededError"===ot.name||"NS_ERROR_DOM_QUOTA_REACHED"===ot.name)&&ue(ot),ue(ot)}})})});return me(Vt,Ze),Vt},removeItem:function pt(Ae,Et){var Ze=this;Ae=be(Ae);var Rt=Ze.ready().then(function(){localStorage.removeItem(Ze._dbInfo.keyPrefix+Ae)});return me(Rt,Et),Rt},clear:function Gn(Ae){var Et=this,Ze=Et.ready().then(function(){for(var Rt=Et._dbInfo.keyPrefix,Vt=localStorage.length-1;Vt>=0;Vt--){var q=localStorage.key(Vt);0===q.indexOf(Rt)&&localStorage.removeItem(q)}});return me(Ze,Ae),Ze},length:function Xe(Ae){var Ze=this.keys().then(function(Rt){return Rt.length});return me(Ze,Ae),Ze},key:function Li(Ae,Et){var Ze=this,Rt=Ze.ready().then(function(){var q,Vt=Ze._dbInfo;try{q=localStorage.key(Ae)}catch{q=null}return q&&(q=q.substring(Vt.keyPrefix.length)),q});return me(Rt,Et),Rt},keys:function Dt(Ae){var Et=this,Ze=Et.ready().then(function(){for(var Rt=Et._dbInfo,Vt=localStorage.length,q=[],pe=0;pe<Vt;pe++){var ue=localStorage.key(pe);0===ue.indexOf(Rt.keyPrefix)&&q.push(ue.substring(Rt.keyPrefix.length))}return q});return me(Ze,Ae),Ze},dropInstance:function Sn(Ae,Et){if(Et=qe.apply(this,arguments),!(Ae="function"!=typeof Ae&&Ae||{}).name){var Ze=this.config();Ae.name=Ae.name||Ze.name,Ae.storeName=Ae.storeName||Ze.storeName}var Vt,Rt=this;return me(Vt=Ae.name?new ne(function(q){q(Ae.storeName?En(Ae,Rt._defaultConfig):Ae.name+"/")}).then(function(q){for(var pe=localStorage.length-1;pe>=0;pe--){var ue=localStorage.key(pe);0===ue.indexOf(q)&&localStorage.removeItem(ue)}}):ne.reject("Invalid arguments"),Et),Vt}},or=function(Et,Ze){return Et===Ze||"number"==typeof Et&&"number"==typeof Ze&&isNaN(Et)&&isNaN(Ze)},kr=function(Et,Ze){for(var Rt=Et.length,Vt=0;Vt<Rt;){if(or(Et[Vt],Ze))return!0;Vt++}return!1},jr=Array.isArray||function(Ae){return"[object Array]"===Object.prototype.toString.call(Ae)},ni={},Gr={},ar={INDEXEDDB:xn,WEBSQL:Ut,LOCALSTORAGE:Rn},Zr=[ar.INDEXEDDB._driver,ar.WEBSQL._driver,ar.LOCALSTORAGE._driver],ts=["dropInstance"],Wi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ts),$i={description:"",driver:Zr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Yi(Ae,Et){Ae[Et]=function(){var Ze=arguments;return Ae.ready().then(function(){return Ae[Et].apply(Ae,Ze)})}}function Ui(){for(var Ae=1;Ae<arguments.length;Ae++){var Et=arguments[Ae];if(Et)for(var Ze in Et)Et.hasOwnProperty(Ze)&&(arguments[0][Ze]=jr(Et[Ze])?Et[Ze].slice():Et[Ze])}return arguments[0]}var Vi=function(){function Ae(Et){for(var Ze in function ze(Ae,Et){if(!(Ae instanceof Et))throw new TypeError("Cannot call a class as a function")}(this,Ae),ar)if(ar.hasOwnProperty(Ze)){var Rt=ar[Ze],Vt=Rt._driver;this[Ze]=Vt,ni[Vt]||this.defineDriver(Rt)}this._defaultConfig=Ui({},$i),this._config=Ui({},this._defaultConfig,Et),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Ae.prototype.config=function(Ze){if("object"===(typeof Ze>"u"?"undefined":xe(Ze))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Rt in Ze){if("storeName"===Rt&&(Ze[Rt]=Ze[Rt].replace(/\W/g,"_")),"version"===Rt&&"number"!=typeof Ze[Rt])return new Error("Database version must be a number.");this._config[Rt]=Ze[Rt]}return!("driver"in Ze)||!Ze.driver||this.setDriver(this._config.driver)}return"string"==typeof Ze?this._config[Ze]:this._config},Ae.prototype.defineDriver=function(Ze,Rt,Vt){var q=new ne(function(pe,ue){try{var Y=Ze._driver,ie=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ze._driver)return void ue(ie);for(var ge=Wi.concat("_initStorage"),ot=0,kt=ge.length;ot<kt;ot++){var $t=ge[ot];if((!kr(ts,$t)||Ze[$t])&&"function"!=typeof Ze[$t])return void ue(ie)}!function(){for(var lr=function(dn){return function(){var Nn=new Error("Method "+dn+" is not implemented by the current driver"),qn=ne.reject(Nn);return me(qn,arguments[arguments.length-1]),qn}},wr=0,ft=ts.length;wr<ft;wr++){var bt=ts[wr];Ze[bt]||(Ze[bt]=lr(bt))}}();var Mn=function(lr){ni[Y]&&console.info("Redefining LocalForage driver: "+Y),ni[Y]=Ze,Gr[Y]=lr,pe()};"_support"in Ze?Ze._support&&"function"==typeof Ze._support?Ze._support().then(Mn,ue):Mn(!!Ze._support):Mn(!0)}catch(Kn){ue(Kn)}});return Ne(q,Rt,Vt),q},Ae.prototype.driver=function(){return this._driver||null},Ae.prototype.getDriver=function(Ze,Rt,Vt){var q=ni[Ze]?ne.resolve(ni[Ze]):ne.reject(new Error("Driver not found."));return Ne(q,Rt,Vt),q},Ae.prototype.getSerializer=function(Ze){var Rt=ne.resolve(gi);return Ne(Rt,Ze),Rt},Ae.prototype.ready=function(Ze){var Rt=this,Vt=Rt._driverSet.then(function(){return null===Rt._ready&&(Rt._ready=Rt._initDriver()),Rt._ready});return Ne(Vt,Ze,Ze),Vt},Ae.prototype.setDriver=function(Ze,Rt,Vt){var q=this;jr(Ze)||(Ze=[Ze]);var pe=this._getSupportedDrivers(Ze);function ue(){q._config.driver=q.driver()}function Y(ot){return q._extend(ot),ue(),q._ready=q._initStorage(q._config),q._ready}var ge=null!==this._driverSet?this._driverSet.catch(function(){return ne.resolve()}):ne.resolve();return this._driverSet=ge.then(function(){var ot=pe[0];return q._dbInfo=null,q._ready=null,q.getDriver(ot).then(function(kt){q._driver=kt._driver,ue(),q._wrapLibraryMethodsWithReady(),q._initDriver=function ie(ot){return function(){var kt=0;return function $t(){for(;kt<ot.length;){var Ht=ot[kt];return kt++,q._dbInfo=null,q._ready=null,q.getDriver(Ht).then(Y).catch($t)}ue();var sn=new Error("No available storage method found.");return q._driverSet=ne.reject(sn),q._driverSet}()}}(pe)})}).catch(function(){ue();var ot=new Error("No available storage method found.");return q._driverSet=ne.reject(ot),q._driverSet}),Ne(this._driverSet,Rt,Vt),this._driverSet},Ae.prototype.supports=function(Ze){return!!Gr[Ze]},Ae.prototype._extend=function(Ze){Ui(this,Ze)},Ae.prototype._getSupportedDrivers=function(Ze){for(var Rt=[],Vt=0,q=Ze.length;Vt<q;Vt++){var pe=Ze[Vt];this.supports(pe)&&Rt.push(pe)}return Rt},Ae.prototype._wrapLibraryMethodsWithReady=function(){for(var Ze=0,Rt=Wi.length;Ze<Rt;Ze++)Yi(this,Wi[Ze])},Ae.prototype.createInstance=function(Ze){return new Ae(Ze)},Ae}(),gs=new Vi;re.exports=gs},{3:3}]},{},[4])(4)},5619:(Cn,mt,P)=>{"use strict";P.d(mt,{X:()=>_});var y=P(8645);class _ extends y.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const xe=super._subscribe(se);return!xe.closed&&se.next(this._value),xe}getValue(){const{hasError:se,thrownError:xe,_value:ze}=this;if(se)throw xe;return this._throwIfClosed(),ze}next(se){super.next(this._value=se)}}},5592:(Cn,mt,P)=>{"use strict";P.d(mt,{y:()=>Ve});var y=P(305),_=P(7394),re=P(4850),se=P(8407),xe=P(2653),ze=P(4674),G=P(1441);let Ve=(()=>{class me{constructor(be){be&&(this._subscribe=be)}lift(be){const qe=new me;return qe.source=this,qe.operator=be,qe}subscribe(be,qe,ut){const ce=function ne(me){return me&&me instanceof y.Lv||function he(me){return me&&(0,ze.m)(me.next)&&(0,ze.m)(me.error)&&(0,ze.m)(me.complete)}(me)&&(0,_.Nn)(me)}(be)?be:new y.Hp(be,qe,ut);return(0,G.x)(()=>{const{operator:ke,source:St}=this;ce.add(ke?ke.call(ce,St):St?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(be){try{return this._subscribe(be)}catch(qe){be.error(qe)}}forEach(be,qe){return new(qe=Ce(qe))((ut,ce)=>{const ke=new y.Hp({next:St=>{try{be(St)}catch(Bt){ce(Bt),ke.unsubscribe()}},error:ce,complete:ut});this.subscribe(ke)})}_subscribe(be){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(be)}[re.L](){return this}pipe(...be){return(0,se.U)(be)(this)}toPromise(be){return new(be=Ce(be))((qe,ut)=>{let ce;this.subscribe(ke=>ce=ke,ke=>ut(ke),()=>qe(ce))})}}return me.create=Ne=>new me(Ne),me})();function Ce(me){var Ne;return null!==(Ne=null!=me?me:xe.config.Promise)&&void 0!==Ne?Ne:Promise}},7328:(Cn,mt,P)=>{"use strict";P.d(mt,{t:()=>re});var y=P(8645),_=P(4552);class re extends y.x{constructor(xe=1/0,ze=1/0,G=_.l){super(),this._bufferSize=xe,this._windowTime=ze,this._timestampProvider=G,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ze===1/0,this._bufferSize=Math.max(1,xe),this._windowTime=Math.max(1,ze)}next(xe){const{isStopped:ze,_buffer:G,_infiniteTimeWindow:Ve,_timestampProvider:Ce,_windowTime:he}=this;ze||(G.push(xe),!Ve&&G.push(Ce.now()+he)),this._trimBuffer(),super.next(xe)}_subscribe(xe){this._throwIfClosed(),this._trimBuffer();const ze=this._innerSubscribe(xe),{_infiniteTimeWindow:G,_buffer:Ve}=this,Ce=Ve.slice();for(let he=0;he<Ce.length&&!xe.closed;he+=G?1:2)xe.next(Ce[he]);return this._checkFinalizedStatuses(xe),ze}_trimBuffer(){const{_bufferSize:xe,_timestampProvider:ze,_buffer:G,_infiniteTimeWindow:Ve}=this,Ce=(Ve?1:2)*xe;if(xe<1/0&&Ce<G.length&&G.splice(0,G.length-Ce),!Ve){const he=ze.now();let ne=0;for(let me=1;me<G.length&&G[me]<=he;me+=2)ne=me;ne&&G.splice(0,ne+1)}}}},8645:(Cn,mt,P)=>{"use strict";P.d(mt,{x:()=>G});var y=P(5592),_=P(7394);const se=(0,P(2306).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=P(9039),ze=P(1441);let G=(()=>{class Ce extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const me=new Ve(this,this);return me.operator=ne,me}_throwIfClosed(){if(this.closed)throw new se}next(ne){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ne)}})}error(ne){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:me}=this;for(;me.length;)me.shift().error(ne)}})}complete(){(0,ze.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:me,isStopped:Ne,observers:be}=this;return me||Ne?_.Lc:(this.currentObservers=null,be.push(ne),new _.w0(()=>{this.currentObservers=null,(0,xe.P)(be,ne)}))}_checkFinalizedStatuses(ne){const{hasError:me,thrownError:Ne,isStopped:be}=this;me?ne.error(Ne):be&&ne.complete()}asObservable(){const ne=new y.y;return ne.source=this,ne}}return Ce.create=(he,ne)=>new Ve(he,ne),Ce})();class Ve extends G{constructor(he,ne){super(),this.destination=he,this.source=ne}next(he){var ne,me;null===(me=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===me||me.call(ne,he)}error(he){var ne,me;null===(me=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===me||me.call(ne,he)}complete(){var he,ne;null===(ne=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ne||ne.call(he)}_subscribe(he){var ne,me;return null!==(me=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(he))&&void 0!==me?me:_.Lc}}},305:(Cn,mt,P)=>{"use strict";P.d(mt,{Hp:()=>ut,Lv:()=>me});var y=P(4674),_=P(7394),re=P(2653),se=P(3894),xe=P(2420);const ze=Ce("C",void 0,void 0);function Ce($e,Ee,je){return{kind:$e,value:Ee,error:je}}var he=P(7599),ne=P(1441);class me extends _.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,_.Nn)(Ee)&&Ee.add(this)):this.destination=Bt}static create(Ee,je,z){return new ut(Ee,je,z)}next(Ee){this.isStopped?St(function Ve($e){return Ce("N",$e,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?St(function G($e){return Ce("E",void 0,$e)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?St(ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function be($e,Ee){return Ne.call($e,Ee)}class qe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:je}=this;if(je.next)try{je.next(Ee)}catch(z){ce(z)}}error(Ee){const{partialObserver:je}=this;if(je.error)try{je.error(Ee)}catch(z){ce(z)}else ce(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(je){ce(je)}}}class ut extends me{constructor(Ee,je,z){let Re;if(super(),(0,y.m)(Ee)||!Ee)Re={next:null!=Ee?Ee:void 0,error:null!=je?je:void 0,complete:null!=z?z:void 0};else{let ve;this&&re.config.useDeprecatedNextContext?(ve=Object.create(Ee),ve.unsubscribe=()=>this.unsubscribe(),Re={next:Ee.next&&be(Ee.next,ve),error:Ee.error&&be(Ee.error,ve),complete:Ee.complete&&be(Ee.complete,ve)}):Re=Ee}this.destination=new qe(Re)}}function ce($e){re.config.useDeprecatedSynchronousErrorHandling?(0,ne.O)($e):(0,se.h)($e)}function St($e,Ee){const{onStoppedNotification:je}=re.config;je&&he.z.setTimeout(()=>je($e,Ee))}const Bt={closed:!0,next:xe.Z,error:function ke($e){throw $e},complete:xe.Z}},7394:(Cn,mt,P)=>{"use strict";P.d(mt,{Lc:()=>ze,w0:()=>xe,Nn:()=>G});var y=P(4674);const re=(0,P(2306).d)(Ce=>function(ne){Ce(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((me,Ne)=>`${Ne+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var se=P(9039);class xe{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const be of ne)be.remove(this);else ne.remove(this);const{initialTeardown:me}=this;if((0,y.m)(me))try{me()}catch(be){he=be instanceof re?be.errors:[be]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const be of Ne)try{Ve(be)}catch(qe){he=null!=he?he:[],qe instanceof re?he=[...he,...qe.errors]:he.push(qe)}}if(he)throw new re(he)}}add(he){var ne;if(he&&he!==this)if(this.closed)Ve(he);else{if(he instanceof xe){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(he)}}_hasParent(he){const{_parentage:ne}=this;return ne===he||Array.isArray(ne)&&ne.includes(he)}_addParent(he){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(he),ne):ne?[ne,he]:he}_removeParent(he){const{_parentage:ne}=this;ne===he?this._parentage=null:Array.isArray(ne)&&(0,se.P)(ne,he)}remove(he){const{_finalizers:ne}=this;ne&&(0,se.P)(ne,he),he instanceof xe&&he._removeParent(this)}}xe.EMPTY=(()=>{const Ce=new xe;return Ce.closed=!0,Ce})();const ze=xe.EMPTY;function G(Ce){return Ce instanceof xe||Ce&&"closed"in Ce&&(0,y.m)(Ce.remove)&&(0,y.m)(Ce.add)&&(0,y.m)(Ce.unsubscribe)}function Ve(Ce){(0,y.m)(Ce)?Ce():Ce.unsubscribe()}},2653:(Cn,mt,P)=>{"use strict";P.d(mt,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Cn,mt,P)=>{"use strict";P.d(mt,{a:()=>he});var y=P(5592),_=P(7453),re=P(2459),se=P(2737),xe=P(7400),ze=P(4564),G=P(2714),Ve=P(8251),Ce=P(7103);function he(...Ne){const be=(0,ze.yG)(Ne),qe=(0,ze.jO)(Ne),{args:ut,keys:ce}=(0,_.D)(Ne);if(0===ut.length)return(0,re.D)([],be);const ke=new y.y(function ne(Ne,be,qe=se.y){return ut=>{me(be,()=>{const{length:ce}=Ne,ke=new Array(ce);let St=ce,Bt=ce;for(let $e=0;$e<ce;$e++)me(be,()=>{const Ee=(0,re.D)(Ne[$e],be);let je=!1;Ee.subscribe((0,Ve.x)(ut,z=>{ke[$e]=z,je||(je=!0,Bt--),Bt||ut.next(qe(ke.slice()))},()=>{--St||ut.complete()}))},ut)},ut)}}(ut,be,ce?St=>(0,G.n)(ce,St):se.y));return qe?ke.pipe((0,xe.Z)(qe)):ke}function me(Ne,be,qe){Ne?(0,Ce.f)(qe,Ne,be):be()}},5211:(Cn,mt,P)=>{"use strict";P.d(mt,{z:()=>xe});var y=P(7537),re=P(4564),se=P(2459);function xe(...ze){return function _(){return(0,y.J)(1)}()((0,se.D)(ze,(0,re.yG)(ze)))}},6232:(Cn,mt,P)=>{"use strict";P.d(mt,{E:()=>_});const _=new(P(5592).y)(xe=>xe.complete())},9315:(Cn,mt,P)=>{"use strict";P.d(mt,{D:()=>Ve});var y=P(5592),_=P(7453),re=P(4829),se=P(4564),xe=P(8251),ze=P(7400),G=P(2714);function Ve(...Ce){const he=(0,se.jO)(Ce),{args:ne,keys:me}=(0,_.D)(Ce),Ne=new y.y(be=>{const{length:qe}=ne;if(!qe)return void be.complete();const ut=new Array(qe);let ce=qe,ke=qe;for(let St=0;St<qe;St++){let Bt=!1;(0,re.Xf)(ne[St]).subscribe((0,xe.x)(be,$e=>{Bt||(Bt=!0,ke--),ut[St]=$e},()=>ce--,void 0,()=>{(!ce||!Bt)&&(ke||be.next(me?(0,G.n)(me,ut):ut),be.complete())}))}});return he?Ne.pipe((0,ze.Z)(he)):Ne}},2459:(Cn,mt,P)=>{"use strict";P.d(mt,{D:()=>Ee});var y=P(4829),_=P(3093),re=P(5137),ze=P(5592),Ve=P(4971),Ce=P(4674),he=P(7103);function me(je,z){if(!je)throw new Error("Iterable cannot be null");return new ze.y(Re=>{(0,he.f)(Re,z,()=>{const ve=je[Symbol.asyncIterator]();(0,he.f)(Re,z,()=>{ve.next().then(we=>{we.done?Re.complete():Re.next(we.value)})},0,!0)})})}var Ne=P(8382),be=P(4026),qe=P(4266),ut=P(3664),ce=P(5726),ke=P(9853),St=P(541);function Ee(je,z){return z?function $e(je,z){if(null!=je){if((0,Ne.c)(je))return function se(je,z){return(0,y.Xf)(je).pipe((0,re.R)(z),(0,_.Q)(z))}(je,z);if((0,qe.z)(je))return function G(je,z){return new ze.y(Re=>{let ve=0;return z.schedule(function(){ve===je.length?Re.complete():(Re.next(je[ve++]),Re.closed||this.schedule())})})}(je,z);if((0,be.t)(je))return function xe(je,z){return(0,y.Xf)(je).pipe((0,re.R)(z),(0,_.Q)(z))}(je,z);if((0,ce.D)(je))return me(je,z);if((0,ut.T)(je))return function ne(je,z){return new ze.y(Re=>{let ve;return(0,he.f)(Re,z,()=>{ve=je[Ve.h](),(0,he.f)(Re,z,()=>{let we,We;try{({value:we,done:We}=ve.next())}catch(lt){return void Re.error(lt)}We?Re.complete():Re.next(we)},0,!0)}),()=>(0,Ce.m)(null==ve?void 0:ve.return)&&ve.return()})}(je,z);if((0,St.L)(je))return function Bt(je,z){return me((0,St.Q)(je),z)}(je,z)}throw(0,ke.z)(je)}(je,z):(0,y.Xf)(je)}},4829:(Cn,mt,P)=>{"use strict";P.d(mt,{Xf:()=>Ne});var y=P(7582),_=P(4266),re=P(4026),se=P(5592),xe=P(8382),ze=P(5726),G=P(9853),Ve=P(3664),Ce=P(541),he=P(4674),ne=P(3894),me=P(4850);function Ne($e){if($e instanceof se.y)return $e;if(null!=$e){if((0,xe.c)($e))return function be($e){return new se.y(Ee=>{const je=$e[me.L]();if((0,he.m)(je.subscribe))return je.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,_.z)($e))return function qe($e){return new se.y(Ee=>{for(let je=0;je<$e.length&&!Ee.closed;je++)Ee.next($e[je]);Ee.complete()})}($e);if((0,re.t)($e))return function ut($e){return new se.y(Ee=>{$e.then(je=>{Ee.closed||(Ee.next(je),Ee.complete())},je=>Ee.error(je)).then(null,ne.h)})}($e);if((0,ze.D)($e))return ke($e);if((0,Ve.T)($e))return function ce($e){return new se.y(Ee=>{for(const je of $e)if(Ee.next(je),Ee.closed)return;Ee.complete()})}($e);if((0,Ce.L)($e))return function St($e){return ke((0,Ce.Q)($e))}($e)}throw(0,G.z)($e)}function ke($e){return new se.y(Ee=>{(function Bt($e,Ee){var je,z,Re,ve;return(0,y.mG)(this,void 0,void 0,function*(){try{for(je=(0,y.KL)($e);!(z=yield je.next()).done;)if(Ee.next(z.value),Ee.closed)return}catch(we){Re={error:we}}finally{try{z&&!z.done&&(ve=je.return)&&(yield ve.call(je))}finally{if(Re)throw Re.error}}Ee.complete()})})($e,Ee).catch(je=>Ee.error(je))})}},3019:(Cn,mt,P)=>{"use strict";P.d(mt,{T:()=>ze});var y=P(7537),_=P(4829),re=P(6232),se=P(4564),xe=P(2459);function ze(...G){const Ve=(0,se.yG)(G),Ce=(0,se._6)(G,1/0),he=G;return he.length?1===he.length?(0,_.Xf)(he[0]):(0,y.J)(Ce)((0,xe.D)(he,Ve)):re.E}},2096:(Cn,mt,P)=>{"use strict";P.d(mt,{of:()=>re});var y=P(4564),_=P(2459);function re(...se){const xe=(0,y.yG)(se);return(0,_.D)(se,xe)}},8504:(Cn,mt,P)=>{"use strict";P.d(mt,{_:()=>re});var y=P(5592),_=P(4674);function re(se,xe){const ze=(0,_.m)(se)?se:()=>se,G=Ve=>Ve.error(ze());return new y.y(xe?Ve=>xe.schedule(G,0,Ve):G)}},8251:(Cn,mt,P)=>{"use strict";P.d(mt,{x:()=>_});var y=P(305);function _(se,xe,ze,G,Ve){return new re(se,xe,ze,G,Ve)}class re extends y.Lv{constructor(xe,ze,G,Ve,Ce,he){super(xe),this.onFinalize=Ce,this.shouldUnsubscribe=he,this._next=ze?function(ne){try{ze(ne)}catch(me){xe.error(me)}}:super._next,this._error=Ve?function(ne){try{Ve(ne)}catch(me){xe.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=G?function(){try{G()}catch(ne){xe.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ze}=this;super.unsubscribe(),!ze&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},6306:(Cn,mt,P)=>{"use strict";P.d(mt,{K:()=>se});var y=P(4829),_=P(8251),re=P(9360);function se(xe){return(0,re.e)((ze,G)=>{let he,Ve=null,Ce=!1;Ve=ze.subscribe((0,_.x)(G,void 0,void 0,ne=>{he=(0,y.Xf)(xe(ne,se(xe)(ze))),Ve?(Ve.unsubscribe(),Ve=null,he.subscribe(G)):Ce=!0})),Ce&&(Ve.unsubscribe(),Ve=null,he.subscribe(G))})}},3572:(Cn,mt,P)=>{"use strict";P.d(mt,{d:()=>re});var y=P(9360),_=P(8251);function re(se){return(0,y.e)((xe,ze)=>{let G=!1;xe.subscribe((0,_.x)(ze,Ve=>{G=!0,ze.next(Ve)},()=>{G||ze.next(se),ze.complete()}))})}},3997:(Cn,mt,P)=>{"use strict";P.d(mt,{x:()=>se});var y=P(2737),_=P(9360),re=P(8251);function se(ze,G=y.y){return ze=null!=ze?ze:xe,(0,_.e)((Ve,Ce)=>{let he,ne=!0;Ve.subscribe((0,re.x)(Ce,me=>{const Ne=G(me);(ne||!ze(he,Ne))&&(ne=!1,he=Ne,Ce.next(me))}))})}function xe(ze,G){return ze===G}},2181:(Cn,mt,P)=>{"use strict";P.d(mt,{h:()=>re});var y=P(9360),_=P(8251);function re(se,xe){return(0,y.e)((ze,G)=>{let Ve=0;ze.subscribe((0,_.x)(G,Ce=>se.call(xe,Ce,Ve++)&&G.next(Ce)))})}},1374:(Cn,mt,P)=>{"use strict";P.d(mt,{P:()=>G});var y=P(6973),_=P(2181),re=P(8180),se=P(3572),xe=P(3026),ze=P(2737);function G(Ve,Ce){const he=arguments.length>=2;return ne=>ne.pipe(Ve?(0,_.h)((me,Ne)=>Ve(me,Ne,ne)):ze.y,(0,re.q)(1),he?(0,se.d)(Ce):(0,xe.T)(()=>new y.K))}},7398:(Cn,mt,P)=>{"use strict";P.d(mt,{U:()=>re});var y=P(9360),_=P(8251);function re(se,xe){return(0,y.e)((ze,G)=>{let Ve=0;ze.subscribe((0,_.x)(G,Ce=>{G.next(se.call(xe,Ce,Ve++))}))})}},7537:(Cn,mt,P)=>{"use strict";P.d(mt,{J:()=>re});var y=P(1631),_=P(2737);function re(se=1/0){return(0,y.z)(_.y,se)}},1631:(Cn,mt,P)=>{"use strict";P.d(mt,{z:()=>Ve});var y=P(7398),_=P(4829),re=P(9360),se=P(7103),xe=P(8251),G=P(4674);function Ve(Ce,he,ne=1/0){return(0,G.m)(he)?Ve((me,Ne)=>(0,y.U)((be,qe)=>he(me,be,Ne,qe))((0,_.Xf)(Ce(me,Ne))),ne):("number"==typeof he&&(ne=he),(0,re.e)((me,Ne)=>function ze(Ce,he,ne,me,Ne,be,qe,ut){const ce=[];let ke=0,St=0,Bt=!1;const $e=()=>{Bt&&!ce.length&&!ke&&he.complete()},Ee=z=>ke<me?je(z):ce.push(z),je=z=>{be&&he.next(z),ke++;let Re=!1;(0,_.Xf)(ne(z,St++)).subscribe((0,xe.x)(he,ve=>{null==Ne||Ne(ve),be?Ee(ve):he.next(ve)},()=>{Re=!0},void 0,()=>{if(Re)try{for(ke--;ce.length&&ke<me;){const ve=ce.shift();qe?(0,se.f)(he,qe,()=>je(ve)):je(ve)}$e()}catch(ve){he.error(ve)}}))};return Ce.subscribe((0,xe.x)(he,Ee,()=>{Bt=!0,$e()})),()=>{null==ut||ut()}}(me,Ne,Ce,ne)))}},3093:(Cn,mt,P)=>{"use strict";P.d(mt,{Q:()=>se});var y=P(7103),_=P(9360),re=P(8251);function se(xe,ze=0){return(0,_.e)((G,Ve)=>{G.subscribe((0,re.x)(Ve,Ce=>(0,y.f)(Ve,xe,()=>Ve.next(Ce),ze),()=>(0,y.f)(Ve,xe,()=>Ve.complete(),ze),Ce=>(0,y.f)(Ve,xe,()=>Ve.error(Ce),ze)))})}},9384:(Cn,mt,P)=>{"use strict";P.d(mt,{G:()=>re});var y=P(9360),_=P(8251);function re(){return(0,y.e)((se,xe)=>{let ze,G=!1;se.subscribe((0,_.x)(xe,Ve=>{const Ce=ze;ze=Ve,G&&xe.next([Ce,Ve]),G=!0}))})}},6424:(Cn,mt,P)=>{"use strict";P.d(mt,{R:()=>re});var y=P(9360),_=P(9732);function re(se,xe){return(0,y.e)((0,_.U)(se,xe,arguments.length>=2,!0))}},9732:(Cn,mt,P)=>{"use strict";P.d(mt,{U:()=>_});var y=P(8251);function _(re,se,xe,ze,G){return(Ve,Ce)=>{let he=xe,ne=se,me=0;Ve.subscribe((0,y.x)(Ce,Ne=>{const be=me++;ne=he?re(ne,Ne,be):(he=!0,Ne),ze&&Ce.next(ne)},G&&(()=>{he&&Ce.next(ne),Ce.complete()})))}}},3020:(Cn,mt,P)=>{"use strict";P.d(mt,{B:()=>xe});var y=P(4829),_=P(8645),re=P(305),se=P(9360);function xe(G={}){const{connector:Ve=(()=>new _.x),resetOnError:Ce=!0,resetOnComplete:he=!0,resetOnRefCountZero:ne=!0}=G;return me=>{let Ne,be,qe,ut=0,ce=!1,ke=!1;const St=()=>{null==be||be.unsubscribe(),be=void 0},Bt=()=>{St(),Ne=qe=void 0,ce=ke=!1},$e=()=>{const Ee=Ne;Bt(),null==Ee||Ee.unsubscribe()};return(0,se.e)((Ee,je)=>{ut++,!ke&&!ce&&St();const z=qe=null!=qe?qe:Ve();je.add(()=>{ut--,0===ut&&!ke&&!ce&&(be=ze($e,ne))}),z.subscribe(je),!Ne&&ut>0&&(Ne=new re.Hp({next:Re=>z.next(Re),error:Re=>{ke=!0,St(),be=ze(Bt,Ce,Re),z.error(Re)},complete:()=>{ce=!0,St(),be=ze(Bt,he),z.complete()}}),(0,y.Xf)(Ee).subscribe(Ne))})(me)}}function ze(G,Ve,...Ce){if(!0===Ve)return void G();if(!1===Ve)return;const he=new re.Hp({next:()=>{he.unsubscribe(),G()}});return(0,y.Xf)(Ve(...Ce)).subscribe(he)}},7081:(Cn,mt,P)=>{"use strict";P.d(mt,{d:()=>re});var y=P(7328),_=P(3020);function re(se,xe,ze){let G,Ve=!1;return se&&"object"==typeof se?({bufferSize:G=1/0,windowTime:xe=1/0,refCount:Ve=!1,scheduler:ze}=se):G=null!=se?se:1/0,(0,_.B)({connector:()=>new y.t(G,xe,ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ve})}},7921:(Cn,mt,P)=>{"use strict";P.d(mt,{O:()=>se});var y=P(5211),_=P(4564),re=P(9360);function se(...xe){const ze=(0,_.yG)(xe);return(0,re.e)((G,Ve)=>{(ze?(0,y.z)(xe,G,ze):(0,y.z)(xe,G)).subscribe(Ve)})}},5137:(Cn,mt,P)=>{"use strict";P.d(mt,{R:()=>_});var y=P(9360);function _(re,se=0){return(0,y.e)((xe,ze)=>{ze.add(re.schedule(()=>xe.subscribe(ze),se))})}},4664:(Cn,mt,P)=>{"use strict";P.d(mt,{w:()=>se});var y=P(4829),_=P(9360),re=P(8251);function se(xe,ze){return(0,_.e)((G,Ve)=>{let Ce=null,he=0,ne=!1;const me=()=>ne&&!Ce&&Ve.complete();G.subscribe((0,re.x)(Ve,Ne=>{null==Ce||Ce.unsubscribe();let be=0;const qe=he++;(0,y.Xf)(xe(Ne,qe)).subscribe(Ce=(0,re.x)(Ve,ut=>Ve.next(ze?ze(Ne,ut,qe,be++):ut),()=>{Ce=null,me()}))},()=>{ne=!0,me()}))})}},4867:(Cn,mt,P)=>{"use strict";P.d(mt,{c:()=>re});var y=P(4664),_=P(4674);function re(se,xe){return(0,_.m)(xe)?(0,y.w)(()=>se,xe):(0,y.w)(()=>se)}},8180:(Cn,mt,P)=>{"use strict";P.d(mt,{q:()=>se});var y=P(6232),_=P(9360),re=P(8251);function se(xe){return xe<=0?()=>y.E:(0,_.e)((ze,G)=>{let Ve=0;ze.subscribe((0,re.x)(G,Ce=>{++Ve<=xe&&(G.next(Ce),xe<=Ve&&G.complete())}))})}},9773:(Cn,mt,P)=>{"use strict";P.d(mt,{R:()=>xe});var y=P(9360),_=P(8251),re=P(4829),se=P(2420);function xe(ze){return(0,y.e)((G,Ve)=>{(0,re.Xf)(ze).subscribe((0,_.x)(Ve,()=>Ve.complete(),se.Z)),!Ve.closed&&G.subscribe(Ve)})}},9397:(Cn,mt,P)=>{"use strict";P.d(mt,{b:()=>xe});var y=P(4674),_=P(9360),re=P(8251),se=P(2737);function xe(ze,G,Ve){const Ce=(0,y.m)(ze)||G||Ve?{next:ze,error:G,complete:Ve}:ze;return Ce?(0,_.e)((he,ne)=>{var me;null===(me=Ce.subscribe)||void 0===me||me.call(Ce);let Ne=!0;he.subscribe((0,re.x)(ne,be=>{var qe;null===(qe=Ce.next)||void 0===qe||qe.call(Ce,be),ne.next(be)},()=>{var be;Ne=!1,null===(be=Ce.complete)||void 0===be||be.call(Ce),ne.complete()},be=>{var qe;Ne=!1,null===(qe=Ce.error)||void 0===qe||qe.call(Ce,be),ne.error(be)},()=>{var be,qe;Ne&&(null===(be=Ce.unsubscribe)||void 0===be||be.call(Ce)),null===(qe=Ce.finalize)||void 0===qe||qe.call(Ce)}))}):se.y}},3026:(Cn,mt,P)=>{"use strict";P.d(mt,{T:()=>se});var y=P(6973),_=P(9360),re=P(8251);function se(ze=xe){return(0,_.e)((G,Ve)=>{let Ce=!1;G.subscribe((0,re.x)(Ve,he=>{Ce=!0,Ve.next(he)},()=>Ce?Ve.complete():Ve.error(ze())))})}function xe(){return new y.K}},2460:(Cn,mt,P)=>{"use strict";P.d(mt,{M:()=>G});var y=P(9360),_=P(8251),re=P(4829),se=P(2737),xe=P(2420),ze=P(4564);function G(...Ve){const Ce=(0,ze.jO)(Ve);return(0,y.e)((he,ne)=>{const me=Ve.length,Ne=new Array(me);let be=Ve.map(()=>!1),qe=!1;for(let ut=0;ut<me;ut++)(0,re.Xf)(Ve[ut]).subscribe((0,_.x)(ne,ce=>{Ne[ut]=ce,!qe&&!be[ut]&&(be[ut]=!0,(qe=be.every(se.y))&&(be=null))},xe.Z));he.subscribe((0,_.x)(ne,ut=>{if(qe){const ce=[ut,...Ne];ne.next(Ce?Ce(...ce):ce)}}))})}},1954:(Cn,mt,P)=>{"use strict";P.d(mt,{o:()=>xe});var y=P(7394);class _ extends y.w0{constructor(G,Ve){super()}schedule(G,Ve=0){return this}}const re={setInterval(ze,G,...Ve){const{delegate:Ce}=re;return null!=Ce&&Ce.setInterval?Ce.setInterval(ze,G,...Ve):setInterval(ze,G,...Ve)},clearInterval(ze){const{delegate:G}=re;return((null==G?void 0:G.clearInterval)||clearInterval)(ze)},delegate:void 0};var se=P(9039);class xe extends _{constructor(G,Ve){super(G,Ve),this.scheduler=G,this.work=Ve,this.pending=!1}schedule(G,Ve=0){var Ce;if(this.closed)return this;this.state=G;const he=this.id,ne=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ne,he,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(ne,this.id,Ve),this}requestAsyncId(G,Ve,Ce=0){return re.setInterval(G.flush.bind(G,this),Ce)}recycleAsyncId(G,Ve,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return Ve;null!=Ve&&re.clearInterval(Ve)}execute(G,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(G,Ve);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(G,Ve){let he,Ce=!1;try{this.work(G)}catch(ne){Ce=!0,he=ne||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:G,scheduler:Ve}=this,{actions:Ce}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(Ce,this),null!=G&&(this.id=this.recycleAsyncId(Ve,G,null)),this.delay=null,super.unsubscribe()}}}},2631:(Cn,mt,P)=>{"use strict";P.d(mt,{v:()=>re});var y=P(4552);class _{constructor(xe,ze=_.now){this.schedulerActionCtor=xe,this.now=ze}schedule(xe,ze=0,G){return new this.schedulerActionCtor(this,xe).schedule(G,ze)}}_.now=y.l.now;class re extends _{constructor(xe,ze=_.now){super(xe,ze),this.actions=[],this._active=!1}flush(xe){const{actions:ze}=this;if(this._active)return void ze.push(xe);let G;this._active=!0;do{if(G=xe.execute(xe.state,xe.delay))break}while(xe=ze.shift());if(this._active=!1,G){for(;xe=ze.shift();)xe.unsubscribe();throw G}}}},6321:(Cn,mt,P)=>{"use strict";P.d(mt,{z:()=>re});var y=P(1954);const re=new(P(2631).v)(y.o)},4552:(Cn,mt,P)=>{"use strict";P.d(mt,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},7599:(Cn,mt,P)=>{"use strict";P.d(mt,{z:()=>y});const y={setTimeout(_,re,...se){const{delegate:xe}=y;return null!=xe&&xe.setTimeout?xe.setTimeout(_,re,...se):setTimeout(_,re,...se)},clearTimeout(_){const{delegate:re}=y;return((null==re?void 0:re.clearTimeout)||clearTimeout)(_)},delegate:void 0}},4971:(Cn,mt,P)=>{"use strict";P.d(mt,{h:()=>_});const _=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Cn,mt,P)=>{"use strict";P.d(mt,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Cn,mt,P)=>{"use strict";P.d(mt,{K:()=>_});const _=(0,P(2306).d)(re=>function(){re(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Cn,mt,P)=>{"use strict";P.d(mt,{_6:()=>ze,jO:()=>se,yG:()=>xe});var y=P(4674);function re(G){return G[G.length-1]}function se(G){return(0,y.m)(re(G))?G.pop():void 0}function xe(G){return function _(G){return G&&(0,y.m)(G.schedule)}(re(G))?G.pop():void 0}function ze(G,Ve){return"number"==typeof re(G)?G.pop():Ve}},7453:(Cn,mt,P)=>{"use strict";P.d(mt,{D:()=>xe});const{isArray:y}=Array,{getPrototypeOf:_,prototype:re,keys:se}=Object;function xe(G){if(1===G.length){const Ve=G[0];if(y(Ve))return{args:Ve,keys:null};if(function ze(G){return G&&"object"==typeof G&&_(G)===re}(Ve)){const Ce=se(Ve);return{args:Ce.map(he=>Ve[he]),keys:Ce}}}return{args:G,keys:null}}},9039:(Cn,mt,P)=>{"use strict";function y(_,re){if(_){const se=_.indexOf(re);0<=se&&_.splice(se,1)}}P.d(mt,{P:()=>y})},2306:(Cn,mt,P)=>{"use strict";function y(_){const se=_(xe=>{Error.call(xe),xe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(mt,{d:()=>y})},2714:(Cn,mt,P)=>{"use strict";function y(_,re){return _.reduce((se,xe,ze)=>(se[xe]=re[ze],se),{})}P.d(mt,{n:()=>y})},1441:(Cn,mt,P)=>{"use strict";P.d(mt,{O:()=>se,x:()=>re});var y=P(2653);let _=null;function re(xe){if(y.config.useDeprecatedSynchronousErrorHandling){const ze=!_;if(ze&&(_={errorThrown:!1,error:null}),xe(),ze){const{errorThrown:G,error:Ve}=_;if(_=null,G)throw Ve}}else xe()}function se(xe){y.config.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=xe)}},7103:(Cn,mt,P)=>{"use strict";function y(_,re,se,xe=0,ze=!1){const G=re.schedule(function(){se(),ze?_.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(_.add(G),!ze)return G}P.d(mt,{f:()=>y})},2737:(Cn,mt,P)=>{"use strict";function y(_){return _}P.d(mt,{y:()=>y})},4266:(Cn,mt,P)=>{"use strict";P.d(mt,{z:()=>y});const y=_=>_&&"number"==typeof _.length&&"function"!=typeof _},5726:(Cn,mt,P)=>{"use strict";P.d(mt,{D:()=>_});var y=P(4674);function _(re){return Symbol.asyncIterator&&(0,y.m)(null==re?void 0:re[Symbol.asyncIterator])}},4674:(Cn,mt,P)=>{"use strict";function y(_){return"function"==typeof _}P.d(mt,{m:()=>y})},8382:(Cn,mt,P)=>{"use strict";P.d(mt,{c:()=>re});var y=P(4850),_=P(4674);function re(se){return(0,_.m)(se[y.L])}},3664:(Cn,mt,P)=>{"use strict";P.d(mt,{T:()=>re});var y=P(4971),_=P(4674);function re(se){return(0,_.m)(null==se?void 0:se[y.h])}},2664:(Cn,mt,P)=>{"use strict";P.d(mt,{b:()=>re});var y=P(5592),_=P(4674);function re(se){return!!se&&(se instanceof y.y||(0,_.m)(se.lift)&&(0,_.m)(se.subscribe))}},4026:(Cn,mt,P)=>{"use strict";P.d(mt,{t:()=>_});var y=P(4674);function _(re){return(0,y.m)(null==re?void 0:re.then)}},541:(Cn,mt,P)=>{"use strict";P.d(mt,{L:()=>se,Q:()=>re});var y=P(7582),_=P(4674);function re(xe){return(0,y.FC)(this,arguments,function*(){const G=xe.getReader();try{for(;;){const{value:Ve,done:Ce}=yield(0,y.qq)(G.read());if(Ce)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ve)}}finally{G.releaseLock()}})}function se(xe){return(0,_.m)(null==xe?void 0:xe.getReader)}},9360:(Cn,mt,P)=>{"use strict";P.d(mt,{A:()=>_,e:()=>re});var y=P(4674);function _(se){return(0,y.m)(null==se?void 0:se.lift)}function re(se){return xe=>{if(_(xe))return xe.lift(function(ze){try{return se(ze,this)}catch(G){this.error(G)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Cn,mt,P)=>{"use strict";P.d(mt,{Z:()=>se});var y=P(7398);const{isArray:_}=Array;function se(xe){return(0,y.U)(ze=>function re(xe,ze){return _(ze)?xe(...ze):xe(ze)}(xe,ze))}},2420:(Cn,mt,P)=>{"use strict";function y(){}P.d(mt,{Z:()=>y})},8407:(Cn,mt,P)=>{"use strict";P.d(mt,{U:()=>re,z:()=>_});var y=P(2737);function _(...se){return re(se)}function re(se){return 0===se.length?y.y:1===se.length?se[0]:function(ze){return se.reduce((G,Ve)=>Ve(G),ze)}}},3894:(Cn,mt,P)=>{"use strict";P.d(mt,{h:()=>re});var y=P(2653),_=P(7599);function re(se){_.z.setTimeout(()=>{const{onUnhandledError:xe}=y.config;if(!xe)throw se;xe(se)})}},9853:(Cn,mt,P)=>{"use strict";function y(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(mt,{z:()=>y})},863:(Cn,mt,P)=>{var y={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[7068,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,3591,433],"./ion-datetime_3.entry.js":[7059,3591,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function _(re){if(!P.o(y,re))return Promise.resolve().then(()=>{var ze=new Error("Cannot find module '"+re+"'");throw ze.code="MODULE_NOT_FOUND",ze});var se=y[re],xe=se[0];return Promise.all(se.slice(1).map(P.e)).then(()=>P(xe))}_.keys=()=>Object.keys(y),_.id=863,Cn.exports=_},6814:(Cn,mt,P)=>{"use strict";P.d(mt,{Do:()=>ut,EM:()=>Ai,HT:()=>se,JF:()=>ct,K0:()=>ze,Mx:()=>ar,O5:()=>Et,OU:()=>rs,Ov:()=>wr,PM:()=>er,S$:()=>Ne,V_:()=>Ve,Ye:()=>ce,b0:()=>qe,bD:()=>Oe,ez:()=>yt,mk:()=>Wi,q:()=>re,rS:()=>Ct,sg:()=>Vi,tP:()=>kt,uU:()=>Pn,w_:()=>xe});var y=P(5879);let _=null;function re(){return _}function se(L){_||(_=L)}class xe{}const ze=new y.OlP("DocumentToken");let G=(()=>{class L{historyGo(W){throw new Error("Not implemented")}}return L.\u0275fac=function(W){return new(W||L)},L.\u0275prov=y.Yz7({token:L,factory:function(){return(0,y.f3M)(Ce)},providedIn:"platform"}),L})();const Ve=new y.OlP("Location Initialized");let Ce=(()=>{class L extends G{constructor(){super(),this._doc=(0,y.f3M)(ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(W){const Te=re().getGlobalEventTarget(this._doc,"window");return Te.addEventListener("popstate",W,!1),()=>Te.removeEventListener("popstate",W)}onHashChange(W){const Te=re().getGlobalEventTarget(this._doc,"window");return Te.addEventListener("hashchange",W,!1),()=>Te.removeEventListener("hashchange",W)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(W){this._location.pathname=W}pushState(W,Te,nt){this._history.pushState(W,Te,nt)}replaceState(W,Te,nt){this._history.replaceState(W,Te,nt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return L.\u0275fac=function(W){return new(W||L)},L.\u0275prov=y.Yz7({token:L,factory:function(){return new L},providedIn:"platform"}),L})();function he(L,le){if(0==L.length)return le;if(0==le.length)return L;let W=0;return L.endsWith("/")&&W++,le.startsWith("/")&&W++,2==W?L+le.substring(1):1==W?L+le:L+"/"+le}function ne(L){const le=L.match(/#|\?|$/),W=le&&le.index||L.length;return L.slice(0,W-("/"===L[W-1]?1:0))+L.slice(W)}function me(L){return L&&"?"!==L[0]?"?"+L:L}let Ne=(()=>{class L{historyGo(W){throw new Error("Not implemented")}}return L.\u0275fac=function(W){return new(W||L)},L.\u0275prov=y.Yz7({token:L,factory:function(){return(0,y.f3M)(qe)},providedIn:"root"}),L})();const be=new y.OlP("appBaseHref");let qe=(()=>{class L extends Ne{constructor(W,Te){var nt,Qt,gn;super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=null!==(nt=null!==(Qt=null!=Te?Te:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Qt?Qt:null===(gn=(0,y.f3M)(ze).location)||void 0===gn?void 0:gn.origin)&&void 0!==nt?nt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return he(this._baseHref,W)}path(W=!1){const Te=this._platformLocation.pathname+me(this._platformLocation.search),nt=this._platformLocation.hash;return nt&&W?`${Te}${nt}`:Te}pushState(W,Te,nt,Qt){const gn=this.prepareExternalUrl(nt+me(Qt));this._platformLocation.pushState(W,Te,gn)}replaceState(W,Te,nt,Qt){const gn=this.prepareExternalUrl(nt+me(Qt));this._platformLocation.replaceState(W,Te,gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){var Te,nt;null===(Te=(nt=this._platformLocation).historyGo)||void 0===Te||Te.call(nt,W)}}return L.\u0275fac=function(W){return new(W||L)(y.LFG(G),y.LFG(be,8))},L.\u0275prov=y.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),ut=(()=>{class L extends Ne{constructor(W,Te){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=Te&&(this._baseHref=Te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let Te=this._platformLocation.hash;return null==Te&&(Te="#"),Te.length>0?Te.substring(1):Te}prepareExternalUrl(W){const Te=he(this._baseHref,W);return Te.length>0?"#"+Te:Te}pushState(W,Te,nt,Qt){let gn=this.prepareExternalUrl(nt+me(Qt));0==gn.length&&(gn=this._platformLocation.pathname),this._platformLocation.pushState(W,Te,gn)}replaceState(W,Te,nt,Qt){let gn=this.prepareExternalUrl(nt+me(Qt));0==gn.length&&(gn=this._platformLocation.pathname),this._platformLocation.replaceState(W,Te,gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){var Te,nt;null===(Te=(nt=this._platformLocation).historyGo)||void 0===Te||Te.call(nt,W)}}return L.\u0275fac=function(W){return new(W||L)(y.LFG(G),y.LFG(be,8))},L.\u0275prov=y.Yz7({token:L,factory:L.\u0275fac}),L})(),ce=(()=>{class L{constructor(W){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const Te=this._locationStrategy.getBaseHref();this._basePath=function $e(L){if(new RegExp("^(https?:)?//").test(L)){const[,W]=L.split(/\/\/[^\/]+/);return W}return L}(ne(Bt(Te))),this._locationStrategy.onPopState(nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:nt.state,type:nt.type})})}ngOnDestroy(){var W;null===(W=this._urlChangeSubscription)||void 0===W||W.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,Te=""){return this.path()==this.normalize(W+me(Te))}normalize(W){return L.stripTrailingSlash(function St(L,le){if(!L||!le.startsWith(L))return le;const W=le.substring(L.length);return""===W||["/",";","?","#"].includes(W[0])?W:le}(this._basePath,Bt(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,Te="",nt=null){this._locationStrategy.pushState(nt,"",W,Te),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+me(Te)),nt)}replaceState(W,Te="",nt=null){this._locationStrategy.replaceState(nt,"",W,Te),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+me(Te)),nt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){var Te,nt;null===(Te=(nt=this._locationStrategy).historyGo)||void 0===Te||Te.call(nt,W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Te=>{this._notifyUrlChangeListeners(Te.url,Te.state)})),()=>{const Te=this._urlChangeListeners.indexOf(W);var nt;this._urlChangeListeners.splice(Te,1),0===this._urlChangeListeners.length&&(null===(nt=this._urlChangeSubscription)||void 0===nt||nt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",Te){this._urlChangeListeners.forEach(nt=>nt(W,Te))}subscribe(W,Te,nt){return this._subject.subscribe({next:W,error:Te,complete:nt})}}return L.normalizeQueryParams=me,L.joinWithSlash=he,L.stripTrailingSlash=ne,L.\u0275fac=function(W){return new(W||L)(y.LFG(Ne))},L.\u0275prov=y.Yz7({token:L,factory:function(){return function ke(){return new ce((0,y.LFG)(Ne))}()},providedIn:"root"}),L})();function Bt(L){return L.replace(/\/index.html$/,"")}var Re=function(L){return L[L.Format=0]="Format",L[L.Standalone=1]="Standalone",L}(Re||{}),ve=function(L){return L[L.Narrow=0]="Narrow",L[L.Abbreviated=1]="Abbreviated",L[L.Wide=2]="Wide",L[L.Short=3]="Short",L}(ve||{}),we=function(L){return L[L.Short=0]="Short",L[L.Medium=1]="Medium",L[L.Long=2]="Long",L[L.Full=3]="Full",L}(we||{}),We=function(L){return L[L.Decimal=0]="Decimal",L[L.Group=1]="Group",L[L.List=2]="List",L[L.PercentSign=3]="PercentSign",L[L.PlusSign=4]="PlusSign",L[L.MinusSign=5]="MinusSign",L[L.Exponential=6]="Exponential",L[L.SuperscriptingExponent=7]="SuperscriptingExponent",L[L.PerMille=8]="PerMille",L[L.Infinity=9]="Infinity",L[L.NaN=10]="NaN",L[L.TimeSeparator=11]="TimeSeparator",L[L.CurrencyDecimal=12]="CurrencyDecimal",L[L.CurrencyGroup=13]="CurrencyGroup",L}(We||{});function de(L,le){return $n((0,y.cg1)(L)[y.wAp.DateFormat],le)}function Le(L,le){return $n((0,y.cg1)(L)[y.wAp.TimeFormat],le)}function vt(L,le){return $n((0,y.cg1)(L)[y.wAp.DateTimeFormat],le)}function Tt(L,le){const W=(0,y.cg1)(L),Te=W[y.wAp.NumberSymbols][le];if(typeof Te>"u"){if(le===We.CurrencyDecimal)return W[y.wAp.NumberSymbols][We.Decimal];if(le===We.CurrencyGroup)return W[y.wAp.NumberSymbols][We.Group]}return Te}function tn(L){if(!L[y.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[y.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $n(L,le){for(let W=le;W>-1;W--)if(typeof L[W]<"u")return L[W];throw new Error("Locale data API: locale data undefined")}function tr(L){const[le,W]=L.split(":");return{hours:+le,minutes:+W}}const Fr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mn={},Yr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qr=function(L){return L[L.Short=0]="Short",L[L.ShortGMT=1]="ShortGMT",L[L.Long=2]="Long",L[L.Extended=3]="Extended",L}(qr||{}),Hn=function(L){return L[L.FullYear=0]="FullYear",L[L.Month=1]="Month",L[L.Date=2]="Date",L[L.Hours=3]="Hours",L[L.Minutes=4]="Minutes",L[L.Seconds=5]="Seconds",L[L.FractionalSeconds=6]="FractionalSeconds",L[L.Day=7]="Day",L}(Hn||{}),hr=function(L){return L[L.DayPeriods=0]="DayPeriods",L[L.Days=1]="Days",L[L.Months=2]="Months",L[L.Eras=3]="Eras",L}(hr||{});function Br(L,le,W,Te){let nt=function ye(L){if(Se(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[nt,Qt=1,gn=1]=L.split("-").map(Cr=>+Cr);return dr(nt,Qt-1,gn)}const W=parseFloat(L);if(!isNaN(L-W))return new Date(W);let Te;if(Te=L.match(Fr))return function _e(L){const le=new Date(0);let W=0,Te=0;const nt=L[8]?le.setUTCFullYear:le.setFullYear,Qt=L[8]?le.setUTCHours:le.setHours;L[9]&&(W=Number(L[9]+L[10]),Te=Number(L[9]+L[11])),nt.call(le,Number(L[1]),Number(L[2])-1,Number(L[3]));const gn=Number(L[4]||0)-W,Cr=Number(L[5]||0)-Te,Ci=Number(L[6]||0),ci=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return Qt.call(le,gn,Cr,Ci,ci),le}(Te)}const le=new Date(L);if(!Se(le))throw new Error(`Unable to convert "${L}" into a date`);return le}(L);le=$r(W,le)||le;let Cr,gn=[];for(;le;){if(Cr=Yr.exec(le),!Cr){gn.push(le);break}{gn=gn.concat(Cr.slice(1));const ri=gn.pop();if(!ri)break;le=ri}}let Ci=nt.getTimezoneOffset();Te&&(Ci=ti(Te,Ci),nt=function st(L,le,W){const Te=W?-1:1,nt=L.getTimezoneOffset();return function oi(L,le){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+le),L}(L,Te*(ti(le,nt)-nt))}(nt,Te,!0));let ci="";return gn.forEach(ri=>{const wi=function hi(L){if(pi[L])return pi[L];let le;switch(L){case"G":case"GG":case"GGG":le=Sr(hr.Eras,ve.Abbreviated);break;case"GGGG":le=Sr(hr.Eras,ve.Wide);break;case"GGGGG":le=Sr(hr.Eras,ve.Narrow);break;case"y":le=xr(Hn.FullYear,1,0,!1,!0);break;case"yy":le=xr(Hn.FullYear,2,0,!0,!0);break;case"yyy":le=xr(Hn.FullYear,3,0,!1,!0);break;case"yyyy":le=xr(Hn.FullYear,4,0,!1,!0);break;case"Y":le=si(1);break;case"YY":le=si(2,!0);break;case"YYY":le=si(3);break;case"YYYY":le=si(4);break;case"M":case"L":le=xr(Hn.Month,1,1);break;case"MM":case"LL":le=xr(Hn.Month,2,1);break;case"MMM":le=Sr(hr.Months,ve.Abbreviated);break;case"MMMM":le=Sr(hr.Months,ve.Wide);break;case"MMMMM":le=Sr(hr.Months,ve.Narrow);break;case"LLL":le=Sr(hr.Months,ve.Abbreviated,Re.Standalone);break;case"LLLL":le=Sr(hr.Months,ve.Wide,Re.Standalone);break;case"LLLLL":le=Sr(hr.Months,ve.Narrow,Re.Standalone);break;case"w":le=ei(1);break;case"ww":le=ei(2);break;case"W":le=ei(1,!0);break;case"d":le=xr(Hn.Date,1);break;case"dd":le=xr(Hn.Date,2);break;case"c":case"cc":le=xr(Hn.Day,1);break;case"ccc":le=Sr(hr.Days,ve.Abbreviated,Re.Standalone);break;case"cccc":le=Sr(hr.Days,ve.Wide,Re.Standalone);break;case"ccccc":le=Sr(hr.Days,ve.Narrow,Re.Standalone);break;case"cccccc":le=Sr(hr.Days,ve.Short,Re.Standalone);break;case"E":case"EE":case"EEE":le=Sr(hr.Days,ve.Abbreviated);break;case"EEEE":le=Sr(hr.Days,ve.Wide);break;case"EEEEE":le=Sr(hr.Days,ve.Narrow);break;case"EEEEEE":le=Sr(hr.Days,ve.Short);break;case"a":case"aa":case"aaa":le=Sr(hr.DayPeriods,ve.Abbreviated);break;case"aaaa":le=Sr(hr.DayPeriods,ve.Wide);break;case"aaaaa":le=Sr(hr.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":le=Sr(hr.DayPeriods,ve.Abbreviated,Re.Standalone,!0);break;case"bbbb":le=Sr(hr.DayPeriods,ve.Wide,Re.Standalone,!0);break;case"bbbbb":le=Sr(hr.DayPeriods,ve.Narrow,Re.Standalone,!0);break;case"B":case"BB":case"BBB":le=Sr(hr.DayPeriods,ve.Abbreviated,Re.Format,!0);break;case"BBBB":le=Sr(hr.DayPeriods,ve.Wide,Re.Format,!0);break;case"BBBBB":le=Sr(hr.DayPeriods,ve.Narrow,Re.Format,!0);break;case"h":le=xr(Hn.Hours,1,-12);break;case"hh":le=xr(Hn.Hours,2,-12);break;case"H":le=xr(Hn.Hours,1);break;case"HH":le=xr(Hn.Hours,2);break;case"m":le=xr(Hn.Minutes,1);break;case"mm":le=xr(Hn.Minutes,2);break;case"s":le=xr(Hn.Seconds,1);break;case"ss":le=xr(Hn.Seconds,2);break;case"S":le=xr(Hn.FractionalSeconds,1);break;case"SS":le=xr(Hn.FractionalSeconds,2);break;case"SSS":le=xr(Hn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":le=Xr(qr.Short);break;case"ZZZZZ":le=Xr(qr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":le=Xr(qr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":le=Xr(qr.Long);break;default:return null}return pi[L]=le,le}(ri);ci+=wi?wi(nt,W,Ci):"''"===ri?"'":ri.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ci}function dr(L,le,W){const Te=new Date(0);return Te.setFullYear(L,le,W),Te.setHours(0,0,0),Te}function $r(L,le){const W=function it(L){return(0,y.cg1)(L)[y.wAp.LocaleId]}(L);if(mn[W]=mn[W]||{},mn[W][le])return mn[W][le];let Te="";switch(le){case"shortDate":Te=de(L,we.Short);break;case"mediumDate":Te=de(L,we.Medium);break;case"longDate":Te=de(L,we.Long);break;case"fullDate":Te=de(L,we.Full);break;case"shortTime":Te=Le(L,we.Short);break;case"mediumTime":Te=Le(L,we.Medium);break;case"longTime":Te=Le(L,we.Long);break;case"fullTime":Te=Le(L,we.Full);break;case"short":const nt=$r(L,"shortTime"),Qt=$r(L,"shortDate");Te=Ei(vt(L,we.Short),[nt,Qt]);break;case"medium":const gn=$r(L,"mediumTime"),Cr=$r(L,"mediumDate");Te=Ei(vt(L,we.Medium),[gn,Cr]);break;case"long":const Ci=$r(L,"longTime"),ci=$r(L,"longDate");Te=Ei(vt(L,we.Long),[Ci,ci]);break;case"full":const ri=$r(L,"fullTime"),wi=$r(L,"fullDate");Te=Ei(vt(L,we.Full),[ri,wi])}return Te&&(mn[W][le]=Te),Te}function Ei(L,le){return le&&(L=L.replace(/\{([^}]+)}/g,function(W,Te){return null!=le&&Te in le?le[Te]:W})),L}function fr(L,le,W="-",Te,nt){let Qt="";(L<0||nt&&L<=0)&&(nt?L=1-L:(L=-L,Qt=W));let gn=String(L);for(;gn.length<le;)gn="0"+gn;return Te&&(gn=gn.slice(gn.length-le)),Qt+gn}function xr(L,le,W=0,Te=!1,nt=!1){return function(Qt,gn){let Cr=function Hi(L,le){switch(L){case Hn.FullYear:return le.getFullYear();case Hn.Month:return le.getMonth();case Hn.Date:return le.getDate();case Hn.Hours:return le.getHours();case Hn.Minutes:return le.getMinutes();case Hn.Seconds:return le.getSeconds();case Hn.FractionalSeconds:return le.getMilliseconds();case Hn.Day:return le.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,Qt);if((W>0||Cr>-W)&&(Cr+=W),L===Hn.Hours)0===Cr&&-12===W&&(Cr=12);else if(L===Hn.FractionalSeconds)return function Pi(L,le){return fr(L,3).substring(0,le)}(Cr,le);const Ci=Tt(gn,We.MinusSign);return fr(Cr,le,Ci,Te,nt)}}function Sr(L,le,W=Re.Format,Te=!1){return function(nt,Qt){return function Jr(L,le,W,Te,nt,Qt){switch(W){case hr.Months:return function an(L,le,W){const Te=(0,y.cg1)(L),Qt=$n([Te[y.wAp.MonthsFormat],Te[y.wAp.MonthsStandalone]],le);return $n(Qt,W)}(le,nt,Te)[L.getMonth()];case hr.Days:return function It(L,le,W){const Te=(0,y.cg1)(L),Qt=$n([Te[y.wAp.DaysFormat],Te[y.wAp.DaysStandalone]],le);return $n(Qt,W)}(le,nt,Te)[L.getDay()];case hr.DayPeriods:const gn=L.getHours(),Cr=L.getMinutes();if(Qt){const ci=function nn(L){const le=(0,y.cg1)(L);return tn(le),(le[y.wAp.ExtraData][2]||[]).map(Te=>"string"==typeof Te?tr(Te):[tr(Te[0]),tr(Te[1])])}(le),ri=function xn(L,le,W){const Te=(0,y.cg1)(L);tn(Te);const Qt=$n([Te[y.wAp.ExtraData][0],Te[y.wAp.ExtraData][1]],le)||[];return $n(Qt,W)||[]}(le,nt,Te),wi=ci.findIndex(is=>{if(Array.isArray(is)){const[Qi,fs]=is,Bs=gn>=Qi.hours&&Cr>=Qi.minutes,Co=gn<fs.hours||gn===fs.hours&&Cr<fs.minutes;if(Qi.hours<fs.hours){if(Bs&&Co)return!0}else if(Bs||Co)return!0}else if(is.hours===gn&&is.minutes===Cr)return!0;return!1});if(-1!==wi)return ri[wi]}return function ht(L,le,W){const Te=(0,y.cg1)(L),Qt=$n([Te[y.wAp.DayPeriodsFormat],Te[y.wAp.DayPeriodsStandalone]],le);return $n(Qt,W)}(le,nt,Te)[gn<12?0:1];case hr.Eras:return function dt(L,le){return $n((0,y.cg1)(L)[y.wAp.Eras],le)}(le,Te)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(nt,Qt,L,le,W,Te)}}function Xr(L){return function(le,W,Te){const nt=-1*Te,Qt=Tt(W,We.MinusSign),gn=nt>0?Math.floor(nt/60):Math.ceil(nt/60);switch(L){case qr.Short:return(nt>=0?"+":"")+fr(gn,2,Qt)+fr(Math.abs(nt%60),2,Qt);case qr.ShortGMT:return"GMT"+(nt>=0?"+":"")+fr(gn,1,Qt);case qr.Long:return"GMT"+(nt>=0?"+":"")+fr(gn,2,Qt)+":"+fr(Math.abs(nt%60),2,Qt);case qr.Extended:return 0===Te?"Z":(nt>=0?"+":"")+fr(gn,2,Qt)+":"+fr(Math.abs(nt%60),2,Qt);default:throw new Error(`Unknown zone width "${L}"`)}}}const gi=0,mi=4;function ii(L){return dr(L.getFullYear(),L.getMonth(),L.getDate()+(mi-L.getDay()))}function ei(L,le=!1){return function(W,Te){let nt;if(le){const Qt=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,gn=W.getDate();nt=1+Math.floor((gn+Qt)/7)}else{const Qt=ii(W),gn=function Di(L){const le=dr(L,gi,1).getDay();return dr(L,0,1+(le<=mi?mi:mi+7)-le)}(Qt.getFullYear()),Cr=Qt.getTime()-gn.getTime();nt=1+Math.round(Cr/6048e5)}return fr(nt,L,Tt(Te,We.MinusSign))}}function si(L,le=!1){return function(W,Te){return fr(ii(W).getFullYear(),L,Tt(Te,We.MinusSign),le)}}const pi={};function ti(L,le){L=L.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN(W)?le:W}function Se(L){return L instanceof Date&&!isNaN(L.valueOf())}function ar(L,le){le=encodeURIComponent(le);for(const W of L.split(";")){const Te=W.indexOf("="),[nt,Qt]=-1==Te?[W,""]:[W.slice(0,Te),W.slice(Te+1)];if(nt.trim()===le)return decodeURIComponent(Qt)}return null}const Zr=/\s+/,ts=[];let Wi=(()=>{class L{constructor(W,Te,nt,Qt){this._iterableDiffers=W,this._keyValueDiffers=Te,this._ngEl=nt,this._renderer=Qt,this.initialClasses=ts,this.stateMap=new Map}set klass(W){this.initialClasses=null!=W?W.trim().split(Zr):ts}set ngClass(W){this.rawClass="string"==typeof W?W.trim().split(Zr):W}ngDoCheck(){for(const Te of this.initialClasses)this._updateState(Te,!0);const W=this.rawClass;if(Array.isArray(W)||W instanceof Set)for(const Te of W)this._updateState(Te,!0);else if(null!=W)for(const Te of Object.keys(W))this._updateState(Te,!!W[Te]);this._applyStateDiff()}_updateState(W,Te){const nt=this.stateMap.get(W);void 0!==nt?(nt.enabled!==Te&&(nt.changed=!0,nt.enabled=Te),nt.touched=!0):this.stateMap.set(W,{enabled:Te,changed:!0,touched:!0})}_applyStateDiff(){for(const W of this.stateMap){const Te=W[0],nt=W[1];nt.changed?(this._toggleClass(Te,nt.enabled),nt.changed=!1):nt.touched||(nt.enabled&&this._toggleClass(Te,!1),this.stateMap.delete(Te)),nt.touched=!1}}_toggleClass(W,Te){(W=W.trim()).length>0&&W.split(Zr).forEach(nt=>{Te?this._renderer.addClass(this._ngEl.nativeElement,nt):this._renderer.removeClass(this._ngEl.nativeElement,nt)})}}return L.\u0275fac=function(W){return new(W||L)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},L.\u0275dir=y.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),L})();class Ui{constructor(le,W,Te,nt){this.$implicit=le,this.ngForOf=W,this.index=Te,this.count=nt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vi=(()=>{class L{set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}constructor(W,Te,nt){this._viewContainer=W,this._template=Te,this._differs=nt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const Te=this._viewContainer;W.forEachOperation((nt,Qt,gn)=>{if(null==nt.previousIndex)Te.createEmbeddedView(this._template,new Ui(nt.item,this._ngForOf,-1,-1),null===gn?void 0:gn);else if(null==gn)Te.remove(null===Qt?void 0:Qt);else if(null!==Qt){const Cr=Te.get(Qt);Te.move(Cr,gn),gs(Cr,nt)}});for(let nt=0,Qt=Te.length;nt<Qt;nt++){const Cr=Te.get(nt).context;Cr.index=nt,Cr.count=Qt,Cr.ngForOf=this._ngForOf}W.forEachIdentityChange(nt=>{gs(Te.get(nt.currentIndex),nt)})}static ngTemplateContextGuard(W,Te){return!0}}return L.\u0275fac=function(W){return new(W||L)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},L.\u0275dir=y.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),L})();function gs(L,le){L.context.$implicit=le.item}let Et=(()=>{class L{constructor(W,Te){this._viewContainer=W,this._context=new Ze,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Te}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){Rt("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){Rt("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,Te){return!0}}return L.\u0275fac=function(W){return new(W||L)(y.Y36(y.s_b),y.Y36(y.Rgc))},L.\u0275dir=y.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class Ze{constructor(){this.$implicit=null,this.ngIf=null}}function Rt(L,le){if(le&&!le.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,y.AaK)(le)}'.`)}let kt=(()=>{class L{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(W.ngTemplateOutlet||W.ngTemplateOutletInjector){const Te=this._viewContainerRef;if(this._viewRef&&Te.remove(Te.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:nt,ngTemplateOutletContext:Qt,ngTemplateOutletInjector:gn}=this;this._viewRef=Te.createEmbeddedView(nt,Qt,gn?{injector:gn}:void 0)}else this._viewRef=null}else this._viewRef&&W.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return L.\u0275fac=function(W){return new(W||L)(y.Y36(y.s_b))},L.\u0275dir=y.lG2({type:L,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),L})();function Ht(L,le){return new y.vHH(2100,!1)}class sn{createSubscription(le,W){return(0,y.rg0)(()=>le.subscribe({next:W,error:Te=>{throw Te}}))}dispose(le){(0,y.rg0)(()=>le.unsubscribe())}}class Mn{createSubscription(le,W){return le.then(W,Te=>{throw Te})}dispose(le){}}const Kn=new Mn,lr=new sn;let wr=(()=>{class L{constructor(W){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=W}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(W){return this._obj?W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue:(W&&this._subscribe(W),this._latestValue)}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,Te=>this._updateLatestValue(W,Te))}_selectStrategy(W){if((0,y.QGY)(W))return Kn;if((0,y.F4k)(W))return lr;throw Ht()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,Te){W===this._obj&&(this._latestValue=Te,this._ref.markForCheck())}}return L.\u0275fac=function(W){return new(W||L)(y.Y36(y.sBO,16))},L.\u0275pipe=y.Yjl({name:"async",type:L,pure:!1,standalone:!0}),L})();const bt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ct=(()=>{class L{transform(W){if(null==W)return null;if("string"!=typeof W)throw Ht();return W.replace(bt,Te=>Te[0].toUpperCase()+Te.slice(1).toLowerCase())}}return L.\u0275fac=function(W){return new(W||L)},L.\u0275pipe=y.Yjl({name:"titlecase",type:L,pure:!0,standalone:!0}),L})();const qn=new y.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),kn=new y.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Pn=(()=>{class L{constructor(W,Te,nt){this.locale=W,this.defaultTimezone=Te,this.defaultOptions=nt}transform(W,Te,nt,Qt){if(null==W||""===W||W!=W)return null;try{var gn,Cr,Ci,ci,ri;const wi=null!==(gn=null!=Te?Te:null===(Cr=this.defaultOptions)||void 0===Cr?void 0:Cr.dateFormat)&&void 0!==gn?gn:"mediumDate",is=null!==(Ci=null!==(ci=null!=nt?nt:null===(ri=this.defaultOptions)||void 0===ri?void 0:ri.timezone)&&void 0!==ci?ci:this.defaultTimezone)&&void 0!==Ci?Ci:void 0;return Br(W,wi,Qt||this.locale,is)}catch(wi){throw Ht()}}}return L.\u0275fac=function(W){return new(W||L)(y.Y36(y.soG,16),y.Y36(qn,24),y.Y36(kn,24))},L.\u0275pipe=y.Yjl({name:"date",type:L,pure:!0,standalone:!0}),L})(),rs=(()=>{class L{transform(W,Te,nt){if(null==W)return null;if(!this.supports(W))throw Ht();return W.slice(Te,nt)}supports(W){return"string"==typeof W||Array.isArray(W)}}return L.\u0275fac=function(W){return new(W||L)},L.\u0275pipe=y.Yjl({name:"slice",type:L,pure:!1,standalone:!0}),L})(),yt=(()=>{class L{}return L.\u0275fac=function(W){return new(W||L)},L.\u0275mod=y.oAB({type:L}),L.\u0275inj=y.cJS({}),L})();const Oe="browser",at="server";function er(L){return L===at}let Ai=(()=>{class L{}return L.\u0275prov=(0,y.Yz7)({token:L,providedIn:"root",factory:()=>new Mi((0,y.LFG)(ze),window)}),L})();class Mi{constructor(le,W){this.document=le,this.window=W,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const W=function ms(L,le){const W=L.getElementById(le)||L.getElementsByName(le)[0];if(W)return W;if("function"==typeof L.createTreeWalker&&L.body&&"function"==typeof L.body.attachShadow){const Te=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let nt=Te.currentNode;for(;nt;){const Qt=nt.shadowRoot;if(Qt){const gn=Qt.getElementById(le)||Qt.querySelector(`[name="${le}"]`);if(gn)return gn}nt=Te.nextNode()}}return null}(this.document,le);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const W=this.window.history;W&&W.scrollRestoration&&(W.scrollRestoration=le)}}scrollToElement(le){const W=le.getBoundingClientRect(),Te=W.left+this.window.pageXOffset,nt=W.top+this.window.pageYOffset,Qt=this.offset();this.window.scrollTo(Te-Qt[0],nt-Qt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=Fi(this.window.history)||Fi(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Fi(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class ct{}},5879:(Cn,mt,P)=>{"use strict";P.d(mt,{$8M:()=>ju,$WT:()=>lr,$Z:()=>ch,AFp:()=>ay,ALo:()=>yE,AaK:()=>Ne,AsE:()=>tg,BQk:()=>jf,CHM:()=>Do,CRH:()=>kE,DdM:()=>dE,Dn7:()=>EE,EJc:()=>UC,EpF:()=>Ih,F$t:()=>Xp,F4k:()=>zy,FYo:()=>Xm,FiY:()=>du,G48:()=>uS,GSi:()=>Au,Gf:()=>OE,GfV:()=>Sp,GkF:()=>bh,Gpc:()=>ut,HDt:()=>ib,Hsn:()=>Yy,JOm:()=>ql,KtG:()=>Zn,LFG:()=>ti,LMc:()=>BS,LSH:()=>uf,Lbi:()=>pf,Lck:()=>xI,MAs:()=>Ov,MMx:()=>rE,NdJ:()=>zf,Ojb:()=>gf,OlP:()=>hs,Oqu:()=>Id,P3R:()=>qd,PXZ:()=>tS,Q6J:()=>dm,QGY:()=>kv,Qsj:()=>p_,R0b:()=>hc,RDi:()=>n_,Rgc:()=>o0,SBq:()=>oh,Sil:()=>zC,Suo:()=>NE,TTD:()=>ka,TgZ:()=>hm,VKq:()=>hE,VuI:()=>LS,W1O:()=>$E,X6Q:()=>cS,XFs:()=>Hn,Xpm:()=>pe,Xq5:()=>ky,Xts:()=>id,Y36:()=>xu,YKP:()=>tE,YNc:()=>Vy,Yjl:()=>Ht,Yz7:()=>nn,Z0I:()=>tr,ZZ4:()=>Aw,_Bn:()=>eE,_UZ:()=>$f,_c5:()=>DS,_uU:()=>eg,aQg:()=>xw,c2e:()=>rb,cJS:()=>Bn,cg1:()=>X_,dDg:()=>XC,dqk:()=>fr,eFA:()=>yb,eJc:()=>hw,ekj:()=>vn,eoX:()=>pb,f3M:()=>st,g9A:()=>tc,gHi:()=>Tf,gxx:()=>Zd,h0i:()=>Qy,hGG:()=>TS,hij:()=>Gf,iGM:()=>RE,ifc:()=>pr,ip1:()=>nb,jDz:()=>iE,kL8:()=>Q_,ktI:()=>dh,lG2:()=>$t,lcZ:()=>_E,lqb:()=>Uc,lri:()=>hb,n5z:()=>Pc,oAB:()=>ge,oxw:()=>Fv,q4F:()=>dy,qFp:()=>$S,qLn:()=>Tu,qOj:()=>md,qZA:()=>Eh,rWj:()=>fb,rg0:()=>ua,sBO:()=>dS,s_b:()=>P0,soG:()=>O0,tb:()=>bw,tp0:()=>Pd,uIk:()=>im,vHH:()=>Ee,vpe:()=>Zf,wAp:()=>e,xi3:()=>wE,xp6:()=>jg,ynx:()=>Zp,z2F:()=>t_,zSh:()=>Tg,zs3:()=>Vc});var he,y=P(8645),_=P(7394),re=P(5619),se=P(5592),xe=P(3019),ze=P(2096),G=P(3020),Ve=P(4664),Ce=P(3997);function ne(r){for(let i in r)if(r[i]===ne)return i;throw Error("Could not find renamed property on target object.")}function me(r,i){for(const c in i)i.hasOwnProperty(c)&&!r.hasOwnProperty(c)&&(r[c]=i[c])}function Ne(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ne).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const c=i.indexOf("\n");return-1===c?i:i.substring(0,c)}function be(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const qe=ne({__forward_ref__:ne});function ut(r){return r.__forward_ref__=ut,r.toString=function(){return Ne(this())},r}function ce(r){return ke(r)?r():r}function ke(r){return"function"==typeof r&&r.hasOwnProperty(qe)&&r.__forward_ref__===ut}function St(r){return r&&!!r.\u0275providers}const $e="https://g.co/ng/security#xss";class Ee extends Error{constructor(i,c){super(function je(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,c)),this.code=i}}function z(r){return"string"==typeof r?r:null==r?"":String(r)}function lt(r,i){throw new Ee(-201,!1)}function Xt(r,i){null==r&&function Zt(r,i,c,d){throw new Error(`ASSERTION ERROR: ${r}`+(null==d?"":` [Expected=> ${c} ${d} ${i} <=Actual]`))}(i,r,null,"!=")}function nn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Bn(r){return{providers:r.providers||[],imports:r.imports||[]}}function $n(r){return Ar(r,Fr)||Ar(r,Yr)}function tr(r){return null!==$n(r)}function Ar(r,i){return r.hasOwnProperty(i)?r[i]:null}function sr(r){return r&&(r.hasOwnProperty(mn)||r.hasOwnProperty(qr))?r[mn]:null}const Fr=ne({\u0275prov:ne}),mn=ne({\u0275inj:ne}),Yr=ne({ngInjectableDef:ne}),qr=ne({ngInjectorDef:ne});var Hn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Hn||{});let hr;function Br(){return hr}function dr(r){const i=hr;return hr=r,i}function $r(r,i,c){const d=$n(r);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Hn.Optional?null:void 0!==i?i:void lt(Ne(r))}const fr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sr={},Jr="__NG_DI_FLAG__",Xr="ngTempTokenPath",mi=/\n/gm,ii="__source";let ei;function pi(r){const i=ei;return ei=r,i}function hi(r,i=Hn.Default){if(void 0===ei)throw new Ee(-203,!1);return null===ei?$r(r,void 0,i):ei.get(r,i&Hn.Optional?null:void 0,i)}function ti(r,i=Hn.Default){return(Br()||hi)(ce(r),i)}function st(r,i=Hn.Default){return ti(r,ye(i))}function ye(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function _e(r){const i=[];for(let c=0;c<r.length;c++){const d=ce(r[c]);if(Array.isArray(d)){if(0===d.length)throw new Ee(900,!1);let f,E=Hn.Default;for(let T=0;T<d.length;T++){const F=d[T],j=Fe(F);"number"==typeof j?-1===j?f=F.token:E|=j:f=F}i.push(ti(f,E))}else i.push(ti(d))}return i}function Se(r,i){return r[Jr]=i,r.prototype[Jr]=i,r}function Fe(r){return r[Jr]}function En(r){return{toString:r}.toString()}var ir=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(ir||{}),pr=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(pr||{});const br={},Gn=[],ai=ne({\u0275cmp:ne}),Gi=ne({\u0275dir:ne}),Li=ne({\u0275pipe:ne}),Dt=ne({\u0275mod:ne}),Xe=ne({\u0275fac:ne}),pt=ne({__NG_ELEMENT_ID__:ne}),jt=ne({__NG_ENV_ID__:ne});function Sn(r,i,c){let d=r.length;for(;;){const f=r.indexOf(i,c);if(-1===f)return f;if(0===f||r.charCodeAt(f-1)<=32){const E=i.length;if(f+E===d||r.charCodeAt(f+E)<=32)return f}c=f+1}}function Rn(r,i,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const E=c[d++],T=c[d++],F=c[d++];r.setAttribute(i,T,F,E)}else{const E=f,T=c[++d];kr(E)?r.setProperty(i,E,T):r.setAttribute(i,E,T),d++}}return d}function or(r){return 3===r||4===r||6===r}function kr(r){return 64===r.charCodeAt(0)}function jr(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let c=-1;for(let d=0;d<i.length;d++){const f=i[d];"number"==typeof f?c=f:0===c||ni(r,c,f,null,-1===c||2===c?i[++d]:null)}}return r}function ni(r,i,c,d,f){let E=0,T=r.length;if(-1===i)T=-1;else for(;E<r.length;){const F=r[E++];if("number"==typeof F){if(F===i){T=-1;break}if(F>i){T=E-1;break}}}for(;E<r.length;){const F=r[E];if("number"==typeof F)break;if(F===c){if(null===d)return void(null!==f&&(r[E+1]=f));if(d===r[E+1])return void(r[E+2]=f)}E++,null!==d&&E++,null!==f&&E++}-1!==T&&(r.splice(T,0,i),E=T+1),r.splice(E++,0,c),null!==d&&r.splice(E++,0,d),null!==f&&r.splice(E++,0,f)}const Gr="ng-template";function ar(r,i,c){let d=0,f=!0;for(;d<r.length;){let E=r[d++];if("string"==typeof E&&f){const T=r[d++];if(c&&"class"===E&&-1!==Sn(T.toLowerCase(),i,0))return!0}else{if(1===E){for(;d<r.length&&"string"==typeof(E=r[d++]);)if(E.toLowerCase()===i)return!0;return!1}"number"==typeof E&&(f=!1)}}return!1}function Zr(r){return 4===r.type&&r.value!==Gr}function ts(r,i,c){return i===(4!==r.type||c?r.value:Gr)}function Wi(r,i,c){let d=4;const f=r.attrs||[],E=function gs(r){for(let i=0;i<r.length;i++)if(or(r[i]))return i;return r.length}(f);let T=!1;for(let F=0;F<i.length;F++){const j=i[F];if("number"!=typeof j){if(!T)if(4&d){if(d=2|1&d,""!==j&&!ts(r,j,c)||""===j&&1===i.length){if($i(d))return!1;T=!0}}else{const ee=8&d?j:i[++F];if(8&d&&null!==r.attrs){if(!ar(r.attrs,ee,c)){if($i(d))return!1;T=!0}continue}const Ge=Yi(8&d?"class":j,f,Zr(r),c);if(-1===Ge){if($i(d))return!1;T=!0;continue}if(""!==ee){let Mt;Mt=Ge>E?"":f[Ge+1].toLowerCase();const Wt=8&d?Mt:null;if(Wt&&-1!==Sn(Wt,ee,0)||2&d&&ee!==Mt){if($i(d))return!1;T=!0}}}}else{if(!T&&!$i(d)&&!$i(j))return!1;if(T&&$i(j))continue;T=!1,d=j|1&d}}return $i(d)||T}function $i(r){return 0==(1&r)}function Yi(r,i,c,d){if(null===i)return-1;let f=0;if(d||!c){let E=!1;for(;f<i.length;){const T=i[f];if(T===r)return f;if(3===T||6===T)E=!0;else{if(1===T||2===T){let F=i[++f];for(;"string"==typeof F;)F=i[++f];continue}if(4===T)break;if(0===T){f+=4;continue}}f+=E?1:2}return-1}return function Ae(r,i){let c=r.indexOf(4);if(c>-1)for(c++;c<r.length;){const d=r[c];if("number"==typeof d)return-1;if(d===i)return c;c++}return-1}(i,r)}function Ui(r,i,c=!1){for(let d=0;d<i.length;d++)if(Wi(r,i[d],c))return!0;return!1}function Et(r,i){e:for(let c=0;c<i.length;c++){const d=i[c];if(r.length===d.length){for(let f=0;f<r.length;f++)if(r[f]!==d[f])continue e;return!0}}return!1}function Ze(r,i){return r?":not("+i.trim()+")":i}function Rt(r){let i=r[0],c=1,d=2,f="",E=!1;for(;c<r.length;){let T=r[c];if("string"==typeof T)if(2&d){const F=r[++c];f+="["+T+(F.length>0?'="'+F+'"':"")+"]"}else 8&d?f+="."+T:4&d&&(f+=" "+T);else""!==f&&!$i(T)&&(i+=Ze(E,f),f=""),d=T,E=E||!$i(d);c++}return""!==f&&(i+=Ze(E,f)),i}function pe(r){return En(()=>{var i;const c=ft(r),d={...c,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:null!==(i=r.signals)&&void 0!==i&&i,data:r.data||{},encapsulation:r.encapsulation||pr.Emulated,styles:r.styles||Gn,_:null,schemas:r.schemas||null,tView:null,id:""};bt(d);const f=r.dependencies;return d.directiveDefs=Ct(f,!1),d.pipeDefs=Ct(f,!0),d.id=function Nn(r){let i=0;const c=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const f of c)i=Math.imul(31,i)+f.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(d),d})}function Y(r){return sn(r)||Mn(r)}function ie(r){return null!==r}function ge(r){return En(()=>({type:r.type,bootstrap:r.bootstrap||Gn,declarations:r.declarations||Gn,imports:r.imports||Gn,exports:r.exports||Gn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function kt(r,i){if(null==r)return br;const c={};for(const d in r)if(r.hasOwnProperty(d)){let f=r[d],E=f;Array.isArray(f)&&(E=f[1],f=f[0]),c[f]=d,i&&(i[f]=E)}return c}function $t(r){return En(()=>{const i=ft(r);return bt(i),i})}function Ht(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function sn(r){return r[ai]||null}function Mn(r){return r[Gi]||null}function Kn(r){return r[Li]||null}function lr(r){const i=sn(r)||Mn(r)||Kn(r);return null!==i&&i.standalone}function wr(r,i){const c=r[Dt]||null;if(!c&&!0===i)throw new Error(`Type ${Ne(r)} does not have '\u0275mod' property.`);return c}function ft(r){const i={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:r.inputs||br,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Gn,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kt(r.inputs,i),outputs:kt(r.outputs)}}function bt(r){var i;null===(i=r.features)||void 0===i||i.forEach(c=>c(r))}function Ct(r,i){if(!r)return null;const c=i?Kn:Y;return()=>("function"==typeof r?r():r).map(d=>c(d)).filter(ie)}const qn=0,kn=1,Pn=2,Xn=3,vi=4,Os=5,yi=6,ji=7,Ti=8,Is=9,ws=10,_r=11,Ns=12,ks=13,js=14,rs=15,fe=16,yt=17,Oe=18,at=19,Gt=20,cn=21,_n=22,er=23,Or=24,nr=25,Ai=1,Mi=2,Fi=7,aa=9,et=11;function Yt(r){return Array.isArray(r)&&"object"==typeof r[Ai]}function un(r){return Array.isArray(r)&&!0===r[Ai]}function jn(r){return 0!=(4&r.flags)}function rr(r){return r.componentOffset>-1}function Vr(r){return 1==(1&r.flags)}function Ir(r){return!!r.template}function li(r){return 0!=(512&r[Pn])}function Ii(r,i){return r.hasOwnProperty(Xe)?r[Xe]:null}let Xo=null!==(he=fr.WeakRef)&&void 0!==he?he:class Io{constructor(i){this.ref=i}deref(){return this.ref}},fc=0,ao=null,Oo=!1;function ss(r){const i=ao;return ao=r,i}class pc{constructor(){this.id=fc++,this.ref=function Ho(r){return new Xo(r)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[i,c]of this.producers){const d=c.producerNode.deref();if(null!=d&&c.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(i),null==d||d.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const i=Oo;Oo=!0;try{for(const[c,d]of this.consumers){const f=d.consumerNode.deref();null!=f&&f.trackingVersion===d.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),null==f||f.producers.delete(this.id))}}finally{Oo=i}}producerAccessed(){if(Oo)throw new Error("");if(null===ao)return;let i=ao.producers.get(this.id);void 0===i?(i={consumerNode:ao.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ao.trackingVersion},ao.producers.set(this.id,i),this.consumers.set(ao.id,i)):(i.seenValueVersion=this.valueVersion,i.atTrackingVersion=ao.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var i;return!1!==(null===(i=ao)||void 0===i?void 0:i.consumerAllowSignalWrites)}producerPollStatus(i){return this.valueVersion!==i||(this.onProducerUpdateValueVersion(),this.valueVersion!==i)}}let Ea=null;function ua(r){const i=ss(null);try{return r()}finally{ss(i)}}const ml=()=>{};class ba extends pc{constructor(i,c,d){super(),this.watch=i,this.schedule=c,this.dirty=!1,this.cleanupFn=ml,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const i=ss(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ml,this.watch(this.registerOnCleanup)}finally{ss(i)}}cleanup(){this.cleanupFn()}}class kl{constructor(i,c,d){this.previousValue=i,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ka(){return La}function La(r){return r.type.prototype.ngOnChanges&&(r.setInput=Qo),Fa}function Fa(){const r=yc(this),i=null==r?void 0:r.current;if(i){const c=r.previous;if(c===br)r.previous=i;else for(let d in i)c[d]=i[d];r.current=null,this.ngOnChanges(i)}}function Qo(r,i,c,d){const f=this.declaredInputs[c],E=yc(r)||function Sd(r,i){return r[zs]=i}(r,{previous:br,current:null}),T=E.current||(E.current={}),F=E.previous,j=F[f];T[f]=new kl(j&&j.currentValue,i,F===br),r[d]=i}ka.ngInherit=!0;const zs="__ngSimpleChanges__";function yc(r){return r[zs]||null}const Fs=function(r,i,c){};function Xi(r){for(;Array.isArray(r);)r=r[qn];return r}function le(r,i){return Xi(i[r])}function W(r,i){return Xi(i[r.index])}function nt(r,i){return r.data[i]}function Qt(r,i){return r[i]}function gn(r,i){const c=i[r];return Yt(c)?c:c[qn]}function ri(r,i){return null==i?null:r[i]}function wi(r){r[yt]=0}function is(r){1024&r[Pn]||(r[Pn]|=1024,fs(r,1))}function Qi(r){1024&r[Pn]&&(r[Pn]&=-1025,fs(r,-1))}function fs(r,i){let c=r[Xn];if(null===c)return;c[Os]+=i;let d=c;for(c=c[Xn];null!==c&&(1===i&&1===d[Os]||-1===i&&0===d[Os]);)c[Os]+=i,d=c,c=c[Xn]}function Bs(r,i){if(256==(256&r[Pn]))throw new Ee(911,!1);null===r[cn]&&(r[cn]=[]),r[cn].push(i)}const Qr={lFrame:Cc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ll(){return Qr.bindingsEnabled}function Ba(){return null!==Qr.skipHydrationRootTNode}function On(){return Qr.lFrame.lView}function ns(){return Qr.lFrame.tView}function Do(r){return Qr.lFrame.contextLView=r,r[Ti]}function Zn(r){return Qr.lFrame.contextLView=null,r}function xi(){let r=No();for(;null!==r&&64===r.type;)r=r.parent;return r}function No(){return Qr.lFrame.currentTNode}function mr(r,i){const c=Qr.lFrame;c.currentTNode=r,c.isParent=i}function Ur(){return Qr.lFrame.isParent}function xs(){Qr.lFrame.isParent=!1}function qi(){const r=Qr.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function wc(){return Qr.lFrame.bindingIndex++}function _l(r){const i=Qr.lFrame,c=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,c}function il(r,i){const c=Qr.lFrame;c.bindingIndex=c.bindingRootIndex=r,Mh(i)}function Mh(r){Qr.lFrame.currentDirectiveIndex=r}function bc(){return Qr.lFrame.currentQueryIndex}function fi(r){Qr.lFrame.currentQueryIndex=r}function Ic(r){const i=r[kn];return 2===i.type?i.declTNode:1===i.type?r[yi]:null}function eu(r,i,c){if(c&Hn.SkipSelf){let f=i,E=r;for(;!(f=f.parent,null!==f||c&Hn.Host||(f=Ic(E),null===f||(E=E[js],10&f.type))););if(null===f)return!1;i=f,r=E}const d=Qr.lFrame=Wr();return d.currentTNode=i,d.lView=r,!0}function Ss(r){const i=Wr(),c=r[kn];Qr.lFrame=i,i.currentTNode=c.firstChild,i.lView=r,i.tView=c,i.contextLView=r,i.bindingIndex=c.bindingStartIndex,i.inI18n=!1}function Wr(){const r=Qr.lFrame,i=null===r?null:r.child;return null===i?Cc(r):i}function Cc(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function os(){const r=Qr.lFrame;return Qr.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Bl=os;function $s(){const r=os();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function To(){return Qr.lFrame.selectedIndex}function O(r){Qr.lFrame.selectedIndex=r}function B(){const r=Qr.lFrame;return nt(r.tView,r.selectedIndex)}let Lt=!0;function An(){return Lt}function vr(r){Lt=r}function Dr(r,i){for(let ee=i.directiveStart,Ie=i.directiveEnd;ee<Ie;ee++){const Mt=r.data[ee].type.prototype,{ngAfterContentInit:Wt,ngAfterContentChecked:Tn,ngAfterViewInit:ur,ngAfterViewChecked:Tr,ngOnDestroy:Kr}=Mt;var c,d,f,E,T,F,j;Wt&&(null!==(c=r.contentHooks)&&void 0!==c?c:r.contentHooks=[]).push(-ee,Wt),Tn&&((null!==(d=r.contentHooks)&&void 0!==d?d:r.contentHooks=[]).push(ee,Tn),(null!==(f=r.contentCheckHooks)&&void 0!==f?f:r.contentCheckHooks=[]).push(ee,Tn)),ur&&(null!==(E=r.viewHooks)&&void 0!==E?E:r.viewHooks=[]).push(-ee,ur),Tr&&((null!==(T=r.viewHooks)&&void 0!==T?T:r.viewHooks=[]).push(ee,Tr),(null!==(F=r.viewCheckHooks)&&void 0!==F?F:r.viewCheckHooks=[]).push(ee,Tr)),null!=Kr&&(null!==(j=r.destroyHooks)&&void 0!==j?j:r.destroyHooks=[]).push(ee,Kr)}}function us(r,i,c){Ms(r,i,3,c)}function Kt(r,i,c,d){(3&r[Pn])===c&&Ms(r,i,c,d)}function Hs(r,i){let c=r[Pn];(3&c)===i&&(c&=8191,c+=1,r[Pn]=c)}function Ms(r,i,c,d){const E=null!=d?d:-1,T=i.length-1;let F=0;for(let j=void 0!==d?65535&r[yt]:0;j<T;j++)if("number"==typeof i[j+1]){if(F=i[j],null!=d&&F>=d)break}else i[j]<0&&(r[yt]+=65536),(F<E||-1==E)&&(sl(r,c,i,j),r[yt]=(4294901760&r[yt])+j+2),j++}function wl(r,i){Fs(4,r,i);const c=ss(null);try{i.call(r)}finally{ss(c),Fs(5,r,i)}}function sl(r,i,c,d){const f=c[d]<0,E=c[d+1],F=r[f?-c[d]:c[d]];f?r[Pn]>>13<r[yt]>>16&&(3&r[Pn])===i&&(r[Pn]+=8192,wl(F,E)):wl(F,E)}const ko=-1;class ol{constructor(i,c,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Tc(r){return r!==ko}function lo(r){return 32767&r}function tu(r,i){let c=function Em(r){return r>>16}(r),d=i;for(;c>0;)d=d[js],c--;return d}let Lo=!0;function $u(r){const i=Lo;return Lo=r,i}const Ph=255,xd=5;let ag=0;const Go={};function xc(r,i){const c=Oh(r,i);if(-1!==c)return c;const d=i[kn];d.firstCreatePass&&(r.injectorIndex=i.length,nu(d.data,r),nu(i,null),nu(d.blueprint,null));const f=ru(r,i),E=r.injectorIndex;if(Tc(f)){const T=lo(f),F=tu(f,i),j=F[kn].data;for(let ee=0;ee<8;ee++)i[E+ee]=F[T+ee]|j[T+ee]}return i[E+8]=f,E}function nu(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Oh(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function ru(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let c=0,d=null,f=i;for(;null!==f;){if(d=bs(f),null===d)return ko;if(c++,f=f[js],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return ko}function iu(r,i,c){!function Rh(r,i,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(pt)&&(d=c[pt]),null==d&&(d=c[pt]=ag++);const f=d&Ph;i.data[r+(f>>xd)]|=1<<f}(r,i,c)}function Nh(r,i,c){if(c&Hn.Optional||void 0!==r)return r;lt()}function kh(r,i,c,d){if(c&Hn.Optional&&void 0===d&&(d=null),!(c&(Hn.Self|Hn.Host))){const f=r[Is],E=dr(void 0);try{return f?f.get(i,d,c&Hn.Optional):$r(i,d,c&Hn.Optional)}finally{dr(E)}}return Nh(d,0,c)}function Uu(r,i,c,d=Hn.Default,f){if(null!==r){if(2048&i[Pn]&&!(d&Hn.Self)){const T=function Bh(r,i,c,d,f){let E=r,T=i;for(;null!==E&&null!==T&&2048&T[Pn]&&!(512&T[Pn]);){const F=Lh(E,T,c,d|Hn.Self,Go);if(F!==Go)return F;let j=E.parent;if(!j){const ee=T[Gt];if(ee){const Ie=ee.get(c,Go,d);if(Ie!==Go)return Ie}j=bs(T),T=T[js]}E=j}return f}(r,i,c,d,Go);if(T!==Go)return T}const E=Lh(r,i,c,d,Go);if(E!==Go)return E}return kh(i,c,d,f)}function Lh(r,i,c,d,f){const E=function lg(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(pt)?r[pt]:void 0;return"number"==typeof i?i>=0?i&Ph:co:i}(c);if("function"==typeof E){if(!eu(i,r,d))return d&Hn.Host?Nh(f,0,d):kh(i,c,d,f);try{const T=E(d);if(null!=T||d&Hn.Optional)return T;lt()}finally{Bl()}}else if("number"==typeof E){let T=null,F=Oh(r,i),j=ko,ee=d&Hn.Host?i[rs][yi]:null;for((-1===F||d&Hn.SkipSelf)&&(j=-1===F?ru(r,i):i[F+8],j!==ko&&Vu(d,!1)?(T=i[kn],F=lo(j),i=tu(j,i)):F=-1);-1!==F;){const Ie=i[kn];if(Fh(E,F,Ie.data)){const Ge=Jf(F,i,c,T,d,ee);if(Ge!==Go)return Ge}j=i[F+8],j!==ko&&Vu(d,i[kn].data[F+8]===ee)&&Fh(E,F,i)?(T=Ie,F=lo(j),i=tu(j,i)):F=-1}}return f}function Jf(r,i,c,d,f,E){const T=i[kn],F=T.data[r+8],Ie=su(F,T,c,null==d?rr(F)&&Lo:d!=T&&0!=(3&F.type),f&Hn.Host&&E===F);return null!==Ie?Mc(i,T,Ie,F):Go}function su(r,i,c,d,f){const E=r.providerIndexes,T=i.data,F=1048575&E,j=r.directiveStart,Ie=E>>20,Mt=f?F+Ie:r.directiveEnd;for(let Wt=d?F:F+Ie;Wt<Mt;Wt++){const Tn=T[Wt];if(Wt<j&&c===Tn||Wt>=j&&Tn.type===c)return Wt}if(f){const Wt=T[j];if(Wt&&Ir(Wt)&&Wt.type===c)return j}return null}function Mc(r,i,c,d){let f=r[c];const E=i.data;if(function El(r){return r instanceof ol}(f)){const T=f;T.resolving&&function ve(r,i){const c=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${r}${c}`)}(function Re(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():z(r)}(E[c]));const F=$u(T.canSeeViewProviders);T.resolving=!0;const j=T.injectImpl?dr(T.injectImpl):null;eu(r,d,Hn.Default);try{f=r[c]=T.factory(void 0,E,r,d),i.firstCreatePass&&c>=d.directiveStart&&function ui(r,i,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:E}=i.type.prototype;if(d){var T,F;const Ge=La(i);(null!==(T=c.preOrderHooks)&&void 0!==T?T:c.preOrderHooks=[]).push(r,Ge),(null!==(F=c.preOrderCheckHooks)&&void 0!==F?F:c.preOrderCheckHooks=[]).push(r,Ge)}var j,ee,Ie;f&&(null!==(j=c.preOrderHooks)&&void 0!==j?j:c.preOrderHooks=[]).push(0-r,f),E&&((null!==(ee=c.preOrderHooks)&&void 0!==ee?ee:c.preOrderHooks=[]).push(r,E),(null!==(Ie=c.preOrderCheckHooks)&&void 0!==Ie?Ie:c.preOrderCheckHooks=[]).push(r,E))}(c,E[c],i)}finally{null!==j&&dr(j),$u(F),T.resolving=!1,Bl()}}return f}function Fh(r,i,c){return!!(c[i+(r>>xd)]&1<<r)}function Vu(r,i){return!(r&Hn.Self||r&Hn.Host&&i)}class Cl{constructor(i,c){this._tNode=i,this._lView=c}get(i,c,d){return Uu(this._tNode,this._lView,i,ye(d),c)}}function co(){return new Cl(xi(),On())}function Pc(r){return En(()=>{const i=r.prototype.constructor,c=i[Xe]||Wo(i),d=Object.prototype;let f=Object.getPrototypeOf(r.prototype).constructor;for(;f&&f!==d;){const E=f[Xe]||Wo(f);if(E&&E!==c)return E;f=Object.getPrototypeOf(f)}return E=>new E})}function Wo(r){return ke(r)?()=>{const i=Wo(ce(r));return i&&i()}:Ii(r)}function bs(r){const i=r[kn],c=i.type;return 2===c?i.declTNode:1===c?r[yi]:null}function ju(r){return function bm(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const c=r.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const E=c[f];if(or(E))break;if(0===E)f+=2;else if("number"==typeof E)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(E===i)return c[f+1];f+=2}}}return null}(xi(),r)}const Ps="__annotations__",ls="__parameters__",Ul="__prop__metadata__";function Ua(r,i,c,d,f){return En(()=>{const E=uo(i);function T(...F){if(this instanceof T)return E.call(this,...F),this;const j=new T(...F);return function(Ie){return f&&f(Ie,...F),(Ie.hasOwnProperty(Ps)?Ie[Ps]:Object.defineProperty(Ie,Ps,{value:[]})[Ps]).push(j),d&&d(Ie),Ie}}return c&&(T.prototype=Object.create(c.prototype)),T.prototype.ngMetadataName=r,T.annotationCls=T,T})}function uo(r){return function(...c){if(r){const d=r(...c);for(const f in d)this[f]=d[f]}}}function ou(r,i,c){return En(()=>{const d=uo(i);function f(...E){if(this instanceof f)return d.apply(this,E),this;const T=new f(...E);return F.annotation=T,F;function F(j,ee,Ie){const Ge=j.hasOwnProperty(ls)?j[ls]:Object.defineProperty(j,ls,{value:[]})[ls];for(;Ge.length<=Ie;)Ge.push(null);return(Ge[Ie]=Ge[Ie]||[]).push(T),j}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=r,f.annotationCls=f,f})}const ho=ou("Attribute",r=>({attributeName:r,__NG_ELEMENT_ID__:()=>ju(r)}));function Ds(r){const i=fr.ng;if(i&&i.\u0275compilerFacade)return i.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const jl=Function;function Yo(r){return"function"==typeof r}function Ca(r,i){r.forEach(c=>Array.isArray(c)?Ca(c,i):i(c))}function np(r,i,c){i>=r.length?r.push(c):r.splice(i,0,c)}function ja(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Rc(r,i){const c=[];for(let d=0;d<r;d++)c.push(i);return c}function fa(r,i,c){let d=zl(r,i);return d>=0?r[1|d]=c:(d=~d,function rp(r,i,c,d){let f=r.length;if(f==i)r.push(c,d);else if(1===f)r.push(d,r[0]),r[0]=c;else{for(f--,r.push(r[f-1],r[f]);f>i;)r[f]=r[f-2],f--;r[i]=c,r[i+1]=d}}(r,d,i,c)),d}function $h(r,i){const c=zl(r,i);if(c>=0)return r[1|c]}function zl(r,i){return function uu(r,i,c){let d=0,f=r.length>>c;for(;f!==d;){const E=d+(f-d>>1),T=r[E<<c];if(i===T)return E<<c;T>i?f=E:d=E+1}return~(f<<c)}(r,i,1)}const ip=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,cg=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ug=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Uh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class dg{constructor(i){this._reflect=i||fr.Reflect}factory(i){return(...c)=>new i(...c)}_zipTypesAndAnnotations(i,c){let d;d=Rc(typeof i>"u"?c.length:i.length);for(let f=0;f<d.length;f++)d[f]=typeof i>"u"?[]:i[f]&&i[f]!=Object?[i[f]]:[],c&&null!=c[f]&&(d[f]=d[f].concat(c[f]));return d}_ownParameters(i,c){if(function fo(r){return ip.test(r)||Uh.test(r)||cg.test(r)&&!ug.test(r)}(i.toString()))return null;if(i.parameters&&i.parameters!==c.parameters)return i.parameters;const f=i.ctorParameters;if(f&&f!==c.ctorParameters){const F="function"==typeof f?f():f,j=F.map(Ie=>Ie&&Ie.type),ee=F.map(Ie=>Ie&&ys(Ie.decorators));return this._zipTypesAndAnnotations(j,ee)}const E=i.hasOwnProperty(ls)&&i[ls],T=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",i);return T||E?this._zipTypesAndAnnotations(T,E):Rc(i.length)}parameters(i){if(!Yo(i))return[];const c=Sa(i);let d=this._ownParameters(i,c);return!d&&c!==Object&&(d=this.parameters(c)),d||[]}_ownAnnotations(i,c){if(i.annotations&&i.annotations!==c.annotations){let d=i.annotations;return"function"==typeof d&&d.annotations&&(d=d.annotations),d}return i.decorators&&i.decorators!==c.decorators?ys(i.decorators):i.hasOwnProperty(Ps)?i[Ps]:null}annotations(i){if(!Yo(i))return[];const c=Sa(i),d=this._ownAnnotations(i,c)||[];return(c!==Object?this.annotations(c):[]).concat(d)}_ownPropMetadata(i,c){if(i.propMetadata&&i.propMetadata!==c.propMetadata){let d=i.propMetadata;return"function"==typeof d&&d.propMetadata&&(d=d.propMetadata),d}if(i.propDecorators&&i.propDecorators!==c.propDecorators){const d=i.propDecorators,f={};return Object.keys(d).forEach(E=>{f[E]=ys(d[E])}),f}return i.hasOwnProperty(Ul)?i[Ul]:null}propMetadata(i){if(!Yo(i))return{};const c=Sa(i),d={};if(c!==Object){const E=this.propMetadata(c);Object.keys(E).forEach(T=>{d[T]=E[T]})}const f=this._ownPropMetadata(i,c);return f&&Object.keys(f).forEach(E=>{const T=[];d.hasOwnProperty(E)&&T.push(...d[E]),T.push(...f[E]),d[E]=T}),d}ownPropMetadata(i){return Yo(i)&&this._ownPropMetadata(i,Sa(i))||{}}hasLifecycleHook(i,c){return i instanceof jl&&c in i.prototype}}function ys(r){return r?r.map(i=>new(0,i.type.annotationCls)(...i.args?i.args:[])):[]}function Sa(r){const i=r.prototype?Object.getPrototypeOf(r.prototype):null;return(i?i.constructor:null)||Object}const hg=Se(ou("Inject",r=>({token:r})),-1),du=Se(ou("Optional"),8),hu=Se(ou("Self"),2),Pd=Se(ou("SkipSelf"),4),fg=Se(ou("Host"),1);let Ji=null;function Hl(r){return zu(function ds(){return Ji=Ji||new dg}().parameters(r))}function zu(r){return r.map(i=>function Gl(r){const i={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(r)&&r.length>0)for(let c=0;c<r.length;c++){const d=r[c];if(void 0===d)continue;const f=Object.getPrototypeOf(d);if(d instanceof du||"Optional"===f.ngMetadataName)i.optional=!0;else if(d instanceof Pd||"SkipSelf"===f.ngMetadataName)i.skipSelf=!0;else if(d instanceof hu||"Self"===f.ngMetadataName)i.self=!0;else if(d instanceof fg||"Host"===f.ngMetadataName)i.host=!0;else if(d instanceof hg)i.token=d.token;else if(d instanceof ho){if(void 0===d.attributeName)throw new Ee(204,!1);i.attribute=d.attributeName}else i.token=d}else i.token=void 0===r||Array.isArray(r)&&0===r.length?null:r;return i}(i))}function qh(r){return 128==(128&r.flags)}var ql=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(ql||{});const Fo=/^>|^->|<!--|-->|--!>|<!-$/g,Yu=/(<|>)/,mu="\u200b$1\u200b";const Bo=new Map;let op=0;const Ld="__ngContext__";function vo(r,i){Yt(i)?(r[Ld]=i[at],function gg(r){Bo.set(r[at],r)}(i)):r[Ld]=i}let pa;function Qh(r,i){return pa(r,i)}function Ts(r){const i=r[Xn];return un(i)?i[Xn]:i}function xo(r){return kc(r[Ns])}function Bd(r){return kc(r[vi])}function kc(r){for(;null!==r&&!un(r);)r=r[vi];return r}function wu(r,i,c,d,f){if(null!=d){let E,T=!1;un(d)?E=d:Yt(d)&&(T=!0,d=d[qn]);const F=Xi(d);0===r&&null!==c?null==f?gr(i,c,F):Fn(i,c,F,f||null,!0):1===r&&null!==c?Fn(i,c,F,f||null,!0):2===r?function tf(r,i,c){const d=Uo(r,i);d&&function Nr(r,i,c,d){r.removeChild(i,c,d)}(r,d,i,c)}(i,F,T):3===r&&i.destroyNode(F),null!=E&&function Pm(r,i,c,d,f){const E=c[Fi];E!==Xi(c)&&wu(i,r,d,E,f);for(let F=et;F<c.length;F++){const j=c[F];sf(j[kn],j,r,i,d,E)}}(i,r,E,c,f)}}function Ka(r,i){return r.createComment(function Zh(r){return r.replace(Fo,i=>i.replace(Yu,mu))}(i))}function Zu(r,i,c){return r.createElement(i,c)}function A(r,i){const c=r[aa],d=c.indexOf(i);Qi(i),c.splice(d,1)}function v(r,i){if(r.length<=et)return;const c=et+i,d=r[c];if(d){const f=d[fe];null!==f&&f!==r&&A(f,d),i>0&&(r[c-1][vi]=d[vi]);const E=ja(r,et+i);!function lp(r,i){sf(r,i,i[_r],2,null,null),i[qn]=null,i[yi]=null}(d[kn],d);const T=E[Oe];null!==T&&T.detachView(E[kn]),d[Xn]=null,d[vi]=null,d[Pn]&=-129}return d}function b(r,i){if(!(256&i[Pn])){var c,d;const f=i[_r];null===(c=i[er])||void 0===c||c.destroy(),null===(d=i[Or])||void 0===d||d.destroy(),f.destroyNode&&sf(r,i,f,3,null,null),function _g(r){let i=r[Ns];if(!i)return R(r[kn],r);for(;i;){let c=null;if(Yt(i))c=i[Ns];else{const d=i[et];d&&(c=d)}if(!c){for(;i&&!i[vi]&&i!==r;)Yt(i)&&R(i[kn],i),i=i[Xn];null===i&&(i=r),Yt(i)&&R(i[kn],i),c=i&&i[vi]}i=c}}(i)}}function R(r,i){if(!(256&i[Pn])){i[Pn]&=-129,i[Pn]|=256,function Pe(r,i){let c;if(null!=r&&null!=(c=r.destroyHooks))for(let d=0;d<c.length;d+=2){const f=i[c[d]];if(!(f instanceof ol)){const E=c[d+1];if(Array.isArray(E))for(let T=0;T<E.length;T+=2){const F=f[E[T]],j=E[T+1];Fs(4,F,j);try{j.call(F)}finally{Fs(5,F,j)}}else{Fs(4,f,E);try{E.call(f)}finally{Fs(5,f,E)}}}}}(r,i),function J(r,i){const c=r.cleanup,d=i[ji];if(null!==c)for(let E=0;E<c.length-1;E+=2)if("string"==typeof c[E]){const T=c[E+3];T>=0?d[T]():d[-T].unsubscribe(),E+=2}else c[E].call(d[c[E+1]]);null!==d&&(i[ji]=null);const f=i[cn];if(null!==f){i[cn]=null;for(let E=0;E<f.length;E++)(0,f[E])()}}(r,i),1===i[kn].type&&i[_r].destroy();const c=i[fe];if(null!==c&&un(i[Xn])){c!==i[Xn]&&A(c,i);const d=i[Oe];null!==d&&d.detachView(r)}!function Ni(r){Bo.delete(r[at])}(i)}}function At(r,i,c){return function qt(r,i,c){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return c[qn];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:E}=r.data[d.directiveStart+f];if(E===pr.None||E===pr.Emulated)return null}return W(d,c)}}(r,i.parent,c)}function Fn(r,i,c,d,f){r.insertBefore(i,c,d,f)}function gr(r,i,c){r.appendChild(i,c)}function Pr(r,i,c,d,f){null!==d?Fn(r,i,c,d,f):gr(r,i,c)}function Uo(r,i){return r.parentNode(i)}function Eu(r,i,c){return Qu(r,i,c)}let qa,wg,bu,Qu=function Fc(r,i,c){return 40&r.type?W(r,c):null};function Mo(r,i,c,d){const f=At(r,d,i),E=i[_r],F=Eu(d.parent||i[yi],d,i);if(null!=f)if(Array.isArray(c))for(let j=0;j<c.length;j++)Pr(E,f,c[j],F,!1);else Pr(E,f,c,F,!1);void 0!==qa&&qa(E,d,i,c,f)}function Ml(r,i){if(null!==i){const c=i.type;if(3&c)return W(i,r);if(4&c)return Ud(-1,r[i.index]);if(8&c){const d=i.child;if(null!==d)return Ml(r,d);{const f=r[i.index];return un(f)?Ud(-1,f):Xi(f)}}if(32&c)return Qh(i,r)()||Xi(r[i.index]);{const d=$d(r,i);return null!==d?Array.isArray(d)?d[0]:Ml(Ts(r[rs]),d):Ml(r,i.next)}}return null}function $d(r,i){return null!==i?r[rs][yi].projection[i.projection]:null}function Ud(r,i){const c=et+r+1;if(c<i.length){const d=i[c],f=d[kn].firstChild;if(null!==f)return Ml(d,f)}return i[Fi]}function rf(r,i,c,d,f,E,T){for(;null!=c;){const F=d[c.index],j=c.type;if(T&&0===i&&(F&&vo(Xi(F),d),c.flags|=2),32!=(32&c.flags))if(8&j)rf(r,i,c.child,d,f,E,!1),wu(i,r,f,F,E);else if(32&j){const ee=Qh(c,d);let Ie;for(;Ie=ee();)wu(i,r,f,Ie,E);wu(i,r,f,F,E)}else 16&j?Vd(r,i,d,c,f,E):wu(i,r,f,F,E);c=T?c.projectionNext:c.next}}function sf(r,i,c,d,f,E){rf(c,d,r.firstChild,i,f,E,!1)}function Vd(r,i,c,d,f,E){const T=c[rs],j=T[yi].projection[d.projection];if(Array.isArray(j))for(let ee=0;ee<j.length;ee++)wu(i,r,f,j[ee],E);else{let ee=j;const Ie=T[Xn];qh(d)&&(ee.flags|=128),rf(r,i,ee,Ie,f,E,!0)}}function up(r,i,c){""===c?r.removeAttribute(i,"class"):r.setAttribute(i,"class",c)}function jd(r,i,c){const{mergedAttrs:d,classes:f,styles:E}=c;null!==d&&Rn(r,i,d),null!==f&&up(r,i,f),null!==E&&function po(r,i,c){r.setAttribute(i,"style",c)}(r,i,E)}function n_(r){wg=r}function bg(r){var i;return(null===(i=function hp(){if(void 0===bu&&(bu=null,fr.trustedTypes))try{bu=fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return bu}())||void 0===i?void 0:i.createScriptURL(r))||r}class Om{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$e})`}}function Ma(r){return r instanceof Om?r.changingThisBreaksApplicationSecurity:r}function Xl(r,i){const c=function Nm(r){return r instanceof Om&&r.getTypeName()||null}(r);if(null!=c&&c!==i){if("ResourceURL"===c&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${c} (see ${$e})`)}return c===i}const Gd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Iu=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Iu||{});function uf(r){const i=df();return i?i.sanitize(Iu.URL,r)||"":Xl(r,"URL")?Ma(r):function Wd(r){return(r=String(r)).match(Gd)?r:"unsafe:"+r}(z(r))}function Pl(r){const i=df();if(i)return bg(i.sanitize(Iu.RESOURCE_URL,r)||"");if(Xl(r,"ResourceURL"))return bg(Ma(r));throw new Ee(904,!1)}function qd(r,i,c){return function c_(r,i){return"src"===i&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===i&&("base"===r||"link"===r)?Pl:uf}(i,c)(r)}function df(){const r=On();return r&&r[ws].sanitizer}class hs{constructor(i,c){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=nn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const id=new hs("ENVIRONMENT_INITIALIZER"),Zd=new hs("INJECTOR",-1),$m=new hs("INJECTOR_DEF_TYPES");class Um{get(i,c=Sr){if(c===Sr){const d=new Error(`NullInjectorError: No provider for ${Ne(i)}!`);throw d.name="NullInjectorError",d}return c}}function Za(...r){return{\u0275providers:Xd(0,r),\u0275fromNgModule:!0}}function Xd(r,...i){const c=[],d=new Set;let f;return Ca(i,E=>{const T=E;wp(T,c,[],d)&&(f||(f=[]),f.push(T))}),void 0!==f&&Qd(f,c),c}function Qd(r,i){for(let c=0;c<r.length;c++){const{providers:f}=r[c];Cu(f,E=>{i.push(E)})}}function wp(r,i,c,d){if(!(r=ce(r)))return!1;let f=null,E=sr(r);const T=!E&&sn(r);if(E||T){if(T&&!T.standalone)return!1;f=r}else{const j=r.ngModule;if(E=sr(j),!E)return!1;f=j}const F=d.has(f);if(T){if(F)return!1;if(d.add(f),T.dependencies){const j="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const ee of j)wp(ee,i,c,d)}}else{if(!E)return!1;{if(null!=E.imports&&!F){let ee;d.add(f);try{Ca(E.imports,Ie=>{wp(Ie,i,c,d)&&(ee||(ee=[]),ee.push(Ie))})}finally{}void 0!==ee&&Qd(ee,i)}if(!F){const ee=Ii(f)||(()=>new f);i.push({provide:f,useFactory:ee,deps:Gn},{provide:$m,useValue:f,multi:!0},{provide:id,useValue:()=>ti(f),multi:!0})}const j=E.providers;null==j||F||Cu(j,Ie=>{i.push(Ie)})}}return f!==r&&void 0!==r.providers}function Cu(r,i){for(let c of r)St(c)&&(c=c.\u0275providers),Array.isArray(c)?Cu(c,i):i(c)}const Vm=ne({provide:String,useValue:ne});function Su(r){return null!==r&&"object"==typeof r&&Vm in r}function ra(r){return"function"==typeof r}const Tg=new hs("Set Injector scope."),Ag={},jm={};let zm;function Vo(){return void 0===zm&&(zm=new Um),zm}class Uc{}class hf extends Uc{get destroyed(){return this._destroyed}constructor(i,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xg(i,T=>this.processProvider(T)),this.records.set(Zd,th(void 0,this)),f.has("environment")&&this.records.set(Uc,th(void 0,this));const E=this.records.get(Tg);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get($m.multi,Gn,Hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of i)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const c=pi(this),d=dr(void 0);try{return i()}finally{pi(c),dr(d)}}get(i,c=Sr,d=Hn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(jt))return i[jt](this);d=ye(d);const f=pi(this),E=dr(void 0);try{if(!(d&Hn.SkipSelf)){let F=this.records.get(i);if(void 0===F){const j=function Gm(r){return"function"==typeof r||"object"==typeof r&&r instanceof hs}(i)&&$n(i);F=j&&this.injectableDefInScope(j)?th(sd(i),Ag):null,this.records.set(i,F)}if(null!=F)return this.hydrate(i,F)}return(d&Hn.Self?Vo():this.parent).get(i,c=d&Hn.Optional&&c===Sr?null:c)}catch(T){if("NullInjectorError"===T.name){if((T[Xr]=T[Xr]||[]).unshift(Ne(i)),f)throw T;return function Ut(r,i,c,d){const f=r[Xr];throw i[ii]&&f.unshift(i[ii]),r.message=function ln(r,i,c,d=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let f=Ne(i);if(Array.isArray(i))f=i.map(Ne).join(" -> ");else if("object"==typeof i){let E=[];for(let T in i)if(i.hasOwnProperty(T)){let F=i[T];E.push(T+":"+("string"==typeof F?JSON.stringify(F):Ne(F)))}f=`{${E.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${r.replace(mi,"\n  ")}`}("\n"+r.message,f,c,d),r.ngTokenPath=f,r[Xr]=null,r}(T,i,"R3InjectorError",this.source)}throw T}finally{dr(E),pi(f)}}resolveInjectorInitializers(){const i=pi(this),c=dr(void 0);try{const d=this.get(id.multi,Gn,Hn.Self);for(const f of d)f()}finally{pi(i),dr(c)}}toString(){const i=[],c=this.records;for(const d of c.keys())i.push(Ne(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(i){let c=ra(i=ce(i))?i:ce(i&&i.provide);const d=function oy(r){return Su(r)?th(void 0,r.useValue):th(Hm(r),Ag)}(i);if(ra(i)||!0!==i.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=th(void 0,Ag,!0),f.factory=()=>_e(f.multi),this.records.set(c,f)),c=i,f.multi.push(i)}this.records.set(c,d)}hydrate(i,c){return c.value===Ag&&(c.value=jm,c.value=c.factory()),"object"==typeof c.value&&c.value&&function ff(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(i){if(!i.providedIn)return!1;const c=ce(i.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(i){const c=this._onDestroyHooks.indexOf(i);-1!==c&&this._onDestroyHooks.splice(c,1)}}function sd(r){const i=$n(r),c=null!==i?i.factory:Ii(r);if(null!==c)return c;if(r instanceof hs)throw new Ee(204,!1);if(r instanceof Function)return function u_(r){const i=r.length;if(i>0)throw Rc(i,"?"),new Ee(204,!1);const c=function Hr(r){return r&&(r[Fr]||r[Yr])||null}(r);return null!==c?()=>c.factory(r):()=>new r}(r);throw new Ee(204,!1)}function Hm(r,i,c){let d;if(ra(r)){const f=ce(r);return Ii(f)||sd(f)}if(Su(r))d=()=>ce(r.useValue);else if(function eh(r){return!(!r||!r.useFactory)}(r))d=()=>r.useFactory(..._e(r.deps||[]));else if(function sy(r){return!(!r||!r.useExisting)}(r))d=()=>ti(ce(r.useExisting));else{const f=ce(r&&(r.useClass||r.provide));if(!function Du(r){return!!r.deps}(r))return Ii(f)||sd(f);d=()=>new f(..._e(r.deps))}return d}function th(r,i,c=!1){return{factory:r,value:i,multi:c?[]:void 0}}function xg(r,i){for(const c of r)Array.isArray(c)?xg(c,i):c&&St(c)?xg(c.\u0275providers,i):i(c)}const ay=new hs("AppId",{providedIn:"root",factory:()=>ec}),ec="ng",tc=new hs("Platform Initializer"),pf=new hs("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gf=new hs("CSP nonce",{providedIn:"root",factory:()=>{var r;return(null===(r=function dp(){if(void 0!==wg)return wg;if(typeof document<"u")return document;throw new Ee(210,!1)}().body)||void 0===r||null===(r=r.querySelector("[ngCspNonce]"))||void 0===r?void 0:r.getAttribute("ngCspNonce"))||null}});let Pg=(r,i)=>null;function cy(r,i){return Pg(r,i)}class f_{}class Rg{}class Cp{resolveComponentFactory(i){throw function uy(r){const i=Error(`No component factory found for ${Ne(r)}.`);return i.ngComponent=r,i}(i)}}let ld=(()=>{class r{}return r.NULL=new Cp,r})();function kg(){return cd(xi(),On())}function cd(r,i){return new oh(W(r,i))}let oh=(()=>{class r{constructor(c){this.nativeElement=c}}return r.__NG_ELEMENT_ID__=kg,r})();function Lg(r){return r instanceof oh?r.nativeElement:r}class Xm{}let p_=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Qm(){const r=On(),c=gn(xi().index,r);return(Yt(c)?c:r)[_r]}(),r})(),Fg=(()=>{class r{}return r.\u0275prov=nn({token:r,providedIn:"root",factory:()=>null}),r})();class Sp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const dy=new Sp("16.1.6"),Dp={};function yo(r){for(;r;){r[Pn]|=64;const i=Ts(r);if(li(r)&&!i)return r;r=i}return null}function Tp(r){return r.ngOriginalError}class Tu{constructor(){this._console=console}handleError(i){const c=this._findOriginalError(i);this._console.error("ERROR",i),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(i){let c=i&&Tp(i);for(;c&&Tp(c);)c=Tp(c);return c||null}}const fy=new hs("",{providedIn:"root",factory:()=>!1});function Pa(r){return r instanceof Function?r():r}class $g extends pc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(i){this._lView=i}onConsumerDependencyMayHaveChanged(){yo(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(i,c,d){const f=ss(this);this.trackingVersion++;try{i(c,d)}finally{ss(f)}}destroy(){this.trackingVersion++}}let Df=null;function Ug(){var r;return null!==(r=Df)&&void 0!==r||(Df=new $g),Df}function vy(r,i){var c;return null!==(c=r[i])&&void 0!==c?c:Ug()}function Vg(r,i){const c=Ug();c.hasReadASignal&&(r[i]=Df,c.lView=r,Df=new $g)}const Bi={};function jg(r){Rp(ns(),On(),To()+r,!1)}function Rp(r,i,c,d){if(!d)if(3==(3&i[Pn])){const E=r.preOrderCheckHooks;null!==E&&us(i,E,c)}else{const E=r.preOrderHooks;null!==E&&Kt(i,E,0,c)}O(c)}function Tf(r){if(!Br()&&!function si(){return ei}())throw new Ee(-203,!1)}const lh={\u0275\u0275defineInjectable:nn,\u0275\u0275defineInjector:Bn,\u0275\u0275inject:ti,\u0275\u0275invalidFactoryDep:function oi(r){throw new Ee(202,!1)},resolveForwardRef:ce};const __=ne({provide:String,useValue:ne});function yy(r){return void 0!==r.useClass}function wy(r){return void 0!==r.useFactory}const Au=Ua("Injectable",void 0,void 0,void 0,(r,i)=>function iv(r,i){let c=null,d=null;r.hasOwnProperty(Fr)||Object.defineProperty(r,Fr,{get:()=>(null===c&&(c=Ds().compileInjectable(lh,`ng:///${r.name}/\u0275prov.js`,function sv(r,i){const c=i||{providedIn:null},d={name:r.name,type:r,typeArgumentCount:0,providedIn:c.providedIn};return(yy(c)||wy(c))&&void 0!==c.deps&&(d.deps=zu(c.deps)),yy(c)?d.useClass=c.useClass:function _y(r){return __ in r}(c)?d.useValue=c.useValue:wy(c)?d.useFactory=c.useFactory:function w_(r){return void 0!==r.useExisting}(c)&&(d.useExisting=c.useExisting),d}(r,i))),c)}),r.hasOwnProperty(Xe)||Object.defineProperty(r,Xe,{get:()=>{if(null===d){const f=Ds();d=f.compileFactory(lh,`ng:///${r.name}/\u0275fac.js`,{name:r.name,type:r,typeArgumentCount:0,deps:Hl(r),target:f.FactoryTarget.Injectable})}return d},configurable:!0})}(r,i));function sa(r,i=null,c=null,d){const f=Af(r,i,c,d);return f.resolveInjectorInitializers(),f}function Af(r,i=null,c=null,d,f=new Set){const E=[c||Gn,Za(r)];return d=d||("object"==typeof r?void 0:Ne(r)),new hf(E,i||Vo(),d||null,f)}let Vc=(()=>{class r{static create(c,d){if(Array.isArray(c))return sa({name:""},d,c,"");{var f;const E=null!==(f=c.name)&&void 0!==f?f:"";return sa({name:E},c.parent,c.providers,E)}}}return r.THROW_IF_NOT_FOUND=Sr,r.NULL=new Um,r.\u0275prov=nn({token:r,providedIn:"any",factory:()=>ti(Zd)}),r.__NG_ELEMENT_ID__=-1,r})();function xu(r,i=Hn.Default){const c=On();return null===c?ti(r,i):Uu(xi(),c,ce(r),i)}function ch(){throw new Error("invalid")}function ud(r,i,c,d,f,E,T,F,j,ee,Ie){const Ge=i.blueprint.slice();return Ge[qn]=f,Ge[Pn]=140|d,(null!==ee||r&&2048&r[Pn])&&(Ge[Pn]|=2048),wi(Ge),Ge[Xn]=Ge[js]=r,Ge[Ti]=c,Ge[ws]=T||r&&r[ws],Ge[_r]=F||r&&r[_r],Ge[Is]=j||r&&r[Is]||null,Ge[yi]=E,Ge[at]=function vu(){return op++}(),Ge[_n]=Ie,Ge[Gt]=ee,Ge[rs]=2==i.type?r[rs]:Ge,Ge}function Mu(r,i,c,d,f){let E=r.data[i];if(null===E)E=function Op(r,i,c,d,f){const E=No(),T=Ur(),j=r.data[i]=function I_(r,i,c,d,f,E){let T=i?i.injectorIndex:-1,F=0;return Ba()&&(F|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:F,providerIndexes:0,value:f,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?E:E&&E.parent,c,i,d,f);return null===r.firstChild&&(r.firstChild=j),null!==E&&(T?null==E.child&&null!==j.parent&&(E.child=j):null===E.next&&(E.next=j,j.prev=E)),j}(r,i,c,d,f),function Xc(){return Qr.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=c,E.value=d,E.attrs=f;const T=function _c(){const r=Qr.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();E.injectorIndex=null===T?-1:T.injectorIndex}return mr(E,!0),E}function jc(r,i,c,d){if(0===c)return-1;const f=i.length;for(let E=0;E<c;E++)i.push(d),r.blueprint.push(d),r.data.push(null);return f}function zc(r,i,c,d,f){const E=vy(i,er),T=To(),F=2&d;try{if(O(-1),F&&i.length>nr&&Rp(r,i,nr,!1),Fs(F?2:0,f),F)E.runInContext(c,d,f);else{const ee=ss(null);try{c(d,f)}finally{ss(ee)}}}finally{F&&null===i[er]&&Vg(i,er),O(T),Fs(F?3:1,f)}}function Pu(r,i,c){if(jn(i)){const d=ss(null);try{const E=i.directiveEnd;for(let T=i.directiveStart;T<E;T++){const F=r.data[T];F.contentQueries&&F.contentQueries(1,c[T],T)}}finally{ss(d)}}}function dd(r,i,c){Ll()&&(function p0(r,i,c,d){const f=c.directiveStart,E=c.directiveEnd;rr(c)&&function hv(r,i,c){const d=W(i,r),f=zg(c);let T=16;c.signals?T=4096:c.onPush&&(T=64);const F=Lp(r,ud(r,f,null,T,d,i,null,r[ws].rendererFactory.createRenderer(d,c),null,null,null));r[i.index]=F}(i,c,r.data[f+c.componentOffset]),r.firstCreatePass||xc(c,i),vo(d,i);const T=c.initialInputs;for(let F=f;F<E;F++){const j=r.data[F],ee=Mc(i,r,F,c);vo(ee,i),null!==T&&pv(0,F-f,ee,j,0,T),Ir(j)&&(gn(c.index,i)[Ti]=Mc(i,r,F,c))}}(r,i,c,W(c,i)),64==(64&c.flags)&&dv(r,i,c))}function hd(r,i,c=W){const d=i.localNames;if(null!==d){let f=i.index+1;for(let E=0;E<d.length;E+=2){const T=d[E+1],F=-1===T?c(i,r):r[T];r[f++]=F}}}function zg(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=fd(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):i}function fd(r,i,c,d,f,E,T,F,j,ee,Ie){const Ge=nr+d,Mt=Ge+f,Wt=function E_(r,i){const c=[];for(let d=0;d<i;d++)c.push(d<r?null:Bi);return c}(Ge,Mt),Tn="function"==typeof ee?ee():ee;return Wt[kn]={type:r,blueprint:Wt,template:c,queries:null,viewQuery:F,declTNode:i,data:Wt.slice().fill(null,Ge),bindingStartIndex:Ge,expandoStartIndex:Mt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:j,consts:Tn,incompleteFirstPass:!1,ssrId:Ie}}let Hg=r=>null;function cv(r,i,c,d){for(let f in r)if(r.hasOwnProperty(f)){c=null===c?{}:c;const E=r[f];null===d?kp(c,i,f,E):d.hasOwnProperty(f)&&kp(c,i,d[f],E)}return c}function kp(r,i,c,d){r.hasOwnProperty(c)?r[c].push(i,d):r[c]=[i,d]}function Wg(r,i,c,d){if(Ll()){const f=null===d?null:{"":-1},E=function by(r,i){const c=r.directiveRegistry;let d=null,f=null;if(c)for(let T=0;T<c.length;T++){const F=c[T];if(Ui(i,F.selectors,!1))if(d||(d=[]),Ir(F))if(null!==F.findHostDirectiveDefs){const j=[];f=f||new Map,F.findHostDirectiveDefs(F,j,f),d.unshift(...j,F),Kg(r,i,j.length)}else d.unshift(F),Kg(r,i,0);else{var E;f=f||new Map,null===(E=F.findHostDirectiveDefs)||void 0===E||E.call(F,F,d,f),d.push(F)}}return null===d?null:[d,f]}(r,c);let T,F;null===E?T=F=null:[T,F]=E,null!==T&&D_(r,i,c,T,f,F),f&&function qg(r,i,c){if(i){const d=r.localNames=[];for(let f=0;f<i.length;f+=2){const E=c[i[f+1]];if(null==E)throw new Ee(-301,!1);d.push(i[f],E)}}}(c,d,f)}c.mergedAttrs=jr(c.mergedAttrs,c.attrs)}function D_(r,i,c,d,f,E){for(let Ge=0;Ge<d.length;Ge++)iu(xc(c,i),r,d[Ge].type);!function Iy(r,i,c){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+c,r.providerIndexes=i}(c,r.data.length,d.length);for(let Ge=0;Ge<d.length;Ge++){const Mt=d[Ge];Mt.providersResolver&&Mt.providersResolver(Mt)}let T=!1,F=!1,j=jc(r,i,d.length,null);for(let Ge=0;Ge<d.length;Ge++){const Mt=d[Ge];c.mergedAttrs=jr(c.mergedAttrs,Mt.hostAttrs),Cy(r,c,i,j,Mt),T_(j,Mt,f),null!==Mt.contentQueries&&(c.flags|=4),(null!==Mt.hostBindings||null!==Mt.hostAttrs||0!==Mt.hostVars)&&(c.flags|=64);const Wt=Mt.type.prototype;var ee,Ie;!T&&(Wt.ngOnChanges||Wt.ngOnInit||Wt.ngDoCheck)&&((null!==(ee=r.preOrderHooks)&&void 0!==ee?ee:r.preOrderHooks=[]).push(c.index),T=!0),F||!Wt.ngOnChanges&&!Wt.ngDoCheck||((null!==(Ie=r.preOrderCheckHooks)&&void 0!==Ie?Ie:r.preOrderCheckHooks=[]).push(c.index),F=!0),j++}!function f0(r,i,c){const f=i.directiveEnd,E=r.data,T=i.attrs,F=[];let j=null,ee=null;for(let Ie=i.directiveStart;Ie<f;Ie++){const Ge=E[Ie],Mt=c?c.get(Ge):null,Tn=Mt?Mt.outputs:null;j=cv(Ge.inputs,Ie,j,Mt?Mt.inputs:null),ee=cv(Ge.outputs,Ie,ee,Tn);const ur=null===j||null===T||Zr(i)?null:Ru(j,Ie,T);F.push(ur)}null!==j&&(j.hasOwnProperty("class")&&(i.flags|=8),j.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=F,i.inputs=j,i.outputs=ee}(r,c,E)}function dv(r,i,c){const d=c.directiveStart,f=c.directiveEnd,E=c.index,T=function Jc(){return Qr.lFrame.currentDirectiveIndex}();try{O(E);for(let F=d;F<f;F++){const j=r.data[F],ee=i[F];Mh(F),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&Yg(j,ee)}}finally{O(-1),Mh(T)}}function Yg(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Kg(r,i,c){var d;i.componentOffset=c,(null!==(d=r.components)&&void 0!==d?d:r.components=[]).push(i.index)}function T_(r,i,c){if(c){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)c[i.exportAs[d]]=r;Ir(i)&&(c[""]=r)}}function Cy(r,i,c,d,f){r.data[d]=f;const E=f.factory||(f.factory=Ii(f.type)),T=new ol(E,Ir(f),xu);r.blueprint[d]=T,c[d]=T,function Mf(r,i,c,d,f){const E=f.hostBindings;if(E){let T=r.hostBindingOpCodes;null===T&&(T=r.hostBindingOpCodes=[]);const F=~i.index;(function uv(r){let i=r.length;for(;i>0;){const c=r[--i];if("number"==typeof c&&c<0)return c}return 0})(T)!=F&&T.push(F),T.push(c,d,E)}}(r,i,d,jc(r,c,f.hostVars,Bi),f)}function sc(r,i,c,d,f,E){const T=W(r,i);!function fv(r,i,c,d,f,E,T){if(null==E)r.removeAttribute(i,f,c);else{const F=null==T?z(E):T(E,d||"",f);r.setAttribute(i,f,F,c)}}(i[_r],T,E,r.value,c,d,f)}function pv(r,i,c,d,f,E){const T=E[i];if(null!==T)for(let F=0;F<T.length;)A_(d,c,T[F++],T[F++],T[F++])}function A_(r,i,c,d,f){const E=ss(null);try{const T=r.inputTransforms;null!==T&&T.hasOwnProperty(d)&&(f=T[d].call(i,f)),null!==r.setInput?r.setInput(i,f,c,d):i[d]=f}finally{ss(E)}}function Ru(r,i,c){let d=null,f=0;for(;f<c.length;){const E=c[f];if(0!==E)if(5!==E){if("number"==typeof E)break;if(r.hasOwnProperty(E)){null===d&&(d=[]);const T=r[E];for(let F=0;F<T.length;F+=2)if(T[F]===i){d.push(E,T[F+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function gv(r,i,c,d){return[r,!0,!1,i,null,0,d,c,null,null,null]}function Pf(r,i){const c=r.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const E=c[d+1];if(-1!==E){const T=r.data[E];fi(c[d]),T.contentQueries(2,i[E],E)}}}function Lp(r,i){return r[Ns]?r[ks][vi]=i:r[Ns]=i,r[ks]=i,i}function jo(r,i,c){fi(0);const d=ss(null);try{i(r,c)}finally{ss(d)}}function qs(r){return r[ji]||(r[ji]=[])}function Xa(r){return r.cleanup||(r.cleanup=[])}function Hc(r,i){const c=r[Is],d=c?c.get(Tu,null):null;d&&d.handleError(i)}function Qa(r,i,c,d,f){for(let E=0;E<c.length;){const T=c[E++],F=c[E++];A_(r.data[T],i[T],d,F,f)}}function oc(r,i,c){const d=le(i,r);!function al(r,i,c){r.setValue(i,c)}(r[_r],d,c)}function ac(r,i){const c=gn(i,r),d=c[kn];!function uh(r,i){for(let c=i.length;c<r.blueprint.length;c++)i.push(r.blueprint[c])}(d,c);const f=c[qn];null!==f&&null===c[_n]&&(c[_n]=cy(f,c[Is])),vv(d,c,c[Ti])}function vv(r,i,c){Ss(i);try{const d=r.viewQuery;null!==d&&jo(1,d,c);const f=r.template;null!==f&&zc(r,i,f,1,c),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Pf(r,i),r.staticViewQueries&&jo(2,r.viewQuery,c);const E=r.components;null!==E&&function Oa(r,i){for(let c=0;c<i.length;c++)ac(r,i[c])}(i,E)}catch(d){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),d}finally{i[Pn]&=-5,$s()}}let dh=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ou,r.__NG_ENV_ID__=i=>i,r})();class Dy extends dh{constructor(i){super(),this._lView=i}onDestroy(i){return Bs(this._lView,i),()=>function Co(r,i){if(null===r[cn])return;const c=r[cn].indexOf(i);-1!==c&&r[cn].splice(c,1)}(this._lView,i)}}function Ou(){return new Dy(On())}let Zo=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(c,d,f){const E=typeof Zone>"u"?null:Zone.current,T=new ba(c,ee=>{this.all.has(ee)&&this.queue.set(ee,E)},f);let F;this.all.add(T),T.notify();const j=()=>{var ee;T.cleanup(),null===(ee=F)||void 0===ee||ee(),this.all.delete(T),this.queue.delete(T)};return F=null==d?void 0:d.onDestroy(j),{destroy:j}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return r.\u0275prov=nn({token:r,providedIn:"root",factory:()=>new r}),r})();function va(r,i,c){let d=c?r.styles:null,f=c?r.classes:null,E=0;if(null!==i)for(let T=0;T<i.length;T++){const F=i[T];"number"==typeof F?E=F:1==E?f=be(f,F):2==E&&(d=be(d,F+": "+i[++T]+";"))}c?r.styles=d:r.stylesWithoutHost=d,c?r.classes=f:r.classesWithoutHost=f}function Gc(r,i,c,d,f=!1){for(;null!==c;){const E=i[c.index];if(null!==E&&d.push(Xi(E)),un(E)){for(let F=et;F<E.length;F++){const j=E[F],ee=j[kn].firstChild;null!==ee&&Gc(j[kn],j,ee,d)}E[Fi]!==E[qn]&&d.push(E[Fi])}const T=c.type;if(8&T)Gc(r,i,c.child,d);else if(32&T){const F=Qh(c,i);let j;for(;j=F();)d.push(j)}else if(16&T){const F=$d(i,c);if(Array.isArray(F))d.push(...F);else{const j=Ts(i[rs]);Gc(j[kn],j,F,d,!0)}}c=f?c.projectionNext:c.next}return d}function Zg(r,i,c,d=!0){const f=i[ws].rendererFactory;f.begin&&f.begin();try{pd(r,i,r.template,c)}catch(F){throw d&&Hc(i,F),F}finally{var T;f.end&&f.end(),null===(T=i[ws].effectManager)||void 0===T||T.flush()}}function pd(r,i,c,d){var f;const E=i[Pn];if(256!=(256&E)){null===(f=i[ws].effectManager)||void 0===f||f.flush(),Ss(i);try{wi(i),function Qf(r){return Qr.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==c&&zc(r,i,c,2,d);const F=3==(3&E);if(F){const Ie=r.preOrderCheckHooks;null!==Ie&&us(i,Ie,null)}else{const Ie=r.preOrderHooks;null!==Ie&&Kt(i,Ie,0,null),Hs(i,0)}if(function Fp(r){for(let i=xo(r);null!==i;i=Bd(i)){if(!i[Mi])continue;const c=i[aa];for(let d=0;d<c.length;d++){is(c[d])}}}(i),ku(i,2),null!==r.contentQueries&&Pf(r,i),F){const Ie=r.contentCheckHooks;null!==Ie&&us(i,Ie)}else{const Ie=r.contentHooks;null!==Ie&&Kt(i,Ie,1),Hs(i,1)}!function ov(r,i){const c=r.hostBindingOpCodes;if(null===c)return;const d=vy(i,Or);try{for(let f=0;f<c.length;f++){const E=c[f];if(E<0)O(~E);else{const T=E,F=c[++f],j=c[++f];il(F,T),d.runInContext(j,2,i[T])}}}finally{null===i[Or]&&Vg(i,Or),O(-1)}}(r,i);const j=r.components;null!==j&&Ay(i,j,0);const ee=r.viewQuery;if(null!==ee&&jo(2,ee,d),F){const Ie=r.viewCheckHooks;null!==Ie&&us(i,Ie)}else{const Ie=r.viewHooks;null!==Ie&&Kt(i,Ie,2),Hs(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[Pn]&=-73,Qi(i)}finally{$s()}}}function ku(r,i){for(let c=xo(r);null!==c;c=Bd(c))for(let d=et;d<c.length;d++)Of(c[d],i)}function yv(r,i,c){Of(gn(i,r),c)}function Of(r,i){if(!function Ci(r){return 128==(128&r[Pn])}(r))return;const c=r[kn];if(80&r[Pn]&&0===i||1024&r[Pn]||2===i)pd(c,r,c.template,r[Ti]);else if(r[Os]>0){ku(r,1);const f=r[kn].components;null!==f&&Ay(r,f,1)}}function Ay(r,i,c){for(let d=0;d<i.length;d++)yv(r,i[d],c)}class gd{get rootNodes(){const i=this._lView,c=i[kn];return Gc(c,i,c.firstChild,[])}constructor(i,c){this._lView=i,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ti]}set context(i){this._lView[Ti]=i}get destroyed(){return 256==(256&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Xn];if(un(i)){const c=i[8],d=c?c.indexOf(this):-1;d>-1&&(v(i,d),ja(c,d))}this._attachedToViewContainer=!1}b(this._lView[kn],this._lView)}onDestroy(i){Bs(this._lView,i)}markForCheck(){yo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pn]&=-129}reattach(){this._lView[Pn]|=128}detectChanges(){Zg(this._lView[kn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xu(r,i){sf(r,i,i[_r],2,null,null)}(this._lView[kn],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=i}}class Bp extends gd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Zg(i[kn],i,i[Ti],!1)}checkNoChanges(){}get context(){return null}}class Xg extends ld{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const c=sn(i);return new fh(c,this.ngModule)}}function xy(r){const i=[];for(let c in r)r.hasOwnProperty(c)&&i.push({propName:r[c],templateName:c});return i}class x_{constructor(i,c){this.injector=i,this.parentInjector=c}get(i,c,d){d=ye(d);const f=this.injector.get(i,Dp,d);return f!==Dp||c===Dp?f:this.parentInjector.get(i,c,d)}}class fh extends Rg{get inputs(){const i=this.componentDef,c=i.inputTransforms,d=xy(i.inputs);if(null!==c)for(const f of d)c.hasOwnProperty(f.propName)&&(f.transform=c[f.propName]);return d}get outputs(){return xy(this.componentDef.outputs)}constructor(i,c){super(),this.componentDef=i,this.ngModule=c,this.componentType=i.type,this.selector=function Vt(r){return r.map(Rt).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!c}create(i,c,d,f){var E;let T=(f=f||this.ngModule)instanceof Uc?f:null===(E=f)||void 0===E?void 0:E.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const F=T?new x_(i,T):i,j=F.get(Xm,null);if(null===j)throw new Ee(407,!1);const Ge={rendererFactory:j,sanitizer:F.get(Fg,null),effectManager:F.get(Zo,null)},Mt=j.createRenderer(null,this.componentDef),Wt=this.componentDef.selectors[0][0]||"div",Tn=d?function Ey(r,i,c,d){const E=d.get(fy,!1)||c===pr.ShadowDom,T=r.selectRootElement(i,E);return function av(r){Hg(r)}(T),T}(Mt,d,this.componentDef.encapsulation,F):Zu(Mt,Wt,function hh(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Wt)),Kr=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Vn=fd(0,null,null,1,0,null,null,null,null,null,null),Si=ud(null,Vn,null,Kr,null,null,Ge,Mt,F,null,null);let ps,Vs;Ss(Si);try{const el=this.componentDef;let Zv,Rw=null;el.findHostDirectiveDefs?(Zv=[],Rw=new Map,el.findHostDirectiveDefs(el,Zv,Rw),Zv.push(el)):Zv=[el];const US=function Py(r,i){const c=r[kn],d=nr;return r[d]=i,Mu(c,d,2,"#host",null)}(Si,Tn),VS=function Qg(r,i,c,d,f,E,T){const F=f[kn];!function M_(r,i,c,d){for(const f of r)i.mergedAttrs=jr(i.mergedAttrs,f.hostAttrs);null!==i.mergedAttrs&&(va(i,i.mergedAttrs,!0),null!==c&&jd(d,c,i))}(d,r,i,T);let j=null;null!==i&&(j=cy(i,f[Is]));const ee=E.rendererFactory.createRenderer(i,c);let Ie=16;c.signals?Ie=4096:c.onPush&&(Ie=64);const Ge=ud(f,zg(c),null,Ie,f[r.index],r,E,ee,null,null,j);return F.firstCreatePass&&Kg(F,r,d.length-1),Lp(f,Ge),f[r.index]=Ge}(US,Tn,el,Zv,Si,Ge,Mt);Vs=nt(Vn,nr),Tn&&function R_(r,i,c,d){if(d)Rn(r,c,["ng-version",dy.full]);else{const{attrs:f,classes:E}=function q(r){const i=[],c=[];let d=1,f=2;for(;d<r.length;){let E=r[d];if("string"==typeof E)2===f?""!==E&&i.push(E,r[++d]):8===f&&c.push(E);else{if(!$i(f))break;f=E}d++}return{attrs:i,classes:c}}(i.selectors[0]);f&&Rn(r,c,f),E&&E.length>0&&up(r,c,E.join(" "))}}(Mt,el,Tn,d),void 0!==c&&function O_(r,i,c){const d=r.projection=[];for(let f=0;f<i.length;f++){const E=c[f];d.push(null!=E?Array.from(E):null)}}(Vs,this.ngContentSelectors,c),ps=function P_(r,i,c,d,f,E){const T=xi(),F=f[kn],j=W(T,f);D_(F,f,T,c,null,d);for(let Ie=0;Ie<c.length;Ie++)vo(Mc(f,F,T.directiveStart+Ie,T),f);dv(F,f,T),j&&vo(j,f);const ee=Mc(f,F,T.directiveStart+T.componentOffset,T);if(r[Ti]=f[Ti]=ee,null!==E)for(const Ie of E)Ie(ee,i);return Pu(F,T,r),ee}(VS,el,Zv,Rw,Si,[Jg]),vv(Vn,Si,null)}finally{$s()}return new My(this.componentType,ps,cd(Vs,Si),Si,Vs)}}class My extends f_{constructor(i,c,d,f,E){super(),this.location=d,this._rootLView=f,this._tNode=E,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Bp(f),this.componentType=i}setInput(i,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[i])){var E;if(null!==(E=this.previousInputValues)&&void 0!==E||(this.previousInputValues=new Map),this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),c))return;const T=this._rootLView;Qa(T[kn],T,f,i,c),this.previousInputValues.set(i,c),yo(gn(this._tNode.index,T))}}get injector(){return new Cl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Jg(){const r=xi();Dr(On()[kn],r)}function md(r){let i=function em(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),c=!0;const d=[r];for(;i;){let f;if(Ir(r))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ee(903,!1);f=i.\u0275dir}if(f){if(c){d.push(f);const T=r;T.inputs=ph(r.inputs),T.inputTransforms=ph(r.inputTransforms),T.declaredInputs=ph(r.declaredInputs),T.outputs=ph(r.outputs);const F=f.hostBindings;F&&tm(r,F);const j=f.viewQuery,ee=f.contentQueries;if(j&&_v(r,j),ee&&wv(r,ee),me(r.inputs,f.inputs),me(r.declaredInputs,f.declaredInputs),me(r.outputs,f.outputs),null!==f.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),me(T.inputTransforms,f.inputTransforms)),Ir(f)&&f.data.animation){const Ie=r.data;Ie.animation=(Ie.animation||[]).concat(f.data.animation)}}const E=f.features;if(E)for(let T=0;T<E.length;T++){const F=E[T];F&&F.ngInherit&&F(r),F===md&&(c=!1)}}i=Object.getPrototypeOf(i)}!function Up(r){let i=0,c=null;for(let d=r.length-1;d>=0;d--){const f=r[d];f.hostVars=i+=f.hostVars,f.hostAttrs=jr(f.hostAttrs,c=jr(c,f.hostAttrs))}}(d)}function ph(r){return r===br?{}:r===Gn?[]:r}function _v(r,i){const c=r.viewQuery;r.viewQuery=c?(d,f)=>{i(d,f),c(d,f)}:i}function wv(r,i){const c=r.contentQueries;r.contentQueries=c?(d,f,E)=>{i(d,f,E),c(d,f,E)}:i}function tm(r,i){const c=r.hostBindings;r.hostBindings=c?(d,f)=>{i(d,f),c(d,f)}:i}function ky(r){const i=r.inputConfig,c={};for(const d in i)if(i.hasOwnProperty(d)){const f=i[d];Array.isArray(f)&&f[2]&&(c[d]=f[2])}r.inputTransforms=c}function Vp(r){return!!Cv(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Cv(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Wc(r,i,c){return r[i]=c}function oa(r,i,c){return!Object.is(r[i],c)&&(r[i]=c,!0)}function vd(r,i,c,d){const f=oa(r,i,c);return oa(r,i+1,d)||f}function im(r,i,c,d){const f=On();return oa(f,wc(),i)&&(ns(),sc(B(),f,r,i,c,d)),im}function es(r,i,c,d,f,E){const F=vd(r,function $a(){return Qr.lFrame.bindingIndex}(),c,f);return _l(2),F?i+z(c)+d+z(f)+E:Bi}function Vy(r,i,c,d,f,E,T,F){const j=On(),ee=ns(),Ie=r+nr,Ge=ee.firstCreatePass?function j_(r,i,c,d,f,E,T,F,j){const ee=i.consts,Ie=Mu(i,r,4,T||null,ri(ee,F));Wg(i,c,Ie,ri(ee,j)),Dr(i,Ie);const Ge=Ie.tView=fd(2,Ie,d,f,E,i.directiveRegistry,i.pipeRegistry,null,i.schemas,ee,null);return null!==i.queries&&(i.queries.template(i,Ie),Ge.queries=i.queries.embeddedTView(Ie)),Ie}(Ie,ee,j,i,c,d,f,E,T):ee.data[Ie];mr(Ge,!1);const Mt=jy(ee,j,Ge,r);An()&&Mo(ee,j,Mt,Ge),vo(Mt,j),Lp(j,j[Ie]=gv(Mt,j,Mt,Ge)),Vr(Ge)&&dd(ee,j,Ge),null!=T&&hd(j,Ge,F)}let jy=function um(r,i,c,d){return vr(!0),i[_r].createComment("")};function Ov(r){return Qt(function Er(){return Qr.lFrame.contextLView}(),nr+r)}function dm(r,i,c){const d=On();return oa(d,wc(),i)&&function cl(r,i,c,d,f,E,T,F){const j=W(i,c);let Ie,ee=i.inputs;!F&&null!=ee&&(Ie=ee[d])?(Qa(r,c,Ie,d,f),rr(i)&&function xf(r,i){const c=gn(i,r);16&c[Pn]||(c[Pn]|=64)}(c,i.index)):3&i.type&&(d=function C_(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(d),f=null!=T?T(f,i.value||"",d):f,E.setProperty(j,d,f))}(ns(),B(),d,r,i,d[_r],c,!1),dm}function qc(r,i,c,d,f){const T=f?"class":"style";Qa(r,c,i.inputs[T],T,d)}function hm(r,i,c,d){const f=On(),E=ns(),T=nr+r,F=f[_r],j=E.firstCreatePass?function qp(r,i,c,d,f,E){const T=i.consts,j=Mu(i,r,2,d,ri(T,f));return Wg(i,c,j,ri(T,E)),null!==j.attrs&&va(j,j.attrs,!1),null!==j.mergedAttrs&&va(j,j.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,j),j}(T,E,f,i,c,d):E.data[T],ee=Nv(E,f,j,F,i,r);f[T]=ee;const Ie=Vr(j);return mr(j,!0),jd(F,ee,j),32!=(32&j.flags)&&An()&&Mo(E,f,ee,j),0===function vl(){return Qr.lFrame.elementDepthCount}()&&vo(ee,f),function da(){Qr.lFrame.elementDepthCount++}(),Ie&&(dd(E,f,j),Pu(E,j,f)),null!==d&&hd(f,j),hm}function Eh(){let r=xi();Ur()?xs():(r=r.parent,mr(r,!1));const i=r;(function xh(r){return Qr.skipHydrationRootTNode===r})(i)&&function Fl(){Qr.skipHydrationRootTNode=null}(),function Xf(){Qr.lFrame.elementDepthCount--}();const c=ns();return c.firstCreatePass&&(Dr(c,r),jn(r)&&c.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Ad(r){return 0!=(8&r.flags)}(i)&&qc(c,i,On(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ea(r){return 0!=(16&r.flags)}(i)&&qc(c,i,On(),i.stylesWithoutHost,!1),Eh}function $f(r,i,c,d){return hm(r,i,c,d),Eh(),$f}let Nv=(r,i,c,d,f,E)=>(vr(!0),Zu(d,f,function Ue(){return Qr.lFrame.currentNamespace}()));function Zp(r,i,c){const d=On(),f=ns(),E=r+nr,T=f.firstCreatePass?function Vf(r,i,c,d,f){const E=i.consts,T=ri(E,d),F=Mu(i,r,8,"ng-container",T);return null!==T&&va(F,T,!0),Wg(i,c,F,ri(E,f)),null!==i.queries&&i.queries.elementStart(i,F),F}(E,f,d,i,c):f.data[E];mr(T,!0);const F=wd(f,d,T,r);return d[E]=F,An()&&Mo(f,d,F,T),vo(F,d),Vr(T)&&(dd(f,d,T),Pu(f,T,d)),null!=c&&hd(d,T),Zp}function jf(){let r=xi();const i=ns();return Ur()?xs():(r=r.parent,mr(r,!1)),i.firstCreatePass&&(Dr(i,r),jn(r)&&i.queries.elementEnd(r)),jf}function bh(r,i,c){return Zp(r,i,c),jf(),bh}let wd=(r,i,c,d)=>(vr(!0),Ka(i[_r],""));function Ih(){return On()}function kv(r){return!!r&&"function"==typeof r.then}function zy(r){return!!r&&"function"==typeof r.subscribe}function zf(r,i,c,d){const f=On(),E=ns(),T=xi();return function Gy(r,i,c,d,f,E,T){const F=Vr(d),ee=r.firstCreatePass&&Xa(r),Ie=i[Ti],Ge=qs(i);let Mt=!0;if(3&d.type||T){const ur=W(d,i),Tr=T?T(ur):ur,Kr=Ge.length,Vn=T?ps=>T(Xi(ps[d.index])):d.index;let Si=null;if(!T&&F&&(Si=function fm(r,i,c,d){const f=r.cleanup;if(null!=f)for(let E=0;E<f.length-1;E+=2){const T=f[E];if(T===c&&f[E+1]===d){const F=i[ji],j=f[E+2];return F.length>j?F[j]:null}"string"==typeof T&&(E+=2)}return null}(r,i,f,d.index)),null!==Si)(Si.__ngLastListenerFn__||Si).__ngNextListenerFn__=E,Si.__ngLastListenerFn__=E,Mt=!1;else{E=Hf(d,i,Ie,E,!1);const ps=c.listen(Tr,f,E);Ge.push(E,ps),ee&&ee.push(f,Vn,Kr,Kr+1)}}else E=Hf(d,i,Ie,E,!1);const Wt=d.outputs;let Tn;if(Mt&&null!==Wt&&(Tn=Wt[f])){const ur=Tn.length;if(ur)for(let Tr=0;Tr<ur;Tr+=2){const Vs=i[Tn[Tr]][Tn[Tr+1]].subscribe(E),el=Ge.length;Ge.push(E,Vs),ee&&ee.push(f,d.index,el,-(el+1))}}}(E,f,f[_r],T,r,i,d),zf}function Lv(r,i,c,d){try{return Fs(6,i,c),!1!==c(d)}catch(f){return Hc(r,f),!1}finally{Fs(7,i,c)}}function Hf(r,i,c,d,f){return function E(T){if(T===Function)return d;yo(r.componentOffset>-1?gn(r.index,i):i);let j=Lv(i,c,d,T),ee=E.__ngNextListenerFn__;for(;ee;)j=Lv(i,c,ee,T)&&j,ee=ee.__ngNextListenerFn__;return f&&!1===j&&T.preventDefault(),j}}function Fv(r=1){return function yr(r){return(Qr.lFrame.contextLView=function Bu(r,i){for(;r>0;)i=i[js],r--;return i}(r,Qr.lFrame.contextLView))[Ti]}(r)}function Wy(r,i){let c=null;const d=function Vi(r){const i=r.attrs;if(null!=i){const c=i.indexOf(5);if(!(1&c))return i[c+1]}return null}(r);for(let f=0;f<i.length;f++){const E=i[f];if("*"!==E){if(null===d?Ui(r,E,!0):Et(d,E))return f}else c=f}return c}function Xp(r){const i=On()[rs][yi];if(!i.projection){const d=i.projection=Rc(r?r.length:1,null),f=d.slice();let E=i.child;for(;null!==E;){const T=r?Wy(E,r):0;null!==T&&(f[T]?f[T].projectionNext=E:d[T]=E,f[T]=E),E=E.next}}}function Yy(r,i=0,c){const d=On(),f=ns(),E=Mu(f,nr+r,16,null,c||null);null===E.projection&&(E.projection=i),xs(),(!d[_n]||Ba())&&32!=(32&E.flags)&&function Mm(r,i,c){Vd(i[_r],0,i,c,At(r,c,i),Eu(c.parent||i[yi],c,i))}(f,d,E)}function jv(r,i){return r<<17|i<<2}function Ch(r){return r>>17&32767}function qy(r){return 2|r}function dl(r){return(131068&r)>>2}function cc(r,i){return-131069&r|i<<2}function Zc(r){return 1|r}function u(r,i,c,d,f){const E=r[c+1],T=null===i;let F=d?Ch(E):dl(E),j=!1;for(;0!==F&&(!1===j||T);){const Ie=r[F+1];p(r[F],i)&&(j=!0,r[F+1]=d?Zc(Ie):qy(Ie)),F=d?Ch(Ie):dl(Ie)}j&&(r[c+1]=d?qy(E):Zc(E))}function p(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&zl(r,i)>=0}function vn(r,i){return function fn(r,i,c,d){const f=On(),E=ns(),T=_l(2);E.firstUpdatePass&&function pn(r,i,c,d){const f=r.data;if(null===f[c+1]){const E=f[To()],T=function wn(r,i){return i>=r.expandoStartIndex}(r,c);(function zv(r,i){return 0!=(r.flags&(i?8:16))})(E,d)&&null===i&&!T&&(i=!1),i=function Pt(r,i,c,d){const f=function Ec(r){const i=Qr.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let E=d?i.residualClasses:i.residualStyles;if(null===f)0===(d?i.classBindings:i.styleBindings)&&(c=zn(c=Un(null,r,i,c,d),i.attrs,d),E=null);else{const T=i.directiveStylingLast;if(-1===T||r[T]!==f)if(c=Un(f,r,i,c,d),null===E){let j=function rn(r,i,c){const d=c?i.classBindings:i.styleBindings;if(0!==dl(d))return r[Ch(d)]}(r,i,d);void 0!==j&&Array.isArray(j)&&(j=Un(null,r,i,j[1],d),j=zn(j,i.attrs,d),function Jn(r,i,c,d){r[Ch(c?i.classBindings:i.styleBindings)]=d}(r,i,d,j))}else E=function Yn(r,i,c){let d;const f=i.directiveEnd;for(let E=1+i.directiveStylingLast;E<f;E++)d=zn(d,r[E].hostAttrs,c);return zn(d,i.attrs,c)}(r,i,d)}return void 0!==E&&(d?i.residualClasses=E:i.residualStyles=E),c}(f,E,i,d),function t(r,i,c,d,f,E){let T=E?i.classBindings:i.styleBindings,F=Ch(T),j=dl(T);r[d]=c;let Ie,ee=!1;if(Array.isArray(c)?(Ie=c[1],(null===Ie||zl(c,Ie)>0)&&(ee=!0)):Ie=c,f)if(0!==j){const Mt=Ch(r[F+1]);r[d+1]=jv(Mt,F),0!==Mt&&(r[Mt+1]=cc(r[Mt+1],d)),r[F+1]=function _0(r,i){return 131071&r|i<<17}(r[F+1],d)}else r[d+1]=jv(F,0),0!==F&&(r[F+1]=cc(r[F+1],d)),F=d;else r[d+1]=jv(j,0),0===F?F=d:r[j+1]=cc(r[j+1],d),j=d;ee&&(r[d+1]=qy(r[d+1])),u(r,Ie,d,!0),u(r,Ie,d,!1),function o(r,i,c,d,f){const E=f?r.residualClasses:r.residualStyles;null!=E&&"string"==typeof i&&zl(E,i)>=0&&(c[d+1]=Zc(c[d+1]))}(i,Ie,r,d,E),T=jv(F,j),E?i.classBindings=T:i.styleBindings=T}(f,E,i,c,T,d)}}(E,r,T,d),i!==Bi&&oa(f,T,i)&&function cs(r,i,c,d,f,E,T,F){if(!(3&i.type))return;const j=r.data,ee=j[F+1],Ie=function Jp(r){return 1==(1&r)}(ee)?eo(j,i,c,f,dl(ee),T):void 0;Eo(Ie)||(Eo(E)||function z_(r){return 2==(2&r)}(ee)&&(E=eo(j,null,c,f,F,T)),function Xv(r,i,c,d,f){if(i)f?r.addClass(c,d):r.removeClass(c,d);else{let E=-1===d.indexOf("-")?void 0:ql.DashCase;null==f?r.removeStyle(c,d,E):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),E|=ql.Important),r.setStyle(c,d,f,E))}}(d,T,le(To(),c),f,E))}(E,E.data[To()],f,f[_r],r,f[T+1]=function Ol(r,i){return null==r||""===r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Ne(Ma(r)))),r}(i,c),d,T)}(r,i,null,!0),vn}function Un(r,i,c,d,f){let E=null;const T=c.directiveEnd;let F=c.directiveStylingLast;for(-1===F?F=c.directiveStart:F++;F<T&&(E=i[F],d=zn(d,E.hostAttrs,f),E!==r);)F++;return null!==r&&(c.directiveStylingLast=F),d}function zn(r,i,c){const d=c?1:2;let f=-1;if(null!==i)for(let E=0;E<i.length;E++){const T=i[E];"number"==typeof T?f=T:f===d&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),fa(r,T,!!c||i[++E]))}return void 0===r?null:r}function eo(r,i,c,d,f,E){const T=null===i;let F;for(;f>0;){const j=r[f],ee=Array.isArray(j),Ie=ee?j[1]:j,Ge=null===Ie;let Mt=c[f+1];Mt===Bi&&(Mt=Ge?Gn:void 0);let Wt=Ge?$h(Mt,d):Ie===d?Mt:void 0;if(ee&&!Eo(Wt)&&(Wt=$h(j,d)),Eo(Wt)&&(F=Wt,T))return F;const Tn=r[f+1];f=T?Ch(Tn):dl(Tn)}if(null!==i){let j=E?i.residualClasses:i.residualStyles;null!=j&&(F=$h(j,d))}return F}function Eo(r){return void 0!==r}function eg(r,i=""){const c=On(),d=ns(),f=r+nr,E=d.firstCreatePass?Mu(d,f,1,i,null):d.data[f],T=ym(d,c,E,i,r);c[f]=T,An()&&Mo(d,c,T,E),mr(E,!1)}let ym=(r,i,c,d,f)=>(vr(!0),function xa(r,i){return r.createText(i)}(i[_r],d));function Id(r){return Gf("",r,""),Id}function Gf(r,i,c){const d=On(),f=function Lu(r,i,c,d){return oa(r,wc(),c)?i+z(c)+d:Bi}(d,r,i,c);return f!==Bi&&oc(d,To(),f),Gf}function tg(r,i,c,d,f){const E=On(),T=es(E,r,i,c,d,f);return T!==Bi&&oc(E,To(),T),tg}const qf=void 0;var T0=["en",[["a","p"],["AM","PM"],qf],[["AM","PM"],qf,qf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qf,"{1} 'at' {0}",qf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function W0(r){const c=Math.floor(Math.abs(r)),d=r.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let sg={};function X_(r){const i=function n(r){return r.toLowerCase().replace(/_/g,"-")}(r);let c=A0(i);if(c)return c;const d=i.split("-")[0];if(c=A0(d),c)return c;if("en"===d)return T0;throw new Ee(701,!1)}function Q_(r){return X_(r)[e.PluralCase]}function A0(r){return r in sg||(sg[r]=fr.ng&&fr.ng.common&&fr.ng.common.locales&&fr.ng.common.locales[r]),sg[r]}var e=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(e||{});const m="en-US";let wt=m;function Z0(r,i,c,d,f){if(r=ce(r),Array.isArray(r))for(let E=0;E<r.length;E++)Z0(r[E],i,c,d,f);else{const E=ns(),T=On();let F=ra(r)?r:ce(r.provide),j=Hm(r);const ee=xi(),Ie=1048575&ee.providerIndexes,Ge=ee.directiveStart,Mt=ee.providerIndexes>>20;if(ra(r)||!r.multi){const Wt=new ol(j,f,xu),Tn=Q0(F,i,f?Ie:Ie+Mt,Ge);-1===Tn?(iu(xc(ee,T),E,F),X0(E,r,i.length),i.push(F),ee.directiveStart++,ee.directiveEnd++,f&&(ee.providerIndexes+=1048576),c.push(Wt),T.push(Wt)):(c[Tn]=Wt,T[Tn]=Wt)}else{const Wt=Q0(F,i,Ie+Mt,Ge),Tn=Q0(F,i,Ie,Ie+Mt),Tr=Tn>=0&&c[Tn];if(f&&!Tr||!f&&!(Wt>=0&&c[Wt])){iu(xc(ee,T),E,F);const Kr=function AI(r,i,c,d,f){const E=new ol(r,c,xu);return E.multi=[],E.index=i,E.componentProviders=0,Jw(E,f,d&&!c),E}(f?TI:DI,c.length,f,d,j);!f&&Tr&&(c[Tn].providerFactory=Kr),X0(E,r,i.length,0),i.push(F),ee.directiveStart++,ee.directiveEnd++,f&&(ee.providerIndexes+=1048576),c.push(Kr),T.push(Kr)}else X0(E,r,Wt>-1?Wt:Tn,Jw(c[f?Tn:Wt],j,!f&&d));!f&&d&&Tr&&c[Tn].componentProviders++}}}function X0(r,i,c,d){const f=ra(i),E=function $c(r){return!!r.useClass}(i);if(f||E){const j=(E?ce(i.useClass):i).prototype.ngOnDestroy;if(j){const ee=r.destroyHooks||(r.destroyHooks=[]);if(!f&&i.multi){const Ie=ee.indexOf(c);-1===Ie?ee.push(c,[d,j]):ee[Ie+1].push(d,j)}else ee.push(c,j)}}}function Jw(r,i,c){return c&&r.componentProviders++,r.multi.push(i)-1}function Q0(r,i,c,d){for(let f=c;f<d;f++)if(i[f]===r)return f;return-1}function DI(r,i,c,d){return J0(this.multi,[])}function TI(r,i,c,d){const f=this.multi;let E;if(this.providerFactory){const T=this.providerFactory.componentProviders,F=Mc(c,c[kn],this.providerFactory.index,d);E=F.slice(0,T),J0(f,E);for(let j=T;j<F.length;j++)E.push(F[j])}else E=[],J0(f,E);return E}function J0(r,i){for(let c=0;c<r.length;c++)i.push((0,r[c])());return i}function eE(r,i=[]){return c=>{c.providersResolver=(d,f)=>function SI(r,i,c){const d=ns();if(d.firstCreatePass){const f=Ir(r);Z0(c,d.data,d.blueprint,f,!0),Z0(i,d.data,d.blueprint,f,!1)}}(d,f?f(r):r,i)}}class Qy{}class tE{}function xI(r,i){return new ew(r,null!=i?i:null,[])}class ew extends Qy{constructor(i,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xg(this);const f=wr(i);this._bootstrapComponents=Pa(f.bootstrap),this._r3Injector=Af(i,c,[{provide:Qy,useValue:this},{provide:ld,useValue:this.componentFactoryResolver},...d],Ne(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class tw extends tE{constructor(i){super(),this.moduleType=i}create(i){return new ew(this.moduleType,i,[])}}class nE extends Qy{constructor(i){super(),this.componentFactoryResolver=new Xg(this),this.instance=null;const c=new hf([...i.providers,{provide:Qy,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],i.parent||Vo(),i.debugName,new Set(["environment"]));this.injector=c,i.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function rE(r,i,c=null){return new nE({providers:r,parent:i,debugName:c,runEnvironmentInitializers:!0}).injector}let PI=(()=>{class r{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=Xd(0,c.type),f=d.length>0?rE([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,f)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=nn({token:r,providedIn:"environment",factory:()=>new r(ti(Uc))}),r})();function iE(r){r.getStandaloneInjector=i=>i.get(PI).getOrCreateStandaloneInjector(r)}function dE(r,i,c){const d=qi()+r,f=On();return f[d]===Bi?Wc(f,d,c?i.call(c):i()):function jp(r,i){return r[i]}(f,d)}function hE(r,i,c,d){return fE(On(),qi(),r,i,c,d)}function r0(r,i){const c=r[i];return c===Bi?void 0:c}function fE(r,i,c,d,f,E){const T=i+c;return oa(r,T,f)?Wc(r,T+1,E?d.call(E,f):d(f)):r0(r,T+1)}function gE(r,i,c,d,f,E,T,F){const j=i+c;return function kf(r,i,c,d,f){const E=vd(r,i,c,d);return oa(r,i+2,f)||E}(r,j,f,E,T)?Wc(r,j+3,F?d.call(F,f,E,T):d(f,E,T)):r0(r,j+3)}function yE(r,i){const c=ns();let d;const f=r+nr;var E;c.firstCreatePass?(d=function KI(r,i){if(i)for(let c=i.length-1;c>=0;c--){const d=i[c];if(r===d.name)return d}}(i,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(null!==(E=c.destroyHooks)&&void 0!==E?E:c.destroyHooks=[]).push(f,d.onDestroy)):d=c.data[f];const T=d.factory||(d.factory=Ii(d.type)),F=dr(xu);try{const j=$u(!1),ee=T();return $u(j),function Kc(r,i,c,d){c>=r.data.length&&(r.data[c]=null,r.blueprint[c]=null),i[c]=d}(c,On(),f,ee),ee}finally{dr(F)}}function _E(r,i,c){const d=r+nr,f=On(),E=Qt(f,d);return s0(f,d)?fE(f,qi(),i,E.transform,c,E):E.transform(c)}function wE(r,i,c,d){const f=r+nr,E=On(),T=Qt(E,f);return s0(E,f)?function pE(r,i,c,d,f,E,T){const F=i+c;return vd(r,F,f,E)?Wc(r,F+2,T?d.call(T,f,E):d(f,E)):r0(r,F+2)}(E,qi(),i,T.transform,c,d,T):T.transform(c,d)}function EE(r,i,c,d,f){const E=r+nr,T=On(),F=Qt(T,E);return s0(T,E)?gE(T,qi(),i,F.transform,c,d,f,F):F.transform(c,d,f)}function s0(r,i){return r[kn].data[i].pure}function rw(r){return i=>{setTimeout(r,void 0,i)}}const Zf=class XI extends y.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,c,d){let f=i,E=c||(()=>null),T=d;if(i&&"object"==typeof i){var F,j,ee;const Ge=i;f=null===(F=Ge.next)||void 0===F?void 0:F.bind(Ge),E=null===(j=Ge.error)||void 0===j?void 0:j.bind(Ge),T=null===(ee=Ge.complete)||void 0===ee?void 0:ee.bind(Ge)}this.__isAsync&&(E=rw(E),f&&(f=rw(f)),T&&(T=rw(T)));const Ie=super.subscribe({next:f,error:E,complete:T});return i instanceof _.w0&&i.add(Ie),Ie}};function QI(){return this._results[Symbol.iterator]()}class iw{get changes(){return this._changes||(this._changes=new Zf)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=iw.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=QI)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,c){return this._results.reduce(i,c)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,c){const d=this;d.dirty=!1;const f=function Rs(r){return r.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Ia(r,i,c){if(r.length!==i.length)return!1;for(let d=0;d<r.length;d++){let f=r[d],E=i[d];if(c&&(f=c(f),E=c(E)),E!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let o0=(()=>{class r{}return r.__NG_ELEMENT_ID__=tC,r})();const JI=o0,eC=class extends JI{constructor(i,c,d){super(),this._declarationLView=i,this._declarationTContainer=c,this.elementRef=d}get ssrId(){var i;return(null===(i=this._declarationTContainer.tView)||void 0===i?void 0:i.ssrId)||null}createEmbeddedView(i,c){return this.createEmbeddedViewImpl(i,c,null)}createEmbeddedViewImpl(i,c,d){const T=this._declarationTContainer.tView,F=ud(this._declarationLView,T,i,4096&this._declarationLView[Pn]?4096:16,null,T.declTNode,null,null,null,c||null,d||null);F[fe]=this._declarationLView[this._declarationTContainer.index];const ee=this._declarationLView[Oe];return null!==ee&&(F[Oe]=ee.createEmbeddedView(T)),vv(T,F,i),new gd(F)}};function tC(){return M0(xi(),On())}function M0(r,i){return 4&r.type?new eC(i,r,cd(r,i)):null}let P0=(()=>{class r{}return r.__NG_ELEMENT_ID__=lC,r})();function lC(){return TE(xi(),On())}const cC=P0,SE=class extends cC{constructor(i,c,d){super(),this._lContainer=i,this._hostTNode=c,this._hostLView=d}get element(){return cd(this._hostTNode,this._hostLView)}get injector(){return new Cl(this._hostTNode,this._hostLView)}get parentInjector(){const i=ru(this._hostTNode,this._hostLView);if(Tc(i)){const c=tu(i,this._hostLView),d=lo(i);return new Cl(c[kn].data[d+8],c)}return new Cl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const c=DE(this._lContainer);return null!==c&&c[i]||null}get length(){return this._lContainer.length-et}createEmbeddedView(i,c,d){let f,E;"number"==typeof d?f=d:null!=d&&(f=d.index,E=d.injector);const F=i.createEmbeddedViewImpl(c||{},E,null);return this.insertImpl(F,f,false),F}createComponent(i,c,d,f,E){var T,j;const ee=i&&!Yo(i);let Ie;if(ee)Ie=c;else{const Vn=c||{};Ie=Vn.index,d=Vn.injector,f=Vn.projectableNodes,E=Vn.environmentInjector||Vn.ngModuleRef}const Ge=ee?i:new fh(sn(i)),Mt=d||this.parentInjector;if(!E&&null==Ge.ngModule){const Si=(ee?Mt:this.parentInjector).get(Uc,null);Si&&(E=Si)}const Wt=sn(null!==(T=Ge.componentType)&&void 0!==T?T:{}),Tn=(null==Wt?void 0:Wt.id,null),ur=null!==(j=null==Tn?void 0:Tn.firstChild)&&void 0!==j?j:null,Tr=Ge.create(Mt,f,ur,E),Kr=!!Tn&&!qh(this._hostTNode);return this.insertImpl(Tr.hostView,Ie,Kr),Tr}insert(i,c){return this.insertImpl(i,c,!1)}insertImpl(i,c,d){const f=i._lView,E=f[kn];if(function ci(r){return un(r[Xn])}(f)){const j=this.indexOf(i);if(-1!==j)this.detach(j);else{const ee=f[Xn],Ie=new SE(ee,ee[yi],ee[Xn]);Ie.detach(Ie.indexOf(i))}}const T=this._adjustIndex(c),F=this._lContainer;if(function ef(r,i,c,d){const f=et+d,E=c.length;d>0&&(c[f-1][vi]=i),d<E-et?(i[vi]=c[f],np(c,et+d,i)):(c.push(i),i[vi]=null),i[Xn]=c;const T=i[fe];null!==T&&c!==T&&function cp(r,i){const c=r[aa];i[rs]!==i[Xn][Xn][rs]&&(r[Mi]=!0),null===c?r[aa]=[i]:c.push(i)}(T,i);const F=i[Oe];null!==F&&F.insertView(r),i[Pn]|=128}(E,f,F,T),!d){const j=Ud(T,F),ee=f[_r],Ie=Uo(ee,F[Fi]);null!==Ie&&function Jh(r,i,c,d,f,E){d[qn]=f,d[yi]=i,sf(r,d,c,1,f,E)}(E,F[yi],ee,f,Ie,j)}return i.attachToViewContainerRef(),np(ow(F),T,i),i}move(i,c){return this.insert(i,c)}indexOf(i){const c=DE(this._lContainer);return null!==c?c.indexOf(i):-1}remove(i){const c=this._adjustIndex(i,-1),d=v(this._lContainer,c);d&&(ja(ow(this._lContainer),c),b(d[kn],d))}detach(i){const c=this._adjustIndex(i,-1),d=v(this._lContainer,c);return d&&null!=ja(ow(this._lContainer),c)?new gd(d):null}_adjustIndex(i,c=0){return null==i?this.length+c:i}};function DE(r){return r[8]}function ow(r){return r[8]||(r[8]=[])}function TE(r,i){let c;const d=i[r.index];return un(d)?c=d:(c=gv(d,i,null,r),i[r.index]=c,Lp(i,c)),AE(c,i,r,d),new SE(c,r,i)}let AE=function xE(r,i,c,d){if(r[Fi])return;let f;f=8&c.type?Xi(d):function uC(r,i){const c=r[_r],d=c.createComment(""),f=W(i,r);return Fn(c,Uo(c,f),d,function Lc(r,i){return r.nextSibling(i)}(c,f),!1),d}(i,c),r[Fi]=f};class aw{constructor(i){this.queryList=i,this.matches=null}clone(){return new aw(this.queryList)}setDirty(){this.queryList.setDirty()}}class lw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const c=i.queries;if(null!==c){const d=null!==i.contentQueries?i.contentQueries[0]:c.length,f=[];for(let E=0;E<d;E++){const T=c.getByIndex(E);f.push(this.queries[T.indexInDeclarationView].clone())}return new lw(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let c=0;c<this.queries.length;c++)null!==BE(i,c).matches&&this.queries[c].setDirty()}}class ME{constructor(i,c,d=null){this.predicate=i,this.flags=c,this.read=d}}class cw{constructor(i=[]){this.queries=i}elementStart(i,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,c)}elementEnd(i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(i)}embeddedTView(i){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,E=this.getByIndex(d).embeddedTView(i,f);E&&(E.indexInDeclarationView=d,null!==c?c.push(E):c=[E])}return null!==c?new cw(c):null}template(i,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,c)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class uw{constructor(i,c=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(i,c){this.isApplyingToNode(c)&&this.matchTNode(i,c)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,c){this.elementStart(i,c)}embeddedTView(i,c){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,c),new uw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const E=d[f];this.matchTNodeWithReadOption(i,c,fC(c,E)),this.matchTNodeWithReadOption(i,c,su(c,i,E,!1,!1))}else d===o0?4&c.type&&this.matchTNodeWithReadOption(i,c,-1):this.matchTNodeWithReadOption(i,c,su(c,i,d,!1,!1))}matchTNodeWithReadOption(i,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===oh||f===P0||f===o0&&4&c.type)this.addMatch(c.index,-2);else{const E=su(c,i,f,!1,!1);null!==E&&this.addMatch(c.index,E)}else this.addMatch(c.index,d)}}addMatch(i,c){null===this.matches?this.matches=[i,c]:this.matches.push(i,c)}}function fC(r,i){const c=r.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===i)return c[d+1];return null}function gC(r,i,c,d){return-1===c?function pC(r,i){return 11&r.type?cd(r,i):4&r.type?M0(r,i):null}(i,r):-2===c?function mC(r,i,c){return c===oh?cd(i,r):c===o0?M0(i,r):c===P0?TE(i,r):void 0}(r,i,d):Mc(r,r[kn],c,i)}function PE(r,i,c,d){const f=i[Oe].queries[d];if(null===f.matches){const E=r.data,T=c.matches,F=[];for(let j=0;j<T.length;j+=2){const ee=T[j];F.push(ee<0?null:gC(i,E[ee],T[j+1],c.metadata.read))}f.matches=F}return f.matches}function dw(r,i,c,d){const f=r.queries.getByIndex(c),E=f.matches;if(null!==E){const T=PE(r,i,f,c);for(let F=0;F<E.length;F+=2){const j=E[F];if(j>0)d.push(T[F/2]);else{const ee=E[F+1],Ie=i[-j];for(let Ge=et;Ge<Ie.length;Ge++){const Mt=Ie[Ge];Mt[fe]===Mt[Xn]&&dw(Mt[kn],Mt,ee,d)}if(null!==Ie[aa]){const Ge=Ie[aa];for(let Mt=0;Mt<Ge.length;Mt++){const Wt=Ge[Mt];dw(Wt[kn],Wt,ee,d)}}}}}return d}function RE(r){const i=On(),c=ns(),d=bc();fi(d+1);const f=BE(c,d);if(r.dirty&&function Cr(r){return 4==(4&r[Pn])}(i)===(2==(2&f.metadata.flags))){if(null===f.matches)r.reset([]);else{const E=f.crossesNgTemplate?dw(c,i,d,[]):PE(c,i,f,d);r.reset(E,Lg),r.notifyOnChanges()}return!0}return!1}function OE(r,i,c){const d=ns();d.firstCreatePass&&(FE(d,new ME(r,i,c),-1),2==(2&i)&&(d.staticViewQueries=!0)),LE(d,On(),i)}function NE(r,i,c,d){const f=ns();if(f.firstCreatePass){const E=xi();FE(f,new ME(i,c,d),E.index),function yC(r,i){const c=r.contentQueries||(r.contentQueries=[]);i!==(c.length?c[c.length-1]:-1)&&c.push(r.queries.length-1,i)}(f,r),2==(2&c)&&(f.staticContentQueries=!0)}LE(f,On(),c)}function kE(){return function vC(r,i){return r[Oe].queries[i].queryList}(On(),bc())}function LE(r,i,c){const d=new iw(4==(4&c));(function b_(r,i,c,d){const f=qs(i);f.push(c),r.firstCreatePass&&Xa(r).push(d,f.length-1)})(r,i,d,d.destroy),null===i[Oe]&&(i[Oe]=new lw),i[Oe].queries.push(new aw(d))}function FE(r,i,c){null===r.queries&&(r.queries=new cw),r.queries.track(new uw(i,c))}function BE(r,i){return r.queries.getByIndex(i)}function $E(r,i){return M0(r,i)}function hw(r){return!!wr(r)}const nb=new hs("Application Initializer");let vw=(()=>{class r{constructor(){var c;this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=null!==(c=st(nb,{optional:!0}))&&void 0!==c?c:[]}runInitializers(){if(this.initialized)return;const c=[];for(const f of this.appInits){const E=f();if(kv(E))c.push(E);else if(zy(E)){const T=new Promise((F,j)=>{E.subscribe({complete:F,error:j})});c.push(T)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=nn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rb=(()=>{class r{log(c){console.log(c)}warn(c){console.warn(c)}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=nn({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const O0=new hs("LocaleId",{providedIn:"root",factory:()=>st(O0,Hn.Optional|Hn.SkipSelf)||function $C(){return typeof $localize<"u"&&$localize.locale||m}()}),UC=new hs("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ib=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=nn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class jC{constructor(i,c){this.ngModuleFactory=i,this.componentFactories=c}}let zC=(()=>{class r{compileModuleSync(c){return new tw(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),E=Pa(wr(c).declarations).reduce((T,F)=>{const j=sn(F);return j&&T.push(new fh(j)),T},[]);return new jC(d,E)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=nn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ab(...r){}class hc{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zf(!1),this.onMicrotaskEmpty=new Zf(!1),this.onStable=new Zf(!1),this.onError=new Zf(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function WC(){const r="function"==typeof fr.requestAnimationFrame;let i=fr[r?"requestAnimationFrame":"setTimeout"],c=fr[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&c){const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function qC(r){const i=()=>{!function KC(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(fr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,_w(r),r.isCheckStableRunning=!0,yw(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),_w(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,E,T,F)=>{try{return lb(r),c.invokeTask(f,E,T,F)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||r.shouldCoalesceRunChangeDetection)&&i(),cb(r)}},onInvoke:(c,d,f,E,T,F,j)=>{try{return lb(r),c.invoke(f,E,T,F,j)}finally{r.shouldCoalesceRunChangeDetection&&i(),cb(r)}},onHasTask:(c,d,f,E)=>{c.hasTask(f,E),d===f&&("microTask"==E.change?(r._hasPendingMicrotasks=E.microTask,_w(r),yw(r)):"macroTask"==E.change&&(r.hasPendingMacrotasks=E.macroTask))},onHandleError:(c,d,f,E)=>(c.handleError(f,E),r.runOutsideAngular(()=>r.onError.emit(E)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hc.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(hc.isInAngularZone())throw new Ee(909,!1)}run(i,c,d){return this._inner.run(i,c,d)}runTask(i,c,d,f){const E=this._inner,T=E.scheduleEventTask("NgZoneEvent: "+f,i,YC,ab,ab);try{return E.runTask(T,c,d)}finally{E.cancelTask(T)}}runGuarded(i,c,d){return this._inner.runGuarded(i,c,d)}runOutsideAngular(i){return this._outer.run(i)}}const YC={};function yw(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function _w(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function lb(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function cb(r){r._nesting--,yw(r)}class ZC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zf,this.onMicrotaskEmpty=new Zf,this.onStable=new Zf,this.onError=new Zf}run(i,c,d){return i.apply(c,d)}runGuarded(i,c,d){return i.apply(c,d)}runOutsideAngular(i){return i()}runTask(i,c,d,f){return i.apply(c,d)}}const ub=new hs("",{providedIn:"root",factory:db});function db(){const r=st(hc);let i=!0;const c=new se.y(f=>{i=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{f.next(i),f.complete()})}),d=new se.y(f=>{let E;r.runOutsideAngular(()=>{E=r.onStable.subscribe(()=>{hc.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(i=!0,f.next(!0))})})});const T=r.onUnstable.subscribe(()=>{hc.assertInAngularZone(),i&&(i=!1,r.runOutsideAngular(()=>{f.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});return(0,xe.T)(c,d.pipe((0,G.B)()))}const hb=new hs(""),fb=new hs("");let ww,XC=(()=>{class r{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ww||(function QC(r){ww=r}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hc.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let E=-1;d&&d>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==E),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:E,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return r.\u0275fac=function(c){return new(c||r)(ti(hc),ti(pb),ti(fb))},r.\u0275prov=nn({token:r,factory:r.\u0275fac}),r})(),pb=(()=>{class r{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){var f,E;return null!==(f=null===(E=ww)||void 0===E?void 0:E.findTestabilityInTree(this,c,d))&&void 0!==f?f:null}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=nn({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),wm=null;const gb=new hs("AllowMultipleToken"),Ew=new hs("PlatformDestroyListeners"),bw=new hs("appBootstrapListener");class tS{constructor(i,c){this.name=i,this.token=c}}function yb(r,i,c=[]){const d=`Platform: ${i}`,f=new hs(d);return(E=[])=>{let T=Iw();if(!T||T.injector.get(gb,!1)){const F=[...c,...E,{provide:f,useValue:!0}];r?r(F):function nS(r){if(wm&&!wm.get(gb,!1))throw new Ee(400,!1);(function mb(){!function Cd(r){Ea=r}(()=>{throw new Ee(600,!1)})})(),wm=r;const i=r.get(wb);(function vb(r){const i=r.get(tc,null);null==i||i.forEach(c=>c())})(r)}(function _b(r=[],i){return Vc.create({name:i,providers:[{provide:Tg,useValue:"platform"},{provide:Ew,useValue:new Set([()=>wm=null])},...r]})}(F,d))}return function iS(r){const i=Iw();if(!i)throw new Ee(401,!1);return i}()}}function Iw(){var r,i;return null!==(r=null===(i=wm)||void 0===i?void 0:i.get(wb))&&void 0!==r?r:null}let wb=(()=>{class r{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function sS(r="zone.js",i){return"noop"===r?new ZC:"zone.js"===r?new hc(i):r}(null==d?void 0:d.ngZone,function Eb(r){var i,c;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(i=null==r?void 0:r.eventCoalescing)&&void 0!==i&&i,shouldCoalesceRunChangeDetection:null!==(c=null==r?void 0:r.runCoalescing)&&void 0!==c&&c}}({eventCoalescing:null==d?void 0:d.ngZoneEventCoalescing,runCoalescing:null==d?void 0:d.ngZoneRunCoalescing}));return f.run(()=>{const E=function MI(r,i,c){return new ew(r,i,c)}(c.moduleType,this.injector,function Db(r){return[{provide:hc,useFactory:r},{provide:id,multi:!0,useFactory:()=>{const i=st(aS,{optional:!0});return()=>i.initialize()}},{provide:Sb,useFactory:oS},{provide:ub,useFactory:db}]}(()=>f)),T=E.injector.get(Tu,null);return f.runOutsideAngular(()=>{const F=f.onError.subscribe({next:j=>{T.handleError(j)}});E.onDestroy(()=>{N0(this._modules,E),F.unsubscribe()})}),function bb(r,i,c){try{const d=c();return kv(d)?d.catch(f=>{throw i.runOutsideAngular(()=>r.handleError(f)),f}):d}catch(d){throw i.runOutsideAngular(()=>r.handleError(d)),d}}(T,f,()=>{const F=E.injector.get(vw);return F.runInitializers(),F.donePromise.then(()=>(function en(r){Xt(r,"Expected localeId to be defined"),"string"==typeof r&&(wt=r.toLowerCase().replace(/_/g,"-"))}(E.injector.get(O0,m)||m),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const f=Ib({},d);return function JC(r,i,c){const d=new tw(c);return Promise.resolve(d)}(0,0,c).then(E=>this.bootstrapModuleFactory(E,f))}_moduleDoBootstrap(c){const d=c.injector.get(t_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ee(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Ew,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(c){return new(c||r)(ti(Vc))},r.\u0275prov=nn({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function Ib(r,i){return Array.isArray(i)?i.reduce(Ib,r):{...r,...i}}let t_=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=st(Sb),this.zoneIsStable=st(ub),this.componentTypes=[],this.components=[],this.isStable=st(ib).hasPendingTasks.pipe((0,Ve.w)(c=>c?(0,ze.of)(!1):this.zoneIsStable),(0,Ce.x)(),(0,G.B)()),this._injector=st(Uc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof Rg;if(!this._injector.get(vw).done)throw!f&&lr(c),new Ee(405,!1);let T;T=f?c:this._injector.get(ld).resolveComponentFactory(c),this.componentTypes.push(T.componentType);const F=function eS(r){return r.isBoundToModule}(T)?void 0:this._injector.get(Qy),ee=T.create(Vc.NULL,[],d||T.selector,F),Ie=ee.location.nativeElement,Ge=ee.injector.get(hb,null);return null==Ge||Ge.registerApplication(Ie),ee.onDestroy(()=>{this.detachView(ee.hostView),N0(this.components,ee),null==Ge||Ge.unregisterApplication(Ie)}),this._loadComponent(ee),ee}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;N0(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(bw,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>N0(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ee(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=nn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function N0(r,i){const c=r.indexOf(i);c>-1&&r.splice(c,1)}const Sb=new hs("",{providedIn:"root",factory:()=>st(Tu).handleError.bind(void 0)});function oS(){const r=st(hc),i=st(Tu);return c=>r.runOutsideAngular(()=>i.handleError(c))}let aS=(()=>{class r{constructor(){this.zone=st(hc),this.applicationRef=st(t_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var c;null===(c=this._onMicrotaskEmptySubscription)||void 0===c||c.unsubscribe()}}return r.\u0275fac=function(c){return new(c||r)},r.\u0275prov=nn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function cS(){return!1}function uS(){}let dS=(()=>{class r{}return r.__NG_ELEMENT_ID__=hS,r})();function hS(r){return function fS(r,i,c){if(rr(r)&&!c){const d=gn(r.index,i);return new gd(d,d)}return 47&r.type?new gd(i[rs],i):null}(xi(),On(),16==(16&r))}class Mb{constructor(){}supports(i){return Vp(i)}create(i){return new _S(i)}}const yS=(r,i)=>i;class _S{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||yS}forEachItem(i){let c;for(c=this._itHead;null!==c;c=c._next)i(c)}forEachOperation(i){let c=this._itHead,d=this._removalsHead,f=0,E=null;for(;c||d;){const T=!d||c&&c.currentIndex<Rb(d,f,E)?c:d,F=Rb(T,f,E),j=T.currentIndex;if(T===d)f--,d=d._nextRemoved;else if(c=c._next,null==T.previousIndex)f++;else{E||(E=[]);const ee=F-f,Ie=j-f;if(ee!=Ie){for(let Mt=0;Mt<ee;Mt++){const Wt=Mt<E.length?E[Mt]:E[Mt]=0,Tn=Wt+Mt;Ie<=Tn&&Tn<ee&&(E[Mt]=Wt+1)}E[T.previousIndex]=Ie-ee}}F!==j&&i(T,F,j)}}forEachPreviousItem(i){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)i(c)}forEachAddedItem(i){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)i(c)}forEachMovedItem(i){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)i(c)}forEachRemovedItem(i){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)i(c)}forEachIdentityChange(i){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)i(c)}diff(i){if(null==i&&(i=[]),!Vp(i))throw new Ee(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,E,T,c=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let F=0;F<this.length;F++)E=i[F],T=this._trackByFn(F,E),null!==c&&Object.is(c.trackById,T)?(d&&(c=this._verifyReinsertion(c,E,T,F)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,T,F),d=!0),c=c._next}else f=0,function Ly(r,i){if(Array.isArray(r))for(let c=0;c<r.length;c++)i(r[c]);else{const c=r[Symbol.iterator]();let d;for(;!(d=c.next()).done;)i(d.value)}}(i,F=>{T=this._trackByFn(f,F),null!==c&&Object.is(c.trackById,T)?(d&&(c=this._verifyReinsertion(c,F,T,f)),Object.is(c.item,F)||this._addIdentityChange(c,F)):(c=this._mismatch(c,F,T,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,c,d,f){let E;return null===i?E=this._itTail:(E=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,c)||this._addIdentityChange(i,c),this._reinsertAfter(i,E,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(i.item,c)||this._addIdentityChange(i,c),this._moveAfter(i,E,f)):i=this._addAfter(new wS(c,d),E,f),i}_verifyReinsertion(i,c,d,f){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==E?i=this._reinsertAfter(E,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const c=i._next;this._addToRemovals(this._unlink(i)),i=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,E=i._nextRemoved;return null===f?this._removalsHead=E:f._nextRemoved=E,null===E?this._removalsTail=f:E._prevRemoved=f,this._insertAfter(i,c,d),this._addToMoves(i,d),i}_moveAfter(i,c,d){return this._unlink(i),this._insertAfter(i,c,d),this._addToMoves(i,d),i}_addAfter(i,c,d){return this._insertAfter(i,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,c,d){const f=null===c?this._itHead:c._next;return i._next=f,i._prev=c,null===f?this._itTail=i:f._prev=i,null===c?this._itHead=i:c._next=i,null===this._linkedRecords&&(this._linkedRecords=new Pb),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const c=i._prev,d=i._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,i}_addToMoves(i,c){return i.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pb),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,c){return i.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class wS{constructor(i,c){this.item=i,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ES{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const c=i._prevDup,d=i._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Pb{constructor(){this.map=new Map}put(i){const c=i.trackById;let d=this.map.get(c);d||(d=new ES,this.map.set(c,d)),d.add(i)}get(i,c){const f=this.map.get(i);return f?f.get(i,c):null}remove(i){const c=i.trackById;return this.map.get(c).remove(i)&&this.map.delete(c),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rb(r,i,c){const d=r.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+i+f}class Ob{constructor(){}supports(i){return i instanceof Map||Cv(i)}create(){return new bS}}class bS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let c;for(c=this._mapHead;null!==c;c=c._next)i(c)}forEachPreviousItem(i){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)i(c)}forEachChangedItem(i){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)i(c)}forEachAddedItem(i){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)i(c)}forEachRemovedItem(i){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)i(c)}diff(i){if(i){if(!(i instanceof Map||Cv(i)))throw new Ee(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const E=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,E)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,c){if(i){const d=i._prev;return c._next=i,c._prev=d,i._prev=c,d&&(d._next=c),i===this._mapHead&&(this._mapHead=c),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(i,c){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,c);const E=f._prev,T=f._next;return E&&(E._next=T),T&&(T._prev=E),f._next=null,f._prev=null,f}const d=new IS(i);return this._records.set(i,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,c){Object.is(c,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=c,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,c){i instanceof Map?i.forEach(c):Object.keys(i).forEach(d=>c(i[d],d))}}class IS{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nb(){return new Aw([new Mb])}let Aw=(()=>{class r{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new r(c)}static extend(c){return{provide:r,useFactory:d=>r.create(c,d||Nb()),deps:[[r,new Pd,new du]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ee(901,!1)}}return r.\u0275prov=nn({token:r,providedIn:"root",factory:Nb}),r})();function kb(){return new xw([new Ob])}let xw=(()=>{class r{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new r(c)}static extend(c){return{provide:r,useFactory:d=>r.create(c,d||kb()),deps:[[r,new Pd,new du]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ee(901,!1)}}return r.\u0275prov=nn({token:r,providedIn:"root",factory:kb}),r})();const DS=yb(null,"core",[]);let TS=(()=>{class r{constructor(c){}}return r.\u0275fac=function(c){return new(c||r)(ti(t_))},r.\u0275mod=ge({type:r}),r.\u0275inj=Bn({}),r})();function LS(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function BS(r,i){const c=sn(r),d=i.elementInjector||Vo();return new fh(c).create(d,i.projectableNodes,i.hostElement,i.environmentInjector)}function $S(r){const i=sn(r);if(!i)return null;const c=new fh(i);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},4097:(Cn,mt,P)=>{"use strict";P.d(mt,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=P(534);(0,y.registerVersion)("firebase","9.23.0","app")},120:(Cn,mt,P)=>{"use strict";P.d(mt,{Z:()=>y.Z});var y=P(3106);y.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(Cn,mt,P)=>{"use strict";P.r(mt);var y=P(5861),_=P(3106),re=P(9058),se=P(534),xe=P(7582),ze=P(7879),G=P(4537);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const qe=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ut=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ce=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new ze.Yd("@firebase/auth");function $e(A,...v){St.logLevel<=ze.in.ERROR&&St.error(`Auth (${se.SDK_VERSION}): ${A}`,...v)}function Ee(A,...v){throw ve(A,...v)}function je(A,...v){return ve(A,...v)}function z(A,v,b){const R=Object.assign(Object.assign({},ut()),{[v]:b});return new re.LL("auth","Firebase",R).create(v,{appName:A.name})}function Re(A,v,b){if(!(v instanceof b))throw b.name!==v.constructor.name&&Ee(A,"argument-error"),z(A,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ve(A,...v){if("string"!=typeof A){const b=v[0],R=[...v.slice(1)];return R[0]&&(R[0].appName=A.name),A._errorFactory.create(b,...R)}return ce.create(A,...v)}function we(A,v,...b){if(!A)throw ve(v,...b)}function We(A){const v="INTERNAL ASSERTION FAILED: "+A;throw $e(v),new Error(v)}function lt(A,v){A||We(v)}function it(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function ht(){return"http:"===It()||"https:"===It()}function It(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class Me{constructor(v,b){this.shortDelay=v,this.longDelay=b,lt(b>v,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return function an(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q(A,v){lt(A.emulator,"Emulator should always be set here");const{url:b}=A.emulator;return v?`${b}${v.startsWith("/")?v.slice(1):v}`:b}class de{static initialize(v,b,R){this.fetchImpl=v,b&&(this.headersImpl=b),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vt=new Me(3e4,6e4);function Tt(A,v){return A.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:A.tenantId}):v}function xt(A,v,b,R){return on.apply(this,arguments)}function on(){return(on=(0,y.Z)(function*(A,v,b,R,J={}){return Xt(A,J,(0,y.Z)(function*(){let Pe={},At={};R&&("GET"===v?At=R:Pe={body:JSON.stringify(R)});const qt=(0,re.xO)(Object.assign({key:A.config.apiKey},At)).slice(1),Fn=yield A._getAdditionalHeaders();return Fn["Content-Type"]="application/json",A.languageCode&&(Fn["X-Firebase-Locale"]=A.languageCode),de.fetch()(tn(A,A.config.apiHost,b,qt),Object.assign({method:v,headers:Fn,referrerPolicy:"no-referrer"},Pe))}))})).apply(this,arguments)}function Xt(A,v,b){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,y.Z)(function*(A,v,b){A._canInitEmulator=!1;const R=Object.assign(Object.assign({},Le),v);try{const J=new nn(A),Pe=yield Promise.race([b(),J.promise]);J.clearNetworkTimeout();const At=yield Pe.json();if("needConfirmation"in At)throw xn(A,"account-exists-with-different-credential",At);if(Pe.ok&&!("errorMessage"in At))return At;{const qt=Pe.ok?At.errorMessage:At.error.message,[Fn,gr]=qt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fn)throw xn(A,"credential-already-in-use",At);if("EMAIL_EXISTS"===Fn)throw xn(A,"email-already-in-use",At);if("USER_DISABLED"===Fn)throw xn(A,"user-disabled",At);const Pr=R[Fn]||Fn.toLowerCase().replace(/[_\s]+/g,"-");if(gr)throw z(A,Pr,gr);Ee(A,Pr)}}catch(J){if(J instanceof re.ZR)throw J;Ee(A,"network-request-failed",{message:String(J)})}})).apply(this,arguments)}function Ft(A,v,b,R){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,y.Z)(function*(A,v,b,R,J={}){const Pe=yield xt(A,v,b,R,J);return"mfaPendingCredential"in Pe&&Ee(A,"multi-factor-auth-required",{_serverResponse:Pe}),Pe})).apply(this,arguments)}function tn(A,v,b,R){const J=`${v}${b}?${R}`;return A.config.emulator?Q(A.config,J):`${A.config.apiScheme}://${J}`}class nn{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((b,R)=>{this.timer=setTimeout(()=>R(je(this.auth,"network-request-failed")),vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(A,v,b){const R={appName:A.name};b.email&&(R.email=b.email),b.phoneNumber&&(R.phoneNumber=b.phoneNumber);const J=je(A,v,R);return J.customData._tokenResponse=b,J}function $n(){return($n=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Ar(){return(Ar=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function sr(){return(sr=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Fr(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function qr(){return(qr=(0,y.Z)(function*(A,v=!1){const b=(0,re.m9)(A),R=yield b.getIdToken(v),J=hr(R);we(J&&J.exp&&J.auth_time&&J.iat,b.auth,"internal-error");const Pe="object"==typeof J.firebase?J.firebase:void 0,At=null==Pe?void 0:Pe.sign_in_provider;return{claims:J,token:R,authTime:Fr(Hn(J.auth_time)),issuedAtTime:Fr(Hn(J.iat)),expirationTime:Fr(Hn(J.exp)),signInProvider:At||null,signInSecondFactor:(null==Pe?void 0:Pe.sign_in_second_factor)||null}})).apply(this,arguments)}function Hn(A){return 1e3*Number(A)}function hr(A){const[v,b,R]=A.split(".");if(void 0===v||void 0===b||void 0===R)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,re.tV)(b);return J?JSON.parse(J):($e("Failed to decode base64 JWT payload"),null)}catch(J){return $e("Caught error parsing JWT payload as JSON",null==J?void 0:J.toString()),null}}function dr(A,v){return $r.apply(this,arguments)}function $r(){return($r=(0,y.Z)(function*(A,v,b=!1){if(b)return v;try{return yield v}catch(R){throw R instanceof re.ZR&&function Ei({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(R)&&A.auth.currentUser===A&&(yield A.auth.signOut()),R}})).apply(this,arguments)}class fr{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var b;if(v){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const J=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(v=!1){var b=this;if(!this.isRunning)return;const R=this.getInterval(v);this.timerId=setTimeout((0,y.Z)(function*(){yield b.iteration()}),R)}iteration(){var v=this;return(0,y.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null==b?void 0:b.code)&&v.schedule(!0))}v.schedule()})()}}class Pi{constructor(v,b){this.createdAt=v,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(A){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,y.Z)(function*(A){var v;const b=A.auth,R=yield A.getIdToken(),J=yield dr(A,function Hr(A,v){return sr.apply(this,arguments)}(b,{idToken:R}));we(null==J?void 0:J.users.length,b,"internal-error");const Pe=J.users[0];A._notifyReloadListener(Pe);const At=null!==(v=Pe.providerUserInfo)&&void 0!==v&&v.length?function gi(A){return A.map(v=>{var{providerId:b}=v,R=(0,xe._T)(v,["providerId"]);return{providerId:b,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(Pe.providerUserInfo):[],qt=function Xr(A,v){return[...A.filter(R=>!v.some(J=>J.providerId===R.providerId)),...v]}(A.providerData,At),Pr=!!A.isAnonymous&&!(A.email&&Pe.passwordHash||null!=qt&&qt.length),Nr={uid:Pe.localId,displayName:Pe.displayName||null,photoURL:Pe.photoUrl||null,email:Pe.email||null,emailVerified:Pe.emailVerified||!1,phoneNumber:Pe.phoneNumber||null,tenantId:Pe.tenantId||null,providerData:qt,metadata:new Pi(Pe.createdAt,Pe.lastLoginAt),isAnonymous:Pr};Object.assign(A,Nr)}),Hi.apply(this,arguments)}function Jr(){return(Jr=(0,y.Z)(function*(A){const v=(0,re.m9)(A);yield xr(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Di(){return(Di=(0,y.Z)(function*(A,v){const b=yield Xt(A,{},(0,y.Z)(function*(){const R=(0,re.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:J,apiKey:Pe}=A.config,At=tn(A,J,"/v1/token",`key=${Pe}`),qt=yield A._getAdditionalHeaders();return qt["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(At,{method:"POST",headers:qt,body:R})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){we(v.idToken,"internal-error"),we(typeof v.idToken<"u","internal-error"),we(typeof v.refreshToken<"u","internal-error");const b="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function Br(A){const v=hr(A);return we(v,"internal-error"),we(typeof v.exp<"u","internal-error"),we(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,b)}getToken(v,b=!1){var R=this;return(0,y.Z)(function*(){return we(!R.accessToken||R.refreshToken,v,"user-token-expired"),b||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(v,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,b){var R=this;return(0,y.Z)(function*(){const{accessToken:J,refreshToken:Pe,expiresIn:At}=yield function mi(A,v){return Di.apply(this,arguments)}(v,b);R.updateTokensAndExpiration(J,Pe,Number(At))})()}updateTokensAndExpiration(v,b,R){this.refreshToken=b||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(v,b){const{refreshToken:R,accessToken:J,expirationTime:Pe}=b,At=new ii;return R&&(we("string"==typeof R,"internal-error",{appName:v}),At.refreshToken=R),J&&(we("string"==typeof J,"internal-error",{appName:v}),At.accessToken=J),Pe&&(we("number"==typeof Pe,"internal-error",{appName:v}),At.expirationTime=Pe),At}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new ii,this.toJSON())}_performRefresh(){return We("not implemented")}}function ei(A,v){we("string"==typeof A||typeof A>"u","internal-error",{appName:v})}class si{constructor(v){var{uid:b,auth:R,stsTokenManager:J}=v,Pe=(0,xe._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=R,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=Pe.displayName||null,this.email=Pe.email||null,this.emailVerified=Pe.emailVerified||!1,this.phoneNumber=Pe.phoneNumber||null,this.photoURL=Pe.photoURL||null,this.isAnonymous=Pe.isAnonymous||!1,this.tenantId=Pe.tenantId||null,this.providerData=Pe.providerData?[...Pe.providerData]:[],this.metadata=new Pi(Pe.createdAt||void 0,Pe.lastLoginAt||void 0)}getIdToken(v){var b=this;return(0,y.Z)(function*(){const R=yield dr(b,b.stsTokenManager.getToken(b.auth,v));return we(R,b.auth,"internal-error"),b.accessToken!==R&&(b.accessToken=R,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),R})()}getIdTokenResult(v){return function Yr(A){return qr.apply(this,arguments)}(this,v)}reload(){return function Sr(A){return Jr.apply(this,arguments)}(this)}_assign(v){this!==v&&(we(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(b=>Object.assign({},b)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const b=new si(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(v){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,b=!1){var R=this;return(0,y.Z)(function*(){let J=!1;v.idToken&&v.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(v),J=!0),b&&(yield xr(R)),yield R.auth._persistUserIfCurrent(R),J&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var v=this;return(0,y.Z)(function*(){const b=yield v.getIdToken();return yield dr(v,function Bn(A,v){return $n.apply(this,arguments)}(v.auth,{idToken:b})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,b){var R,J,Pe,At,qt,Fn,gr,Pr;const Nr=null!==(R=b.displayName)&&void 0!==R?R:void 0,Ks=null!==(J=b.email)&&void 0!==J?J:void 0,Uo=null!==(Pe=b.phoneNumber)&&void 0!==Pe?Pe:void 0,Lc=null!==(At=b.photoURL)&&void 0!==At?At:void 0,Eu=null!==(qt=b.tenantId)&&void 0!==qt?qt:void 0,Fc=null!==(Fn=b._redirectEventId)&&void 0!==Fn?Fn:void 0,Qu=null!==(gr=b.createdAt)&&void 0!==gr?gr:void 0,qa=null!==(Pr=b.lastLoginAt)&&void 0!==Pr?Pr:void 0,{uid:ro,emailVerified:Mo,isAnonymous:Ml,providerData:$d,stsTokenManager:Ud}=b;we(ro&&Ud,v,"internal-error");const tf=ii.fromJSON(this.name,Ud);we("string"==typeof ro,v,"internal-error"),ei(Nr,v.name),ei(Ks,v.name),we("boolean"==typeof Mo,v,"internal-error"),we("boolean"==typeof Ml,v,"internal-error"),ei(Uo,v.name),ei(Lc,v.name),ei(Eu,v.name),ei(Fc,v.name),ei(Qu,v.name),ei(qa,v.name);const nf=new si({uid:ro,auth:v,email:Ks,emailVerified:Mo,displayName:Nr,isAnonymous:Ml,photoURL:Lc,phoneNumber:Uo,tenantId:Eu,stsTokenManager:tf,createdAt:Qu,lastLoginAt:qa});return $d&&Array.isArray($d)&&(nf.providerData=$d.map(rf=>Object.assign({},rf))),Fc&&(nf._redirectEventId=Fc),nf}static _fromIdTokenResponse(v,b,R=!1){return(0,y.Z)(function*(){const J=new ii;J.updateFromServerResponse(b);const Pe=new si({uid:b.localId,auth:v,stsTokenManager:J,isAnonymous:R});return yield xr(Pe),Pe})()}}const pi=new Map;function hi(A){lt(A instanceof Function,"Expected a class definition");let v=pi.get(A);return v?(lt(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,pi.set(A,v),v)}const oi=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(b,R){var J=this;return(0,y.Z)(function*(){J.storage[b]=R})()}_get(b){var R=this;return(0,y.Z)(function*(){const J=R.storage[b];return void 0===J?null:J})()}_remove(b){var R=this;return(0,y.Z)(function*(){delete R.storage[b]})()}_addListener(b,R){}_removeListener(b,R){}}return A.type="NONE",A})();function st(A,v,b){return`firebase:${A}:${v}:${b}`}class ye{constructor(v,b,R){this.persistence=v,this.auth=b,this.userKey=R;const{config:J,name:Pe}=this.auth;this.fullUserKey=st(this.userKey,J.apiKey,Pe),this.fullPersistenceKey=st("persistence",J.apiKey,Pe),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,y.Z)(function*(){const b=yield v.persistence._get(v.fullUserKey);return b?si._fromJSON(v.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var b=this;return(0,y.Z)(function*(){if(b.persistence===v)return;const R=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=v,R?b.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,b,R="authUser"){return(0,y.Z)(function*(){if(!b.length)return new ye(hi(oi),v,R);const J=(yield Promise.all(b.map(function(){var gr=(0,y.Z)(function*(Pr){if(yield Pr._isAvailable())return Pr});return function(Pr){return gr.apply(this,arguments)}}()))).filter(gr=>gr);let Pe=J[0]||hi(oi);const At=st(R,v.config.apiKey,v.name);let qt=null;for(const gr of b)try{const Pr=yield gr._get(At);if(Pr){const Nr=si._fromJSON(v,Pr);gr!==Pe&&(qt=Nr),Pe=gr;break}}catch{}const Fn=J.filter(gr=>gr._shouldAllowMigration);return Pe._shouldAllowMigration&&Fn.length?(Pe=Fn[0],qt&&(yield Pe._set(At,qt.toJSON())),yield Promise.all(b.map(function(){var gr=(0,y.Z)(function*(Pr){if(Pr!==Pe)try{yield Pr._remove(At)}catch{}});return function(Pr){return gr.apply(this,arguments)}}())),new ye(Pe,v,R)):new ye(Pe,v,R)})()}}function _e(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(ln(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Se(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ir(v))return"Blackberry";if(pr(v))return"Webos";if(Fe(v))return"Safari";if((v.includes("chrome/")||Ut(v))&&!v.includes("edge/"))return"Chrome";if(En(v))return"Android";{const R=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==R?void 0:R.length))return R[1]}return"Other"}function Se(A=(0,re.z$)()){return/firefox\//i.test(A)}function Fe(A=(0,re.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Ut(A=(0,re.z$)()){return/crios\//i.test(A)}function ln(A=(0,re.z$)()){return/iemobile/i.test(A)}function En(A=(0,re.z$)()){return/android/i.test(A)}function ir(A=(0,re.z$)()){return/blackberry/i.test(A)}function pr(A=(0,re.z$)()){return/webos/i.test(A)}function br(A=(0,re.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Li(A=(0,re.z$)()){return br(A)||En(A)||pr(A)||ir(A)||/windows phone/i.test(A)||ln(A)}function Xe(A,v=[]){let b;switch(A){case"Browser":b=_e((0,re.z$)());break;case"Worker":b=`${_e((0,re.z$)())}-${A}`;break;default:b=A}const R=v.length?v.join(","):"FirebaseCore-web";return`${b}/JsCore/${se.SDK_VERSION}/${R}`}function jt(){return(jt=(0,y.Z)(function*(A){return(yield xt(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sn(A,v){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.Z)(function*(A,v){return xt(A,"GET","/v2/recaptchaConfig",Tt(A,v))})).apply(this,arguments)}function or(A){return void 0!==A&&void 0!==A.getResponse}function kr(A){return void 0!==A&&void 0!==A.enterprise}class jr{constructor(v){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.emailPasswordEnabled=v.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function Gr(A){return new Promise((v,b)=>{const R=document.createElement("script");R.setAttribute("src",A),R.onload=v,R.onerror=J=>{const Pe=je("internal-error");Pe.customData=J,b(Pe)},R.type="text/javascript",R.charset="UTF-8",function ni(){var A,v;return null!==(v=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==v?v:document}().appendChild(R)})}function ar(A){return`__${A}${Math.floor(1e6*Math.random())}`}class $i{constructor(v){this.type="recaptcha-enterprise",this.auth=Ae(v)}verify(v="verify",b=!1){var R=this;return(0,y.Z)(function*(){function Pe(){return Pe=(0,y.Z)(function*(qt){if(!b){if(null==qt.tenantId&&null!=qt._agentRecaptchaConfig)return qt._agentRecaptchaConfig.siteKey;if(null!=qt.tenantId&&void 0!==qt._tenantRecaptchaConfigs[qt.tenantId])return qt._tenantRecaptchaConfigs[qt.tenantId].siteKey}return new Promise(function(){var Fn=(0,y.Z)(function*(gr,Pr){Sn(qt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Nr=>{if(void 0!==Nr.recaptchaKey){const Ks=new jr(Nr);return null==qt.tenantId?qt._agentRecaptchaConfig=Ks:qt._tenantRecaptchaConfigs[qt.tenantId]=Ks,gr(Ks.siteKey)}Pr(new Error("recaptcha Enterprise site key undefined"))}).catch(Nr=>{Pr(Nr)})});return function(gr,Pr){return Fn.apply(this,arguments)}}())}),Pe.apply(this,arguments)}function At(qt,Fn,gr){const Pr=window.grecaptcha;kr(Pr)?Pr.enterprise.ready(()=>{Pr.enterprise.execute(qt,{action:v}).then(Nr=>{Fn(Nr)}).catch(()=>{Fn("NO_RECAPTCHA")})}):gr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((qt,Fn)=>{(function J(qt){return Pe.apply(this,arguments)})(R.auth).then(gr=>{if(!b&&kr(window.grecaptcha))At(gr,qt,Fn);else{if(typeof window>"u")return void Fn(new Error("RecaptchaVerifier is only supported in browser"));Gr("https://www.google.com/recaptcha/enterprise.js?render="+gr).then(()=>{At(gr,qt,Fn)}).catch(Pr=>{Fn(Pr)})}}).catch(gr=>{Fn(gr)})})})()}}function Yi(A,v,b){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,y.Z)(function*(A,v,b,R=!1){const J=new $i(A);let Pe;try{Pe=yield J.verify(b)}catch{Pe=yield J.verify(b,!0)}const At=Object.assign({},v);return Object.assign(At,R?{captchaResp:Pe}:{captchaResponse:Pe}),Object.assign(At,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(At,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),At})).apply(this,arguments)}class Vi{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,b){const R=Pe=>new Promise((At,qt)=>{try{At(v(Pe))}catch(Fn){qt(Fn)}});R.onAbort=b,this.queue.push(R);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(v){var b=this;return(0,y.Z)(function*(){if(b.auth.currentUser===v)return;const R=[];try{for(const J of b.queue)yield J(v),J.onAbort&&R.push(J.onAbort)}catch(J){R.reverse();for(const Pe of R)try{Pe()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:null==J?void 0:J.message})}})()}}class gs{constructor(v,b,R,J){this.app=v,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=R,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Et(this),this.idTokenSubscription=new Et(this),this.beforeStateQueue=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ce,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=J.sdkClientVersion}_initializeWithPersistence(v,b){var R=this;return b&&(this._popupRedirectResolver=hi(b)),this._initializationPromise=this.queue((0,y.Z)(function*(){var J,Pe;if(!R._deleted&&(R.persistenceManager=yield ye.create(R,v),!R._deleted)){if(null!==(J=R._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(b),R.lastNotifiedUid=(null===(Pe=R.currentUser)||void 0===Pe?void 0:Pe.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,y.Z)(function*(){if(v._deleted)return;const b=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||b){if(v.currentUser&&b&&v.currentUser.uid===b.uid)return v._currentUser._assign(b),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(b,!0)}})()}initializeCurrentUser(v){var b=this;return(0,y.Z)(function*(){var R;const J=yield b.assertedPersistence.getCurrentUser();let Pe=J,At=!1;if(v&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const qt=null===(R=b.redirectUser)||void 0===R?void 0:R._redirectEventId,Fn=null==Pe?void 0:Pe._redirectEventId,gr=yield b.tryRedirectSignIn(v);(!qt||qt===Fn)&&null!=gr&&gr.user&&(Pe=gr.user,At=!0)}if(!Pe)return b.directlySetCurrentUser(null);if(!Pe._redirectEventId){if(At)try{yield b.beforeStateQueue.runMiddleware(Pe)}catch(qt){Pe=J,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(qt))}return Pe?b.reloadAndSetCurrentUserOrClear(Pe):b.directlySetCurrentUser(null)}return we(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===Pe._redirectEventId?b.directlySetCurrentUser(Pe):b.reloadAndSetCurrentUserOrClear(Pe)})()}tryRedirectSignIn(v){var b=this;return(0,y.Z)(function*(){let R=null;try{R=yield b._popupRedirectResolver._completeRedirectFn(b,v,!0)}catch{yield b._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(v){var b=this;return(0,y.Z)(function*(){try{yield xr(v)}catch(R){if("auth/network-request-failed"!==(null==R?void 0:R.code))return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function dt(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,y.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var b=this;return(0,y.Z)(function*(){const R=v?(0,re.m9)(v):null;return R&&we(R.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(R&&R._clone(b))})()}_updateCurrentUser(v,b=!1){var R=this;return(0,y.Z)(function*(){if(!R._deleted)return v&&we(R.tenantId===v.tenantId,R,"tenant-id-mismatch"),b||(yield R.beforeStateQueue.runMiddleware(v)),R.queue((0,y.Z)(function*(){yield R.directlySetCurrentUser(v),R.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,y.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var b=this;return this.queue((0,y.Z)(function*(){yield b.assertedPersistence.setPersistence(hi(v))}))}initializeRecaptchaConfig(){var v=this;return(0,y.Z)(function*(){const b=yield Sn(v,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new jr(b);null==v.tenantId?v._agentRecaptchaConfig=R:v._tenantRecaptchaConfigs[v.tenantId]=R,R.emailPasswordEnabled&&new $i(v).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new re.LL("auth","Firebase",v())}onAuthStateChanged(v,b,R){return this.registerStateListener(this.authStateSubscription,v,b,R)}beforeAuthStateChanged(v,b){return this.beforeStateQueue.pushCallback(v,b)}onIdTokenChanged(v,b,R){return this.registerStateListener(this.idTokenSubscription,v,b,R)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,b){var R=this;return(0,y.Z)(function*(){const J=yield R.getOrInitRedirectPersistenceManager(b);return null===v?J.removeCurrentUser():J.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var b=this;return(0,y.Z)(function*(){if(!b.redirectPersistenceManager){const R=v&&hi(v)||b._popupRedirectResolver;we(R,b,"argument-error"),b.redirectPersistenceManager=yield ye.create(b,[hi(R._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(v){var b=this;return(0,y.Z)(function*(){var R,J;return b._isInitialized&&(yield b.queue((0,y.Z)(function*(){}))),(null===(R=b._currentUser)||void 0===R?void 0:R._redirectEventId)===v?b._currentUser:(null===(J=b.redirectUser)||void 0===J?void 0:J._redirectEventId)===v?b.redirectUser:null})()}_persistUserIfCurrent(v){var b=this;return(0,y.Z)(function*(){if(v===b.currentUser)return b.queue((0,y.Z)(function*(){return b.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(b=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,b,R,J){if(this._deleted)return()=>{};const Pe="function"==typeof b?b:b.next.bind(b),At=this._isInitialized?Promise.resolve():this._initializationPromise;return we(At,this,"internal-error"),At.then(()=>Pe(this.currentUser)),"function"==typeof b?v.addObserver(b,R,J):v.addObserver(b)}directlySetCurrentUser(v){var b=this;return(0,y.Z)(function*(){b.currentUser&&b.currentUser!==v&&b._currentUser._stopProactiveRefresh(),v&&b.isProactiveRefreshEnabled&&v._startProactiveRefresh(),b.currentUser=v,v?yield b.assertedPersistence.setCurrentUser(v):yield b.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,y.Z)(function*(){var b;const R={"X-Client-Version":v.clientVersion};v.app.options.appId&&(R["X-Firebase-gmpid"]=v.app.options.appId);const J=yield null===(b=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();J&&(R["X-Firebase-Client"]=J);const Pe=yield v._getAppCheckToken();return Pe&&(R["X-Firebase-AppCheck"]=Pe),R})()}_getAppCheckToken(){var v=this;return(0,y.Z)(function*(){var b;const R=yield null===(b=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return null!=R&&R.error&&function Bt(A,...v){St.logLevel<=ze.in.WARN&&St.warn(`Auth (${se.SDK_VERSION}): ${A}`,...v)}(`Error while retrieving App Check token: ${R.error}`),null==R?void 0:R.token})()}}function Ae(A){return(0,re.m9)(A)}class Et{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,re.ne)(b=>this.observer=b)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function q(A){const v=A.indexOf(":");return v<0?"":A.substr(0,v+1)}function ue(A){if(!A)return null;const v=Number(A);return isNaN(v)?null:v}class ie{constructor(v,b){this.providerId=v,this.signInMethod=b}toJSON(){return We("not implemented")}_getIdTokenResponse(v){return We("not implemented")}_linkToIdToken(v,b){return We("not implemented")}_getReauthenticationResolver(v){return We("not implemented")}}function ge(A,v){return ot.apply(this,arguments)}function ot(){return(ot=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:resetPassword",Tt(A,v))})).apply(this,arguments)}function kt(A,v){return $t.apply(this,arguments)}function $t(){return($t=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function sn(){return(sn=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:update",Tt(A,v))})).apply(this,arguments)}function Mn(A,v){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(A,v){return Ft(A,"POST","/v1/accounts:signInWithPassword",Tt(A,v))})).apply(this,arguments)}function lr(A,v){return wr.apply(this,arguments)}function wr(){return(wr=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:sendOobCode",Tt(A,v))})).apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(A,v){return lr(A,v)})).apply(this,arguments)}function Ct(A,v){return dn.apply(this,arguments)}function dn(){return(dn=(0,y.Z)(function*(A,v){return lr(A,v)})).apply(this,arguments)}function Nn(A,v){return qn.apply(this,arguments)}function qn(){return(qn=(0,y.Z)(function*(A,v){return lr(A,v)})).apply(this,arguments)}function Pn(){return(Pn=(0,y.Z)(function*(A,v){return lr(A,v)})).apply(this,arguments)}function vi(){return(vi=(0,y.Z)(function*(A,v){return Ft(A,"POST","/v1/accounts:signInWithEmailLink",Tt(A,v))})).apply(this,arguments)}function yi(){return(yi=(0,y.Z)(function*(A,v){return Ft(A,"POST","/v1/accounts:signInWithEmailLink",Tt(A,v))})).apply(this,arguments)}class ji extends ie{constructor(v,b,R,J=null){super("password",R),this._email=v,this._password=b,this._tenantId=J}static _fromEmailAndPassword(v,b){return new ji(v,b,"password")}static _fromEmailAndCode(v,b,R=null){return new ji(v,b,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v;if(null!=b&&b.email&&null!=b&&b.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(v){var b=this;return(0,y.Z)(function*(){var R;switch(b.signInMethod){case"password":const J={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=v._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Pe=yield Yi(v,J,"signInWithPassword");return Mn(v,Pe)}return Mn(v,J).catch(function(){var Pe=(0,y.Z)(function*(At){if("auth/missing-recaptcha-token"===At.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qt=yield Yi(v,J,"signInWithPassword");return Mn(v,qt)}return Promise.reject(At)});return function(At){return Pe.apply(this,arguments)}}());case"emailLink":return function Xn(A,v){return vi.apply(this,arguments)}(v,{email:b._email,oobCode:b._password});default:Ee(v,"internal-error")}})()}_linkToIdToken(v,b){var R=this;return(0,y.Z)(function*(){switch(R.signInMethod){case"password":return kt(v,{idToken:b,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function Os(A,v){return yi.apply(this,arguments)}(v,{idToken:b,email:R._email,oobCode:R._password});default:Ee(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Ti(A,v){return Is.apply(this,arguments)}function Is(){return(Is=(0,y.Z)(function*(A,v){return Ft(A,"POST","/v1/accounts:signInWithIdp",Tt(A,v))})).apply(this,arguments)}class _r extends ie{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const b=new _r(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(b.idToken=v.idToken),v.accessToken&&(b.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(b.nonce=v.nonce),v.pendingToken&&(b.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(b.accessToken=v.oauthToken,b.secret=v.oauthTokenSecret):Ee("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v,{providerId:R,signInMethod:J}=b,Pe=(0,xe._T)(b,["providerId","signInMethod"]);if(!R||!J)return null;const At=new _r(R,J);return At.idToken=Pe.idToken||void 0,At.accessToken=Pe.accessToken||void 0,At.secret=Pe.secret,At.nonce=Pe.nonce,At.pendingToken=Pe.pendingToken||null,At}_getIdTokenResponse(v){return Ti(v,this.buildRequest())}_linkToIdToken(v,b){const R=this.buildRequest();return R.idToken=b,Ti(v,R)}_getReauthenticationResolver(v){const b=this.buildRequest();return b.autoCreate=!1,Ti(v,b)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),v.postBody=(0,re.xO)(b)}return v}}function ks(){return(ks=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:sendVerificationCode",Tt(A,v))})).apply(this,arguments)}function rs(){return(rs=(0,y.Z)(function*(A,v){return Ft(A,"POST","/v1/accounts:signInWithPhoneNumber",Tt(A,v))})).apply(this,arguments)}function yt(){return(yt=(0,y.Z)(function*(A,v){const b=yield Ft(A,"POST","/v1/accounts:signInWithPhoneNumber",Tt(A,v));if(b.temporaryProof)throw xn(A,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Oe={USER_NOT_FOUND:"user-not-found"};function Gt(){return(Gt=(0,y.Z)(function*(A,v){return Ft(A,"POST","/v1/accounts:signInWithPhoneNumber",Tt(A,Object.assign(Object.assign({},v),{operation:"REAUTH"})),Oe)})).apply(this,arguments)}class cn extends ie{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,b){return new cn({verificationId:v,verificationCode:b})}static _fromTokenResponse(v,b){return new cn({phoneNumber:v,temporaryProof:b})}_getIdTokenResponse(v){return function js(A,v){return rs.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,b){return function fe(A,v){return yt.apply(this,arguments)}(v,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function at(A,v){return Gt.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:b,verificationId:R,verificationCode:J}=this.params;return v&&b?{temporaryProof:v,phoneNumber:b}:{sessionInfo:R,code:J}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:b,verificationCode:R,phoneNumber:J,temporaryProof:Pe}=v;return R||b||J||Pe?new cn({verificationId:b,verificationCode:R,phoneNumber:J,temporaryProof:Pe}):null}}class Or{constructor(v){var b,R,J,Pe,At,qt;const Fn=(0,re.zd)((0,re.pd)(v)),gr=null!==(b=Fn.apiKey)&&void 0!==b?b:null,Pr=null!==(R=Fn.oobCode)&&void 0!==R?R:null,Nr=function _n(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=Fn.mode)&&void 0!==J?J:null);we(gr&&Pr&&Nr,"argument-error"),this.apiKey=gr,this.operation=Nr,this.code=Pr,this.continueUrl=null!==(Pe=Fn.continueUrl)&&void 0!==Pe?Pe:null,this.languageCode=null!==(At=Fn.languageCode)&&void 0!==At?At:null,this.tenantId=null!==(qt=Fn.tenantId)&&void 0!==qt?qt:null}static parseLink(v){const b=function er(A){const v=(0,re.zd)((0,re.pd)(A)).link,b=v?(0,re.zd)((0,re.pd)(v)).deep_link_id:null,R=(0,re.zd)((0,re.pd)(A)).deep_link_id;return(R?(0,re.zd)((0,re.pd)(R)).link:null)||R||b||v||A}(v);try{return new Or(b)}catch{return null}}}let Ki=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(b,R){return ji._fromEmailAndPassword(b,R)}static credentialWithLink(b,R){const J=Or.parseLink(R);return we(J,"argument-error"),ji._fromEmailAndCode(b,J.code,J.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class Ai{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class Mi extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class Fi extends Mi{static credentialFromJSON(v){const b="string"==typeof v?JSON.parse(v):v;return we("providerId"in b&&"signInMethod"in b,"argument-error"),_r._fromParams(b)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return we(v.idToken||v.accessToken,"argument-error"),_r._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return Fi.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return Fi.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:b,oauthAccessToken:R,oauthTokenSecret:J,pendingToken:Pe,nonce:At,providerId:qt}=v;if(!R&&!J&&!b&&!Pe||!qt)return null;try{return new Fi(qt)._credential({idToken:b,accessToken:R,nonce:At,pendingToken:Pe})}catch{return null}}}let ms=(()=>{class A extends Mi{constructor(){super("facebook.com")}static credential(b){return _r._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return A.credential(b.oauthAccessToken)}catch{return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),aa=(()=>{class A extends Mi{constructor(){super("google.com"),this.addScope("profile")}static credential(b,R){return _r._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:R})}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:R,oauthAccessToken:J}=b;if(!R&&!J)return null;try{return A.credential(R,J)}catch{return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),ct=(()=>{class A extends Mi{constructor(){super("github.com")}static credential(b){return _r._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return A.credential(b.oauthAccessToken)}catch{return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class _t extends ie{constructor(v,b){super(v,v),this.pendingToken=b}_getIdTokenResponse(v){return Ti(v,this.buildRequest())}_linkToIdToken(v,b){const R=this.buildRequest();return R.idToken=b,Ti(v,R)}_getReauthenticationResolver(v){const b=this.buildRequest();return b.autoCreate=!1,Ti(v,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v,{providerId:R,signInMethod:J,pendingToken:Pe}=b;return R&&J&&Pe&&R===J?new _t(R,Pe):null}static _create(v,b){return new _t(v,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class un extends Ai{constructor(v){we(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return un.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return un.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const b=_t.fromJSON(v);return we(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:b,providerId:R}=v;if(!b||!R)return null;try{return _t._create(R,b)}catch{return null}}}let jn=(()=>{class A extends Mi{constructor(){super("twitter.com")}static credential(b,R){return _r._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:R})}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:R,oauthTokenSecret:J}=b;if(!R||!J)return null;try{return A.credential(R,J)}catch{return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function rr(A,v){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,y.Z)(function*(A,v){return Ft(A,"POST","/v1/accounts:signUp",Tt(A,v))})).apply(this,arguments)}class Ir{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,b,R,J=!1){return(0,y.Z)(function*(){const Pe=yield si._fromIdTokenResponse(v,R,J),At=li(R);return new Ir({user:Pe,providerId:At,_tokenResponse:R,operationType:b})})()}static _forOperation(v,b,R){return(0,y.Z)(function*(){yield v._updateTokensIfNecessary(R,!0);const J=li(R);return new Ir({user:v,providerId:J,_tokenResponse:R,operationType:b})})()}}function li(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function Cs(){return(Cs=(0,y.Z)(function*(A){var v;const b=Ae(A);if(yield b._initializationPromise,null!==(v=b.currentUser)&&void 0!==v&&v.isAnonymous)return new Ir({user:b.currentUser,providerId:null,operationType:"signIn"});const R=yield rr(b,{returnSecureToken:!0}),J=yield Ir._fromIdTokenResponse(b,"signIn",R,!0);return yield b._updateCurrentUser(J.user),J})).apply(this,arguments)}class bi extends re.ZR{constructor(v,b,R,J){var Pe;super(b.code,b.message),this.operationType=R,this.user=J,Object.setPrototypeOf(this,bi.prototype),this.customData={appName:v.name,tenantId:null!==(Pe=v.tenantId)&&void 0!==Pe?Pe:void 0,_serverResponse:b.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(v,b,R,J){return new bi(v,b,R,J)}}function as(A,v,b,R){return("reauthenticate"===v?b._getReauthenticationResolver(A):b._getIdTokenResponse(A)).catch(Pe=>{throw"auth/multi-factor-auth-required"===Pe.code?bi._fromErrorAndOperation(A,Pe,v,R):Pe})}function to(A){return new Set(A.map(({providerId:v})=>v).filter(v=>!!v))}function Po(){return Po=(0,y.Z)(function*(A,v){const b=(0,re.m9)(A);yield zo(!0,b,v);const{providerUserInfo:R}=yield function tr(A,v){return Ar.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[v]}),J=to(R||[]);return b.providerData=b.providerData.filter(Pe=>J.has(Pe.providerId)),J.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),Po.apply(this,arguments)}function vs(A,v){return Es.apply(this,arguments)}function Es(){return(Es=(0,y.Z)(function*(A,v,b=!1){const R=yield dr(A,v._linkToIdToken(A.auth,yield A.getIdToken()),b);return Ir._forOperation(A,"link",R)})).apply(this,arguments)}function zo(A,v,b){return _i.apply(this,arguments)}function _i(){return(_i=(0,y.Z)(function*(A,v,b){yield xr(v);const J=!1===A?"provider-already-linked":"no-such-provider";we(to(v.providerData).has(b)===A,v.auth,J)})).apply(this,arguments)}function tl(A,v){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,y.Z)(function*(A,v,b=!1){const{auth:R}=A,J="reauthenticate";try{const Pe=yield dr(A,as(R,J,v,A),b);we(Pe.idToken,R,"internal-error");const At=hr(Pe.idToken);we(At,R,"internal-error");const{sub:qt}=At;return we(A.uid===qt,R,"user-mismatch"),Ir._forOperation(A,J,Pe)}catch(Pe){throw"auth/user-not-found"===(null==Pe?void 0:Pe.code)&&Ee(R,"user-mismatch"),Pe}})).apply(this,arguments)}function M(A,v){return S.apply(this,arguments)}function S(){return(S=(0,y.Z)(function*(A,v,b=!1){const R="signIn",J=yield as(A,R,v),Pe=yield Ir._fromIdTokenResponse(A,R,J);return b||(yield A._updateCurrentUser(Pe.user)),Pe})).apply(this,arguments)}function g(A,v){return C.apply(this,arguments)}function C(){return(C=(0,y.Z)(function*(A,v){return M(Ae(A),v)})).apply(this,arguments)}function U(A,v){return rt.apply(this,arguments)}function rt(){return(rt=(0,y.Z)(function*(A,v){const b=(0,re.m9)(A);return yield zo(!1,b,v.providerId),vs(b,v)})).apply(this,arguments)}function zt(A,v){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,y.Z)(function*(A,v){return tl((0,re.m9)(A),v)})).apply(this,arguments)}function Ii(){return(Ii=(0,y.Z)(function*(A,v){return Ft(A,"POST","/v1/accounts:signInWithCustomToken",Tt(A,v))})).apply(this,arguments)}function mo(){return mo=(0,y.Z)(function*(A,v){const b=Ae(A),R=yield function zr(A,v){return Ii.apply(this,arguments)}(b,{token:v,returnSecureToken:!0}),J=yield Ir._fromIdTokenResponse(b,"signIn",R);return yield b._updateCurrentUser(J.user),J}),mo.apply(this,arguments)}class Ws{constructor(v,b){this.factorId=v,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(v,b){return"phoneInfo"in b?oo._fromServerResponse(v,b):"totpInfo"in b?Io._fromServerResponse(v,b):Ee(v,"internal-error")}}class oo extends Ws{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,b){return new oo(b)}}class Io extends Ws{constructor(v){super("totp",v)}static _fromServerResponse(v,b){return new Io(b)}}function Xo(A,v,b){var R;we((null===(R=b.url)||void 0===R?void 0:R.length)>0,A,"invalid-continue-uri"),we(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),v.continueUrl=b.url,v.dynamicLinkDomain=b.dynamicLinkDomain,v.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(we(b.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),v.iOSBundleId=b.iOS.bundleId),b.android&&(we(b.android.packageName.length>0,A,"missing-android-pkg-name"),v.androidInstallApp=b.android.installApp,v.androidMinimumVersionCode=b.android.minimumVersion,v.androidPackageName=b.android.packageName)}function pl(){return pl=(0,y.Z)(function*(A,v,b){var R;const J=Ae(A),Pe={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=J._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const At=yield Yi(J,Pe,"getOobCode",!0);b&&Xo(J,At,b),yield Ct(J,At)}else b&&Xo(J,Pe,b),yield Ct(J,Pe).catch(function(){var At=(0,y.Z)(function*(qt){if("auth/missing-recaptcha-token"!==qt.code)return Promise.reject(qt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Fn=yield Yi(J,Pe,"getOobCode",!0);b&&Xo(J,Fn,b),yield Ct(J,Fn)}});return function(qt){return At.apply(this,arguments)}}())}),pl.apply(this,arguments)}function ao(){return(ao=(0,y.Z)(function*(A,v,b){yield ge((0,re.m9)(A),{oobCode:v,newPassword:b})})).apply(this,arguments)}function ss(){return ss=(0,y.Z)(function*(A,v){yield function Ht(A,v){return sn.apply(this,arguments)}((0,re.m9)(A),{oobCode:v})}),ss.apply(this,arguments)}function pc(A,v){return gc.apply(this,arguments)}function gc(){return(gc=(0,y.Z)(function*(A,v){const b=(0,re.m9)(A),R=yield ge(b,{oobCode:v}),J=R.requestType;switch(we(J,b,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(R.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(R.mfaInfo,b,"internal-error");default:we(R.email,b,"internal-error")}let Pe=null;return R.mfaInfo&&(Pe=Ws._fromServerResponse(Ae(b),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:Pe},operation:J}})).apply(this,arguments)}function ya(){return(ya=(0,y.Z)(function*(A,v){const{data:b}=yield pc((0,re.m9)(A),v);return b.email})).apply(this,arguments)}function wa(){return wa=(0,y.Z)(function*(A,v,b){var R;const J=Ae(A),Pe={returnSecureToken:!0,email:v,password:b,clientType:"CLIENT_TYPE_WEB"};let At;if(null!==(R=J._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const gr=yield Yi(J,Pe,"signUpPassword");At=rr(J,gr)}else At=rr(J,Pe).catch(function(){var gr=(0,y.Z)(function*(Pr){if("auth/missing-recaptcha-token"===Pr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Nr=yield Yi(J,Pe,"signUpPassword");return rr(J,Nr)}return Promise.reject(Pr)});return function(Pr){return gr.apply(this,arguments)}}());const qt=yield At.catch(gr=>Promise.reject(gr)),Fn=yield Ir._fromIdTokenResponse(J,"signIn",qt);return yield J._updateCurrentUser(Fn.user),Fn}),wa.apply(this,arguments)}function Nl(){return Nl=(0,y.Z)(function*(A,v,b){var R;const J=Ae(A),Pe={requestType:"EMAIL_SIGNIN",email:v,clientType:"CLIENT_TYPE_WEB"};function At(qt,Fn){we(Fn.handleCodeInApp,J,"argument-error"),Fn&&Xo(J,qt,Fn)}if(null!==(R=J._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const qt=yield Yi(J,Pe,"getOobCode",!0);At(qt,b),yield Nn(J,qt)}else At(Pe,b),yield Nn(J,Pe).catch(function(){var qt=(0,y.Z)(function*(Fn){if("auth/missing-recaptcha-token"!==Fn.code)return Promise.reject(Fn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const gr=yield Yi(J,Pe,"getOobCode",!0);At(gr,b),yield Nn(J,gr)}});return function(Fn){return qt.apply(this,arguments)}}())}),Nl.apply(this,arguments)}function nl(){return(nl=(0,y.Z)(function*(A,v,b){const R=(0,re.m9)(A),J=Ki.credentialWithLink(v,b||it());return we(J._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),g(R,J)})).apply(this,arguments)}function vc(){return(vc=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:createAuthUri",Tt(A,v))})).apply(this,arguments)}function ml(){return ml=(0,y.Z)(function*(A,v){const R={identifier:v,continueUri:ht()?it():"http://localhost"},{signinMethods:J}=yield function Ah(A,v){return vc.apply(this,arguments)}((0,re.m9)(A),R);return J||[]}),ml.apply(this,arguments)}function kl(){return kl=(0,y.Z)(function*(A,v){const b=(0,re.m9)(A),J={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};v&&Xo(b.auth,J,v);const{email:Pe}=yield function ft(A,v){return bt.apply(this,arguments)}(b.auth,J);Pe!==A.email&&(yield A.reload())}),kl.apply(this,arguments)}function La(){return La=(0,y.Z)(function*(A,v,b){const R=(0,re.m9)(A),Pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:v};b&&Xo(R.auth,Pe,b);const{email:At}=yield function kn(A,v){return Pn.apply(this,arguments)}(R.auth,Pe);At!==A.email&&(yield A.reload())}),La.apply(this,arguments)}function Qo(){return(Qo=(0,y.Z)(function*(A,v){return xt(A,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function yc(){return yc=(0,y.Z)(function*(A,{displayName:v,photoURL:b}){if(void 0===v&&void 0===b)return;const R=(0,re.m9)(A),Pe={idToken:yield R.getIdToken(),displayName:v,photoUrl:b,returnSecureToken:!0},At=yield dr(R,function Fa(A,v){return Qo.apply(this,arguments)}(R.auth,Pe));R.displayName=At.displayName||null,R.photoURL=At.photoUrl||null;const qt=R.providerData.find(({providerId:Fn})=>"password"===Fn);qt&&(qt.displayName=R.displayName,qt.photoURL=R.photoURL),yield R._updateTokensIfNecessary(At)}),yc.apply(this,arguments)}function Dd(A,v,b){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,y.Z)(function*(A,v,b){const{auth:R}=A,Pe={idToken:yield A.getIdToken(),returnSecureToken:!0};v&&(Pe.email=v),b&&(Pe.password=b);const At=yield dr(A,kt(R,Pe));yield A._updateTokensIfNecessary(At,!0)})).apply(this,arguments)}class Oi{constructor(v,b,R={}){this.isNewUser=v,this.providerId=b,this.profile=R}}class Xi extends Oi{constructor(v,b,R,J){super(v,b,R),this.username=J}}class L extends Oi{constructor(v,b){super(v,"facebook.com",b)}}class le extends Xi{constructor(v,b){super(v,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class W extends Oi{constructor(v,b){super(v,"google.com",b)}}class Te extends Xi{constructor(v,b,R){super(v,"twitter.com",b,R)}}function nt(A){const{user:v,_tokenResponse:b}=A;return v.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function rl(A){var v,b;if(!A)return null;const{providerId:R}=A,J=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},Pe=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!R&&null!=A&&A.idToken){const At=null===(b=null===(v=hr(A.idToken))||void 0===v?void 0:v.firebase)||void 0===b?void 0:b.sign_in_provider;if(At)return new Oi(Pe,"anonymous"!==At&&"custom"!==At?At:null)}if(!R)return null;switch(R){case"facebook.com":return new L(Pe,J);case"github.com":return new le(Pe,J);case"google.com":return new W(Pe,J);case"twitter.com":return new Te(Pe,J,A.screenName||null);case"custom":case"anonymous":return new Oi(Pe,null);default:return new Oi(Pe,R,J)}}(b)}class Bs{constructor(v,b,R){this.type=v,this.credential=b,this.auth=R}static _fromIdtoken(v,b){return new Bs("enroll",v,b)}static _fromMfaPendingCredential(v){return new Bs("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var b,R;if(null!=v&&v.multiFactorSession){if(null!==(b=v.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Bs._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(R=v.multiFactorSession)&&void 0!==R&&R.idToken)return Bs._fromIdtoken(v.multiFactorSession.idToken)}return null}}class Co{constructor(v,b,R){this.session=v,this.hints=b,this.signInResolver=R}static _fromError(v,b){const R=Ae(v),J=b.customData._serverResponse,Pe=(J.mfaInfo||[]).map(qt=>Ws._fromServerResponse(R,qt));we(J.mfaPendingCredential,R,"internal-error");const At=Bs._fromMfaPendingCredential(J.mfaPendingCredential);return new Co(At,Pe,function(){var qt=(0,y.Z)(function*(Fn){const gr=yield Fn._process(R,At);delete J.mfaInfo,delete J.mfaPendingCredential;const Pr=Object.assign(Object.assign({},J),{idToken:gr.idToken,refreshToken:gr.refreshToken});switch(b.operationType){case"signIn":const Nr=yield Ir._fromIdTokenResponse(R,b.operationType,Pr);return yield R._updateCurrentUser(Nr.user),Nr;case"reauthenticate":return we(b.user,R,"internal-error"),Ir._forOperation(b.user,b.operationType,Pr);default:Ee(R,"internal-error")}});return function(Fn){return qt.apply(this,arguments)}}())}resolveSignIn(v){var b=this;return(0,y.Z)(function*(){return b.signInResolver(v)})()}}class Ll{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(R=>Ws._fromServerResponse(v.auth,R)))})}static _fromUser(v){return new Ll(v)}getSession(){var v=this;return(0,y.Z)(function*(){return Bs._fromIdtoken(yield v.user.getIdToken(),v.user.auth)})()}enroll(v,b){var R=this;return(0,y.Z)(function*(){const J=v,Pe=yield R.getSession(),At=yield dr(R.user,J._process(R.user.auth,Pe,b));return yield R.user._updateTokensIfNecessary(At),R.user.reload()})()}unenroll(v){var b=this;return(0,y.Z)(function*(){const R="string"==typeof v?v:v.uid,J=yield b.user.getIdToken();try{const Pe=yield dr(b.user,function Xf(A,v){return xt(A,"POST","/v2/accounts/mfaEnrollment:withdraw",Tt(A,v))}(b.user.auth,{idToken:J,mfaEnrollmentId:R}));b.enrolledFactors=b.enrolledFactors.filter(({uid:At})=>At!==R),yield b.user._updateTokensIfNecessary(Pe),yield b.user.reload()}catch(Pe){throw Pe}})()}}const Ba=new WeakMap,yl="__sak";class Td{constructor(v,b){this.storageRetriever=v,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(yl,"1"),this.storage.removeItem(yl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,b){return this.storage.setItem(v,JSON.stringify(b)),Promise.resolve()}_get(v){const b=this.storage.getItem(v);return Promise.resolve(b?JSON.parse(b):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const Do=(()=>{class A extends Td{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,R)=>this.onStorageEvent(b,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Js(){const A=(0,re.z$)();return Fe(A)||br(A)}()&&function Dt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Li(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const R of Object.keys(this.listeners)){const J=this.storage.getItem(R),Pe=this.localCache[R];J!==Pe&&b(R,Pe,J)}}onStorageEvent(b,R=!1){if(!b.key)return void this.forAllChangedKeys((qt,Fn,gr)=>{this.notifyListeners(qt,gr)});const J=b.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qt=this.storage.getItem(J);if(b.newValue!==qt)null!==b.newValue?this.storage.setItem(J,b.newValue):this.storage.removeItem(J);else if(this.localCache[J]===b.newValue&&!R)return}const Pe=()=>{const qt=this.storage.getItem(J);!R&&this.localCache[J]===qt||this.notifyListeners(J,qt)},At=this.storage.getItem(J);!function Gi(){return(0,re.w1)()&&10===document.documentMode}()||At===b.newValue||b.newValue===b.oldValue?Pe():setTimeout(Pe,10)}notifyListeners(b,R){this.localCache[b]=R;const J=this.listeners[b];if(J)for(const Pe of Array.from(J))Pe(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,R,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:R,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(R)}_removeListener(b,R){this.listeners[b]&&(this.listeners[b].delete(R),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,R){var J=()=>super._set,Pe=this;return(0,y.Z)(function*(){yield J().call(Pe,b,R),Pe.localCache[b]=JSON.stringify(R)})()}_get(b){var R=()=>super._get,J=this;return(0,y.Z)(function*(){const Pe=yield R().call(J,b);return J.localCache[b]=JSON.stringify(Pe),Pe})()}_remove(b){var R=()=>super._remove,J=this;return(0,y.Z)(function*(){yield R().call(J,b),delete J.localCache[b]})()}}return A.type="LOCAL",A})(),xi=(()=>{class A extends Td{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,R){}_removeListener(b,R){}}return A.type="SESSION",A})();let _c=(()=>{class A{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const R=this.receivers.find(Pe=>Pe.isListeningto(b));if(R)return R;const J=new A(b);return this.receivers.push(J),J}isListeningto(b){return this.eventTarget===b}handleEvent(b){var R=this;return(0,y.Z)(function*(){const J=b,{eventId:Pe,eventType:At,data:qt}=J.data,Fn=R.handlersMap[At];if(null==Fn||!Fn.size)return;J.ports[0].postMessage({status:"ack",eventId:Pe,eventType:At});const gr=Array.from(Fn).map(function(){var Nr=(0,y.Z)(function*(Ks){return Ks(J.origin,qt)});return function(Ks){return Nr.apply(this,arguments)}}()),Pr=yield function No(A){return Promise.all(A.map(function(){var v=(0,y.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(R){return{fulfilled:!1,reason:R}}});return function(b){return v.apply(this,arguments)}}()))}(gr);J.ports[0].postMessage({status:"done",eventId:Pe,eventType:At,response:Pr})})()}_subscribe(b,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(R)}_unsubscribe(b,R){this.handlersMap[b]&&R&&this.handlersMap[b].delete(R),(!R||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function mr(A="",v=10){let b="";for(let R=0;R<v;R++)b+=Math.floor(10*Math.random());return A+b}class Ur{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,b,R=50){var J=this;return(0,y.Z)(function*(){const Pe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Pe)throw new Error("connection_unavailable");let At,qt;return new Promise((Fn,gr)=>{const Pr=mr("",20);Pe.port1.start();const Nr=setTimeout(()=>{gr(new Error("unsupported_event"))},R);qt={messageChannel:Pe,onMessage(Ks){const Uo=Ks;if(Uo.data.eventId===Pr)switch(Uo.data.status){case"ack":clearTimeout(Nr),At=setTimeout(()=>{gr(new Error("timeout"))},3e3);break;case"done":clearTimeout(At),Fn(Uo.data.response);break;default:clearTimeout(Nr),clearTimeout(At),gr(new Error("invalid_response"))}}},J.handlers.add(qt),Pe.port1.addEventListener("message",qt.onMessage),J.target.postMessage({eventType:v,eventId:Pr,data:b},[Pe.port2])}).finally(()=>{qt&&J.removeMessageHandler(qt)})})()}}function xs(){return window}function hn(){return typeof xs().WorkerGlobalScope<"u"&&"function"==typeof xs().importScripts}function qi(){return(qi=(0,y.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wc="firebaseLocalStorageDb",Xc="firebaseLocalStorage",Qc="fbase_key";class il{constructor(v){this.request=v}toPromise(){return new Promise((v,b)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Jc(A,v){return A.transaction([Xc],v?"readwrite":"readonly").objectStore(Xc)}function Ec(){const A=indexedDB.open(wc,1);return new Promise((v,b)=>{A.addEventListener("error",()=>{b(A.error)}),A.addEventListener("upgradeneeded",()=>{const R=A.result;try{R.createObjectStore(Xc,{keyPath:Qc})}catch(J){b(J)}}),A.addEventListener("success",(0,y.Z)(function*(){const R=A.result;R.objectStoreNames.contains(Xc)?v(R):(R.close(),yield function Mh(){const A=indexedDB.deleteDatabase(wc);return new il(A).toPromise()}(),v(yield Ec()))}))})}function bc(A,v,b){return fi.apply(this,arguments)}function fi(){return(fi=(0,y.Z)(function*(A,v,b){const R=Jc(A,!0).put({[Qc]:v,value:b});return new il(R).toPromise()})).apply(this,arguments)}function eu(){return(eu=(0,y.Z)(function*(A,v){const b=Jc(A,!1).get(v),R=yield new il(b).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Ss(A,v){const b=Jc(A,!0).delete(v);return new il(b).toPromise()}const Bl=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,y.Z)(function*(){return b.db||(b.db=yield Ec()),b.db})()}_withRetries(b){var R=this;return(0,y.Z)(function*(){let J=0;for(;;)try{const Pe=yield R._openDb();return yield b(Pe)}catch(Pe){if(J++>3)throw Pe;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,y.Z)(function*(){return hn()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,y.Z)(function*(){b.receiver=_c._getInstance(function Qf(){return hn()?self:null}()),b.receiver._subscribe("keyChanged",function(){var R=(0,y.Z)(function*(J,Pe){return{keyProcessed:(yield b._poll()).includes(Pe.key)}});return function(J,Pe){return R.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var R=(0,y.Z)(function*(J,Pe){return["keyChanged"]});return function(J,Pe){return R.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,y.Z)(function*(){var R,J;if(b.activeServiceWorker=yield function Ln(){return qi.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Ur(b.activeServiceWorker);const Pe=yield b.sender._send("ping",{},800);Pe&&null!==(R=Pe[0])&&void 0!==R&&R.fulfilled&&null!==(J=Pe[0])&&void 0!==J&&J.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var R=this;return(0,y.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function $a(){var A;return(null===(A=null==navigator?void 0:navigator.serviceWorker)||void 0===A?void 0:A.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:b},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Ec();return yield bc(b,yl,"1"),yield Ss(b,yl),!0}catch{}return!1})()}_withPendingWrite(b){var R=this;return(0,y.Z)(function*(){R.pendingWrites++;try{yield b()}finally{R.pendingWrites--}})()}_set(b,R){var J=this;return(0,y.Z)(function*(){return J._withPendingWrite((0,y.Z)(function*(){return yield J._withRetries(Pe=>bc(Pe,b,R)),J.localCache[b]=R,J.notifyServiceWorker(b)}))})()}_get(b){var R=this;return(0,y.Z)(function*(){const J=yield R._withRetries(Pe=>function Ic(A,v){return eu.apply(this,arguments)}(Pe,b));return R.localCache[b]=J,J})()}_remove(b){var R=this;return(0,y.Z)(function*(){return R._withPendingWrite((0,y.Z)(function*(){return yield R._withRetries(J=>Ss(J,b)),delete R.localCache[b],R.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,y.Z)(function*(){const R=yield b._withRetries(At=>{const qt=Jc(At,!1).getAll();return new il(qt).toPromise()});if(!R)return[];if(0!==b.pendingWrites)return[];const J=[],Pe=new Set;for(const{fbase_key:At,value:qt}of R)Pe.add(At),JSON.stringify(b.localCache[At])!==JSON.stringify(qt)&&(b.notifyListeners(At,qt),J.push(At));for(const At of Object.keys(b.localCache))b.localCache[At]&&!Pe.has(At)&&(b.notifyListeners(At,null),J.push(At));return J})()}notifyListeners(b,R){this.localCache[b]=R;const J=this.listeners[b];if(J)for(const Pe of Array.from(J))Pe(R)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(R)}_removeListener(b,R){this.listeners[b]&&(this.listeners[b].delete(R),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})(),B=1e12;class x{constructor(v){this.auth=v,this.counter=B,this._widgets=new Map}render(v,b){const R=this.counter;return this._widgets.set(R,new V(v,this.auth.name,b||{})),this.counter++,R}reset(v){var b;const R=v||B;null===(b=this._widgets.get(R))||void 0===b||b.delete(),this._widgets.delete(R)}getResponse(v){var b;return(null===(b=this._widgets.get(v||B))||void 0===b?void 0:b.getResponse())||""}execute(v){var b=this;return(0,y.Z)(function*(){var R;return null===(R=b._widgets.get(v||B))||void 0===R||R.execute(),""})()}}class V{constructor(v,b,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof v?document.getElementById(v):v;we(J,"argument-error",{appName:b}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oe(A){const v=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<A;R++)v.push(b.charAt(Math.floor(62*Math.random())));return v.join("")}(50);const{callback:v,"expired-callback":b}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const He=ar("rcb"),Ue=new Me(3e4,6e4);class An{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=xs().grecaptcha)||void 0===v||!v.render)}load(v,b=""){return we(function vr(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(b),v,"argument-error"),this.shouldResolveImmediately(b)&&or(xs().grecaptcha)?Promise.resolve(xs().grecaptcha):new Promise((R,J)=>{const Pe=xs().setTimeout(()=>{J(je(v,"network-request-failed"))},Ue.get());xs()[He]=()=>{xs().clearTimeout(Pe),delete xs()[He];const qt=xs().grecaptcha;if(!qt||!or(qt))return void J(je(v,"internal-error"));const Fn=qt.render;qt.render=(gr,Pr)=>{const Nr=Fn(gr,Pr);return this.counter++,Nr},this.hostLanguage=b,R(qt)},Gr(`https://www.google.com/recaptcha/api.js??${(0,re.xO)({onload:He,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(Pe),J(je(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var b;return!(null===(b=xs().grecaptcha)||void 0===b||!b.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ui{load(v){return(0,y.Z)(function*(){return new x(v)})()}clearedOneInstance(){}}const Dr="recaptcha",us={theme:"light",type:"image"};class Kt{constructor(v,b=Object.assign({},us),R){this.parameters=b,this.type=Dr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ae(R),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof v?document.getElementById(v):v;we(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ui:new An,this.validateStartingState()}verify(){var v=this;return(0,y.Z)(function*(){v.assertNotDestroyed();const b=yield v.render(),R=v.getAssertedRecaptcha();return R.getResponse(b)||new Promise(Pe=>{const At=qt=>{qt&&(v.tokenChangeListeners.delete(At),Pe(qt))};v.tokenChangeListeners.add(At),v.isInvisible&&R.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return b=>{if(this.tokenChangeListeners.forEach(R=>R(b)),"function"==typeof v)v(b);else if("string"==typeof v){const R=xs()[v];"function"==typeof R&&R(b)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,y.Z)(function*(){if(yield v.init(),!v.widgetId){let b=v.container;if(!v.isInvisible){const R=document.createElement("div");b.appendChild(R),b=R}v.widgetId=v.getAssertedRecaptcha().render(b,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,y.Z)(function*(){we(ht()&&!hn(),v.auth,"internal-error"),yield function Hs(){let A=null;return new Promise(v=>{"complete"!==document.readyState?(A=()=>v(),window.addEventListener("load",A)):v()}).catch(v=>{throw A&&window.removeEventListener("load",A),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const b=yield function pt(A){return jt.apply(this,arguments)}(v.auth);we(b,v.auth,"internal-error"),v.parameters.sitekey=b})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ms{constructor(v,b){this.verificationId=v,this.onConfirmation=b}confirm(v){const b=cn._fromVerification(this.verificationId,v);return this.onConfirmation(b)}}function sl(){return(sl=(0,y.Z)(function*(A,v,b){const R=Ae(A),J=yield Sc(R,v,(0,re.m9)(b));return new Ms(J,Pe=>g(R,Pe))})).apply(this,arguments)}function ol(){return(ol=(0,y.Z)(function*(A,v,b){const R=(0,re.m9)(A);yield zo(!1,R,"phone");const J=yield Sc(R.auth,v,(0,re.m9)(b));return new Ms(J,Pe=>U(R,Pe))})).apply(this,arguments)}function bl(){return(bl=(0,y.Z)(function*(A,v,b){const R=(0,re.m9)(A),J=yield Sc(R.auth,v,(0,re.m9)(b));return new Ms(J,Pe=>zt(R,Pe))})).apply(this,arguments)}function Sc(A,v,b){return $l.apply(this,arguments)}function $l(){return $l=(0,y.Z)(function*(A,v,b){var R;const J=yield b.verify();try{let Pe;if(we("string"==typeof J,A,"argument-error"),we(b.type===Dr,A,"argument-error"),Pe="string"==typeof v?{phoneNumber:v}:v,"session"in Pe){const At=Pe.session;if("phoneNumber"in Pe)return we("enroll"===At.type,A,"internal-error"),(yield function So(A,v){return xt(A,"POST","/v2/accounts/mfaEnrollment:start",Tt(A,v))}(A,{idToken:At.credential,phoneEnrollmentInfo:{phoneNumber:Pe.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{we("signin"===At.type,A,"internal-error");const qt=(null===(R=Pe.multiFactorHint)||void 0===R?void 0:R.uid)||Pe.multiFactorUid;return we(qt,A,"missing-multi-factor-info"),(yield function $s(A,v){return xt(A,"POST","/v2/accounts/mfaSignIn:start",Tt(A,v))}(A,{mfaPendingCredential:At.credential,mfaEnrollmentId:qt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:At}=yield function Ns(A,v){return ks.apply(this,arguments)}(A,{phoneNumber:Pe.phoneNumber,recaptchaToken:J});return At}}finally{b._reset()}}),$l.apply(this,arguments)}function ea(){return(ea=(0,y.Z)(function*(A,v){yield vs((0,re.m9)(A),v)})).apply(this,arguments)}let Dc=(()=>{class A{constructor(b){this.providerId=A.PROVIDER_ID,this.auth=Ae(b)}verifyPhoneNumber(b,R){return Sc(this.auth,b,(0,re.m9)(R))}static credential(b,R){return cn._fromVerification(b,R)}static credentialFromResult(b){return A.credentialFromTaggedObject(b)}static credentialFromError(b){return A.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:R,temporaryProof:J}=b;return R&&J?cn._fromTokenResponse(R,J):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function Il(A,v){return v?hi(v):(we(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class Tc extends ie{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Ti(v,this._buildIdpRequest())}_linkToIdToken(v,b){return Ti(v,this._buildIdpRequest(b))}_getReauthenticationResolver(v){return Ti(v,this._buildIdpRequest())}_buildIdpRequest(v){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(b.idToken=v),b}}function lo(A){return M(A.auth,new Tc(A),A.bypassAuthState)}function Em(A){const{auth:v,user:b}=A;return we(b,v,"internal-error"),tl(b,new Tc(A),A.bypassAuthState)}function tu(A){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,y.Z)(function*(A){const{auth:v,user:b}=A;return we(b,v,"internal-error"),vs(b,new Tc(A),A.bypassAuthState)})).apply(this,arguments)}class $u{constructor(v,b,R,J,Pe=!1){this.auth=v,this.resolver=R,this.user=J,this.bypassAuthState=Pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var v=this;return new Promise(function(){var b=(0,y.Z)(function*(R,J){v.pendingPromise={resolve:R,reject:J};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(Pe){v.reject(Pe)}});return function(R,J){return b.apply(this,arguments)}}())}onAuthEvent(v){var b=this;return(0,y.Z)(function*(){const{urlResponse:R,sessionId:J,postBody:Pe,tenantId:At,error:qt,type:Fn}=v;if(qt)return void b.reject(qt);const gr={auth:b.auth,requestUri:R,sessionId:J,tenantId:At||void 0,postBody:Pe||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Fn)(gr))}catch(Pr){b.reject(Pr)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return lo;case"linkViaPopup":case"linkViaRedirect":return tu;case"reauthViaPopup":case"reauthViaRedirect":return Em;default:Ee(this.auth,"internal-error")}}resolve(v){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ac=new Me(2e3,1e4);function xd(){return(xd=(0,y.Z)(function*(A,v,b){const R=Ae(A);Re(A,v,Ai);const J=Il(R,b);return new nu(R,"signInViaPopup",v,J).executeNotNull()})).apply(this,arguments)}function Go(){return(Go=(0,y.Z)(function*(A,v,b){const R=(0,re.m9)(A);Re(R.auth,v,Ai);const J=Il(R.auth,b);return new nu(R.auth,"reauthViaPopup",v,J,R).executeNotNull()})).apply(this,arguments)}function xc(){return(xc=(0,y.Z)(function*(A,v,b){const R=(0,re.m9)(A);Re(R.auth,v,Ai);const J=Il(R.auth,b);return new nu(R.auth,"linkViaPopup",v,J,R).executeNotNull()})).apply(this,arguments)}let nu=(()=>{class A extends $u{constructor(b,R,J,Pe,At){super(b,R,Pe,At),this.provider=J,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var b=this;return(0,y.Z)(function*(){const R=yield b.execute();return we(R,b.auth,"internal-error"),R})()}onExecution(){var b=this;return(0,y.Z)(function*(){lt(1===b.filter.length,"Popup operations only handle one event");const R=mr();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],R),b.authWindow.associatedEvent=R,b.resolver._originValidation(b.auth).catch(J=>{b.reject(J)}),b.resolver._isIframeWebStorageSupported(b.auth,J=>{J||b.reject(je(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const b=()=>{var R,J;this.pollId=null!==(J=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,Ac.get())};b()}}return A.currentPopupAction=null,A})();const Oh="pendingRedirect",ru=new Map;class iu extends $u{constructor(v,b,R=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,R),this.eventId=null}execute(){var v=()=>super.execute,b=this;return(0,y.Z)(function*(){let R=ru.get(b.auth._key());if(!R){try{const Pe=(yield function bm(A,v){return Nh.apply(this,arguments)}(b.resolver,b.auth))?yield v().call(b):null;R=()=>Promise.resolve(Pe)}catch(J){R=()=>Promise.reject(J)}ru.set(b.auth._key(),R)}return b.bypassAuthState||ru.set(b.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(v){var b=()=>super.onAuthEvent,R=this;return(0,y.Z)(function*(){if("signInViaRedirect"===v.type)return b().call(R,v);if("unknown"!==v.type){if(v.eventId){const J=yield R.auth._redirectUserForId(v.eventId);if(J)return R.user=J,b().call(R,v);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Nh(){return(Nh=(0,y.Z)(function*(A,v){const b=Mc(v),R=su(A);if(!(yield R._isAvailable()))return!1;const J="true"===(yield R._get(b));return yield R._remove(b),J})).apply(this,arguments)}function kh(A,v){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,y.Z)(function*(A,v){return su(A)._set(Mc(v),"true")})).apply(this,arguments)}function Jf(A,v){ru.set(A._key(),v)}function su(A){return hi(A._redirectPersistence)}function Mc(A){return st(Oh,A.config.apiKey,A.name)}function lg(A,v,b){return function Fh(A,v,b){return Vu.apply(this,arguments)}(A,v,b)}function Vu(){return(Vu=(0,y.Z)(function*(A,v,b){const R=Ae(A);Re(A,v,Ai),yield R._initializationPromise;const J=Il(R,b);return yield kh(J,R),J._openRedirect(R,v,"signInViaRedirect")})).apply(this,arguments)}function Cl(A,v,b){return function co(A,v,b){return Pc.apply(this,arguments)}(A,v,b)}function Pc(){return(Pc=(0,y.Z)(function*(A,v,b){const R=(0,re.m9)(A);Re(R.auth,v,Ai),yield R.auth._initializationPromise;const J=Il(R.auth,b);yield kh(J,R.auth);const Pe=yield Ua(R);return J._openRedirect(R.auth,v,"reauthViaRedirect",Pe)})).apply(this,arguments)}function Wo(A,v,b){return function Bh(A,v,b){return bs.apply(this,arguments)}(A,v,b)}function bs(){return(bs=(0,y.Z)(function*(A,v,b){const R=(0,re.m9)(A);Re(R.auth,v,Ai),yield R.auth._initializationPromise;const J=Il(R.auth,b);yield zo(!1,R,v.providerId),yield kh(J,R.auth);const Pe=yield Ua(R);return J._openRedirect(R.auth,v,"linkViaRedirect",Pe)})).apply(this,arguments)}function Ps(){return(Ps=(0,y.Z)(function*(A,v){return yield Ae(A)._initializationPromise,ls(A,v,!1)})).apply(this,arguments)}function ls(A,v){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,y.Z)(function*(A,v,b=!1){const R=Ae(A),J=Il(R,v),At=yield new iu(R,J,b).execute();return At&&!b&&(delete At.user._redirectEventId,yield R._persistUserIfCurrent(At.user),yield R._setRedirectUser(null,v)),At})).apply(this,arguments)}function Ua(A){return uo.apply(this,arguments)}function uo(){return(uo=(0,y.Z)(function*(A){const v=mr(`${A.uid}:::`);return A._redirectEventId=v,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),v})).apply(this,arguments)}class Im{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let b=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(v,R)&&(b=!0,this.sendToConsumer(v,R),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Sl(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ep(A);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=v,b=!0)),b}sendToConsumer(v,b){var R;if(v.error&&!ep(v)){const J=(null===(R=v.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";b.onError(je(this.auth,J))}else b.onAuthEvent(v)}isEventForConsumer(v,b){const R=null===b.eventId||!!v.eventId&&v.eventId===b.eventId;return b.filter.includes(v.type)&&R}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ho(v))}saveEventToCache(v){this.cachedEventUids.add(ho(v)),this.lastProcessedEventTime=Date.now()}}function ho(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(v=>v).join("-")}function ep({type:A,error:v}){return"unknown"===A&&"auth/no-auth-event"===(null==v?void 0:v.code)}function Ys(A){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,y.Z)(function*(A,v={}){return xt(A,"GET","/v1/projects",v)})).apply(this,arguments)}const au=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Va=/^https?/;function tp(){return(tp=(0,y.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:v}=yield Ys(A);for(const b of v)try{if(Vl(b))return}catch{}Ee(A,"unauthorized-domain")})).apply(this,arguments)}function Vl(A){const v=it(),{protocol:b,hostname:R}=new URL(v);if(A.startsWith("chrome-extension://")){const At=new URL(A);return""===At.hostname&&""===R?"chrome-extension:"===b&&A.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===b&&At.hostname===R}if(!Va.test(b))return!1;if(au.test(A))return R===A;const J=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(R)}const Ds=new Me(3e4,6e4);function jl(){const A=xs().___jsl;if(null!=A&&A.H)for(const v of Object.keys(A.H))if(A.H[v].r=A.H[v].r||[],A.H[v].L=A.H[v].L||[],A.H[v].r=[...A.H[v].L],A.CP)for(let b=0;b<A.CP.length;b++)A.CP[b]=null}let Ia=null;const Ca=new Me(5e3,15e3),np="__/auth/iframe",ja="emulator/auth/iframe",Rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ko=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lu(A){const v=A.config;we(v.authDomain,A,"auth-domain-config-required");const b=v.emulator?Q(v,ja):`https://${A.config.authDomain}/${np}`,R={apiKey:v.apiKey,appName:A.name,v:se.SDK_VERSION},J=Ko.get(A.config.apiHost);J&&(R.eid=J);const Pe=A._getFrameworks();return Pe.length&&(R.fw=Pe.join(",")),`${b}?${(0,re.xO)(R).slice(1)}`}function cu(){return cu=(0,y.Z)(function*(A){const v=yield function Rs(A){return Ia=Ia||function Yo(A){return new Promise((v,b)=>{var R,J,Pe;function At(){jl(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{jl(),b(je(A,"network-request-failed"))},timeout:Ds.get()})}if(null!==(J=null===(R=xs().gapi)||void 0===R?void 0:R.iframes)&&void 0!==J&&J.Iframe)v(gapi.iframes.getContext());else{if(null===(Pe=xs().gapi)||void 0===Pe||!Pe.load){const qt=ar("iframefcb");return xs()[qt]=()=>{gapi.load?At():b(je(A,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${qt}`).catch(Fn=>b(Fn))}At()}}).catch(v=>{throw Ia=null,v})}(A),Ia}(A),b=xs().gapi;return we(b,A,"internal-error"),v.open({where:document.body,url:lu(A),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rc,dontclear:!0},R=>new Promise(function(){var J=(0,y.Z)(function*(Pe,At){yield R.restyle({setHideOnLeave:!1});const qt=je(A,"network-request-failed"),Fn=xs().setTimeout(()=>{At(qt)},Ca.get());function gr(){xs().clearTimeout(Fn),Pe(R)}R.ping(gr).then(gr,()=>{At(qt)})});return function(Pe,At){return J.apply(this,arguments)}}()))}),cu.apply(this,arguments)}const fa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ip{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Uh="__/auth/handler",fo="emulator/auth/handler",dg=encodeURIComponent("fac");function ys(A,v,b,R,J,Pe){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,y.Z)(function*(A,v,b,R,J,Pe){we(A.config.authDomain,A,"auth-domain-config-required"),we(A.config.apiKey,A,"invalid-api-key");const At={apiKey:A.config.apiKey,appName:A.name,authType:b,redirectUrl:R,v:se.SDK_VERSION,eventId:J};if(v instanceof Ai){v.setDefaultLanguage(A.languageCode),At.providerId=v.providerId||"",(0,re.xb)(v.getCustomParameters())||(At.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Pr,Nr]of Object.entries(Pe||{}))At[Pr]=Nr}if(v instanceof Mi){const Pr=v.getScopes().filter(Nr=>""!==Nr);Pr.length>0&&(At.scopes=Pr.join(","))}A.tenantId&&(At.tid=A.tenantId);const qt=At;for(const Pr of Object.keys(qt))void 0===qt[Pr]&&delete qt[Pr];const Fn=yield A._getAppCheckToken(),gr=Fn?`#${dg}=${encodeURIComponent(Fn)}`:"";return`${function hg({config:A}){return A.emulator?Q(A,fo):`https://${A.authDomain}/${Uh}`}(A)}?${(0,re.xO)(qt).slice(1)}${gr}`})).apply(this,arguments)}const du="webStorageSupport",Pd=class hu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xi,this._completeRedirectFn=ls,this._overrideRedirectResult=Jf}_openPopup(v,b,R,J){var Pe=this;return(0,y.Z)(function*(){var At;lt(null===(At=Pe.eventManagers[v._key()])||void 0===At?void 0:At.manager,"_initialize() not called before _openPopup()");const qt=yield ys(v,b,R,it(),J);return function cg(A,v,b,R=500,J=600){const Pe=Math.max((window.screen.availHeight-J)/2,0).toString(),At=Math.max((window.screen.availWidth-R)/2,0).toString();let qt="";const Fn=Object.assign(Object.assign({},fa),{width:R.toString(),height:J.toString(),top:Pe,left:At}),gr=(0,re.z$)().toLowerCase();b&&(qt=Ut(gr)?"_blank":b),Se(gr)&&(v=v||"http://localhost",Fn.scrollbars="yes");const Pr=Object.entries(Fn).reduce((Ks,[Uo,Lc])=>`${Ks}${Uo}=${Lc},`,"");if(function ai(A=(0,re.z$)()){var v;return br(A)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(gr)&&"_self"!==qt)return function ug(A,v){const b=document.createElement("a");b.href=A,b.target=v;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(R)}(v||"",qt),new ip(null);const Nr=window.open(v||"",qt,Pr);we(Nr,A,"popup-blocked");try{Nr.focus()}catch{}return new ip(Nr)}(v,qt,mr())})()}_openRedirect(v,b,R,J){var Pe=this;return(0,y.Z)(function*(){return yield Pe._originValidation(v),function Er(A){xs().location.href=A}(yield ys(v,b,R,it(),J)),new Promise(()=>{})})()}_initialize(v){const b=v._key();if(this.eventManagers[b]){const{manager:J,promise:Pe}=this.eventManagers[b];return J?Promise.resolve(J):(lt(Pe,"If manager is not set, promise should be"),Pe)}const R=this.initAndGetManager(v);return this.eventManagers[b]={promise:R},R.catch(()=>{delete this.eventManagers[b]}),R}initAndGetManager(v){var b=this;return(0,y.Z)(function*(){const R=yield function rp(A){return cu.apply(this,arguments)}(v),J=new Im(v);return R.register("authEvent",Pe=>(we(null==Pe?void 0:Pe.authEvent,v,"invalid-auth-event"),{status:J.onEvent(Pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[v._key()]={manager:J},b.iframes[v._key()]=R,J})()}_isIframeWebStorageSupported(v,b){this.iframes[v._key()].send(du,{type:du},J=>{var Pe;const At=null===(Pe=null==J?void 0:J[0])||void 0===Pe?void 0:Pe[du];void 0!==At&&b(!!At),Ee(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const b=v._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function ha(A){return tp.apply(this,arguments)}(v)),this.originValidationPromises[b]}get _shouldInitProactively(){return Li()||Fe()||br()}};class fg{constructor(v){this.factorId=v}_process(v,b,R){switch(b.type){case"enroll":return this._finalizeEnroll(v,b.credential,R);case"signin":return this._finalizeSignIn(v,b.credential);default:return We("unexpected MultiFactorSessionType")}}}class Ji extends fg{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new Ji(v)}_finalizeEnroll(v,b,R){return function Qs(A,v){return xt(A,"POST","/v2/accounts/mfaEnrollment:finalize",Tt(A,v))}(v,{idToken:b,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,b){return function yr(A,v){return xt(A,"POST","/v2/accounts/mfaSignIn:finalize",Tt(A,v))}(v,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ds=(()=>{class A{constructor(){}static assertion(b){return Ji._fromCredential(b)}}return A.FACTOR_ID="phone",A})();var Wl="@firebase/auth";class Rd{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var b=this;return(0,y.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const b=this.auth.onIdTokenChanged(R=>{v((null==R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,b),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const b=this.internalListeners.get(v);b&&(this.internalListeners.delete(v),b(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ha(){return window}(0,re.Pz)("authIdTokenMaxAge"),function fu(A){(0,se._registerComponent)(new G.wA("auth",(v,{options:b})=>{const R=v.getProvider("app").getImmediate(),J=v.getProvider("heartbeat"),Pe=v.getProvider("app-check-internal"),{apiKey:At,authDomain:qt}=R.options;we(At&&!At.includes(":"),"invalid-api-key",{appName:R.name});const Fn={apiKey:At,authDomain:qt,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xe(A)},gr=new gs(R,J,Pe,Fn);return function Rt(A,v){const b=(null==v?void 0:v.persistence)||[],R=(Array.isArray(b)?b:[b]).map(hi);null!=v&&v.errorMap&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(R,null==v?void 0:v.popupRedirectResolver)}(gr,b),gr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,b,R)=>{v.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new G.wA("auth-internal",v=>{const b=Ae(v.getProvider("auth").getImmediate());return new Rd(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Wl,"0.23.2",function Cm(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(A)),(0,se.registerVersion)(Wl,"0.23.2","esm2017")}("Browser");function Hu(){return Hu=(0,y.Z)(function*(A,v,b){var R;const{BuildInfo:J}=Ha();lt(v.sessionId,"AuthEvent did not contain a session ID");const Pe=yield function Tl(A){return Wh.apply(this,arguments)}(v.sessionId),At={};return br()?At.ibi=J.packageName:En()?At.apn=J.packageName:Ee(A,"operation-not-supported-in-this-environment"),J.displayName&&(At.appDisplayName=J.displayName),At.sessionId=Pe,ys(A,b,v.type,void 0,null!==(R=v.eventId)&&void 0!==R?R:void 0,At)}),Hu.apply(this,arguments)}function Nc(){return(Nc=(0,y.Z)(function*(A){const{BuildInfo:v}=Ha(),b={};br()?b.iosBundleId=v.packageName:En()?b.androidPackageName=v.packageName:Ee(A,"operation-not-supported-in-this-environment"),yield Ys(A,b)})).apply(this,arguments)}function Od(){return(Od=(0,y.Z)(function*(A,v,b){const{cordova:R}=Ha();let J=()=>{};try{yield new Promise((Pe,At)=>{let qt=null;function Fn(){var Nr;Pe();const Ks=null===(Nr=R.plugins.browsertab)||void 0===Nr?void 0:Nr.close;"function"==typeof Ks&&Ks(),"function"==typeof(null==b?void 0:b.close)&&b.close()}function gr(){qt||(qt=window.setTimeout(()=>{At(je(A,"redirect-cancelled-by-user"))},2e3))}function Pr(){"visible"===(null==document?void 0:document.visibilityState)&&gr()}v.addPassiveListener(Fn),document.addEventListener("resume",gr,!1),En()&&document.addEventListener("visibilitychange",Pr,!1),J=()=>{v.removePassiveListener(Fn),document.removeEventListener("resume",gr,!1),document.removeEventListener("visibilitychange",Pr,!1),qt&&window.clearTimeout(qt)}})}finally{J()}})).apply(this,arguments)}function Wh(){return(Wh=(0,y.Z)(function*(A){const v=function no(A){if(lt(/[0-9a-zA-Z]+/.test(A),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(A);const v=new ArrayBuffer(A.length),b=new Uint8Array(v);for(let R=0;R<A.length;R++)b[R]=A.charCodeAt(R);return b}(A),b=yield crypto.subtle.digest("SHA-256",v);return Array.from(new Uint8Array(b)).map(J=>J.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Kl extends Im{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(v=>{this.resolveInialized=v})}addPassiveListener(v){this.passiveListeners.add(v)}removePassiveListener(v){this.passiveListeners.delete(v)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(v){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(v)),super.onEvent(v)}initialized(){var v=this;return(0,y.Z)(function*(){yield v.initPromise})()}}function Ta(A){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,y.Z)(function*(A){const v=yield gu()._get(kd(A));return v&&(yield gu()._remove(kd(A))),v})).apply(this,arguments)}function Aa(){const A=[];for(let b=0;b<20;b++){const R=Math.floor(62*Math.random());A.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(R))}return A.join("")}function gu(){return hi(Do)}function kd(A){return st("authEvent",A.config.apiKey,A.name)}function Wu(A){if(null==A||!A.includes("?"))return{};const[v,...b]=A.split("?");return(0,re.zd)(b.join("?"))}const Wa=class qh{constructor(){this._redirectPersistence=xi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ls,this._overrideRedirectResult=Jf}_initialize(v){var b=this;return(0,y.Z)(function*(){const R=v._key();let J=b.eventManagers.get(R);return J||(J=new Kl(v),b.eventManagers.set(R,J),b.attachCallbackListeners(v,J)),J})()}_openPopup(v){Ee(v,"operation-not-supported-in-this-environment")}_openRedirect(v,b,R,J){var Pe=this;return(0,y.Z)(function*(){!function Nd(A){var v,b,R,J,Pe,At,qt,Fn,gr,Pr;const Nr=Ha();we("function"==typeof(null===(v=null==Nr?void 0:Nr.universalLinks)||void 0===v?void 0:v.subscribe),A,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(typeof(null===(b=null==Nr?void 0:Nr.BuildInfo)||void 0===b?void 0:b.packageName)<"u",A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(Pe=null===(J=null===(R=null==Nr?void 0:Nr.cordova)||void 0===R?void 0:R.plugins)||void 0===J?void 0:J.browsertab)||void 0===Pe?void 0:Pe.openUrl),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Fn=null===(qt=null===(At=null==Nr?void 0:Nr.cordova)||void 0===At?void 0:At.plugins)||void 0===qt?void 0:qt.browsertab)||void 0===Fn?void 0:Fn.isAvailable),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Pr=null===(gr=null==Nr?void 0:Nr.cordova)||void 0===gr?void 0:gr.InAppBrowser)||void 0===Pr?void 0:Pr.open),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(v);const At=yield Pe._initialize(v);yield At.initialized(),At.resetRedirect(),function Lh(){ru.clear()}(),yield Pe._originValidation(v);const qt=function Gu(A,v,b=null){return{type:v,eventId:b,urlResponse:null,sessionId:Aa(),postBody:null,tenantId:A.tenantId,error:je(A,"no-auth-event")}}(v,R,J);yield function Da(A,v){return gu()._set(kd(A),v)}(v,qt);const Fn=yield function Tm(A,v,b){return Hu.apply(this,arguments)}(v,qt,b),gr=yield function Hh(A){const{cordova:v}=Ha();return new Promise(b=>{v.plugins.browsertab.isAvailable(R=>{let J=null;R?v.plugins.browsertab.openUrl(A):J=v.InAppBrowser.open(A,function Gn(A=(0,re.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}()?"_blank":"_system","location=yes"),b(J)})})}(Fn);return function Gh(A,v,b){return Od.apply(this,arguments)}(v,At,gr)})()}_isIframeWebStorageSupported(v,b){throw new Error("Method not implemented.")}_originValidation(v){const b=v._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Oc(A){return Nc.apply(this,arguments)}(v)),this.originValidationPromises[b]}attachCallbackListeners(v,b){const{universalLinks:R,handleOpenURL:J,BuildInfo:Pe}=Ha(),At=setTimeout((0,y.Z)(function*(){yield Ta(v),b.onEvent(ql())}),500),qt=function(){var Pr=(0,y.Z)(function*(Nr){clearTimeout(At);const Ks=yield Ta(v);let Uo=null;Ks&&null!=Nr&&Nr.url&&(Uo=function pu(A,v){var b,R;const J=function Ga(A){const v=Wu(A),b=v.link?decodeURIComponent(v.link):void 0,R=Wu(b).link,J=v.deep_link_id?decodeURIComponent(v.deep_link_id):void 0;return Wu(J).link||J||R||b||A}(v);if(J.includes("/__/auth/callback")){const Pe=Wu(J),At=Pe.firebaseError?function Kh(A){try{return JSON.parse(A)}catch{return null}}(decodeURIComponent(Pe.firebaseError)):null,qt=null===(R=null===(b=null==At?void 0:At.code)||void 0===b?void 0:b.split("auth/"))||void 0===R?void 0:R[1],Fn=qt?je(qt):null;return Fn?{type:A.type,eventId:A.eventId,tenantId:A.tenantId,error:Fn,urlResponse:null,sessionId:null,postBody:null}:{type:A.type,eventId:A.eventId,tenantId:A.tenantId,sessionId:A.sessionId,urlResponse:J,postBody:null}}return null}(Ks,Nr.url)),b.onEvent(Uo||ql())});return function(Ks){return Pr.apply(this,arguments)}}();typeof R<"u"&&"function"==typeof R.subscribe&&R.subscribe(null,qt);const Fn=J,gr=`${Pe.packageName.toLowerCase()}://`;Ha().handleOpenURL=function(){var Pr=(0,y.Z)(function*(Nr){if(Nr.toLowerCase().startsWith(gr)&&qt({url:Nr}),"function"==typeof Fn)try{Fn(Nr)}catch(Ks){console.error(Ks)}});return function(Nr){return Pr.apply(this,arguments)}}()}};function ql(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:je("no-auth-event")}}function Bo(){var A;return(null===(A=null==self?void 0:self.location)||void 0===A?void 0:A.protocol)||null}function vu(A=(0,re.z$)()){return!("file:"!==Bo()&&"ionic:"!==Bo()&&"capacitor:"!==Bo()||!A.toLowerCase().match(/iphone|ipad|ipod|android/))}function $o(){try{const A=self.localStorage,v=mr();if(A)return A.setItem(v,"1"),A.removeItem(v),!function Am(A=(0,re.z$)()){return function Ya(){return(0,re.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ni(A=(0,re.z$)()){return/Edge\/\d+/.test(A)}(A)}()||(0,re.hl)()}catch{return Ku()&&(0,re.hl)()}return!1}function Ku(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qu(){return(function op(){return"http:"===Bo()||"https:"===Bo()}()||(0,re.ru)()||vu())&&!function gg(){return(0,re.b$)()||(0,re.UG)()}()&&$o()&&!Ku()}function Ld(){return vu()&&typeof document<"u"}function yu(){return(yu=(0,y.Z)(function*(){return!!Ld()&&new Promise(A=>{const v=setTimeout(()=>{A(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(v),A(!0)})})})).apply(this,arguments)}const ta={LOCAL:"local",NONE:"none",SESSION:"session"},Al=we,Zl="persistence";function xl(A){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,y.Z)(function*(A){yield A._initializationPromise;const v=ap(),b=st(Zl,A.config.apiKey,A.name);v&&v.setItem(b,A._getPersistence())})).apply(this,arguments)}function ap(){var A;try{return(null===(A=function mg(){return typeof window<"u"?window:null}())||void 0===A?void 0:A.sessionStorage)||null}catch{return null}}const yg=we;class pa{constructor(){this.browserResolver=hi(Pd),this.cordovaResolver=hi(Wa),this.underlyingResolver=null,this._redirectPersistence=xi,this._completeRedirectFn=ls,this._overrideRedirectResult=Jf}_initialize(v){var b=this;return(0,y.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(v)})()}_openPopup(v,b,R,J){var Pe=this;return(0,y.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openPopup(v,b,R,J)})()}_openRedirect(v,b,R,J){var Pe=this;return(0,y.Z)(function*(){return yield Pe.selectUnderlyingResolver(),Pe.assertedUnderlyingResolver._openRedirect(v,b,R,J)})()}_isIframeWebStorageSupported(v,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(v,b)}_originValidation(v){return this.assertedUnderlyingResolver._originValidation(v)}get _shouldInitProactively(){return Ld()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var v=this;return(0,y.Z)(function*(){if(v.underlyingResolver)return;const b=yield function vo(){return yu.apply(this,arguments)}();v.underlyingResolver=b?v.cordovaResolver:v.browserResolver})()}}function Qh(A){return A.unwrap()}function Ts(A){return Fd(A)}function Fd(A){const{_tokenResponse:v}=A instanceof re.ZR?A.customData:A;if(!v)return null;if(!(A instanceof re.ZR)&&"temporaryProof"in v&&"phoneNumber"in v)return Dc.credentialFromResult(A);const b=v.providerId;if(!b||b===Ce.PASSWORD)return null;let R;switch(b){case Ce.GOOGLE:R=aa;break;case Ce.FACEBOOK:R=ms;break;case Ce.GITHUB:R=ct;break;case Ce.TWITTER:R=jn;break;default:const{oauthIdToken:J,oauthAccessToken:Pe,oauthTokenSecret:At,pendingToken:qt,nonce:Fn}=v;return Pe||At||J||qt?qt?b.startsWith("saml.")?_t._create(b,qt):_r._fromParams({providerId:b,signInMethod:b,pendingToken:qt,idToken:J,accessToken:Pe}):new Fi(b).credential({idToken:J,accessToken:Pe,rawNonce:Fn}):null}return A instanceof re.ZR?R.credentialFromError(A):R.credentialFromResult(A)}function xo(A,v){return v.catch(b=>{throw b instanceof re.ZR&&function ga(A,v){var b;const R=null===(b=v.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===(null==v?void 0:v.code))v.resolver=new wu(A,function Qr(A,v){var b;const R=(0,re.m9)(A),J=v;return we(v.customData.operationType,R,"argument-error"),we(null===(b=J.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,R,"argument-error"),Co._fromError(R,J)}(A,v));else if(R){const J=Fd(v),Pe=v;J&&(Pe.credential=J,Pe.tenantId=R.tenantId||void 0,Pe.email=R.email||void 0,Pe.phoneNumber=R.phoneNumber||void 0)}}(A,b),b}).then(b=>{const J=b.user;return{operationType:b.operationType,credential:Ts(b),additionalUserInfo:nt(b),user:xa.getOrCreate(J)}})}function Bd(A,v){return kc.apply(this,arguments)}function kc(){return(kc=(0,y.Z)(function*(A,v){const b=yield v;return{verificationId:b.verificationId,confirm:R=>xo(A,b.confirm(R))}})).apply(this,arguments)}class wu{constructor(v,b){this.resolver=b,this.auth=function xm(A){return A.wrapped()}(v)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(v){return xo(Qh(this.auth),this.resolver.resolveSignIn(v))}}class xa{constructor(v){this._delegate=v,this.multiFactor=function xh(A){const v=(0,re.m9)(A);return Ba.has(v)||Ba.set(v,Ll._fromUser(v)),Ba.get(v)}(v)}static getOrCreate(v){return xa.USER_MAP.has(v)||xa.USER_MAP.set(v,new xa(v)),xa.USER_MAP.get(v)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(v){return this._delegate.getIdTokenResult(v)}getIdToken(v){return this._delegate.getIdToken(v)}linkAndRetrieveDataWithCredential(v){return this.linkWithCredential(v)}linkWithCredential(v){var b=this;return(0,y.Z)(function*(){return xo(b.auth,U(b._delegate,v))})()}linkWithPhoneNumber(v,b){var R=this;return(0,y.Z)(function*(){return Bd(R.auth,function ko(A,v,b){return ol.apply(this,arguments)}(R._delegate,v,b))})()}linkWithPopup(v){var b=this;return(0,y.Z)(function*(){return xo(b.auth,function Rh(A,v,b){return xc.apply(this,arguments)}(b._delegate,v,pa))})()}linkWithRedirect(v){var b=this;return(0,y.Z)(function*(){return yield xl(Ae(b.auth)),Wo(b._delegate,v,pa)})()}reauthenticateAndRetrieveDataWithCredential(v){return this.reauthenticateWithCredential(v)}reauthenticateWithCredential(v){var b=this;return(0,y.Z)(function*(){return xo(b.auth,zt(b._delegate,v))})()}reauthenticateWithPhoneNumber(v,b){return Bd(this.auth,function El(A,v,b){return bl.apply(this,arguments)}(this._delegate,v,b))}reauthenticateWithPopup(v){return xo(this.auth,function ag(A,v,b){return Go.apply(this,arguments)}(this._delegate,v,pa))}reauthenticateWithRedirect(v){var b=this;return(0,y.Z)(function*(){return yield xl(Ae(b.auth)),Cl(b._delegate,v,pa)})()}sendEmailVerification(v){return function ba(A,v){return kl.apply(this,arguments)}(this._delegate,v)}unlink(v){var b=this;return(0,y.Z)(function*(){return yield function la(A,v){return Po.apply(this,arguments)}(b._delegate,v),b})()}updateEmail(v){return function Sd(A,v){return Dd((0,re.m9)(A),v,null)}(this._delegate,v)}updatePassword(v){return function Jo(A,v){return Dd((0,re.m9)(A),null,v)}(this._delegate,v)}updatePhoneNumber(v){return function Ad(A,v){return ea.apply(this,arguments)}(this._delegate,v)}updateProfile(v){return function zs(A,v){return yc.apply(this,arguments)}(this._delegate,v)}verifyBeforeUpdateEmail(v,b){return function ka(A,v,b){return La.apply(this,arguments)}(this._delegate,v,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xa.USER_MAP=new WeakMap;const al=we;let Ka=(()=>{class A{constructor(b,R){if(this.app=b,R.isInitialized())return this._delegate=R.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:J}=b.options;al(J,"invalid-api-key",{appName:b.name}),al(J,"invalid-api-key",{appName:b.name});const Pe=typeof window<"u"?pa:void 0;this._delegate=R.initialize({options:{persistence:lp(J,b.name),popupRedirectResolver:Pe}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,R){!function Vt(A,v,b){const R=Ae(A);we(R._canInitEmulator,R,"emulator-config-failed"),we(/^https?:\/\//.test(v),R,"invalid-emulator-scheme");const J=!(null==b||!b.disableWarnings),Pe=q(v),{host:At,port:qt}=function pe(A){const v=q(A),b=/(\/\/)?([^?#/]+)/.exec(A.substr(v.length));if(!b)return{host:"",port:null};const R=b[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(R);if(J){const Pe=J[1];return{host:Pe,port:ue(R.substr(Pe.length+1))}}{const[Pe,At]=R.split(":");return{host:Pe,port:ue(At)}}}(v);R.config.emulator={url:`${Pe}//${At}${null===qt?"":`:${qt}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:At,port:qt,protocol:Pe.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function Y(){function A(){const v=document.createElement("p"),b=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}(this._delegate,b,R)}applyActionCode(b){return function Oo(A,v){return ss.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return pc(this._delegate,b)}confirmPasswordReset(b,R){return function fc(A,v,b){return ao.apply(this,arguments)}(this._delegate,b,R)}createUserWithEmailAndPassword(b,R){var J=this;return(0,y.Z)(function*(){return xo(J._delegate,function _a(A,v,b){return wa.apply(this,arguments)}(J._delegate,b,R))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function ua(A,v){return ml.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function Cd(A,v){const b=Or.parseLink(v);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}(0,b)}getRedirectResult(){var b=this;return(0,y.Z)(function*(){al(qu(),b._delegate,"operation-not-supported-in-this-environment");const R=yield function ju(A,v){return Ps.apply(this,arguments)}(b._delegate,pa);return R?xo(b._delegate,Promise.resolve(R)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function Fo(A,v){Ae(A)._logFramework(v)}(this._delegate,b)}onAuthStateChanged(b,R,J){const{next:Pe,error:At,complete:qt}=Zu(b,R,J);return this._delegate.onAuthStateChanged(Pe,At,qt)}onIdTokenChanged(b,R,J){const{next:Pe,error:At,complete:qt}=Zu(b,R,J);return this._delegate.onIdTokenChanged(Pe,At,qt)}sendSignInLinkToEmail(b,R){return function Ea(A,v,b){return Nl.apply(this,arguments)}(this._delegate,b,R)}sendPasswordResetEmail(b,R){return function Ho(A,v,b){return pl.apply(this,arguments)}(this._delegate,b,R||void 0)}setPersistence(b){var R=this;return(0,y.Z)(function*(){let J;switch(function vg(A,v){Al(Object.values(ta).includes(v),A,"invalid-persistence-type"),(0,re.b$)()?Al(v!==ta.SESSION,A,"unsupported-persistence-type"):(0,re.UG)()?Al(v===ta.NONE,A,"unsupported-persistence-type"):Ku()?Al(v===ta.NONE||v===ta.LOCAL&&(0,re.hl)(),A,"unsupported-persistence-type"):Al(v===ta.NONE||$o(),A,"unsupported-persistence-type")}(R._delegate,b),b){case ta.SESSION:J=xi;break;case ta.LOCAL:J=(yield hi(Bl)._isAvailable())?Bl:Do;break;case ta.NONE:J=oi;break;default:return Ee("argument-error",{appName:R._delegate.name})}return R._delegate.setPersistence(J)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return xo(this._delegate,function Ri(A){return Cs.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return xo(this._delegate,g(this._delegate,b))}signInWithCustomToken(b){return xo(this._delegate,function Gs(A,v){return mo.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,R){return xo(this._delegate,function mc(A,v,b){return g((0,re.m9)(A),Ki.credential(v,b))}(this._delegate,b,R))}signInWithEmailLink(b,R){return xo(this._delegate,function gl(A,v,b){return nl.apply(this,arguments)}(this._delegate,b,R))}signInWithPhoneNumber(b,R){return Bd(this._delegate,function wl(A,v,b){return sl.apply(this,arguments)}(this._delegate,b,R))}signInWithPopup(b){var R=this;return(0,y.Z)(function*(){return al(qu(),R._delegate,"operation-not-supported-in-this-environment"),xo(R._delegate,function Ph(A,v,b){return xd.apply(this,arguments)}(R._delegate,b,pa))})()}signInWithRedirect(b){var R=this;return(0,y.Z)(function*(){return al(qu(),R._delegate,"operation-not-supported-in-this-environment"),yield xl(R._delegate),lg(R._delegate,b,pa)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function ca(A,v){return ya.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return A.Persistence=ta,A})();function Zu(A,v,b){let R=A;"function"!=typeof A&&({next:R,error:v,complete:b}=A);const J=R;return{next:At=>J(At&&xa.getOrCreate(At)),error:v,complete:b}}function lp(A,v){const b=function _u(A,v){const b=ap();if(!b)return[];const R=st(Zl,A,v);switch(b.getItem(R)){case ta.NONE:return[oi];case ta.LOCAL:return[Bl,xi];case ta.SESSION:return[xi];default:return[]}}(A,v);if(typeof self<"u"&&!b.includes(Bl)&&b.push(Bl),typeof window<"u")for(const R of[Do,xi])b.includes(R)||b.push(R);return b.includes(oi)||b.push(oi),b}class Jh{constructor(){this.providerId="phone",this._delegate=new Dc(Qh(_.Z.auth()))}static credential(v,b){return Dc.credential(v,b)}verifyPhoneNumber(v,b){return this._delegate.verifyPhoneNumber(v,b)}unwrap(){return this._delegate}}Jh.PHONE_SIGN_IN_METHOD=Dc.PHONE_SIGN_IN_METHOD,Jh.PROVIDER_ID=Dc.PROVIDER_ID;const Xu=we;class _g{constructor(v,b,R=_.Z.app()){var J;Xu(null===(J=R.options)||void 0===J?void 0:J.apiKey,"invalid-api-key",{appName:R.name}),this._delegate=new Kt(v,b,R.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cp(A){A.INTERNAL.registerComponent(new G.wA("auth-compat",v=>{const b=v.getProvider("app-compat").getImmediate(),R=v.getProvider("auth");return new Ka(b,R)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ki,FacebookAuthProvider:ms,GithubAuthProvider:ct,GoogleAuthProvider:aa,OAuthProvider:Fi,SAMLAuthProvider:un,PhoneAuthProvider:Jh,PhoneMultiFactorGenerator:ds,RecaptchaVerifier:_g,TwitterAuthProvider:jn,Auth:Ka,AuthCredential:ie,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),A.registerVersion("@firebase/auth-compat","0.4.2")}(_.Z)},9519:(Cn,mt,P)=>{"use strict";P.d(mt,{Gb:()=>y.Gb});var y=P(2650)},6223:(Cn,mt,P)=>{"use strict";P.d(mt,{Fj:()=>be,JJ:()=>Ar,JL:()=>Hr,JU:()=>Ve,On:()=>Ht,UX:()=>M,_Y:()=>sn,a5:()=>xn,kI:()=>Bt,qu:()=>Es,sg:()=>vi,u:()=>_r,u5:()=>Ro});var y=P(5879),_=P(6814),re=P(2459),se=P(9315),xe=P(7398);let ze=(()=>{class S{constructor(C,U){this._renderer=C,this._elementRef=U,this.onChange=rt=>{},this.onTouched=()=>{}}setProperty(C,U){this._renderer.setProperty(this._elementRef.nativeElement,C,U)}registerOnTouched(C){this.onTouched=C}registerOnChange(C){this.onChange=C}setDisabledState(C){this.setProperty("disabled",C)}}return S.\u0275fac=function(C){return new(C||S)(y.Y36(y.Qsj),y.Y36(y.SBq))},S.\u0275dir=y.lG2({type:S}),S})(),G=(()=>{class S extends ze{}return S.\u0275fac=function(){let g;return function(U){return(g||(g=y.n5z(S)))(U||S)}}(),S.\u0275dir=y.lG2({type:S,features:[y.qOj]}),S})();const Ve=new y.OlP("NgValueAccessor"),ne={provide:Ve,useExisting:(0,y.Gpc)(()=>be),multi:!0},Ne=new y.OlP("CompositionEventMode");let be=(()=>{class S extends ze{constructor(C,U,rt){super(C,U),this._compositionMode=rt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function me(){const S=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(S.toLowerCase())}())}writeValue(C){this.setProperty("value",null==C?"":C)}_handleInput(C){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(C)}_compositionStart(){this._composing=!0}_compositionEnd(C){this._composing=!1,this._compositionMode&&this.onChange(C)}}return S.\u0275fac=function(C){return new(C||S)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Ne,8))},S.\u0275dir=y.lG2({type:S,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(C,U){1&C&&y.NdJ("input",function(zt){return U._handleInput(zt.target.value)})("blur",function(){return U.onTouched()})("compositionstart",function(){return U._compositionStart()})("compositionend",function(zt){return U._compositionEnd(zt.target.value)})},features:[y._Bn([ne]),y.qOj]}),S})();function qe(S){return null==S||("string"==typeof S||Array.isArray(S))&&0===S.length}function ut(S){return null!=S&&"number"==typeof S.length}const ce=new y.OlP("NgValidators"),ke=new y.OlP("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Bt{static min(g){return function $e(S){return g=>{if(qe(g.value)||qe(S))return null;const C=parseFloat(g.value);return!isNaN(C)&&C<S?{min:{min:S,actual:g.value}}:null}}(g)}static max(g){return function Ee(S){return g=>{if(qe(g.value)||qe(S))return null;const C=parseFloat(g.value);return!isNaN(C)&&C>S?{max:{max:S,actual:g.value}}:null}}(g)}static required(g){return function je(S){return qe(S.value)?{required:!0}:null}(g)}static requiredTrue(g){return function z(S){return!0===S.value?null:{required:!0}}(g)}static email(g){return function Re(S){return qe(S.value)||St.test(S.value)?null:{email:!0}}(g)}static minLength(g){return function ve(S){return g=>qe(g.value)||!ut(g.value)?null:g.value.length<S?{minlength:{requiredLength:S,actualLength:g.value.length}}:null}(g)}static maxLength(g){return function we(S){return g=>ut(g.value)&&g.value.length>S?{maxlength:{requiredLength:S,actualLength:g.value.length}}:null}(g)}static pattern(g){return function We(S){if(!S)return lt;let g,C;return"string"==typeof S?(C="","^"!==S.charAt(0)&&(C+="^"),C+=S,"$"!==S.charAt(S.length-1)&&(C+="$"),g=new RegExp(C)):(C=S.toString(),g=S),U=>{if(qe(U.value))return null;const rt=U.value;return g.test(rt)?null:{pattern:{requiredPattern:C,actualValue:rt}}}}(g)}static nullValidator(g){return null}static compose(g){return Q(g)}static composeAsync(g){return Le(g)}}function lt(S){return null}function it(S){return null!=S}function ht(S){return(0,y.QGY)(S)?(0,re.D)(S):S}function It(S){let g={};return S.forEach(C=>{g=null!=C?{...g,...C}:g}),0===Object.keys(g).length?null:g}function an(S,g){return g.map(C=>C(S))}function Me(S){return S.map(g=>function dt(S){return!S.validate}(g)?g:C=>g.validate(C))}function Q(S){if(!S)return null;const g=S.filter(it);return 0==g.length?null:function(C){return It(an(C,g))}}function de(S){return null!=S?Q(Me(S)):null}function Le(S){if(!S)return null;const g=S.filter(it);return 0==g.length?null:function(C){const U=an(C,g).map(ht);return(0,se.D)(U).pipe((0,xe.U)(It))}}function vt(S){return null!=S?Le(Me(S)):null}function Tt(S,g){return null===S?[g]:Array.isArray(S)?[...S,g]:[S,g]}function xt(S){return S._rawValidators}function on(S){return S._rawAsyncValidators}function Xt(S){return S?Array.isArray(S)?S:[S]:[]}function Zt(S,g){return Array.isArray(S)?S.includes(g):S===g}function Ft(S,g){const C=Xt(g);return Xt(S).forEach(rt=>{Zt(C,rt)||C.push(rt)}),C}function Nt(S,g){return Xt(g).filter(C=>!Zt(S,C))}class tn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(g){this._rawValidators=g||[],this._composedValidatorFn=de(this._rawValidators)}_setAsyncValidators(g){this._rawAsyncValidators=g||[],this._composedAsyncValidatorFn=vt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(g){this._onDestroyCallbacks.push(g)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(g=>g()),this._onDestroyCallbacks=[]}reset(g=void 0){this.control&&this.control.reset(g)}hasError(g,C){return!!this.control&&this.control.hasError(g,C)}getError(g,C){return this.control?this.control.getError(g,C):null}}class nn extends tn{get formDirective(){return null}get path(){return null}}class xn extends tn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bn{constructor(g){this._cd=g}get isTouched(){var g;return!(null===(g=this._cd)||void 0===g||null===(g=g.control)||void 0===g||!g.touched)}get isUntouched(){var g;return!(null===(g=this._cd)||void 0===g||null===(g=g.control)||void 0===g||!g.untouched)}get isPristine(){var g;return!(null===(g=this._cd)||void 0===g||null===(g=g.control)||void 0===g||!g.pristine)}get isDirty(){var g;return!(null===(g=this._cd)||void 0===g||null===(g=g.control)||void 0===g||!g.dirty)}get isValid(){var g;return!(null===(g=this._cd)||void 0===g||null===(g=g.control)||void 0===g||!g.valid)}get isInvalid(){var g;return!(null===(g=this._cd)||void 0===g||null===(g=g.control)||void 0===g||!g.invalid)}get isPending(){var g;return!(null===(g=this._cd)||void 0===g||null===(g=g.control)||void 0===g||!g.pending)}get isSubmitted(){var g;return!(null===(g=this._cd)||void 0===g||!g.submitted)}}let Ar=(()=>{class S extends Bn{constructor(C){super(C)}}return S.\u0275fac=function(C){return new(C||S)(y.Y36(xn,2))},S.\u0275dir=y.lG2({type:S,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(C,U){2&C&&y.ekj("ng-untouched",U.isUntouched)("ng-touched",U.isTouched)("ng-pristine",U.isPristine)("ng-dirty",U.isDirty)("ng-valid",U.isValid)("ng-invalid",U.isInvalid)("ng-pending",U.isPending)},features:[y.qOj]}),S})(),Hr=(()=>{class S extends Bn{constructor(C){super(C)}}return S.\u0275fac=function(C){return new(C||S)(y.Y36(nn,10))},S.\u0275dir=y.lG2({type:S,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(C,U){2&C&&y.ekj("ng-untouched",U.isUntouched)("ng-touched",U.isTouched)("ng-pristine",U.isPristine)("ng-dirty",U.isDirty)("ng-valid",U.isValid)("ng-invalid",U.isInvalid)("ng-pending",U.isPending)("ng-submitted",U.isSubmitted)},features:[y.qOj]}),S})();const Xr="VALID",gi="INVALID",mi="PENDING",Di="DISABLED";function ii(S){return(hi(S)?S.validators:S)||null}function si(S,g){return(hi(g)?g.asyncValidators:S)||null}function hi(S){return null!=S&&!Array.isArray(S)&&"object"==typeof S}function ti(S,g,C){const U=S.controls;if(!(g?Object.keys(U):U).length)throw new y.vHH(1e3,"");if(!U[C])throw new y.vHH(1001,"")}function oi(S,g,C){S._forEachChild((U,rt)=>{if(void 0===C[rt])throw new y.vHH(1002,"")})}class st{constructor(g,C){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(g),this._assignAsyncValidators(C)}get validator(){return this._composedValidatorFn}set validator(g){this._rawValidators=this._composedValidatorFn=g}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(g){this._rawAsyncValidators=this._composedAsyncValidatorFn=g}get parent(){return this._parent}get valid(){return this.status===Xr}get invalid(){return this.status===gi}get pending(){return this.status==mi}get disabled(){return this.status===Di}get enabled(){return this.status!==Di}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(g){this._assignValidators(g)}setAsyncValidators(g){this._assignAsyncValidators(g)}addValidators(g){this.setValidators(Ft(g,this._rawValidators))}addAsyncValidators(g){this.setAsyncValidators(Ft(g,this._rawAsyncValidators))}removeValidators(g){this.setValidators(Nt(g,this._rawValidators))}removeAsyncValidators(g){this.setAsyncValidators(Nt(g,this._rawAsyncValidators))}hasValidator(g){return Zt(this._rawValidators,g)}hasAsyncValidator(g){return Zt(this._rawAsyncValidators,g)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(g={}){this.touched=!0,this._parent&&!g.onlySelf&&this._parent.markAsTouched(g)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(g=>g.markAllAsTouched())}markAsUntouched(g={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(C=>{C.markAsUntouched({onlySelf:!0})}),this._parent&&!g.onlySelf&&this._parent._updateTouched(g)}markAsDirty(g={}){this.pristine=!1,this._parent&&!g.onlySelf&&this._parent.markAsDirty(g)}markAsPristine(g={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(C=>{C.markAsPristine({onlySelf:!0})}),this._parent&&!g.onlySelf&&this._parent._updatePristine(g)}markAsPending(g={}){this.status=mi,!1!==g.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!g.onlySelf&&this._parent.markAsPending(g)}disable(g={}){const C=this._parentMarkedDirty(g.onlySelf);this.status=Di,this.errors=null,this._forEachChild(U=>{U.disable({...g,onlySelf:!0})}),this._updateValue(),!1!==g.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...g,skipPristineCheck:C}),this._onDisabledChange.forEach(U=>U(!0))}enable(g={}){const C=this._parentMarkedDirty(g.onlySelf);this.status=Xr,this._forEachChild(U=>{U.enable({...g,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:g.emitEvent}),this._updateAncestors({...g,skipPristineCheck:C}),this._onDisabledChange.forEach(U=>U(!1))}_updateAncestors(g){this._parent&&!g.onlySelf&&(this._parent.updateValueAndValidity(g),g.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(g){this._parent=g}getRawValue(){return this.value}updateValueAndValidity(g={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xr||this.status===mi)&&this._runAsyncValidator(g.emitEvent)),!1!==g.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!g.onlySelf&&this._parent.updateValueAndValidity(g)}_updateTreeValidity(g={emitEvent:!0}){this._forEachChild(C=>C._updateTreeValidity(g)),this.updateValueAndValidity({onlySelf:!0,emitEvent:g.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Di:Xr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(g){if(this.asyncValidator){this.status=mi,this._hasOwnPendingAsyncValidator=!0;const C=ht(this.asyncValidator(this));this._asyncValidationSubscription=C.subscribe(U=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(U,{emitEvent:g})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(g,C={}){this.errors=g,this._updateControlsErrors(!1!==C.emitEvent)}get(g){let C=g;return null==C||(Array.isArray(C)||(C=C.split(".")),0===C.length)?null:C.reduce((U,rt)=>U&&U._find(rt),this)}getError(g,C){const U=C?this.get(C):this;return U&&U.errors?U.errors[g]:null}hasError(g,C){return!!this.getError(g,C)}get root(){let g=this;for(;g._parent;)g=g._parent;return g}_updateControlsErrors(g){this.status=this._calculateStatus(),g&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(g)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Di:this.errors?gi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mi)?mi:this._anyControlsHaveStatus(gi)?gi:Xr}_anyControlsHaveStatus(g){return this._anyControls(C=>C.status===g)}_anyControlsDirty(){return this._anyControls(g=>g.dirty)}_anyControlsTouched(){return this._anyControls(g=>g.touched)}_updatePristine(g={}){this.pristine=!this._anyControlsDirty(),this._parent&&!g.onlySelf&&this._parent._updatePristine(g)}_updateTouched(g={}){this.touched=this._anyControlsTouched(),this._parent&&!g.onlySelf&&this._parent._updateTouched(g)}_registerOnCollectionChange(g){this._onCollectionChange=g}_setUpdateStrategy(g){hi(g)&&null!=g.updateOn&&(this._updateOn=g.updateOn)}_parentMarkedDirty(g){return!g&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(g){return null}_assignValidators(g){this._rawValidators=Array.isArray(g)?g.slice():g,this._composedValidatorFn=function ei(S){return Array.isArray(S)?de(S):S||null}(this._rawValidators)}_assignAsyncValidators(g){this._rawAsyncValidators=Array.isArray(g)?g.slice():g,this._composedAsyncValidatorFn=function pi(S){return Array.isArray(S)?vt(S):S||null}(this._rawAsyncValidators)}}class ye extends st{constructor(g,C,U){super(ii(C),si(U,C)),this.controls=g,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(g,C){return this.controls[g]?this.controls[g]:(this.controls[g]=C,C.setParent(this),C._registerOnCollectionChange(this._onCollectionChange),C)}addControl(g,C,U={}){this.registerControl(g,C),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}removeControl(g,C={}){this.controls[g]&&this.controls[g]._registerOnCollectionChange(()=>{}),delete this.controls[g],this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}setControl(g,C,U={}){this.controls[g]&&this.controls[g]._registerOnCollectionChange(()=>{}),delete this.controls[g],C&&this.registerControl(g,C),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}contains(g){return this.controls.hasOwnProperty(g)&&this.controls[g].enabled}setValue(g,C={}){oi(this,0,g),Object.keys(g).forEach(U=>{ti(this,!0,U),this.controls[U].setValue(g[U],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(g,C={}){null!=g&&(Object.keys(g).forEach(U=>{const rt=this.controls[U];rt&&rt.patchValue(g[U],{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(g={},C={}){this._forEachChild((U,rt)=>{U.reset(g[rt],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this._reduceChildren({},(g,C,U)=>(g[U]=C.getRawValue(),g))}_syncPendingControls(){let g=this._reduceChildren(!1,(C,U)=>!!U._syncPendingControls()||C);return g&&this.updateValueAndValidity({onlySelf:!0}),g}_forEachChild(g){Object.keys(this.controls).forEach(C=>{const U=this.controls[C];U&&g(U,C)})}_setUpControls(){this._forEachChild(g=>{g.setParent(this),g._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(g){for(const[C,U]of Object.entries(this.controls))if(this.contains(C)&&g(U))return!0;return!1}_reduceValue(){return this._reduceChildren({},(C,U,rt)=>((U.enabled||this.disabled)&&(C[rt]=U.value),C))}_reduceChildren(g,C){let U=g;return this._forEachChild((rt,zt)=>{U=C(U,rt,zt)}),U}_allControlsDisabled(){for(const g of Object.keys(this.controls))if(this.controls[g].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(g){return this.controls.hasOwnProperty(g)?this.controls[g]:null}}class Fe extends ye{}const ln=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>En}),En="always";function ir(S,g){return[...g.path,S]}function pr(S,g,C=En){var U,rt;Gi(S,g),g.valueAccessor.writeValue(S.value),(S.disabled||"always"===C)&&(null===(U=(rt=g.valueAccessor).setDisabledState)||void 0===U||U.call(rt,S.disabled)),function Dt(S,g){g.valueAccessor.registerOnChange(C=>{S._pendingValue=C,S._pendingChange=!0,S._pendingDirty=!0,"change"===S.updateOn&&pt(S,g)})}(S,g),function jt(S,g){const C=(U,rt)=>{g.valueAccessor.writeValue(U),rt&&g.viewToModelUpdate(U)};S.registerOnChange(C),g._registerOnDestroy(()=>{S._unregisterOnChange(C)})}(S,g),function Xe(S,g){g.valueAccessor.registerOnTouched(()=>{S._pendingTouched=!0,"blur"===S.updateOn&&S._pendingChange&&pt(S,g),"submit"!==S.updateOn&&S.markAsTouched()})}(S,g),function ai(S,g){if(g.valueAccessor.setDisabledState){const C=U=>{g.valueAccessor.setDisabledState(U)};S.registerOnDisabledChange(C),g._registerOnDestroy(()=>{S._unregisterOnDisabledChange(C)})}}(S,g)}function br(S,g,C=!0){const U=()=>{};g.valueAccessor&&(g.valueAccessor.registerOnChange(U),g.valueAccessor.registerOnTouched(U)),Li(S,g),S&&(g._invokeOnDestroyCallbacks(),S._registerOnCollectionChange(()=>{}))}function Gn(S,g){S.forEach(C=>{C.registerOnValidatorChange&&C.registerOnValidatorChange(g)})}function Gi(S,g){const C=xt(S);null!==g.validator?S.setValidators(Tt(C,g.validator)):"function"==typeof C&&S.setValidators([C]);const U=on(S);null!==g.asyncValidator?S.setAsyncValidators(Tt(U,g.asyncValidator)):"function"==typeof U&&S.setAsyncValidators([U]);const rt=()=>S.updateValueAndValidity();Gn(g._rawValidators,rt),Gn(g._rawAsyncValidators,rt)}function Li(S,g){let C=!1;if(null!==S){if(null!==g.validator){const rt=xt(S);if(Array.isArray(rt)&&rt.length>0){const zt=rt.filter(Qn=>Qn!==g.validator);zt.length!==rt.length&&(C=!0,S.setValidators(zt))}}if(null!==g.asyncValidator){const rt=on(S);if(Array.isArray(rt)&&rt.length>0){const zt=rt.filter(Qn=>Qn!==g.asyncValidator);zt.length!==rt.length&&(C=!0,S.setAsyncValidators(zt))}}}const U=()=>{};return Gn(g._rawValidators,U),Gn(g._rawAsyncValidators,U),C}function pt(S,g){S._pendingDirty&&S.markAsDirty(),S.setValue(S._pendingValue,{emitModelToViewChange:!1}),g.viewToModelUpdate(S._pendingValue),S._pendingChange=!1}function ar(S,g){if(!S.hasOwnProperty("model"))return!1;const C=S.model;return!!C.isFirstChange()||!Object.is(g,C.currentValue)}function Wi(S,g){if(!g)return null;let C,U,rt;return Array.isArray(g),g.forEach(zt=>{zt.constructor===be?C=zt:function Zr(S){return Object.getPrototypeOf(S.constructor)===G}(zt)?U=zt:rt=zt}),rt||U||C||null}function Ae(S,g){const C=S.indexOf(g);C>-1&&S.splice(C,1)}function Et(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}const Ze=class extends st{constructor(g=null,C,U){super(ii(C),si(U,C)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(g),this._setUpdateStrategy(C),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hi(C)&&(C.nonNullable||C.initialValueIsDefault)&&(this.defaultValue=Et(g)?g.value:g)}setValue(g,C={}){this.value=this._pendingValue=g,this._onChange.length&&!1!==C.emitModelToViewChange&&this._onChange.forEach(U=>U(this.value,!1!==C.emitViewToModelChange)),this.updateValueAndValidity(C)}patchValue(g,C={}){this.setValue(g,C)}reset(g=this.defaultValue,C={}){this._applyFormState(g),this.markAsPristine(C),this.markAsUntouched(C),this.setValue(this.value,C),this._pendingChange=!1}_updateValue(){}_anyControls(g){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(g){this._onChange.push(g)}_unregisterOnChange(g){Ae(this._onChange,g)}registerOnDisabledChange(g){this._onDisabledChange.push(g)}_unregisterOnDisabledChange(g){Ae(this._onDisabledChange,g)}_forEachChild(g){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(g){Et(g)?(this.value=this._pendingValue=g.value,g.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=g}},kt={provide:xn,useExisting:(0,y.Gpc)(()=>Ht)},$t=(()=>Promise.resolve())();let Ht=(()=>{class S extends xn{constructor(C,U,rt,zt,Qn,zr){super(),this._changeDetectorRef=Qn,this.callSetDisabledState=zr,this.control=new Ze,this._registered=!1,this.name="",this.update=new y.vpe,this._parent=C,this._setValidators(U),this._setAsyncValidators(rt),this.valueAccessor=Wi(0,zt)}ngOnChanges(C){if(this._checkForErrors(),!this._registered||"name"in C){if(this._registered&&(this._checkName(),this.formDirective)){const U=C.name.previousValue;this.formDirective.removeControl({name:U,path:this._getPath(U)})}this._setUpControl()}"isDisabled"in C&&this._updateDisabled(C),ar(C,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(C){$t.then(()=>{var U;this.control.setValue(C,{emitViewToModelChange:!1}),null===(U=this._changeDetectorRef)||void 0===U||U.markForCheck()})}_updateDisabled(C){const U=C.isDisabled.currentValue,rt=0!==U&&(0,y.VuI)(U);$t.then(()=>{var zt;rt&&!this.control.disabled?this.control.disable():!rt&&this.control.disabled&&this.control.enable(),null===(zt=this._changeDetectorRef)||void 0===zt||zt.markForCheck()})}_getPath(C){return this._parent?ir(C,this._parent):[C]}}return S.\u0275fac=function(C){return new(C||S)(y.Y36(nn,9),y.Y36(ce,10),y.Y36(ke,10),y.Y36(Ve,10),y.Y36(y.sBO,8),y.Y36(ln,8))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([kt]),y.qOj,y.TTD]}),S})(),sn=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275dir=y.lG2({type:S,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),S})(),ft=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=y.oAB({type:S}),S.\u0275inj=y.cJS({}),S})();const qn=new y.OlP("NgModelWithFormControlWarning"),Xn={provide:nn,useExisting:(0,y.Gpc)(()=>vi)};let vi=(()=>{class S extends nn{constructor(C,U,rt){super(),this.callSetDisabledState=rt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(C),this._setAsyncValidators(U)}ngOnChanges(C){this._checkFormPresent(),C.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Li(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(C){const U=this.form.get(C.path);return pr(U,C,this.callSetDisabledState),U.updateValueAndValidity({emitEvent:!1}),this.directives.push(C),U}getControl(C){return this.form.get(C.path)}removeControl(C){br(C.control||null,C,!1),function $i(S,g){const C=S.indexOf(g);C>-1&&S.splice(C,1)}(this.directives,C)}addFormGroup(C){this._setUpFormContainer(C)}removeFormGroup(C){this._cleanUpFormContainer(C)}getFormGroup(C){return this.form.get(C.path)}addFormArray(C){this._setUpFormContainer(C)}removeFormArray(C){this._cleanUpFormContainer(C)}getFormArray(C){return this.form.get(C.path)}updateModel(C,U){this.form.get(C.path).setValue(U)}onSubmit(C){var U;return this.submitted=!0,function ts(S,g){S._syncPendingControls(),g.forEach(C=>{const U=C.control;"submit"===U.updateOn&&U._pendingChange&&(C.viewToModelUpdate(U._pendingValue),U._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(C),"dialog"===(null==C||null===(U=C.target)||void 0===U?void 0:U.method)}onReset(){this.resetForm()}resetForm(C=void 0){this.form.reset(C),this.submitted=!1}_updateDomValue(){this.directives.forEach(C=>{const U=C.control,rt=this.form.get(C.path);U!==rt&&(br(U||null,C),(S=>S instanceof Ze)(rt)&&(pr(rt,C,this.callSetDisabledState),C.control=rt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(C){const U=this.form.get(C.path);(function Sn(S,g){Gi(S,g)})(U,C),U.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(C){if(this.form){const U=this.form.get(C.path);U&&function Rn(S,g){return Li(S,g)}(U,C)&&U.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gi(this.form,this),this._oldForm&&Li(this._oldForm,this)}_checkFormPresent(){}}return S.\u0275fac=function(C){return new(C||S)(y.Y36(ce,10),y.Y36(ke,10),y.Y36(ln,8))},S.\u0275dir=y.lG2({type:S,selectors:[["","formGroup",""]],hostBindings:function(C,U){1&C&&y.NdJ("submit",function(zt){return U.onSubmit(zt)})("reset",function(){return U.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([Xn]),y.qOj,y.TTD]}),S})();const ws={provide:xn,useExisting:(0,y.Gpc)(()=>_r)};let _r=(()=>{class S extends xn{set isDisabled(C){}constructor(C,U,rt,zt,Qn){super(),this._ngModelWarningConfig=Qn,this._added=!1,this.name=null,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=C,this._setValidators(U),this._setAsyncValidators(rt),this.valueAccessor=Wi(0,zt)}ngOnChanges(C){this._added||this._setUpControl(),ar(C,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(C){this.viewModel=C,this.update.emit(C)}get path(){return ir(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return S._ngModelWarningSentOnce=!1,S.\u0275fac=function(C){return new(C||S)(y.Y36(nn,13),y.Y36(ce,10),y.Y36(ke,10),y.Y36(Ve,10),y.Y36(qn,8))},S.\u0275dir=y.lG2({type:S,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([ws]),y.qOj,y.TTD]}),S})(),as=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=y.oAB({type:S}),S.\u0275inj=y.cJS({imports:[ft]}),S})();class to extends st{constructor(g,C,U){super(ii(C),si(U,C)),this.controls=g,this._initObservables(),this._setUpdateStrategy(C),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(g){return this.controls[this._adjustIndex(g)]}push(g,C={}){this.controls.push(g),this._registerControl(g),this.updateValueAndValidity({emitEvent:C.emitEvent}),this._onCollectionChange()}insert(g,C,U={}){this.controls.splice(g,0,C),this._registerControl(C),this.updateValueAndValidity({emitEvent:U.emitEvent})}removeAt(g,C={}){let U=this._adjustIndex(g);U<0&&(U=0),this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),this.controls.splice(U,1),this.updateValueAndValidity({emitEvent:C.emitEvent})}setControl(g,C,U={}){let rt=this._adjustIndex(g);rt<0&&(rt=0),this.controls[rt]&&this.controls[rt]._registerOnCollectionChange(()=>{}),this.controls.splice(rt,1),C&&(this.controls.splice(rt,0,C),this._registerControl(C)),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(g,C={}){oi(this,0,g),g.forEach((U,rt)=>{ti(this,!1,rt),this.at(rt).setValue(U,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C)}patchValue(g,C={}){null!=g&&(g.forEach((U,rt)=>{this.at(rt)&&this.at(rt).patchValue(U,{onlySelf:!0,emitEvent:C.emitEvent})}),this.updateValueAndValidity(C))}reset(g=[],C={}){this._forEachChild((U,rt)=>{U.reset(g[rt],{onlySelf:!0,emitEvent:C.emitEvent})}),this._updatePristine(C),this._updateTouched(C),this.updateValueAndValidity(C)}getRawValue(){return this.controls.map(g=>g.getRawValue())}clear(g={}){this.controls.length<1||(this._forEachChild(C=>C._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:g.emitEvent}))}_adjustIndex(g){return g<0?g+this.length:g}_syncPendingControls(){let g=this.controls.reduce((C,U)=>!!U._syncPendingControls()||C,!1);return g&&this.updateValueAndValidity({onlySelf:!0}),g}_forEachChild(g){this.controls.forEach((C,U)=>{g(C,U)})}_updateValue(){this.value=this.controls.filter(g=>g.enabled||this.disabled).map(g=>g.value)}_anyControls(g){return this.controls.some(C=>C.enabled&&g(C))}_setUpControls(){this._forEachChild(g=>this._registerControl(g))}_allControlsDisabled(){for(const g of this.controls)if(g.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(g){g.setParent(this),g._registerOnCollectionChange(this._onCollectionChange)}_find(g){var C;return null!==(C=this.at(g))&&void 0!==C?C:null}}function vs(S){return!!S&&(void 0!==S.asyncValidators||void 0!==S.validators||void 0!==S.updateOn)}let Es=(()=>{class S{constructor(){this.useNonNullable=!1}get nonNullable(){const C=new S;return C.useNonNullable=!0,C}group(C,U=null){const rt=this._reduceControls(C);let zt={};return vs(U)?zt=U:null!==U&&(zt.validators=U.validator,zt.asyncValidators=U.asyncValidator),new ye(rt,zt)}record(C,U=null){const rt=this._reduceControls(C);return new Fe(rt,U)}control(C,U,rt){let zt={};return this.useNonNullable?(vs(U)?zt=U:(zt.validators=U,zt.asyncValidators=rt),new Ze(C,{...zt,nonNullable:!0})):new Ze(C,U,rt)}array(C,U,rt){const zt=C.map(Qn=>this._createControl(Qn));return new to(zt,U,rt)}_reduceControls(C){const U={};return Object.keys(C).forEach(rt=>{U[rt]=this._createControl(C[rt])}),U}_createControl(C){return C instanceof Ze||C instanceof st?C:Array.isArray(C)?this.control(C[0],C.length>1?C[1]:null,C.length>2?C[2]:null):this.control(C)}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Ro=(()=>{class S{static withConfig(C){var U;return{ngModule:S,providers:[{provide:ln,useValue:null!==(U=C.callSetDisabledState)&&void 0!==U?U:En}]}}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=y.oAB({type:S}),S.\u0275inj=y.cJS({imports:[as]}),S})(),M=(()=>{class S{static withConfig(C){var U,rt;return{ngModule:S,providers:[{provide:qn,useValue:null!==(U=C.warnOnNgModelWithFormControl)&&void 0!==U?U:"always"},{provide:ln,useValue:null!==(rt=C.callSetDisabledState)&&void 0!==rt?rt:En}]}}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275mod=y.oAB({type:S}),S.\u0275inj=y.cJS({imports:[as]}),S})()},6593:(Cn,mt,P)=>{"use strict";P.d(mt,{Dx:()=>Fr,b2:()=>$n,q6:()=>tn});var y=P(5879),_=P(6814);class re extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends re{static makeCurrent(){(0,_.HT)(new se)}onAndCancel(_e,Se,Fe){return _e.addEventListener(Se,Fe),()=>{_e.removeEventListener(Se,Fe)}}dispatchEvent(_e,Se){_e.dispatchEvent(Se)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,Se){return(Se=Se||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,Se){return"window"===Se?window:"document"===Se?_e:"body"===Se?_e.body:null}getBaseHref(_e){const Se=function ze(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==Se?null:function Ve(ye){G=G||document.createElement("a"),G.setAttribute("href",ye);const _e=G.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(Se)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,_.Mx)(document.cookie,_e)}}let G,xe=null,he=(()=>{class ye{build(){return new XMLHttpRequest}}return ye.\u0275fac=function(Se){return new(Se||ye)},ye.\u0275prov=y.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const ne=new y.OlP("EventManagerPlugins");let me=(()=>{class ye{constructor(Se,Fe){this._zone=Fe,this._eventNameToPlugin=new Map,Se.forEach(Ut=>{Ut.manager=this}),this._plugins=Se.slice().reverse()}addEventListener(Se,Fe,Ut){return this._findPluginFor(Fe).addEventListener(Se,Fe,Ut)}getZone(){return this._zone}_findPluginFor(Se){let Fe=this._eventNameToPlugin.get(Se);if(Fe)return Fe;if(Fe=this._plugins.find(ln=>ln.supports(Se)),!Fe)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(Se,Fe),Fe}}return ye.\u0275fac=function(Se){return new(Se||ye)(y.LFG(ne),y.LFG(y.R0b))},ye.\u0275prov=y.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class Ne{constructor(_e){this._doc=_e}}const be="ng-app-id";let qe=(()=>{class ye{constructor(Se,Fe,Ut,ln={}){this.doc=Se,this.appId=Fe,this.nonce=Ut,this.platformId=ln,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,_.PM)(ln),this.resetHostNodes()}addStyles(Se){for(const Fe of Se)1===this.changeUsageCount(Fe,1)&&this.onStyleAdded(Fe)}removeStyles(Se){for(const Fe of Se)this.changeUsageCount(Fe,-1)<=0&&this.onStyleRemoved(Fe)}ngOnDestroy(){const Se=this.styleNodesInDOM;Se&&(Se.forEach(Fe=>Fe.remove()),Se.clear());for(const Fe of this.getAllStyles())this.onStyleRemoved(Fe);this.resetHostNodes()}addHost(Se){this.hostNodes.add(Se);for(const Fe of this.getAllStyles())this.addStyleToHost(Se,Fe)}removeHost(Se){this.hostNodes.delete(Se)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Se){for(const Fe of this.hostNodes)this.addStyleToHost(Fe,Se)}onStyleRemoved(Se){var Fe;const Ut=this.styleRef;null===(Fe=Ut.get(Se))||void 0===Fe||null===(Fe=Fe.elements)||void 0===Fe||Fe.forEach(ln=>ln.remove()),Ut.delete(Se)}collectServerRenderedStyles(){var Se;const Fe=null===(Se=this.doc.head)||void 0===Se?void 0:Se.querySelectorAll(`style[${be}="${this.appId}"]`);if(null!=Fe&&Fe.length){const Ut=new Map;return Fe.forEach(ln=>{null!=ln.textContent&&Ut.set(ln.textContent,ln)}),Ut}return null}changeUsageCount(Se,Fe){const Ut=this.styleRef;if(Ut.has(Se)){const ln=Ut.get(Se);return ln.usage+=Fe,ln.usage}return Ut.set(Se,{usage:Fe,elements:[]}),Fe}getStyleElement(Se,Fe){const Ut=this.styleNodesInDOM,ln=null==Ut?void 0:Ut.get(Fe);if((null==ln?void 0:ln.parentNode)===Se)return Ut.delete(Fe),ln.removeAttribute(be),ln;{const En=this.doc.createElement("style");return this.nonce&&En.setAttribute("nonce",this.nonce),En.textContent=Fe,this.platformIsServer&&En.setAttribute(be,this.appId),En}}addStyleToHost(Se,Fe){var Ut;const ln=this.getStyleElement(Se,Fe);Se.appendChild(ln);const En=this.styleRef,ir=null===(Ut=En.get(Fe))||void 0===Ut?void 0:Ut.elements;ir?ir.push(ln):En.set(Fe,{elements:[ln],usage:1})}resetHostNodes(){const Se=this.hostNodes;Se.clear(),Se.add(this.doc.head)}}return ye.\u0275fac=function(Se){return new(Se||ye)(y.LFG(_.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))},ye.\u0275prov=y.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ce=/%COMP%/g,Ee=new y.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Re(ye,_e){return _e.map(Se=>Se.replace(ce,ye))}let ve=(()=>{class ye{constructor(Se,Fe,Ut,ln,En,ir,pr,br=null){this.eventManager=Se,this.sharedStylesHost=Fe,this.appId=Ut,this.removeStylesOnCompDestroy=ln,this.doc=En,this.platformId=ir,this.ngZone=pr,this.nonce=br,this.rendererByCompId=new Map,this.platformIsServer=(0,_.PM)(ir),this.defaultRenderer=new we(Se,En,pr,this.platformIsServer)}createRenderer(Se,Fe){if(!Se||!Fe)return this.defaultRenderer;this.platformIsServer&&Fe.encapsulation===y.ifc.ShadowDom&&(Fe={...Fe,encapsulation:y.ifc.Emulated});const Ut=this.getOrCreateRenderer(Se,Fe);return Ut instanceof an?Ut.applyToHost(Se):Ut instanceof It&&Ut.applyStyles(),Ut}getOrCreateRenderer(Se,Fe){const Ut=this.rendererByCompId;let ln=Ut.get(Fe.id);if(!ln){const En=this.doc,ir=this.ngZone,pr=this.eventManager,br=this.sharedStylesHost,Gn=this.removeStylesOnCompDestroy,ai=this.platformIsServer;switch(Fe.encapsulation){case y.ifc.Emulated:ln=new an(pr,br,Fe,this.appId,Gn,En,ir,ai);break;case y.ifc.ShadowDom:return new ht(pr,br,Se,Fe,En,ir,this.nonce,ai);default:ln=new It(pr,br,Fe,Gn,En,ir,ai)}Ut.set(Fe.id,ln)}return ln}ngOnDestroy(){this.rendererByCompId.clear()}}return ye.\u0275fac=function(Se){return new(Se||ye)(y.LFG(me),y.LFG(qe),y.LFG(y.AFp),y.LFG(Ee),y.LFG(_.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))},ye.\u0275prov=y.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class we{constructor(_e,Se,Fe,Ut){this.eventManager=_e,this.doc=Se,this.ngZone=Fe,this.platformIsServer=Ut,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,Se){return Se?this.doc.createElementNS(ut[Se]||Se,_e):this.doc.createElement(_e)}createComment(_e){return this.doc.createComment(_e)}createText(_e){return this.doc.createTextNode(_e)}appendChild(_e,Se){(it(_e)?_e.content:_e).appendChild(Se)}insertBefore(_e,Se,Fe){_e&&(it(_e)?_e.content:_e).insertBefore(Se,Fe)}removeChild(_e,Se){_e&&_e.removeChild(Se)}selectRootElement(_e,Se){let Fe="string"==typeof _e?this.doc.querySelector(_e):_e;if(!Fe)throw new y.vHH(-5104,!1);return Se||(Fe.textContent=""),Fe}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,Se,Fe,Ut){if(Ut){Se=Ut+":"+Se;const ln=ut[Ut];ln?_e.setAttributeNS(ln,Se,Fe):_e.setAttribute(Se,Fe)}else _e.setAttribute(Se,Fe)}removeAttribute(_e,Se,Fe){if(Fe){const Ut=ut[Fe];Ut?_e.removeAttributeNS(Ut,Se):_e.removeAttribute(`${Fe}:${Se}`)}else _e.removeAttribute(Se)}addClass(_e,Se){_e.classList.add(Se)}removeClass(_e,Se){_e.classList.remove(Se)}setStyle(_e,Se,Fe,Ut){Ut&(y.JOm.DashCase|y.JOm.Important)?_e.style.setProperty(Se,Fe,Ut&y.JOm.Important?"important":""):_e.style[Se]=Fe}removeStyle(_e,Se,Fe){Fe&y.JOm.DashCase?_e.style.removeProperty(Se):_e.style[Se]=""}setProperty(_e,Se,Fe){_e[Se]=Fe}setValue(_e,Se){_e.nodeValue=Se}listen(_e,Se,Fe){if("string"==typeof _e&&!(_e=(0,_.q)().getGlobalEventTarget(this.doc,_e)))throw new Error(`Unsupported event target ${_e} for event ${Se}`);return this.eventManager.addEventListener(_e,Se,this.decoratePreventDefault(Fe))}decoratePreventDefault(_e){return Se=>{if("__ngUnwrap__"===Se)return _e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>_e(Se)):_e(Se))&&Se.preventDefault()}}}function it(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class ht extends we{constructor(_e,Se,Fe,Ut,ln,En,ir,pr){super(_e,ln,En,pr),this.sharedStylesHost=Se,this.hostEl=Fe,this.shadowRoot=Fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const br=Re(Ut.id,Ut.styles);for(const Gn of br){const ai=document.createElement("style");ir&&ai.setAttribute("nonce",ir),ai.textContent=Gn,this.shadowRoot.appendChild(ai)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}appendChild(_e,Se){return super.appendChild(this.nodeOrShadowRoot(_e),Se)}insertBefore(_e,Se,Fe){return super.insertBefore(this.nodeOrShadowRoot(_e),Se,Fe)}removeChild(_e,Se){return super.removeChild(this.nodeOrShadowRoot(_e),Se)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class It extends we{constructor(_e,Se,Fe,Ut,ln,En,ir,pr){super(_e,ln,En,ir),this.sharedStylesHost=Se,this.removeStylesOnCompDestroy=Ut,this.styles=pr?Re(pr,Fe.styles):Fe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class an extends It{constructor(_e,Se,Fe,Ut,ln,En,ir,pr){const br=Ut+"-"+Fe.id;super(_e,Se,Fe,ln,En,ir,pr,br),this.contentAttr=function je(ye){return"_ngcontent-%COMP%".replace(ce,ye)}(br),this.hostAttr=function z(ye){return"_nghost-%COMP%".replace(ce,ye)}(br)}applyToHost(_e){this.applyStyles(),this.setAttribute(_e,this.hostAttr,"")}createElement(_e,Se){const Fe=super.createElement(_e,Se);return super.setAttribute(Fe,this.contentAttr,""),Fe}}let dt=(()=>{class ye extends Ne{constructor(Se){super(Se)}supports(Se){return!0}addEventListener(Se,Fe,Ut){return Se.addEventListener(Fe,Ut,!1),()=>this.removeEventListener(Se,Fe,Ut)}removeEventListener(Se,Fe,Ut){return Se.removeEventListener(Fe,Ut)}}return ye.\u0275fac=function(Se){return new(Se||ye)(y.LFG(_.K0))},ye.\u0275prov=y.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const Me=["alt","control","meta","shift"],Q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},de={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let Le=(()=>{class ye extends Ne{constructor(Se){super(Se)}supports(Se){return null!=ye.parseEventName(Se)}addEventListener(Se,Fe,Ut){const ln=ye.parseEventName(Fe),En=ye.eventCallback(ln.fullKey,Ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(Se,ln.domEventName,En))}static parseEventName(Se){const Fe=Se.toLowerCase().split("."),Ut=Fe.shift();if(0===Fe.length||"keydown"!==Ut&&"keyup"!==Ut)return null;const ln=ye._normalizeKey(Fe.pop());let En="",ir=Fe.indexOf("code");if(ir>-1&&(Fe.splice(ir,1),En="code."),Me.forEach(br=>{const Gn=Fe.indexOf(br);Gn>-1&&(Fe.splice(Gn,1),En+=br+".")}),En+=ln,0!=Fe.length||0===ln.length)return null;const pr={};return pr.domEventName=Ut,pr.fullKey=En,pr}static matchEventFullKeyCode(Se,Fe){let Ut=Q[Se.key]||Se.key,ln="";return Fe.indexOf("code.")>-1&&(Ut=Se.code,ln="code."),!(null==Ut||!Ut)&&(Ut=Ut.toLowerCase()," "===Ut?Ut="space":"."===Ut&&(Ut="dot"),Me.forEach(En=>{En!==Ut&&(0,de[En])(Se)&&(ln+=En+".")}),ln+=Ut,ln===Fe)}static eventCallback(Se,Fe,Ut){return ln=>{ye.matchEventFullKeyCode(ln,Se)&&Ut.runGuarded(()=>Fe(ln))}}static _normalizeKey(Se){return"esc"===Se?"escape":Se}}return ye.\u0275fac=function(Se){return new(Se||ye)(y.LFG(_.K0))},ye.\u0275prov=y.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const tn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:_.bD},{provide:y.g9A,useValue:function Xt(){se.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function Ft(){return(0,y.RDi)(document),document},deps:[]}]),nn=new y.OlP(""),xn=[{provide:y.rWj,useClass:class Ce{addToWindow(_e){y.dqk.getAngularTestability=(Fe,Ut=!0)=>{const ln=_e.findTestabilityInTree(Fe,Ut);if(null==ln)throw new y.vHH(5103,!1);return ln},y.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(Fe=>{const Ut=y.dqk.getAllAngularTestabilities();let ln=Ut.length,En=!1;const ir=function(pr){En=En||pr,ln--,0==ln&&Fe(En)};Ut.forEach(pr=>{pr.whenStable(ir)})})}findTestabilityInTree(_e,Se,Fe){if(null==Se)return null;const Ut=_e.getTestability(Se);return null!=Ut?Ut:Fe?(0,_.q)().isShadowRoot(Se)?this.findTestabilityInTree(_e,Se.host,!0):this.findTestabilityInTree(_e,Se.parentElement,!0):null}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Bn=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Zt(){return new y.qLn},deps:[]},{provide:ne,useClass:dt,multi:!0,deps:[_.K0,y.R0b,y.Lbi]},{provide:ne,useClass:Le,multi:!0,deps:[_.K0]},ve,qe,me,{provide:y.FYo,useExisting:ve},{provide:_.JF,useClass:he,deps:[]},[]];let $n=(()=>{class ye{constructor(Se){}static withServerTransition(Se){return{ngModule:ye,providers:[{provide:y.AFp,useValue:Se.appId}]}}}return ye.\u0275fac=function(Se){return new(Se||ye)(y.LFG(nn,12))},ye.\u0275mod=y.oAB({type:ye}),ye.\u0275inj=y.cJS({providers:[...Bn,...xn],imports:[_.ez,y.hGG]}),ye})(),Fr=(()=>{class ye{constructor(Se){this._doc=Se}getTitle(){return this._doc.title}setTitle(Se){this._doc.title=Se||""}}return ye.\u0275fac=function(Se){return new(Se||ye)(y.LFG(_.K0))},ye.\u0275prov=y.Yz7({token:ye,factory:function(Se){let Fe=null;return Fe=Se?new Se:function sr(){return new Fr((0,y.LFG)(_.K0))}(),Fe},providedIn:"root"}),ye})();typeof window<"u"&&window},8857:(Cn,mt,P)=>{"use strict";P.d(mt,{gz:()=>Pn,y6:()=>lr,m2:()=>Ae,OD:()=>gs,eC:()=>Xt,wm:()=>xh,wN:()=>Cr,F0:()=>Qs,rH:()=>da,Bz:()=>Ec,Hx:()=>xr});var y=P(5879),_=P(2664),re=P(2459),se=P(2096),xe=P(5619),ze=P(2572),G=P(6973),Ve=P(5211),Ce=P(5592),he=P(4829);function ne(O){return new Ce.y(B=>{(0,he.Xf)(O()).subscribe(B)})}var me=P(8407),Ne=P(8504),be=P(6232),qe=P(7394),ut=P(9360),ce=P(8251);function ke(){return(0,ut.e)((O,B)=>{let x=null;O._refCount++;const V=(0,ce.x)(B,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(x=null);const oe=O._connection,He=x;x=null,oe&&(!He||oe===He)&&oe.unsubscribe(),B.unsubscribe()});O.subscribe(V),V.closed||(x=O.connect())})}class St extends Ce.y{constructor(B,x){super(),this.source=B,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,ut.A)(B)&&(this.lift=B.lift)}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:B}=this;this._subject=this._connection=null,null==B||B.unsubscribe()}connect(){let B=this._connection;if(!B){B=this._connection=new qe.w0;const x=this.getSubject();B.add(this.source.subscribe((0,ce.x)(x,void 0,()=>{this._teardown(),x.complete()},V=>{this._teardown(),x.error(V)},()=>this._teardown()))),B.closed&&(this._connection=null,B=qe.w0.EMPTY)}return B}refCount(){return ke()(this)}}var Bt=P(8645),$e=P(6814),Ee=P(7398),je=P(4664),z=P(8180),Re=P(7921),ve=P(2181),we=P(1631),We=P(1374),lt=P(4674);function it(O,B){return(0,lt.m)(B)?(0,we.z)(O,B,1):(0,we.z)(O,1)}var ht=P(9397),It=P(6306),an=P(6424),dt=P(3572);function Me(O){return O<=0?()=>be.E:(0,ut.e)((B,x)=>{let V=[];B.subscribe((0,ce.x)(x,oe=>{V.push(oe),O<V.length&&V.shift()},()=>{for(const oe of V)x.next(oe);x.complete()},void 0,()=>{V=null}))})}var Q=P(3026),de=P(2737);function Tt(O){return(0,ut.e)((B,x)=>{try{B.subscribe(x)}finally{x.add(O)}})}var xt=P(7537),on=P(6593);const Xt="primary",Zt=Symbol("RouteTitle");class Ft{constructor(B){this.params=B||{}}has(B){return Object.prototype.hasOwnProperty.call(this.params,B)}get(B){if(this.has(B)){const x=this.params[B];return Array.isArray(x)?x[0]:x}return null}getAll(B){if(this.has(B)){const x=this.params[B];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function Nt(O){return new Ft(O)}function tn(O,B,x){const V=x.path.split("/");if(V.length>O.length||"full"===x.pathMatch&&(B.hasChildren()||V.length<O.length))return null;const oe={};for(let He=0;He<V.length;He++){const Ue=V[He],Lt=O[He];if(Ue.startsWith(":"))oe[Ue.substring(1)]=Lt;else if(Ue!==Lt.path)return null}return{consumed:O.slice(0,V.length),posParams:oe}}function xn(O,B){const x=O?Object.keys(O):void 0,V=B?Object.keys(B):void 0;if(!x||!V||x.length!=V.length)return!1;let oe;for(let He=0;He<x.length;He++)if(oe=x[He],!Bn(O[oe],B[oe]))return!1;return!0}function Bn(O,B){if(Array.isArray(O)&&Array.isArray(B)){if(O.length!==B.length)return!1;const x=[...O].sort(),V=[...B].sort();return x.every((oe,He)=>V[He]===oe)}return O===B}function $n(O){return O.length>0?O[O.length-1]:null}function tr(O){return(0,_.b)(O)?O:(0,y.QGY)(O)?(0,re.D)(Promise.resolve(O)):(0,se.of)(O)}const Ar={exact:function mn(O,B,x){if(!fr(O.segments,B.segments)||!hr(O.segments,B.segments,x)||O.numberOfChildren!==B.numberOfChildren)return!1;for(const V in B.children)if(!O.children[V]||!mn(O.children[V],B.children[V],x))return!1;return!0},subset:qr},Hr={exact:function Fr(O,B){return xn(O,B)},subset:function Yr(O,B){return Object.keys(B).length<=Object.keys(O).length&&Object.keys(B).every(x=>Bn(O[x],B[x]))},ignored:()=>!0};function sr(O,B,x){return Ar[x.paths](O.root,B.root,x.matrixParams)&&Hr[x.queryParams](O.queryParams,B.queryParams)&&!("exact"===x.fragment&&O.fragment!==B.fragment)}function qr(O,B,x){return Hn(O,B,B.segments,x)}function Hn(O,B,x,V){if(O.segments.length>x.length){const oe=O.segments.slice(0,x.length);return!(!fr(oe,x)||B.hasChildren()||!hr(oe,x,V))}if(O.segments.length===x.length){if(!fr(O.segments,x)||!hr(O.segments,x,V))return!1;for(const oe in B.children)if(!O.children[oe]||!qr(O.children[oe],B.children[oe],V))return!1;return!0}{const oe=x.slice(0,O.segments.length),He=x.slice(O.segments.length);return!!(fr(O.segments,oe)&&hr(O.segments,oe,V)&&O.children[Xt])&&Hn(O.children[Xt],B,He,V)}}function hr(O,B,x){return B.every((V,oe)=>Hr[x](O[oe].parameters,V.parameters))}class Br{constructor(B=new dr([],{}),x={},V=null){this.root=B,this.queryParams=x,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return Sr.serialize(this)}}class dr{constructor(B,x){this.segments=B,this.children=x,this.parent=null,Object.values(x).forEach(V=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jr(this)}}class $r{constructor(B,x){this.path=B,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return pi(this)}}function fr(O,B){return O.length===B.length&&O.every((x,V)=>x.path===B[V].path)}let xr=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:function(){return new Hi},providedIn:"root"}),O})();class Hi{parse(B){const x=new En(B);return new Br(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(B){const x=`/${Xr(B.root,!0)}`,V=function ti(O){const B=Object.keys(O).map(x=>{const V=O[x];return Array.isArray(V)?V.map(oe=>`${mi(x)}=${mi(oe)}`).join("&"):`${mi(x)}=${mi(V)}`}).filter(x=>!!x);return B.length?`?${B.join("&")}`:""}(B.queryParams);return`${x}${V}${"string"==typeof B.fragment?`#${function Di(O){return encodeURI(O)}(B.fragment)}`:""}`}}const Sr=new Hi;function Jr(O){return O.segments.map(B=>pi(B)).join("/")}function Xr(O,B){if(!O.hasChildren())return Jr(O);if(B){const x=O.children[Xt]?Xr(O.children[Xt],!1):"",V=[];return Object.entries(O.children).forEach(([oe,He])=>{oe!==Xt&&V.push(`${oe}:${Xr(He,!1)}`)}),V.length>0?`${x}(${V.join("//")})`:x}{const x=function Pi(O,B){let x=[];return Object.entries(O.children).forEach(([V,oe])=>{V===Xt&&(x=x.concat(B(oe,V)))}),Object.entries(O.children).forEach(([V,oe])=>{V!==Xt&&(x=x.concat(B(oe,V)))}),x}(O,(V,oe)=>oe===Xt?[Xr(O.children[Xt],!1)]:[`${oe}:${Xr(V,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[Xt]?`${Jr(O)}/${x[0]}`:`${Jr(O)}/(${x.join("//")})`}}function gi(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mi(O){return gi(O).replace(/%3B/gi,";")}function ii(O){return gi(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ei(O){return decodeURIComponent(O)}function si(O){return ei(O.replace(/\+/g,"%20"))}function pi(O){return`${ii(O.path)}${function hi(O){return Object.keys(O).map(B=>`;${ii(B)}=${ii(O[B])}`).join("")}(O.parameters)}`}const oi=/^[^\/()?;#]+/;function st(O){const B=O.match(oi);return B?B[0]:""}const ye=/^[^\/()?;=#]+/,Se=/^[^=?&#]+/,Ut=/^[^&#]+/;class En{constructor(B){this.url=B,this.remaining=B}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dr([],{}):new dr([],this.parseChildren())}parseQueryParams(){const B={};if(this.consumeOptional("?"))do{this.parseQueryParam(B)}while(this.consumeOptional("&"));return B}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const B=[];for(this.peekStartsWith("(")||B.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),B.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(B.length>0||Object.keys(x).length>0)&&(V[Xt]=new dr(B,x)),V}parseSegment(){const B=st(this.remaining);if(""===B&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(B),new $r(ei(B),this.parseMatrixParams())}parseMatrixParams(){const B={};for(;this.consumeOptional(";");)this.parseParam(B);return B}parseParam(B){const x=function _e(O){const B=O.match(ye);return B?B[0]:""}(this.remaining);if(!x)return;this.capture(x);let V="";if(this.consumeOptional("=")){const oe=st(this.remaining);oe&&(V=oe,this.capture(V))}B[ei(x)]=ei(V)}parseQueryParam(B){const x=function Fe(O){const B=O.match(Se);return B?B[0]:""}(this.remaining);if(!x)return;this.capture(x);let V="";if(this.consumeOptional("=")){const Ue=function ln(O){const B=O.match(Ut);return B?B[0]:""}(this.remaining);Ue&&(V=Ue,this.capture(V))}const oe=si(x),He=si(V);if(B.hasOwnProperty(oe)){let Ue=B[oe];Array.isArray(Ue)||(Ue=[Ue],B[oe]=Ue),Ue.push(He)}else B[oe]=He}parseParens(B){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=st(this.remaining),oe=this.remaining[V.length];if("/"!==oe&&")"!==oe&&";"!==oe)throw new y.vHH(4010,!1);let He;V.indexOf(":")>-1?(He=V.slice(0,V.indexOf(":")),this.capture(He),this.capture(":")):B&&(He=Xt);const Ue=this.parseChildren();x[He]=1===Object.keys(Ue).length?Ue[Xt]:new dr([],Ue),this.consumeOptional("//")}return x}peekStartsWith(B){return this.remaining.startsWith(B)}consumeOptional(B){return!!this.peekStartsWith(B)&&(this.remaining=this.remaining.substring(B.length),!0)}capture(B){if(!this.consumeOptional(B))throw new y.vHH(4011,!1)}}function ir(O){return O.segments.length>0?new dr([],{[Xt]:O}):O}function pr(O){const B={};for(const V of Object.keys(O.children)){const He=pr(O.children[V]);if(V===Xt&&0===He.segments.length&&He.hasChildren())for(const[Ue,Lt]of Object.entries(He.children))B[Ue]=Lt;else(He.segments.length>0||He.hasChildren())&&(B[V]=He)}return function br(O){if(1===O.numberOfChildren&&O.children[Xt]){const B=O.children[Xt];return new dr(O.segments.concat(B.segments),B.children)}return O}(new dr(O.segments,B))}function Gn(O){return O instanceof Br}function Gi(O){var B;let x;const He=ir(function V(Ue){const Lt={};for(const vr of Ue.children){const ui=V(vr);Lt[vr.outlet]=ui}const An=new dr(Ue.url,Lt);return Ue===O&&(x=An),An}(O.root));return null!==(B=x)&&void 0!==B?B:He}function Li(O,B,x,V){let oe=O;for(;oe.parent;)oe=oe.parent;if(0===B.length)return pt(oe,oe,oe,x,V);const He=function Rn(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new Sn(!0,0,O);let B=0,x=!1;const V=O.reduce((oe,He,Ue)=>{if("object"==typeof He&&null!=He){if(He.outlets){const Lt={};return Object.entries(He.outlets).forEach(([An,vr])=>{Lt[An]="string"==typeof vr?vr.split("/"):vr}),[...oe,{outlets:Lt}]}if(He.segmentPath)return[...oe,He.segmentPath]}return"string"!=typeof He?[...oe,He]:0===Ue?(He.split("/").forEach((Lt,An)=>{0==An&&"."===Lt||(0==An&&""===Lt?x=!0:".."===Lt?B++:""!=Lt&&oe.push(Lt))}),oe):[...oe,He]},[]);return new Sn(x,B,V)}(B);if(He.toRoot())return pt(oe,oe,new dr([],{}),x,V);const Ue=function kr(O,B,x){if(O.isAbsolute)return new or(B,!0,0);if(!x)return new or(B,!1,NaN);if(null===x.parent)return new or(x,!0,0);const V=Dt(O.commands[0])?0:1;return function jr(O,B,x){let V=O,oe=B,He=x;for(;He>oe;){if(He-=oe,V=V.parent,!V)throw new y.vHH(4005,!1);oe=V.segments.length}return new or(V,!1,oe-He)}(x,x.segments.length-1+V,O.numberOfDoubleDots)}(He,oe,O),Lt=Ue.processChildren?ar(Ue.segmentGroup,Ue.index,He.commands):Gr(Ue.segmentGroup,Ue.index,He.commands);return pt(oe,Ue.segmentGroup,Lt,x,V)}function Dt(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function Xe(O){return"object"==typeof O&&null!=O&&O.outlets}function pt(O,B,x,V,oe){let Ue,He={};V&&Object.entries(V).forEach(([An,vr])=>{He[An]=Array.isArray(vr)?vr.map(ui=>`${ui}`):`${vr}`}),Ue=O===B?x:jt(O,B,x);const Lt=ir(pr(Ue));return new Br(Lt,He,oe)}function jt(O,B,x){const V={};return Object.entries(O.children).forEach(([oe,He])=>{V[oe]=He===B?x:jt(He,B,x)}),new dr(O.segments,V)}class Sn{constructor(B,x,V){if(this.isAbsolute=B,this.numberOfDoubleDots=x,this.commands=V,B&&V.length>0&&Dt(V[0]))throw new y.vHH(4003,!1);const oe=V.find(Xe);if(oe&&oe!==$n(V))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class or{constructor(B,x,V){this.segmentGroup=B,this.processChildren=x,this.index=V}}function Gr(O,B,x){if(O||(O=new dr([],{})),0===O.segments.length&&O.hasChildren())return ar(O,B,x);const V=function Zr(O,B,x){let V=0,oe=B;const He={match:!1,pathIndex:0,commandIndex:0};for(;oe<O.segments.length;){if(V>=x.length)return He;const Ue=O.segments[oe],Lt=x[V];if(Xe(Lt))break;const An=`${Lt}`,vr=V<x.length-1?x[V+1]:null;if(oe>0&&void 0===An)break;if(An&&vr&&"object"==typeof vr&&void 0===vr.outlets){if(!Yi(An,vr,Ue))return He;V+=2}else{if(!Yi(An,{},Ue))return He;V++}oe++}return{match:!0,pathIndex:oe,commandIndex:V}}(O,B,x),oe=x.slice(V.commandIndex);if(V.match&&V.pathIndex<O.segments.length){const He=new dr(O.segments.slice(0,V.pathIndex),{});return He.children[Xt]=new dr(O.segments.slice(V.pathIndex),O.children),ar(He,0,oe)}return V.match&&0===oe.length?new dr(O.segments,{}):V.match&&!O.hasChildren()?ts(O,B,x):V.match?ar(O,0,oe):ts(O,B,x)}function ar(O,B,x){if(0===x.length)return new dr(O.segments,{});{const V=function ni(O){return Xe(O[0])?O[0].outlets:{[Xt]:O}}(x),oe={};if(!V[Xt]&&O.children[Xt]&&1===O.numberOfChildren&&0===O.children[Xt].segments.length){const He=ar(O.children[Xt],B,x);return new dr(O.segments,He.children)}return Object.entries(V).forEach(([He,Ue])=>{"string"==typeof Ue&&(Ue=[Ue]),null!==Ue&&(oe[He]=Gr(O.children[He],B,Ue))}),Object.entries(O.children).forEach(([He,Ue])=>{void 0===V[He]&&(oe[He]=Ue)}),new dr(O.segments,oe)}}function ts(O,B,x){const V=O.segments.slice(0,B);let oe=0;for(;oe<x.length;){const He=x[oe];if(Xe(He)){const An=Wi(He.outlets);return new dr(V,An)}if(0===oe&&Dt(x[0])){V.push(new $r(O.segments[B].path,$i(x[0]))),oe++;continue}const Ue=Xe(He)?He.outlets[Xt]:`${He}`,Lt=oe<x.length-1?x[oe+1]:null;Ue&&Lt&&Dt(Lt)?(V.push(new $r(Ue,$i(Lt))),oe+=2):(V.push(new $r(Ue,{})),oe++)}return new dr(V,{})}function Wi(O){const B={};return Object.entries(O).forEach(([x,V])=>{"string"==typeof V&&(V=[V]),null!==V&&(B[x]=ts(new dr([],{}),0,V))}),B}function $i(O){const B={};return Object.entries(O).forEach(([x,V])=>B[x]=`${V}`),B}function Yi(O,B,x){return O==x.path&&xn(B,x.parameters)}const Ui="imperative";class Vi{constructor(B,x){this.id=B,this.url=x}}class gs extends Vi{constructor(B,x,V="imperative",oe=null){super(B,x),this.type=0,this.navigationTrigger=V,this.restoredState=oe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ae extends Vi{constructor(B,x,V){super(B,x),this.urlAfterRedirects=V,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Et extends Vi{constructor(B,x,V,oe){super(B,x),this.reason=V,this.code=oe,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ze extends Vi{constructor(B,x,V,oe){super(B,x),this.reason=V,this.code=oe,this.type=16}}class Rt extends Vi{constructor(B,x,V,oe){super(B,x),this.error=V,this.target=oe,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vt extends Vi{constructor(B,x,V,oe){super(B,x),this.urlAfterRedirects=V,this.state=oe,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends Vi{constructor(B,x,V,oe){super(B,x),this.urlAfterRedirects=V,this.state=oe,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pe extends Vi{constructor(B,x,V,oe,He){super(B,x),this.urlAfterRedirects=V,this.state=oe,this.shouldActivate=He,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ue extends Vi{constructor(B,x,V,oe){super(B,x),this.urlAfterRedirects=V,this.state=oe,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y extends Vi{constructor(B,x,V,oe){super(B,x),this.urlAfterRedirects=V,this.state=oe,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie{constructor(B){this.route=B,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ge{constructor(B){this.route=B,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ot{constructor(B){this.snapshot=B,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kt{constructor(B){this.snapshot=B,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $t{constructor(B){this.snapshot=B,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ht{constructor(B){this.snapshot=B,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(B,x,V){this.routerEvent=B,this.position=x,this.anchor=V,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lr,this.attachRef=null}}let lr=(()=>{class O{constructor(){this.contexts=new Map}onChildOutletCreated(x,V){const oe=this.getOrCreateContext(x);oe.outlet=V,this.contexts.set(x,oe)}onChildOutletDestroyed(x){const V=this.getContext(x);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const x=this.contexts;return this.contexts=new Map,x}onOutletReAttached(x){this.contexts=x}getOrCreateContext(x){let V=this.getContext(x);return V||(V=new Kn,this.contexts.set(x,V)),V}getContext(x){return this.contexts.get(x)||null}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();class wr{constructor(B){this._root=B}get root(){return this._root.value}parent(B){const x=this.pathFromRoot(B);return x.length>1?x[x.length-2]:null}children(B){const x=ft(B,this._root);return x?x.children.map(V=>V.value):[]}firstChild(B){const x=ft(B,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(B){const x=bt(B,this._root);return x.length<2?[]:x[x.length-2].children.map(oe=>oe.value).filter(oe=>oe!==B)}pathFromRoot(B){return bt(B,this._root).map(x=>x.value)}}function ft(O,B){if(O===B.value)return B;for(const x of B.children){const V=ft(O,x);if(V)return V}return null}function bt(O,B){if(O===B.value)return[B];for(const x of B.children){const V=bt(O,x);if(V.length)return V.unshift(B),V}return[]}class Ct{constructor(B,x){this.value=B,this.children=x}toString(){return`TreeNode(${this.value})`}}function dn(O){const B={};return O&&O.children.forEach(x=>B[x.value.outlet]=x),B}class Nn extends wr{constructor(B,x){super(B),this.snapshot=x,ji(this,B)}toString(){return this.snapshot.toString()}}function qn(O,B){const x=function kn(O,B){const Ue=new Os([],{},{},"",{},Xt,B,null,{});return new yi("",new Ct(Ue,[]))}(0,B),V=new xe.X([new $r("",{})]),oe=new xe.X({}),He=new xe.X({}),Ue=new xe.X({}),Lt=new xe.X(""),An=new Pn(V,oe,Ue,Lt,He,Xt,B,x.root);return An.snapshot=x.root,new Nn(new Ct(An,[]),x)}class Pn{constructor(B,x,V,oe,He,Ue,Lt,An){var vr,ui;this.urlSubject=B,this.paramsSubject=x,this.queryParamsSubject=V,this.fragmentSubject=oe,this.dataSubject=He,this.outlet=Ue,this.component=Lt,this._futureSnapshot=An,this.title=null!==(vr=null===(ui=this.dataSubject)||void 0===ui?void 0:ui.pipe((0,Ee.U)(Dr=>Dr[Zt])))&&void 0!==vr?vr:(0,se.of)(void 0),this.url=B,this.params=x,this.queryParams=V,this.fragment=oe,this.data=He}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ee.U)(B=>Nt(B)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ee.U)(B=>Nt(B)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xn(O,B="emptyOnly"){const x=O.pathFromRoot;let V=0;if("always"!==B)for(V=x.length-1;V>=1;){const oe=x[V],He=x[V-1];if(oe.routeConfig&&""===oe.routeConfig.path)V--;else{if(He.component)break;V--}}return function vi(O){return O.reduce((B,x)=>{var V;return{params:{...B.params,...x.params},data:{...B.data,...x.data},resolve:{...x.data,...B.resolve,...null===(V=x.routeConfig)||void 0===V?void 0:V.data,...x._resolvedData}}},{params:{},data:{},resolve:{}})}(x.slice(V))}class Os{get title(){var B;return null===(B=this.data)||void 0===B?void 0:B[Zt]}constructor(B,x,V,oe,He,Ue,Lt,An,vr){this.url=B,this.params=x,this.queryParams=V,this.fragment=oe,this.data=He,this.outlet=Ue,this.component=Lt,this.routeConfig=An,this._resolve=vr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yi extends wr{constructor(B,x){super(x),this.url=B,ji(this,x)}toString(){return Ti(this._root)}}function ji(O,B){B.value._routerState=O,B.children.forEach(x=>ji(O,x))}function Ti(O){const B=O.children.length>0?` { ${O.children.map(Ti).join(", ")} } `:"";return`${O.value}${B}`}function Is(O){if(O.snapshot){const B=O.snapshot,x=O._futureSnapshot;O.snapshot=x,xn(B.queryParams,x.queryParams)||O.queryParamsSubject.next(x.queryParams),B.fragment!==x.fragment&&O.fragmentSubject.next(x.fragment),xn(B.params,x.params)||O.paramsSubject.next(x.params),function nn(O,B){if(O.length!==B.length)return!1;for(let x=0;x<O.length;++x)if(!xn(O[x],B[x]))return!1;return!0}(B.url,x.url)||O.urlSubject.next(x.url),xn(B.data,x.data)||O.dataSubject.next(x.data)}else O.snapshot=O._futureSnapshot,O.dataSubject.next(O._futureSnapshot.data)}function ws(O,B){const x=xn(O.params,B.params)&&function Ei(O,B){return fr(O,B)&&O.every((x,V)=>xn(x.parameters,B[V].parameters))}(O.url,B.url);return x&&!(!O.parent!=!B.parent)&&(!O.parent||ws(O.parent,B.parent))}let _r=(()=>{class O{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(lr),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(ks,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(x){if(x.name){const{firstChange:V,previousValue:oe}=x.name;if(V)return;this.isTrackedInParentContexts(oe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(oe)),this.initializeOutletWithName()}}ngOnDestroy(){var x;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(x=this.inputBinder)||void 0===x||x.unsubscribeFromRouteData(this)}isTrackedInParentContexts(x){var V;return(null===(V=this.parentContexts.getContext(x))||void 0===V?void 0:V.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const x=this.parentContexts.getContext(this.name);null!=x&&x.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,V){var oe;this.activated=x,this._activatedRoute=V,this.location.insert(x.hostView),null===(oe=this.inputBinder)||void 0===oe||oe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,V){var oe;if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=x;const He=this.location,Lt=x.snapshot.component,An=this.parentContexts.getOrCreateContext(this.name).children,vr=new Ns(x,An,He.injector);this.activated=He.createComponent(Lt,{index:He.length,injector:vr,environmentInjector:null!=V?V:this.environmentInjector}),this.changeDetector.markForCheck(),null===(oe=this.inputBinder)||void 0===oe||oe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275dir=y.lG2({type:O,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),O})();class Ns{constructor(B,x,V){this.route=B,this.childContexts=x,this.parent=V}get(B,x){return B===Pn?this.route:B===lr?this.childContexts:this.parent.get(B,x)}}const ks=new y.OlP("");let js=(()=>{class O{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(x){this.unsubscribeFromRouteData(x),this.subscribeToRouteData(x)}unsubscribeFromRouteData(x){var V;null===(V=this.outletDataSubscriptions.get(x))||void 0===V||V.unsubscribe(),this.outletDataSubscriptions.delete(x)}subscribeToRouteData(x){const{activatedRoute:V}=x,oe=(0,ze.a)([V.queryParams,V.params,V.data]).pipe((0,je.w)(([He,Ue,Lt],An)=>(Lt={...He,...Ue,...Lt},0===An?(0,se.of)(Lt):Promise.resolve(Lt)))).subscribe(He=>{if(!x.isActivated||!x.activatedComponentRef||x.activatedRoute!==V||null===V.component)return void this.unsubscribeFromRouteData(x);const Ue=(0,y.qFp)(V.component);if(Ue)for(const{templateName:Lt}of Ue.inputs)x.activatedComponentRef.setInput(Lt,He[Lt]);else this.unsubscribeFromRouteData(x)});this.outletDataSubscriptions.set(x,oe)}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac}),O})();function fe(O,B,x){if(x&&O.shouldReuseRoute(B.value,x.value.snapshot)){const V=x.value;V._futureSnapshot=B.value;const oe=function yt(O,B,x){return B.children.map(V=>{for(const oe of x.children)if(O.shouldReuseRoute(V.value,oe.value.snapshot))return fe(O,V,oe);return fe(O,V)})}(O,B,x);return new Ct(V,oe)}{if(O.shouldAttach(B.value)){const He=O.retrieve(B.value);if(null!==He){const Ue=He.route;return Ue.value._futureSnapshot=B.value,Ue.children=B.children.map(Lt=>fe(O,Lt)),Ue}}const V=function Oe(O){return new Pn(new xe.X(O.url),new xe.X(O.params),new xe.X(O.queryParams),new xe.X(O.fragment),new xe.X(O.data),O.outlet,O.component,O)}(B.value),oe=B.children.map(He=>fe(O,He));return new Ct(V,oe)}}const at="ngNavigationCancelingError";function Gt(O,B){const{redirectTo:x,navigationBehaviorOptions:V}=Gn(B)?{redirectTo:B,navigationBehaviorOptions:void 0}:B,oe=cn(!1,0,B);return oe.url=x,oe.navigationBehaviorOptions=V,oe}function cn(O,B,x){const V=new Error("NavigationCancelingError: "+(O||""));return V[at]=!0,V.cancellationCode=B,x&&(V.url=x),V}function _n(O){return er(O)&&Gn(O.url)}function er(O){return O&&O[at]}let Or=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275cmp=y.Xpm({type:O,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(x,V){1&x&&y._UZ(0,"router-outlet")},dependencies:[_r],encapsulation:2}),O})();function _t(O){const B=O.children&&O.children.map(_t),x=B?{...O,children:B}:{...O};return!x.component&&!x.loadComponent&&(B||x.loadChildren)&&x.outlet&&x.outlet!==Xt&&(x.component=Or),x}function Yt(O){return O.outlet||Xt}function jn(O){var B;if(!O)return null;if(null!==(B=O.routeConfig)&&void 0!==B&&B._injector)return O.routeConfig._injector;for(let x=O.parent;x;x=x.parent){const V=x.routeConfig;if(null!=V&&V._loadedInjector)return V._loadedInjector;if(null!=V&&V._injector)return V._injector}return null}class Ir{constructor(B,x,V,oe,He){this.routeReuseStrategy=B,this.futureState=x,this.currState=V,this.forwardEvent=oe,this.inputBindingEnabled=He}activate(B){const x=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,V,B),Is(this.futureState.root),this.activateChildRoutes(x,V,B)}deactivateChildRoutes(B,x,V){const oe=dn(x);B.children.forEach(He=>{const Ue=He.value.outlet;this.deactivateRoutes(He,oe[Ue],V),delete oe[Ue]}),Object.values(oe).forEach(He=>{this.deactivateRouteAndItsChildren(He,V)})}deactivateRoutes(B,x,V){const oe=B.value,He=x?x.value:null;if(oe===He)if(oe.component){const Ue=V.getContext(oe.outlet);Ue&&this.deactivateChildRoutes(B,x,Ue.children)}else this.deactivateChildRoutes(B,x,V);else He&&this.deactivateRouteAndItsChildren(x,V)}deactivateRouteAndItsChildren(B,x){B.value.component&&this.routeReuseStrategy.shouldDetach(B.value.snapshot)?this.detachAndStoreRouteSubtree(B,x):this.deactivateRouteAndOutlet(B,x)}detachAndStoreRouteSubtree(B,x){const V=x.getContext(B.value.outlet),oe=V&&B.value.component?V.children:x,He=dn(B);for(const Ue of Object.keys(He))this.deactivateRouteAndItsChildren(He[Ue],oe);if(V&&V.outlet){const Ue=V.outlet.detach(),Lt=V.children.onOutletDeactivated();this.routeReuseStrategy.store(B.value.snapshot,{componentRef:Ue,route:B,contexts:Lt})}}deactivateRouteAndOutlet(B,x){const V=x.getContext(B.value.outlet),oe=V&&B.value.component?V.children:x,He=dn(B);for(const Ue of Object.keys(He))this.deactivateRouteAndItsChildren(He[Ue],oe);V&&(V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated()),V.attachRef=null,V.route=null)}activateChildRoutes(B,x,V){const oe=dn(x);B.children.forEach(He=>{this.activateRoutes(He,oe[He.value.outlet],V),this.forwardEvent(new Ht(He.value.snapshot))}),B.children.length&&this.forwardEvent(new kt(B.value.snapshot))}activateRoutes(B,x,V){const oe=B.value,He=x?x.value:null;if(Is(oe),oe===He)if(oe.component){const Ue=V.getOrCreateContext(oe.outlet);this.activateChildRoutes(B,x,Ue.children)}else this.activateChildRoutes(B,x,V);else if(oe.component){const Ue=V.getOrCreateContext(oe.outlet);if(this.routeReuseStrategy.shouldAttach(oe.snapshot)){const Lt=this.routeReuseStrategy.retrieve(oe.snapshot);this.routeReuseStrategy.store(oe.snapshot,null),Ue.children.onOutletReAttached(Lt.contexts),Ue.attachRef=Lt.componentRef,Ue.route=Lt.route.value,Ue.outlet&&Ue.outlet.attach(Lt.componentRef,Lt.route.value),Is(Lt.route.value),this.activateChildRoutes(B,null,Ue.children)}else{const Lt=jn(oe.snapshot);Ue.attachRef=null,Ue.route=oe,Ue.injector=Lt,Ue.outlet&&Ue.outlet.activateWith(oe,Ue.injector),this.activateChildRoutes(B,null,Ue.children)}}else this.activateChildRoutes(B,null,V)}}class li{constructor(B){this.path=B,this.route=this.path[this.path.length-1]}}class Ri{constructor(B,x){this.component=B,this.route=x}}function Cs(O,B,x){const V=O._root;return to(V,B?B._root:null,x,[V.value])}function as(O,B){const x=Symbol(),V=B.get(O,x);return V===x?"function"!=typeof O||(0,y.Z0I)(O)?B.get(O):O:V}function to(O,B,x,V,oe={canDeactivateChecks:[],canActivateChecks:[]}){const He=dn(B);return O.children.forEach(Ue=>{(function la(O,B,x,V,oe={canDeactivateChecks:[],canActivateChecks:[]}){const He=O.value,Ue=B?B.value:null,Lt=x?x.getContext(O.value.outlet):null;if(Ue&&He.routeConfig===Ue.routeConfig){const An=function Po(O,B,x){if("function"==typeof x)return x(O,B);switch(x){case"pathParamsChange":return!fr(O.url,B.url);case"pathParamsOrQueryParamsChange":return!fr(O.url,B.url)||!xn(O.queryParams,B.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ws(O,B)||!xn(O.queryParams,B.queryParams);default:return!ws(O,B)}}(Ue,He,He.routeConfig.runGuardsAndResolvers);An?oe.canActivateChecks.push(new li(V)):(He.data=Ue.data,He._resolvedData=Ue._resolvedData),to(O,B,He.component?Lt?Lt.children:null:x,V,oe),An&&Lt&&Lt.outlet&&Lt.outlet.isActivated&&oe.canDeactivateChecks.push(new Ri(Lt.outlet.component,Ue))}else Ue&&vs(B,Lt,oe),oe.canActivateChecks.push(new li(V)),to(O,null,He.component?Lt?Lt.children:null:x,V,oe)})(Ue,He[Ue.value.outlet],x,V.concat([Ue.value]),oe),delete He[Ue.value.outlet]}),Object.entries(He).forEach(([Ue,Lt])=>vs(Lt,x.getContext(Ue),oe)),oe}function vs(O,B,x){const V=dn(O),oe=O.value;Object.entries(V).forEach(([He,Ue])=>{vs(Ue,oe.component?B?B.children.getContext(He):null:B,x)}),x.canDeactivateChecks.push(new Ri(oe.component&&B&&B.outlet&&B.outlet.isActivated?B.outlet.component:null,oe))}function Es(O){return"function"==typeof O}function U(O){return O instanceof G.K||"EmptyError"===(null==O?void 0:O.name)}const rt=Symbol("INITIAL_VALUE");function zt(){return(0,je.w)(O=>(0,ze.a)(O.map(B=>B.pipe((0,z.q)(1),(0,Re.O)(rt)))).pipe((0,Ee.U)(B=>{for(const x of B)if(!0!==x){if(x===rt)return rt;if(!1===x||x instanceof Br)return x}return!0}),(0,ve.h)(B=>B!==rt),(0,z.q)(1)))}function Ho(O){return(0,me.z)((0,ht.b)(B=>{if(Gn(B))throw Gt(0,B)}),(0,Ee.U)(B=>!0===B))}class fc{constructor(B){this.segmentGroup=B||null}}class ao{constructor(B){this.urlTree=B}}function Oo(O){return(0,Ne._)(new fc(O))}function ss(O){return(0,Ne._)(new ao(O))}class ca{constructor(B,x){this.urlSerializer=B,this.urlTree=x}noMatchError(B){return new y.vHH(4002,!1)}lineralizeSegments(B,x){let V=[],oe=x.root;for(;;){if(V=V.concat(oe.segments),0===oe.numberOfChildren)return(0,se.of)(V);if(oe.numberOfChildren>1||!oe.children[Xt])return(0,Ne._)(new y.vHH(4e3,!1));oe=oe.children[Xt]}}applyRedirectCommands(B,x,V){return this.applyRedirectCreateUrlTree(x,this.urlSerializer.parse(x),B,V)}applyRedirectCreateUrlTree(B,x,V,oe){const He=this.createSegmentGroup(B,x.root,V,oe);return new Br(He,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(B,x){const V={};return Object.entries(B).forEach(([oe,He])=>{if("string"==typeof He&&He.startsWith(":")){const Lt=He.substring(1);V[oe]=x[Lt]}else V[oe]=He}),V}createSegmentGroup(B,x,V,oe){const He=this.createSegments(B,x.segments,V,oe);let Ue={};return Object.entries(x.children).forEach(([Lt,An])=>{Ue[Lt]=this.createSegmentGroup(B,An,V,oe)}),new dr(He,Ue)}createSegments(B,x,V,oe){return x.map(He=>He.path.startsWith(":")?this.findPosParam(B,He,oe):this.findOrReturn(He,V))}findPosParam(B,x,V){const oe=V[x.path.substring(1)];if(!oe)throw new y.vHH(4001,!1);return oe}findOrReturn(B,x){let V=0;for(const oe of x){if(oe.path===B.path)return x.splice(V),oe;V++}return B}}const ya={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(O,B,x,V,oe){const He=wa(O,B,x);return He.matched?(V=function nr(O,B){var x;return O.providers&&!O._injector&&(O._injector=(0,y.MMx)(O.providers,B,`Route: ${O.path}`)),null!==(x=O._injector)&&void 0!==x?x:B}(B,V),function pl(O,B,x,V){const oe=B.canMatch;if(!oe||0===oe.length)return(0,se.of)(!0);const He=oe.map(Ue=>{const Lt=as(Ue,O);return tr(function S(O){return O&&Es(O.canMatch)}(Lt)?Lt.canMatch(B,x):O.runInContext(()=>Lt(B,x)))});return(0,se.of)(He).pipe(zt(),Ho())}(V,B,x).pipe((0,Ee.U)(Ue=>!0===Ue?He:{...ya}))):(0,se.of)(He)}function wa(O,B,x){var V,oe;if(""===B.path)return"full"===B.pathMatch&&(O.hasChildren()||x.length>0)?{...ya}:{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const Ue=(B.matcher||tn)(x,O,B);if(!Ue)return{...ya};const Lt={};Object.entries(null!==(V=Ue.posParams)&&void 0!==V?V:{}).forEach(([vr,ui])=>{Lt[vr]=ui.path});const An=Ue.consumed.length>0?{...Lt,...Ue.consumed[Ue.consumed.length-1].parameters}:Lt;return{matched:!0,consumedSegments:Ue.consumed,remainingSegments:x.slice(Ue.consumed.length),parameters:An,positionalParamSegments:null!==(oe=Ue.posParams)&&void 0!==oe?oe:{}}}function mc(O,B,x,V){return x.length>0&&function Cd(O,B,x){return x.some(V=>nl(O,B,V)&&Yt(V)!==Xt)}(O,x,V)?{segmentGroup:new dr(B,Nl(V,new dr(x,O.children))),slicedSegments:[]}:0===x.length&&function gl(O,B,x){return x.some(V=>nl(O,B,V))}(O,x,V)?{segmentGroup:new dr(O.segments,Ea(O,0,x,V,O.children)),slicedSegments:x}:{segmentGroup:new dr(O.segments,O.children),slicedSegments:x}}function Ea(O,B,x,V,oe){const He={};for(const Ue of V)if(nl(O,x,Ue)&&!oe[Yt(Ue)]){const Lt=new dr([],{});He[Yt(Ue)]=Lt}return{...oe,...He}}function Nl(O,B){const x={};x[Xt]=B;for(const V of O)if(""===V.path&&Yt(V)!==Xt){const oe=new dr([],{});x[Yt(V)]=oe}return x}function nl(O,B,x){return(!(O.hasChildren()||B.length>0)||"full"!==x.pathMatch)&&""===x.path}class ml{constructor(B,x,V,oe,He,Ue,Lt){this.injector=B,this.configLoader=x,this.rootComponentType=V,this.config=oe,this.urlTree=He,this.paramsInheritanceStrategy=Ue,this.urlSerializer=Lt,this.allowRedirects=!0,this.applyRedirects=new ca(this.urlSerializer,this.urlTree)}noMatchError(B){return new y.vHH(4002,!1)}recognize(){const B=mc(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,B,Xt).pipe((0,It.K)(x=>{if(x instanceof ao)return this.allowRedirects=!1,this.urlTree=x.urlTree,this.match(x.urlTree);throw x instanceof fc?this.noMatchError(x):x}),(0,Ee.U)(x=>{const V=new Os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,{}),oe=new Ct(V,x),He=new yi("",oe),Ue=function ai(O,B,x=null,V=null){return Li(Gi(O),B,x,V)}(V,[],this.urlTree.queryParams,this.urlTree.fragment);return Ue.queryParams=this.urlTree.queryParams,He.url=this.urlSerializer.serialize(Ue),this.inheritParamsAndData(He._root),{state:He,tree:Ue}}))}match(B){return this.processSegmentGroup(this.injector,this.config,B.root,Xt).pipe((0,It.K)(V=>{throw V instanceof fc?this.noMatchError(V):V}))}inheritParamsAndData(B){const x=B.value,V=Xn(x,this.paramsInheritanceStrategy);x.params=Object.freeze(V.params),x.data=Object.freeze(V.data),B.children.forEach(oe=>this.inheritParamsAndData(oe))}processSegmentGroup(B,x,V,oe){return 0===V.segments.length&&V.hasChildren()?this.processChildren(B,x,V):this.processSegment(B,x,V,V.segments,oe,!0)}processChildren(B,x,V){const oe=[];for(const He of Object.keys(V.children))"primary"===He?oe.unshift(He):oe.push(He);return(0,re.D)(oe).pipe(it(He=>{const Ue=V.children[He],Lt=function un(O,B){const x=O.filter(V=>Yt(V)===B);return x.push(...O.filter(V=>Yt(V)!==B)),x}(x,He);return this.processSegmentGroup(B,Lt,Ue,He)}),(0,an.R)((He,Ue)=>(He.push(...Ue),He)),(0,dt.d)(null),function Le(O,B){const x=arguments.length>=2;return V=>V.pipe(O?(0,ve.h)((oe,He)=>O(oe,He,V)):de.y,Me(1),x?(0,dt.d)(B):(0,Q.T)(()=>new G.K))}(),(0,we.z)(He=>{if(null===He)return Oo(V);const Ue=ka(He);return function ba(O){O.sort((B,x)=>B.value.outlet===Xt?-1:x.value.outlet===Xt?1:B.value.outlet.localeCompare(x.value.outlet))}(Ue),(0,se.of)(Ue)}))}processSegment(B,x,V,oe,He,Ue){return(0,re.D)(x).pipe(it(Lt=>{var An;return this.processSegmentAgainstRoute(null!==(An=Lt._injector)&&void 0!==An?An:B,x,Lt,V,oe,He,Ue).pipe((0,It.K)(vr=>{if(vr instanceof fc)return(0,se.of)(null);throw vr}))}),(0,We.P)(Lt=>!!Lt),(0,It.K)(Lt=>{if(U(Lt))return function vc(O,B,x){return 0===B.length&&!O.children[x]}(V,oe,He)?(0,se.of)([]):Oo(V);throw Lt}))}processSegmentAgainstRoute(B,x,V,oe,He,Ue,Lt){return function Ah(O,B,x,V){return!!(Yt(O)===V||V!==Xt&&nl(B,x,O))&&("**"===O.path||wa(B,O,x).matched)}(V,oe,He,Ue)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(B,oe,V,He,Ue,Lt):Lt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(B,oe,x,V,He,Ue):Oo(oe):Oo(oe)}expandSegmentAgainstRouteUsingRedirect(B,x,V,oe,He,Ue){return"**"===oe.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(B,V,oe,Ue):this.expandRegularSegmentAgainstRouteUsingRedirect(B,x,V,oe,He,Ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(B,x,V,oe){const He=this.applyRedirects.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?ss(He):this.applyRedirects.lineralizeSegments(V,He).pipe((0,we.z)(Ue=>{const Lt=new dr(Ue,{});return this.processSegment(B,x,Lt,Ue,oe,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(B,x,V,oe,He,Ue){const{matched:Lt,consumedSegments:An,remainingSegments:vr,positionalParamSegments:ui}=wa(x,oe,He);if(!Lt)return Oo(x);const Dr=this.applyRedirects.applyRedirectCommands(An,oe.redirectTo,ui);return oe.redirectTo.startsWith("/")?ss(Dr):this.applyRedirects.lineralizeSegments(oe,Dr).pipe((0,we.z)(us=>this.processSegment(B,V,x,us.concat(vr),Ue,!1)))}matchSegmentAgainstRoute(B,x,V,oe,He,Ue){let Lt;if("**"===V.path){var An,vr;const ui=oe.length>0?$n(oe).parameters:{},Dr=new Os(oe,ui,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fa(V),Yt(V),null!==(An=null!==(vr=V.component)&&void 0!==vr?vr:V._loadedComponent)&&void 0!==An?An:null,V,Qo(V));Lt=(0,se.of)({snapshot:Dr,consumedSegments:[],remainingSegments:[]}),x.children={}}else Lt=_a(x,V,oe,B).pipe((0,Ee.U)(({matched:ui,consumedSegments:Dr,remainingSegments:us,parameters:Kt})=>{var Hs,Ms;return ui?{snapshot:new Os(Dr,Kt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fa(V),Yt(V),null!==(Hs=null!==(Ms=V.component)&&void 0!==Ms?Ms:V._loadedComponent)&&void 0!==Hs?Hs:null,V,Qo(V)),consumedSegments:Dr,remainingSegments:us}:null}));return Lt.pipe((0,je.w)(ui=>{var Dr;return null===ui?Oo(x):(B=null!==(Dr=V._injector)&&void 0!==Dr?Dr:B,this.getChildConfig(B,V,oe).pipe((0,je.w)(({routes:us})=>{var Kt;const Hs=null!==(Kt=V._loadedInjector)&&void 0!==Kt?Kt:B,{snapshot:Ms,consumedSegments:wl,remainingSegments:sl}=ui,{segmentGroup:ko,slicedSegments:ol}=mc(x,wl,sl,us);if(0===ol.length&&ko.hasChildren())return this.processChildren(Hs,us,ko).pipe((0,Ee.U)(bl=>null===bl?null:[new Ct(Ms,bl)]));if(0===us.length&&0===ol.length)return(0,se.of)([new Ct(Ms,[])]);const El=Yt(V)===He;return this.processSegment(Hs,us,ko,ol,El?Xt:He,!0).pipe((0,Ee.U)(bl=>[new Ct(Ms,bl)]))})))}))}getChildConfig(B,x,V){return x.children?(0,se.of)({routes:x.children,injector:B}):x.loadChildren?void 0!==x._loadedRoutes?(0,se.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):function Xo(O,B,x,V){const oe=B.canLoad;if(void 0===oe||0===oe.length)return(0,se.of)(!0);const He=oe.map(Ue=>{const Lt=as(Ue,O);return tr(function _i(O){return O&&Es(O.canLoad)}(Lt)?Lt.canLoad(B,x):O.runInContext(()=>Lt(B,x)))});return(0,se.of)(He).pipe(zt(),Ho())}(B,x,V).pipe((0,we.z)(oe=>oe?this.configLoader.loadChildren(B,x).pipe((0,ht.b)(He=>{x._loadedRoutes=He.routes,x._loadedInjector=He.injector})):function gc(O){return(0,Ne._)(cn(!1,3))}())):(0,se.of)({routes:[],injector:B})}}function kl(O){const B=O.value.routeConfig;return B&&""===B.path}function ka(O){const B=[],x=new Set;for(const V of O){if(!kl(V)){B.push(V);continue}const oe=B.find(He=>V.value.routeConfig===He.value.routeConfig);void 0!==oe?(oe.children.push(...V.children),x.add(oe)):B.push(V)}for(const V of x){const oe=ka(V.children);B.push(new Ct(V.value,oe))}return B.filter(V=>!x.has(V))}function Fa(O){return O.data||{}}function Qo(O){return O.resolve||{}}function rl(O){return"string"==typeof O.title||null===O.title}function Oi(O){return(0,je.w)(B=>{const x=O(B);return x?(0,re.D)(x).pipe((0,Ee.U)(()=>B)):(0,se.of)(B)})}const Xi=new y.OlP("ROUTES");let L=(()=>{class O{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(x){if(this.componentLoaders.get(x))return this.componentLoaders.get(x);if(x._loadedComponent)return(0,se.of)(x._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(x);const V=tr(x.loadComponent()).pipe((0,Ee.U)(W),(0,ht.b)(He=>{this.onLoadEndListener&&this.onLoadEndListener(x),x._loadedComponent=He}),Tt(()=>{this.componentLoaders.delete(x)})),oe=new St(V,()=>new Bt.x).pipe(ke());return this.componentLoaders.set(x,oe),oe}loadChildren(x,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,se.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const He=this.loadModuleFactoryOrRoutes(V.loadChildren).pipe((0,Ee.U)(Lt=>{this.onLoadEndListener&&this.onLoadEndListener(V);let An,vr;return Array.isArray(Lt)?vr=Lt:(An=Lt.create(x).injector,vr=An.get(Xi,[],y.XFs.Self|y.XFs.Optional).flat()),{routes:vr.map(_t),injector:An}}),Tt(()=>{this.childrenLoaders.delete(V)})),Ue=new St(He,()=>new Bt.x).pipe(ke());return this.childrenLoaders.set(V,Ue),Ue}loadModuleFactoryOrRoutes(x){return tr(x()).pipe((0,Ee.U)(W),(0,we.z)(V=>V instanceof y.YKP||Array.isArray(V)?(0,se.of)(V):(0,re.D)(this.compiler.compileModuleAsync(V))))}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function W(O){return function le(O){return O&&"object"==typeof O&&"default"in O}(O)?O.default:O}let Te=(()=>{class O{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Bt.x,this.configLoader=(0,y.f3M)(L),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(xr),this.rootContexts=(0,y.f3M)(lr),this.inputBindingEnabled=null!==(0,y.f3M)(ks,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=oe=>this.events.next(new ge(oe)),this.configLoader.onLoadStartListener=oe=>this.events.next(new ie(oe))}complete(){var x;null===(x=this.transitions)||void 0===x||x.complete()}handleNavigationRequest(x){var V;const oe=++this.navigationId;null===(V=this.transitions)||void 0===V||V.next({...this.transitions.value,...x,id:oe})}setupNavigations(x){return this.transitions=new xe.X({id:0,currentUrlTree:x.currentUrlTree,currentRawUrl:x.currentUrlTree,extractedUrl:x.urlHandlingStrategy.extract(x.currentUrlTree),urlAfterRedirects:x.urlHandlingStrategy.extract(x.currentUrlTree),rawUrl:x.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ui,restoredState:null,currentSnapshot:x.routerState.snapshot,targetSnapshot:null,currentRouterState:x.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ve.h)(V=>0!==V.id),(0,Ee.U)(V=>({...V,extractedUrl:x.urlHandlingStrategy.extract(V.rawUrl)})),(0,je.w)(V=>{let oe=!1,He=!1;return(0,se.of)(V).pipe((0,ht.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.rawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,je.w)(Ue=>{var Lt;const An=x.browserUrlTree.toString(),vr=!x.navigated||Ue.extractedUrl.toString()!==An||An!==x.currentUrlTree.toString(),ui=null!==(Lt=Ue.extras.onSameUrlNavigation)&&void 0!==Lt?Lt:x.onSameUrlNavigation;if(!vr&&"reload"!==ui){const Dr="";return this.events.next(new Ze(Ue.id,x.serializeUrl(V.rawUrl),Dr,0)),x.rawUrlTree=Ue.rawUrl,Ue.resolve(null),be.E}if(x.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return nt(Ue.source)&&(x.browserUrlTree=Ue.extractedUrl),(0,se.of)(Ue).pipe((0,je.w)(Dr=>{var us,Kt;const Hs=null===(us=this.transitions)||void 0===us?void 0:us.getValue();return this.events.next(new gs(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),Dr.source,Dr.restoredState)),Hs!==(null===(Kt=this.transitions)||void 0===Kt?void 0:Kt.getValue())?be.E:Promise.resolve(Dr)}),function zs(O,B,x,V,oe,He){return(0,we.z)(Ue=>function ua(O,B,x,V,oe,He,Ue="emptyOnly"){return new ml(O,B,x,V,oe,Ue,He).recognize()}(O,B,x,V,Ue.extractedUrl,oe,He).pipe((0,Ee.U)(({state:Lt,tree:An})=>({...Ue,targetSnapshot:Lt,urlAfterRedirects:An}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,x.config,this.urlSerializer,x.paramsInheritanceStrategy),(0,ht.b)(Dr=>{if(V.targetSnapshot=Dr.targetSnapshot,V.urlAfterRedirects=Dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Dr.urlAfterRedirects},"eager"===x.urlUpdateStrategy){if(!Dr.extras.skipLocationChange){const Kt=x.urlHandlingStrategy.merge(Dr.urlAfterRedirects,Dr.rawUrl);x.setBrowserUrl(Kt,Dr)}x.browserUrlTree=Dr.urlAfterRedirects}const us=new Vt(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects),Dr.targetSnapshot);this.events.next(us)}));if(vr&&x.urlHandlingStrategy.shouldProcessUrl(x.rawUrlTree)){const{id:Dr,extractedUrl:us,source:Kt,restoredState:Hs,extras:Ms}=Ue,wl=new gs(Dr,this.urlSerializer.serialize(us),Kt,Hs);this.events.next(wl);const sl=qn(0,this.rootComponentType).snapshot;return V={...Ue,targetSnapshot:sl,urlAfterRedirects:us,extras:{...Ms,skipLocationChange:!1,replaceUrl:!1}},(0,se.of)(V)}{const Dr="";return this.events.next(new Ze(Ue.id,x.serializeUrl(V.extractedUrl),Dr,1)),x.rawUrlTree=Ue.rawUrl,Ue.resolve(null),be.E}}),(0,ht.b)(Ue=>{const Lt=new q(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(Lt)}),(0,Ee.U)(Ue=>V={...Ue,guards:Cs(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)}),function Qn(O,B){return(0,we.z)(x=>{const{targetSnapshot:V,currentSnapshot:oe,guards:{canActivateChecks:He,canDeactivateChecks:Ue}}=x;return 0===Ue.length&&0===He.length?(0,se.of)({...x,guardsResult:!0}):function zr(O,B,x,V){return(0,re.D)(O).pipe((0,we.z)(oe=>function Io(O,B,x,V,oe){const He=B&&B.routeConfig?B.routeConfig.canDeactivate:null;if(!He||0===He.length)return(0,se.of)(!0);const Ue=He.map(Lt=>{var An;const vr=null!==(An=jn(B))&&void 0!==An?An:oe,ui=as(Lt,vr);return tr(function M(O){return O&&Es(O.canDeactivate)}(ui)?ui.canDeactivate(O,B,x,V):vr.runInContext(()=>ui(O,B,x,V))).pipe((0,We.P)())});return(0,se.of)(Ue).pipe(zt())}(oe.component,oe.route,x,B,V)),(0,We.P)(oe=>!0!==oe,!0))}(Ue,V,oe,O).pipe((0,we.z)(Lt=>Lt&&function zo(O){return"boolean"==typeof O}(Lt)?function Ii(O,B,x,V){return(0,re.D)(B).pipe(it(oe=>(0,Ve.z)(function mo(O,B){return null!==O&&B&&B(new ot(O)),(0,se.of)(!0)}(oe.route.parent,V),function Gs(O,B){return null!==O&&B&&B(new $t(O)),(0,se.of)(!0)}(oe.route,V),function oo(O,B,x){const V=B[B.length-1],He=B.slice(0,B.length-1).reverse().map(Ue=>function bi(O){const B=O.routeConfig?O.routeConfig.canActivateChild:null;return B&&0!==B.length?{node:O,guards:B}:null}(Ue)).filter(Ue=>null!==Ue).map(Ue=>ne(()=>{const Lt=Ue.guards.map(An=>{var vr;const ui=null!==(vr=jn(Ue.node))&&void 0!==vr?vr:x,Dr=as(An,ui);return tr(function Ro(O){return O&&Es(O.canActivateChild)}(Dr)?Dr.canActivateChild(V,O):ui.runInContext(()=>Dr(V,O))).pipe((0,We.P)())});return(0,se.of)(Lt).pipe(zt())}));return(0,se.of)(He).pipe(zt())}(O,oe.path,x),function Ws(O,B,x){const V=B.routeConfig?B.routeConfig.canActivate:null;if(!V||0===V.length)return(0,se.of)(!0);const oe=V.map(He=>ne(()=>{var Ue;const Lt=null!==(Ue=jn(B))&&void 0!==Ue?Ue:x,An=as(He,Lt);return tr(function tl(O){return O&&Es(O.canActivate)}(An)?An.canActivate(B,O):Lt.runInContext(()=>An(B,O))).pipe((0,We.P)())}));return(0,se.of)(oe).pipe(zt())}(O,oe.route,x))),(0,We.P)(oe=>!0!==oe,!0))}(V,He,O,B):(0,se.of)(Lt)),(0,Ee.U)(Lt=>({...x,guardsResult:Lt})))})}(this.environmentInjector,Ue=>this.events.next(Ue)),(0,ht.b)(Ue=>{if(V.guardsResult=Ue.guardsResult,Gn(Ue.guardsResult))throw Gt(0,Ue.guardsResult);const Lt=new pe(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.events.next(Lt)}),(0,ve.h)(Ue=>!!Ue.guardsResult||(x.restoreHistory(Ue),this.cancelNavigationTransition(Ue,"",3),!1)),Oi(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,se.of)(Ue).pipe((0,ht.b)(Lt=>{const An=new ue(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(An)}),(0,je.w)(Lt=>{let An=!1;return(0,se.of)(Lt).pipe(function yc(O,B){return(0,we.z)(x=>{const{targetSnapshot:V,guards:{canActivateChecks:oe}}=x;if(!oe.length)return(0,se.of)(x);let He=0;return(0,re.D)(oe).pipe(it(Ue=>function Sd(O,B,x,V){const oe=O.routeConfig,He=O._resolve;return void 0!==(null==oe?void 0:oe.title)&&!rl(oe)&&(He[Zt]=oe.title),function Jo(O,B,x,V){const oe=function Dd(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}(O);if(0===oe.length)return(0,se.of)({});const He={};return(0,re.D)(oe).pipe((0,we.z)(Ue=>function Fs(O,B,x,V){var oe;const He=null!==(oe=jn(B))&&void 0!==oe?oe:V,Ue=as(O,He);return tr(Ue.resolve?Ue.resolve(B,x):He.runInContext(()=>Ue(B,x)))}(O[Ue],B,x,V).pipe((0,We.P)(),(0,ht.b)(Lt=>{He[Ue]=Lt}))),Me(1),function vt(O){return(0,Ee.U)(()=>O)}(He),(0,It.K)(Ue=>U(Ue)?be.E:(0,Ne._)(Ue)))}(He,O,B,V).pipe((0,Ee.U)(Ue=>(O._resolvedData=Ue,O.data=Xn(O,x).resolve,oe&&rl(oe)&&(O.data[Zt]=oe.title),null)))}(Ue.route,V,O,B)),(0,ht.b)(()=>He++),Me(1),(0,we.z)(Ue=>He===oe.length?(0,se.of)(x):be.E))})}(x.paramsInheritanceStrategy,this.environmentInjector),(0,ht.b)({next:()=>An=!0,complete:()=>{An||(x.restoreHistory(Lt),this.cancelNavigationTransition(Lt,"",2))}}))}),(0,ht.b)(Lt=>{const An=new Y(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(An)}))}),Oi(Ue=>{const Lt=An=>{var vr;const ui=[];null!==(vr=An.routeConfig)&&void 0!==vr&&vr.loadComponent&&!An.routeConfig._loadedComponent&&ui.push(this.configLoader.loadComponent(An.routeConfig).pipe((0,ht.b)(Dr=>{An.component=Dr}),(0,Ee.U)(()=>{})));for(const Dr of An.children)ui.push(...Lt(Dr));return ui};return(0,ze.a)(Lt(Ue.targetSnapshot.root)).pipe((0,dt.d)(),(0,z.q)(1))}),Oi(()=>this.afterPreactivation()),(0,Ee.U)(Ue=>{const Lt=function rs(O,B,x){const V=fe(O,B._root,x?x._root:void 0);return new Nn(V,B)}(x.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return V={...Ue,targetRouterState:Lt}}),(0,ht.b)(Ue=>{x.currentUrlTree=Ue.urlAfterRedirects,x.rawUrlTree=x.urlHandlingStrategy.merge(Ue.urlAfterRedirects,Ue.rawUrl),x.routerState=Ue.targetRouterState,"deferred"===x.urlUpdateStrategy&&(Ue.extras.skipLocationChange||x.setBrowserUrl(x.rawUrlTree,Ue),x.browserUrlTree=Ue.urlAfterRedirects)}),((O,B,x,V)=>(0,Ee.U)(oe=>(new Ir(B,oe.targetRouterState,oe.currentRouterState,x,V).activate(O),oe)))(this.rootContexts,x.routeReuseStrategy,Ue=>this.events.next(Ue),this.inputBindingEnabled),(0,z.q)(1),(0,ht.b)({next:Ue=>{var Lt;oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,x.navigated=!0,this.events.next(new Ae(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(x.currentUrlTree))),null===(Lt=x.titleStrategy)||void 0===Lt||Lt.updateTitle(Ue.targetRouterState.snapshot),Ue.resolve(!0)},complete:()=>{oe=!0}}),Tt(()=>{var Ue;oe||He||this.cancelNavigationTransition(V,"",1),(null===(Ue=this.currentNavigation)||void 0===Ue?void 0:Ue.id)===V.id&&(this.currentNavigation=null)}),(0,It.K)(Ue=>{if(He=!0,er(Ue)){_n(Ue)||(x.navigated=!0,x.restoreHistory(V,!0));const An=new Et(V.id,this.urlSerializer.serialize(V.extractedUrl),Ue.message,Ue.cancellationCode);if(this.events.next(An),_n(Ue)){const vr=x.urlHandlingStrategy.merge(Ue.url,x.rawUrlTree),ui={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===x.urlUpdateStrategy||nt(V.source)};x.scheduleNavigation(vr,Ui,null,ui,{resolve:V.resolve,reject:V.reject,promise:V.promise})}else V.resolve(!1)}else{var Lt;x.restoreHistory(V,!0);const An=new Rt(V.id,this.urlSerializer.serialize(V.extractedUrl),Ue,null!==(Lt=V.targetSnapshot)&&void 0!==Lt?Lt:void 0);this.events.next(An);try{V.resolve(x.errorHandler(Ue))}catch(vr){V.reject(vr)}}return be.E}))}))}cancelNavigationTransition(x,V,oe){const He=new Et(x.id,this.urlSerializer.serialize(x.extractedUrl),V,oe);this.events.next(He),x.resolve(!1)}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function nt(O){return O!==Ui}let Qt=(()=>{class O{buildTitle(x){let V,oe=x.root;for(;void 0!==oe;){var He;V=null!==(He=this.getResolvedTitleForRoute(oe))&&void 0!==He?He:V,oe=oe.children.find(Ue=>Ue.outlet===Xt)}return V}getResolvedTitleForRoute(x){return x.data[Zt]}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:function(){return(0,y.f3M)(gn)},providedIn:"root"}),O})(),gn=(()=>{class O extends Qt{constructor(x){super(),this.title=x}updateTitle(x){const V=this.buildTitle(x);void 0!==V&&this.title.setTitle(V)}}return O.\u0275fac=function(x){return new(x||O)(y.LFG(on.Dx))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),Cr=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:function(){return(0,y.f3M)(ci)},providedIn:"root"}),O})();class Ci{shouldDetach(B){return!1}store(B,x){}shouldAttach(B){return!1}retrieve(B){return null}shouldReuseRoute(B,x){return B.routeConfig===x.routeConfig}}let ci=(()=>{class O extends Ci{}return O.\u0275fac=function(){let B;return function(V){return(B||(B=y.n5z(O)))(V||O)}}(),O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const ri=new y.OlP("",{providedIn:"root",factory:()=>({})});let wi=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:function(){return(0,y.f3M)(is)},providedIn:"root"}),O})(),is=(()=>{class O{shouldProcessUrl(x){return!0}extract(x){return x}merge(x,V){return x}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();var Qi=function(O){return O[O.COMPLETE=0]="COMPLETE",O[O.FAILED=1]="FAILED",O[O.REDIRECTING=2]="REDIRECTING",O}(Qi||{});function fs(O,B){O.events.pipe((0,ve.h)(x=>x instanceof Ae||x instanceof Et||x instanceof Rt||x instanceof Ze),(0,Ee.U)(x=>x instanceof Ae||x instanceof Ze?Qi.COMPLETE:x instanceof Et&&(0===x.code||1===x.code)?Qi.REDIRECTING:Qi.FAILED),(0,ve.h)(x=>x!==Qi.REDIRECTING),(0,z.q)(1)).subscribe(()=>{B()})}function Bs(O){throw O}function Co(O,B,x){return B.parse("/")}const Qr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},So={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qs=(()=>{class O{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var x;if("computed"===this.canceledNavigationResolution)return null===(x=this.location.getState())||void 0===x?void 0:x.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var x,V;this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(ri,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||Bs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Co,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(wi),this.routeReuseStrategy=(0,y.f3M)(Cr),this.titleStrategy=(0,y.f3M)(Qt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(x=null===(V=(0,y.f3M)(Xi,{optional:!0}))||void 0===V?void 0:V.flat())&&void 0!==x?x:[],this.navigationTransitions=(0,y.f3M)(Te),this.urlSerializer=(0,y.f3M)(xr),this.location=(0,y.f3M)($e.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(ks,{optional:!0}),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(oe=>{var He;this.lastSuccessfulId=oe.id,this.currentPageId=null!==(He=this.browserPageId)&&void 0!==He?He:0},oe=>{this.console.warn(`Unhandled Navigation Error: ${oe}`)})}resetRootComponentType(x){this.routerState.root.component=x,this.navigationTransitions.rootComponentType=x}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const x=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ui,x)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const V="popstate"===x.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{this.navigateToSyncWithBrowser(x.url,V,x.state)},0)}))}navigateToSyncWithBrowser(x,V,oe){const He={replaceUrl:!0},Ue=null!=oe&&oe.navigationId?oe:null;if(oe){const An={...oe};delete An.navigationId,delete An.\u0275routerPageId,0!==Object.keys(An).length&&(He.state=An)}const Lt=this.parseUrl(x);this.scheduleNavigation(Lt,V,Ue,He)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(x){this.config=x.map(_t),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,V={}){const{relativeTo:oe,queryParams:He,fragment:Ue,queryParamsHandling:Lt,preserveFragment:An}=V,vr=An?this.currentUrlTree.fragment:Ue;let Dr,ui=null;switch(Lt){case"merge":ui={...this.currentUrlTree.queryParams,...He};break;case"preserve":ui=this.currentUrlTree.queryParams;break;default:ui=He||null}null!==ui&&(ui=this.removeEmptyProps(ui));try{Dr=Gi(oe?oe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof x[0]||!x[0].startsWith("/"))&&(x=[]),Dr=this.currentUrlTree.root}return Li(Dr,x,ui,null!=vr?vr:null)}navigateByUrl(x,V={skipLocationChange:!1}){const oe=Gn(x)?x:this.parseUrl(x),He=this.urlHandlingStrategy.merge(oe,this.rawUrlTree);return this.scheduleNavigation(He,Ui,null,V)}navigate(x,V={skipLocationChange:!1}){return function vl(O){for(let B=0;B<O.length;B++)if(null==O[B])throw new y.vHH(4008,!1)}(x),this.navigateByUrl(this.createUrlTree(x,V),V)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let V;try{V=this.urlSerializer.parse(x)}catch(oe){V=this.malformedUriErrorHandler(oe,this.urlSerializer,x)}return V}isActive(x,V){let oe;if(oe=!0===V?{...Qr}:!1===V?{...So}:V,Gn(x))return sr(this.currentUrlTree,x,oe);const He=this.parseUrl(x);return sr(this.currentUrlTree,He,oe)}removeEmptyProps(x){return Object.keys(x).reduce((V,oe)=>{const He=x[oe];return null!=He&&(V[oe]=He),V},{})}scheduleNavigation(x,V,oe,He,Ue){if(this.disposed)return Promise.resolve(!1);let Lt,An,vr;Ue?(Lt=Ue.resolve,An=Ue.reject,vr=Ue.promise):vr=new Promise((Dr,us)=>{Lt=Dr,An=us});const ui=this.pendingTasks.add();return fs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ui))}),this.navigationTransitions.handleNavigationRequest({source:V,restoredState:oe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:x,extras:He,resolve:Lt,reject:An,promise:vr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),vr.catch(Dr=>Promise.reject(Dr))}setBrowserUrl(x,V){const oe=this.urlSerializer.serialize(x);if(this.location.isCurrentPathEqualTo(oe)||V.extras.replaceUrl){const Lt={...V.extras.state,...this.generateNgRouterState(V.id,this.browserPageId)};this.location.replaceState(oe,"",Lt)}else{var He;const Ue={...V.extras.state,...this.generateNgRouterState(V.id,(null!==(He=this.browserPageId)&&void 0!==He?He:0)+1)};this.location.go(oe,"",Ue)}}restoreHistory(x,V=!1){if("computed"===this.canceledNavigationResolution){var oe,He;const Ue=null!==(oe=this.browserPageId)&&void 0!==oe?oe:this.currentPageId,Lt=this.currentPageId-Ue;0!==Lt?this.location.historyGo(Lt):this.currentUrlTree===(null===(He=this.getCurrentNavigation())||void 0===He?void 0:He.finalUrl)&&0===Lt&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(x,V){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:V}:{navigationId:x}}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),da=(()=>{class O{constructor(x,V,oe,He,Ue,Lt){var An;this.router=x,this.route=V,this.tabIndexAttribute=oe,this.renderer=He,this.el=Ue,this.locationStrategy=Lt,this.href=null,this.commands=null,this.onChanges=new Bt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const vr=null===(An=Ue.nativeElement.tagName)||void 0===An?void 0:An.toLowerCase();this.isAnchorElement="a"===vr||"area"===vr,this.isAnchorElement?this.subscription=x.events.subscribe(ui=>{ui instanceof Ae&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(x){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",x)}ngOnChanges(x){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(x){null!=x?(this.commands=Array.isArray(x)?x:[x],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(x,V,oe,He,Ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==x||V||oe||He||Ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var x;null===(x=this.subscription)||void 0===x||x.unsubscribe()}updateHref(){var x;this.href=null!==this.urlTree&&this.locationStrategy?null===(x=this.locationStrategy)||void 0===x?void 0:x.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const V=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",V)}applyAttributeValue(x,V){const oe=this.renderer,He=this.el.nativeElement;null!==V?oe.setAttribute(He,x,V):oe.removeAttribute(He,x)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return O.\u0275fac=function(x){return new(x||O)(y.Y36(Qs),y.Y36(Pn),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36($e.S$))},O.\u0275dir=y.lG2({type:O,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(x,V){1&x&&y.NdJ("click",function(He){return V.onClick(He.button,He.ctrlKey,He.shiftKey,He.altKey,He.metaKey)}),2&x&&y.uIk("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",y.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",y.VuI],replaceUrl:["replaceUrl","replaceUrl",y.VuI],routerLink:"routerLink"},standalone:!0,features:[y.Xq5,y.TTD]}),O})();class Ba{}let xh=(()=>{class O{preload(x,V){return V().pipe((0,It.K)(()=>(0,se.of)(null)))}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),Td=(()=>{class O{constructor(x,V,oe,He,Ue){this.router=x,this.injector=oe,this.preloadingStrategy=He,this.loader=Ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,ve.h)(x=>x instanceof Ae),it(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,V){const oe=[];for(const An of V){var He,Ue;An.providers&&!An._injector&&(An._injector=(0,y.MMx)(An.providers,x,`Route: ${An.path}`));const vr=null!==(He=An._injector)&&void 0!==He?He:x,ui=null!==(Ue=An._loadedInjector)&&void 0!==Ue?Ue:vr;var Lt;(An.loadChildren&&!An._loadedRoutes&&void 0===An.canLoad||An.loadComponent&&!An._loadedComponent)&&oe.push(this.preloadConfig(vr,An)),(An.children||An._loadedRoutes)&&oe.push(this.processRoutes(ui,null!==(Lt=An.children)&&void 0!==Lt?Lt:An._loadedRoutes))}return(0,re.D)(oe).pipe((0,xt.J)())}preloadConfig(x,V){return this.preloadingStrategy.preload(V,()=>{let oe;oe=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(x,V):(0,se.of)(null);const He=oe.pipe((0,we.z)(Ue=>{var Lt;return null===Ue?(0,se.of)(void 0):(V._loadedRoutes=Ue.routes,V._loadedInjector=Ue.injector,this.processRoutes(null!==(Lt=Ue.injector)&&void 0!==Lt?Lt:x,Ue.routes))}));if(V.loadComponent&&!V._loadedComponent){const Ue=this.loader.loadComponent(V);return(0,re.D)([He,Ue]).pipe((0,xt.J)())}return He})}}return O.\u0275fac=function(x){return new(x||O)(y.LFG(Qs),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(Ba),y.LFG(L))},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Js=new y.OlP("");let Fl=(()=>{class O{constructor(x,V,oe,He,Ue={}){this.urlSerializer=x,this.transitions=V,this.viewportScroller=oe,this.zone=He,this.options=Ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ue.scrollPositionRestoration=Ue.scrollPositionRestoration||"disabled",Ue.anchorScrolling=Ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof Ae?(this.lastId=x.id,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.urlAfterRedirects).fragment)):x instanceof Ze&&0===x.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(x,this.urlSerializer.parse(x.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(x=>{x instanceof sn&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sn(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){var x,V;null===(x=this.routerEventsSubscription)||void 0===x||x.unsubscribe(),null===(V=this.scrollEventsSubscription)||void 0===V||V.unsubscribe()}}return O.\u0275fac=function(x){y.$Z()},O.\u0275prov=y.Yz7({token:O,factory:O.\u0275fac}),O})();function Do(O,B){return{\u0275kind:O,\u0275providers:B}}function mr(){const O=(0,y.f3M)(y.zs3);return B=>{var x,V;const oe=O.get(y.z2F);if(B!==oe.components[0])return;const He=O.get(Qs),Ue=O.get(Ur);1===O.get(xs)&&He.initialNavigation(),null===(x=O.get(qi,null,y.XFs.Optional))||void 0===x||x.setUpPreloading(),null===(V=O.get(Js,null,y.XFs.Optional))||void 0===V||V.init(),He.resetRootComponentType(oe.componentTypes[0]),Ue.closed||(Ue.next(),Ue.complete(),Ue.unsubscribe())}}const Ur=new y.OlP("",{factory:()=>new Bt.x}),xs=new y.OlP("",{providedIn:"root",factory:()=>1}),qi=new y.OlP("");function $a(O){return Do(0,[{provide:qi,useExisting:Td},{provide:Ba,useExisting:O}])}const il=new y.OlP("ROUTER_FORROOT_GUARD"),Jc=[$e.Ye,{provide:xr,useClass:Hi},Qs,lr,{provide:Pn,useFactory:function ns(O){return O.routerState.root},deps:[Qs]},L,[]];function Mh(){return new y.PXZ("Router",Qs)}let Ec=(()=>{class O{constructor(x){}static forRoot(x,V){return{ngModule:O,providers:[Jc,[],{provide:Xi,multi:!0,useValue:x},{provide:il,useFactory:eu,deps:[[Qs,new y.FiY,new y.tp0]]},{provide:ri,useValue:V||{}},null!=V&&V.useHash?{provide:$e.S$,useClass:$e.Do}:{provide:$e.S$,useClass:$e.b0},{provide:Js,useFactory:()=>{const O=(0,y.f3M)($e.EM),B=(0,y.f3M)(y.R0b),x=(0,y.f3M)(ri),V=(0,y.f3M)(Te),oe=(0,y.f3M)(xr);return x.scrollOffset&&O.setOffset(x.scrollOffset),new Fl(oe,V,O,B,x)}},null!=V&&V.preloadingStrategy?$a(V.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Mh},null!=V&&V.initialNavigation?Ss(V):[],null!=V&&V.bindToComponentInputs?Do(8,[js,{provide:ks,useExisting:js}]).\u0275providers:[],[{provide:Wr,useFactory:mr},{provide:y.tb,multi:!0,useExisting:Wr}]]}}static forChild(x){return{ngModule:O,providers:[{provide:Xi,multi:!0,useValue:x}]}}}return O.\u0275fac=function(x){return new(x||O)(y.LFG(il,8))},O.\u0275mod=y.oAB({type:O}),O.\u0275inj=y.cJS({}),O})();function eu(O){return"guarded"}function Ss(O){return["disabled"===O.initialNavigation?Do(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const B=(0,y.f3M)(Qs);return()=>{B.setUpLocationChangeListener()}}},{provide:xs,useValue:2}]).\u0275providers:[],"enabledBlocking"===O.initialNavigation?Do(2,[{provide:xs,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:B=>{const x=B.get($e.V_,Promise.resolve());return()=>x.then(()=>new Promise(V=>{const oe=B.get(Qs),He=B.get(Ur);fs(oe,()=>{V(!0)}),B.get(Te).afterPreactivation=()=>(V(!0),He.closed?(0,se.of)(void 0):He),oe.initialNavigation()}))}}]).\u0275providers:[]]}const Wr=new y.OlP("")},3106:(Cn,mt,P)=>{"use strict";P.d(mt,{Z:()=>qe});var y=P(9058),_=P(4537),re=P(534),se=P(7879);class xe{constructor(ce,ke){this._delegate=ce,this.firebase=ke,(0,re._addComponent)(ce,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(ce,ke=re._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const Bt=this._delegate.container.getProvider(ce);return!Bt.isInitialized()&&"EXPLICIT"===(null===(St=Bt.getComponent())||void 0===St?void 0:St.instantiationMode)&&Bt.initialize(),Bt.getImmediate({identifier:ke})}_removeServiceInstance(ce,ke=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(ke)}_addComponent(ce){(0,re._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,re._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const G=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Ce(){const ut=function Ve(ut){const ce={},ke={__esModule:!0,initializeApp:function $e(Re,ve={}){const we=re.initializeApp(Re,ve);if((0,y.r3)(ce,we.name))return ce[we.name];const We=new ut(we,ke);return ce[we.name]=We,We},app:Bt,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function je(Re){const ve=Re.name,we=ve.replace("-compat","");if(re._registerComponent(Re)&&"PUBLIC"===Re.type){const We=(lt=Bt())=>{if("function"!=typeof lt[we])throw G.create("invalid-app-argument",{appName:ve});return lt[we]()};void 0!==Re.serviceProps&&(0,y.ZB)(We,Re.serviceProps),ke[we]=We,ut.prototype[we]=function(...lt){return this._getService.bind(this,ve).apply(this,Re.multipleInstances?lt:[])}}return"PUBLIC"===Re.type?ke[we]:null},removeApp:function St(Re){delete ce[Re]},useAsService:function z(Re,ve){return"serverAuth"===ve?null:ve},modularAPIs:re}};function Bt(Re){if(!(0,y.r3)(ce,Re=Re||re._DEFAULT_ENTRY_NAME))throw G.create("no-app",{appName:Re});return ce[Re]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function Ee(){return Object.keys(ce).map(Re=>ce[Re])}}),Bt.App=ut,ke}(xe);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function ce(ke){(0,y.ZB)(ut,ke)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),ut}(),ne=new se.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=he;!function be(ut){(0,re.registerVersion)("@firebase/app-compat","0.2.13",ut)}()},534:(Cn,mt,P)=>{"use strict";P.r(mt),P.d(mt,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Xr,_DEFAULT_ENTRY_NAME:()=>qr,_addComponent:()=>dr,_addOrOverwriteComponent:()=>$r,_apps:()=>hr,_clearComponents:()=>xr,_components:()=>Br,_getProvider:()=>fr,_registerComponent:()=>Ei,_removeServiceInstance:()=>Pi,deleteApp:()=>ii,getApp:()=>mi,getApps:()=>Di,initializeApp:()=>gi,onLog:()=>pi,registerVersion:()=>si,setLogLevel:()=>hi});var y=P(5861),_=P(4537),re=P(7879),se=P(9058);const xe=(Xe,pt)=>pt.some(jt=>Xe instanceof jt);let ze,G;const he=new WeakMap,ne=new WeakMap,me=new WeakMap,Ne=new WeakMap,be=new WeakMap;let ce={get(Xe,pt,jt){if(Xe instanceof IDBTransaction){if("done"===pt)return ne.get(Xe);if("objectStoreNames"===pt)return Xe.objectStoreNames||me.get(Xe);if("store"===pt)return jt.objectStoreNames[1]?void 0:jt.objectStore(jt.objectStoreNames[0])}return $e(Xe[pt])},set:(Xe,pt,jt)=>(Xe[pt]=jt,!0),has:(Xe,pt)=>Xe instanceof IDBTransaction&&("done"===pt||"store"===pt)||pt in Xe};function Bt(Xe){return"function"==typeof Xe?function St(Xe){return Xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Xe)?function(...pt){return Xe.apply(Ee(this),pt),$e(he.get(this))}:function(...pt){return $e(Xe.apply(Ee(this),pt))}:function(pt,...jt){const Sn=Xe.call(Ee(this),pt,...jt);return me.set(Sn,pt.sort?pt.sort():[pt]),$e(Sn)}}(Xe):(Xe instanceof IDBTransaction&&function ut(Xe){if(ne.has(Xe))return;const pt=new Promise((jt,Sn)=>{const Rn=()=>{Xe.removeEventListener("complete",or),Xe.removeEventListener("error",kr),Xe.removeEventListener("abort",kr)},or=()=>{jt(),Rn()},kr=()=>{Sn(Xe.error||new DOMException("AbortError","AbortError")),Rn()};Xe.addEventListener("complete",or),Xe.addEventListener("error",kr),Xe.addEventListener("abort",kr)});ne.set(Xe,pt)}(Xe),xe(Xe,function Ve(){return ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Xe,ce):Xe)}function $e(Xe){if(Xe instanceof IDBRequest)return function qe(Xe){const pt=new Promise((jt,Sn)=>{const Rn=()=>{Xe.removeEventListener("success",or),Xe.removeEventListener("error",kr)},or=()=>{jt($e(Xe.result)),Rn()},kr=()=>{Sn(Xe.error),Rn()};Xe.addEventListener("success",or),Xe.addEventListener("error",kr)});return pt.then(jt=>{jt instanceof IDBCursor&&he.set(jt,Xe)}).catch(()=>{}),be.set(pt,Xe),pt}(Xe);if(Ne.has(Xe))return Ne.get(Xe);const pt=Bt(Xe);return pt!==Xe&&(Ne.set(Xe,pt),be.set(pt,Xe)),pt}const Ee=Xe=>be.get(Xe),Re=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],we=new Map;function We(Xe,pt){if(!(Xe instanceof IDBDatabase)||pt in Xe||"string"!=typeof pt)return;if(we.get(pt))return we.get(pt);const jt=pt.replace(/FromIndex$/,""),Sn=pt!==jt,Rn=ve.includes(jt);if(!(jt in(Sn?IDBIndex:IDBObjectStore).prototype)||!Rn&&!Re.includes(jt))return;const or=function(){var kr=(0,y.Z)(function*(jr,...ni){const Gr=this.transaction(jr,Rn?"readwrite":"readonly");let ar=Gr.store;return Sn&&(ar=ar.index(ni.shift())),(yield Promise.all([ar[jt](...ni),Rn&&Gr.done]))[0]});return function(ni){return kr.apply(this,arguments)}}();return we.set(pt,or),or}!function ke(Xe){ce=Xe(ce)}(Xe=>({...Xe,get:(pt,jt,Sn)=>We(pt,jt)||Xe.get(pt,jt,Sn),has:(pt,jt)=>!!We(pt,jt)||Xe.has(pt,jt)}));class lt{constructor(pt){this.container=pt}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function it(Xe){const pt=Xe.getComponent();return"VERSION"===(null==pt?void 0:pt.type)}(jt)){const Sn=jt.getImmediate();return`${Sn.library}/${Sn.version}`}return null}).filter(jt=>jt).join(" ")}}const ht="@firebase/app",an=new re.Yd("@firebase/app"),qr="[DEFAULT]",Hn={[ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hr=new Map,Br=new Map;function dr(Xe,pt){try{Xe.container.addComponent(pt)}catch(jt){an.debug(`Component ${pt.name} failed to register with FirebaseApp ${Xe.name}`,jt)}}function $r(Xe,pt){Xe.container.addOrOverwriteComponent(pt)}function Ei(Xe){const pt=Xe.name;if(Br.has(pt))return an.debug(`There were multiple attempts to register component ${pt}.`),!1;Br.set(pt,Xe);for(const jt of hr.values())dr(jt,Xe);return!0}function fr(Xe,pt){const jt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return jt&&jt.triggerHeartbeat(),Xe.container.getProvider(pt)}function Pi(Xe,pt,jt=qr){fr(Xe,pt).clearInstance(jt)}function xr(){Br.clear()}const Sr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jr{constructor(pt,jt,Sn){this._isDeleted=!1,this._options=Object.assign({},pt),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=Sn,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this.checkDestroyed(),this._automaticDataCollectionEnabled=pt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pt){this._isDeleted=pt}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const Xr="9.23.0";function gi(Xe,pt={}){let jt=Xe;"object"!=typeof pt&&(pt={name:pt});const Sn=Object.assign({name:qr,automaticDataCollectionEnabled:!1},pt),Rn=Sn.name;if("string"!=typeof Rn||!Rn)throw Sr.create("bad-app-name",{appName:String(Rn)});if(jt||(jt=(0,se.aH)()),!jt)throw Sr.create("no-options");const or=hr.get(Rn);if(or){if((0,se.vZ)(jt,or.options)&&(0,se.vZ)(Sn,or.config))return or;throw Sr.create("duplicate-app",{appName:Rn})}const kr=new _.H0(Rn);for(const ni of Br.values())kr.addComponent(ni);const jr=new Jr(jt,Sn,kr);return hr.set(Rn,jr),jr}function mi(Xe=qr){const pt=hr.get(Xe);if(!pt&&Xe===qr&&(0,se.aH)())return gi();if(!pt)throw Sr.create("no-app",{appName:Xe});return pt}function Di(){return Array.from(hr.values())}function ii(Xe){return ei.apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(Xe){const pt=Xe.name;hr.has(pt)&&(hr.delete(pt),yield Promise.all(Xe.container.getProviders().map(jt=>jt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function si(Xe,pt,jt){var Sn;let Rn=null!==(Sn=Hn[Xe])&&void 0!==Sn?Sn:Xe;jt&&(Rn+=`-${jt}`);const or=Rn.match(/\s|\//),kr=pt.match(/\s|\//);if(or||kr){const jr=[`Unable to register library "${Rn}" with version "${pt}":`];return or&&jr.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),or&&kr&&jr.push("and"),kr&&jr.push(`version name "${pt}" contains illegal characters (whitespace or "/")`),void an.warn(jr.join(" "))}Ei(new _.wA(`${Rn}-version`,()=>({library:Rn,version:pt}),"VERSION"))}function pi(Xe,pt){if(null!==Xe&&"function"!=typeof Xe)throw Sr.create("invalid-log-argument");(0,re.Am)(Xe,pt)}function hi(Xe){(0,re.Ub)(Xe)}const ti="firebase-heartbeat-database",oi=1,st="firebase-heartbeat-store";let ye=null;function _e(){return ye||(ye=function je(Xe,pt,{blocked:jt,upgrade:Sn,blocking:Rn,terminated:or}={}){const kr=indexedDB.open(Xe,pt),jr=$e(kr);return Sn&&kr.addEventListener("upgradeneeded",ni=>{Sn($e(kr.result),ni.oldVersion,ni.newVersion,$e(kr.transaction),ni)}),jt&&kr.addEventListener("blocked",ni=>jt(ni.oldVersion,ni.newVersion,ni)),jr.then(ni=>{or&&ni.addEventListener("close",()=>or()),Rn&&ni.addEventListener("versionchange",Gr=>Rn(Gr.oldVersion,Gr.newVersion,Gr))}).catch(()=>{}),jr}(ti,oi,{upgrade:(Xe,pt)=>{0===pt&&Xe.createObjectStore(st)}}).catch(Xe=>{throw Sr.create("idb-open",{originalErrorMessage:Xe.message})})),ye}function Fe(){return(Fe=(0,y.Z)(function*(Xe){try{return yield(yield _e()).transaction(st).objectStore(st).get(En(Xe))}catch(pt){if(pt instanceof se.ZR)an.warn(pt.message);else{const jt=Sr.create("idb-get",{originalErrorMessage:null==pt?void 0:pt.message});an.warn(jt.message)}}})).apply(this,arguments)}function Ut(Xe,pt){return ln.apply(this,arguments)}function ln(){return(ln=(0,y.Z)(function*(Xe,pt){try{const Sn=(yield _e()).transaction(st,"readwrite");yield Sn.objectStore(st).put(pt,En(Xe)),yield Sn.done}catch(jt){if(jt instanceof se.ZR)an.warn(jt.message);else{const Sn=Sr.create("idb-set",{originalErrorMessage:null==jt?void 0:jt.message});an.warn(Sn.message)}}})).apply(this,arguments)}function En(Xe){return`${Xe.name}!${Xe.options.appId}`}class br{constructor(pt){this.container=pt,this._heartbeatsCache=null;const jt=this.container.getProvider("app").getImmediate();this._storage=new Gi(jt),this._heartbeatsCachePromise=this._storage.read().then(Sn=>(this._heartbeatsCache=Sn,Sn))}triggerHeartbeat(){var pt=this;return(0,y.Z)(function*(){const Sn=pt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rn=Gn();if(null===pt._heartbeatsCache&&(pt._heartbeatsCache=yield pt._heartbeatsCachePromise),pt._heartbeatsCache.lastSentHeartbeatDate!==Rn&&!pt._heartbeatsCache.heartbeats.some(or=>or.date===Rn))return pt._heartbeatsCache.heartbeats.push({date:Rn,agent:Sn}),pt._heartbeatsCache.heartbeats=pt._heartbeatsCache.heartbeats.filter(or=>{const kr=new Date(or.date).valueOf();return Date.now()-kr<=2592e6}),pt._storage.overwrite(pt._heartbeatsCache)})()}getHeartbeatsHeader(){var pt=this;return(0,y.Z)(function*(){if(null===pt._heartbeatsCache&&(yield pt._heartbeatsCachePromise),null===pt._heartbeatsCache||0===pt._heartbeatsCache.heartbeats.length)return"";const jt=Gn(),{heartbeatsToSend:Sn,unsentEntries:Rn}=function ai(Xe,pt=1024){const jt=[];let Sn=Xe.slice();for(const Rn of Xe){const or=jt.find(kr=>kr.agent===Rn.agent);if(or){if(or.dates.push(Rn.date),Li(jt)>pt){or.dates.pop();break}}else if(jt.push({agent:Rn.agent,dates:[Rn.date]}),Li(jt)>pt){jt.pop();break}Sn=Sn.slice(1)}return{heartbeatsToSend:jt,unsentEntries:Sn}}(pt._heartbeatsCache.heartbeats),or=(0,se.L)(JSON.stringify({version:2,heartbeats:Sn}));return pt._heartbeatsCache.lastSentHeartbeatDate=jt,Rn.length>0?(pt._heartbeatsCache.heartbeats=Rn,yield pt._storage.overwrite(pt._heartbeatsCache)):(pt._heartbeatsCache.heartbeats=[],pt._storage.overwrite(pt._heartbeatsCache)),or})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class Gi{constructor(pt){this.app=pt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pt=this;return(0,y.Z)(function*(){return(yield pt._canUseIndexedDBPromise)&&(yield function Se(Xe){return Fe.apply(this,arguments)}(pt.app))||{heartbeats:[]}})()}overwrite(pt){var jt=this;return(0,y.Z)(function*(){var Sn;if(yield jt._canUseIndexedDBPromise){const or=yield jt.read();return Ut(jt.app,{lastSentHeartbeatDate:null!==(Sn=pt.lastSentHeartbeatDate)&&void 0!==Sn?Sn:or.lastSentHeartbeatDate,heartbeats:pt.heartbeats})}})()}add(pt){var jt=this;return(0,y.Z)(function*(){var Sn;if(yield jt._canUseIndexedDBPromise){const or=yield jt.read();return Ut(jt.app,{lastSentHeartbeatDate:null!==(Sn=pt.lastSentHeartbeatDate)&&void 0!==Sn?Sn:or.lastSentHeartbeatDate,heartbeats:[...or.heartbeats,...pt.heartbeats]})}})()}}function Li(Xe){return(0,se.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Dt(Xe){Ei(new _.wA("platform-logger",pt=>new lt(pt),"PRIVATE")),Ei(new _.wA("heartbeat",pt=>new br(pt),"PRIVATE")),si(ht,"0.9.13",Xe),si(ht,"0.9.13","esm2017"),si("fire-js","")}("")},4537:(Cn,mt,P)=>{"use strict";P.d(mt,{H0:()=>Ve,wA:()=>re,zt:()=>xe});var y=P(5861),_=P(9058);class re{constructor(he,ne,me){this.name=he,this.instanceFactory=ne,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const se="[DEFAULT]";class xe{constructor(he,ne){this.name=he,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const ne=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(ne)){const me=new _.BH;if(this.instancesDeferred.set(ne,me),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:ne});Ne&&me.resolve(Ne)}catch{}}return this.instancesDeferred.get(ne).promise}getImmediate(he){var ne;const me=this.normalizeInstanceIdentifier(null==he?void 0:he.identifier),Ne=null!==(ne=null==he?void 0:he.optional)&&void 0!==ne&&ne;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(be){if(Ne)return null;throw be}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function G(Ce){return"EAGER"===Ce.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[ne,me]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(ne);try{const be=this.getOrInitializeService({instanceIdentifier:Ne});me.resolve(be)}catch{}}}}clearInstance(he=se){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,y.Z)(function*(){const ne=Array.from(he.instances.values());yield Promise.all([...ne.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ne.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=se){return this.instances.has(he)}getOptions(he=se){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:ne={}}=he,me=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:me,options:ne});for(const[be,qe]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(be)&&qe.resolve(Ne);return Ne}onInit(he,ne){var me;const Ne=this.normalizeInstanceIdentifier(ne),be=null!==(me=this.onInitCallbacks.get(Ne))&&void 0!==me?me:new Set;be.add(he),this.onInitCallbacks.set(Ne,be);const qe=this.instances.get(Ne);return qe&&he(qe,Ne),()=>{be.delete(he)}}invokeOnInitCallbacks(he,ne){const me=this.onInitCallbacks.get(ne);if(me)for(const Ne of me)try{Ne(he,ne)}catch{}}getOrInitializeService({instanceIdentifier:he,options:ne={}}){let me=this.instances.get(he);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=he,Ce===se?void 0:Ce),options:ne}),this.instances.set(he,me),this.instancesOptions.set(he,ne),this.invokeOnInitCallbacks(me,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,me)}catch{}var Ce;return me||null}normalizeInstanceIdentifier(he=se){return this.component?this.component.multipleInstances?he:se:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const ne=this.getProvider(he.name);if(ne.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);ne.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const ne=new xe(he,this);return this.providers.set(he,ne),ne}getProviders(){return Array.from(this.providers.values())}}},2591:(Cn,mt,P)=>{"use strict";var y=P(5861),_=P(534),re=P(4537),se=P(9058);const xe=(Y,ie)=>ie.some(ge=>Y instanceof ge);let ze,G;const he=new WeakMap,ne=new WeakMap,me=new WeakMap,Ne=new WeakMap,be=new WeakMap;let ce={get(Y,ie,ge){if(Y instanceof IDBTransaction){if("done"===ie)return ne.get(Y);if("objectStoreNames"===ie)return Y.objectStoreNames||me.get(Y);if("store"===ie)return ge.objectStoreNames[1]?void 0:ge.objectStore(ge.objectStoreNames[0])}return $e(Y[ie])},set:(Y,ie,ge)=>(Y[ie]=ge,!0),has:(Y,ie)=>Y instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in Y};function Bt(Y){return"function"==typeof Y?function St(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...ie){return Y.apply(Ee(this),ie),$e(he.get(this))}:function(...ie){return $e(Y.apply(Ee(this),ie))}:function(ie,...ge){const ot=Y.call(Ee(this),ie,...ge);return me.set(ot,ie.sort?ie.sort():[ie]),$e(ot)}}(Y):(Y instanceof IDBTransaction&&function ut(Y){if(ne.has(Y))return;const ie=new Promise((ge,ot)=>{const kt=()=>{Y.removeEventListener("complete",$t),Y.removeEventListener("error",Ht),Y.removeEventListener("abort",Ht)},$t=()=>{ge(),kt()},Ht=()=>{ot(Y.error||new DOMException("AbortError","AbortError")),kt()};Y.addEventListener("complete",$t),Y.addEventListener("error",Ht),Y.addEventListener("abort",Ht)});ne.set(Y,ie)}(Y),xe(Y,function Ve(){return ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,ce):Y)}function $e(Y){if(Y instanceof IDBRequest)return function qe(Y){const ie=new Promise((ge,ot)=>{const kt=()=>{Y.removeEventListener("success",$t),Y.removeEventListener("error",Ht)},$t=()=>{ge($e(Y.result)),kt()},Ht=()=>{ot(Y.error),kt()};Y.addEventListener("success",$t),Y.addEventListener("error",Ht)});return ie.then(ge=>{ge instanceof IDBCursor&&he.set(ge,Y)}).catch(()=>{}),be.set(ie,Y),ie}(Y);if(Ne.has(Y))return Ne.get(Y);const ie=Bt(Y);return ie!==Y&&(Ne.set(Y,ie),be.set(ie,Y)),ie}const Ee=Y=>be.get(Y),Re=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],we=new Map;function We(Y,ie){if(!(Y instanceof IDBDatabase)||ie in Y||"string"!=typeof ie)return;if(we.get(ie))return we.get(ie);const ge=ie.replace(/FromIndex$/,""),ot=ie!==ge,kt=ve.includes(ge);if(!(ge in(ot?IDBIndex:IDBObjectStore).prototype)||!kt&&!Re.includes(ge))return;const $t=function(){var Ht=(0,y.Z)(function*(sn,...Mn){const Kn=this.transaction(sn,kt?"readwrite":"readonly");let lr=Kn.store;return ot&&(lr=lr.index(Mn.shift())),(yield Promise.all([lr[ge](...Mn),kt&&Kn.done]))[0]});return function(Mn){return Ht.apply(this,arguments)}}();return we.set(ie,$t),$t}!function ke(Y){ce=Y(ce)}(Y=>({...Y,get:(ie,ge,ot)=>We(ie,ge)||Y.get(ie,ge,ot),has:(ie,ge)=>!!We(ie,ge)||Y.has(ie,ge)}));const lt="@firebase/installations",it="0.6.4",ht=1e4,It=`w:${it}`,an="FIS_v2",dt="https://firebaseinstallations.googleapis.com/v1",Me=36e5,vt=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(Y){return Y instanceof se.ZR&&Y.code.includes("request-failed")}function xt({projectId:Y}){return`${dt}/projects/${Y}/installations`}function on(Y){return{token:Y.token,requestStatus:2,expiresIn:xn(Y.expiresIn),creationTime:Date.now()}}function Xt(Y,ie){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,y.Z)(function*(Y,ie){const ot=(yield ie.json()).error;return vt.create("request-failed",{requestName:Y,serverCode:ot.code,serverMessage:ot.message,serverStatus:ot.status})})).apply(this,arguments)}function Ft({apiKey:Y}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Y})}function tn(Y){return nn.apply(this,arguments)}function nn(){return(nn=(0,y.Z)(function*(Y){const ie=yield Y();return ie.status>=500&&ie.status<600?Y():ie})).apply(this,arguments)}function xn(Y){return Number(Y.replace("s","000"))}function tr(){return(tr=(0,y.Z)(function*({appConfig:Y,heartbeatServiceProvider:ie},{fid:ge}){const ot=xt(Y),kt=Ft(Y),$t=ie.getImmediate({optional:!0});if($t){const Kn=yield $t.getHeartbeatsHeader();Kn&&kt.append("x-firebase-client",Kn)}const sn={method:"POST",headers:kt,body:JSON.stringify({fid:ge,authVersion:an,appId:Y.appId,sdkVersion:It})},Mn=yield tn(()=>fetch(ot,sn));if(Mn.ok){const Kn=yield Mn.json();return{fid:Kn.fid||ge,registrationStatus:2,refreshToken:Kn.refreshToken,authToken:on(Kn.authToken)}}throw yield Xt("Create Installation",Mn)})).apply(this,arguments)}function Ar(Y){return new Promise(ie=>{setTimeout(ie,Y)})}const sr=/^[cdef][\w-]{21}$/,Fr="";function mn(){try{const Y=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Y),Y[0]=112+Y[0]%16;const ge=function Yr(Y){return function Hr(Y){return btoa(String.fromCharCode(...Y)).replace(/\+/g,"-").replace(/\//g,"_")}(Y).substr(0,22)}(Y);return sr.test(ge)?ge:Fr}catch{return Fr}}function qr(Y){return`${Y.appName}!${Y.appId}`}const Hn=new Map;function hr(Y,ie){const ge=qr(Y);$r(ge,ie),function Ei(Y,ie){const ge=function Pi(){return!fr&&"BroadcastChannel"in self&&(fr=new BroadcastChannel("[Firebase] FID Change"),fr.onmessage=Y=>{$r(Y.data.key,Y.data.fid)}),fr}();ge&&ge.postMessage({key:Y,fid:ie}),function xr(){0===Hn.size&&fr&&(fr.close(),fr=null)}()}(ge,ie)}function $r(Y,ie){const ge=Hn.get(Y);if(ge)for(const ot of ge)ot(ie)}let fr=null;const Hi="firebase-installations-database",Sr=1,Jr="firebase-installations-store";let Xr=null;function gi(){return Xr||(Xr=function je(Y,ie,{blocked:ge,upgrade:ot,blocking:kt,terminated:$t}={}){const Ht=indexedDB.open(Y,ie),sn=$e(Ht);return ot&&Ht.addEventListener("upgradeneeded",Mn=>{ot($e(Ht.result),Mn.oldVersion,Mn.newVersion,$e(Ht.transaction))}),ge&&Ht.addEventListener("blocked",()=>ge()),sn.then(Mn=>{$t&&Mn.addEventListener("close",()=>$t()),kt&&Mn.addEventListener("versionchange",()=>kt())}).catch(()=>{}),sn}(Hi,Sr,{upgrade:(Y,ie)=>{0===ie&&Y.createObjectStore(Jr)}})),Xr}function mi(Y,ie){return Di.apply(this,arguments)}function Di(){return(Di=(0,y.Z)(function*(Y,ie){const ge=qr(Y),kt=(yield gi()).transaction(Jr,"readwrite"),$t=kt.objectStore(Jr),Ht=yield $t.get(ge);return yield $t.put(ie,ge),yield kt.done,(!Ht||Ht.fid!==ie.fid)&&hr(Y,ie.fid),ie})).apply(this,arguments)}function ii(Y){return ei.apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(Y){const ie=qr(Y),ot=(yield gi()).transaction(Jr,"readwrite");yield ot.objectStore(Jr).delete(ie),yield ot.done})).apply(this,arguments)}function si(Y,ie){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(Y,ie){const ge=qr(Y),kt=(yield gi()).transaction(Jr,"readwrite"),$t=kt.objectStore(Jr),Ht=yield $t.get(ge),sn=ie(Ht);return void 0===sn?yield $t.delete(ge):yield $t.put(sn,ge),yield kt.done,sn&&(!Ht||Ht.fid!==sn.fid)&&hr(Y,sn.fid),sn})).apply(this,arguments)}function hi(Y){return ti.apply(this,arguments)}function ti(){return ti=(0,y.Z)(function*(Y){let ie;const ge=yield si(Y.appConfig,ot=>{const kt=function oi(Y){return ln(Y||{fid:mn(),registrationStatus:0})}(ot),$t=function st(Y,ie){if(0===ie.registrationStatus){if(!navigator.onLine)return{installationEntry:ie,registrationPromise:Promise.reject(vt.create("app-offline"))};const ge={fid:ie.fid,registrationStatus:1,registrationTime:Date.now()},ot=function ye(Y,ie){return _e.apply(this,arguments)}(Y,ge);return{installationEntry:ge,registrationPromise:ot}}return 1===ie.registrationStatus?{installationEntry:ie,registrationPromise:Se(Y)}:{installationEntry:ie}}(Y,kt);return ie=$t.registrationPromise,$t.installationEntry});return ge.fid===Fr?{installationEntry:yield ie}:{installationEntry:ge,registrationPromise:ie}}),ti.apply(this,arguments)}function _e(){return _e=(0,y.Z)(function*(Y,ie){try{const ge=yield function $n(Y,ie){return tr.apply(this,arguments)}(Y,ie);return mi(Y.appConfig,ge)}catch(ge){throw Tt(ge)&&409===ge.customData.serverCode?yield ii(Y.appConfig):yield mi(Y.appConfig,{fid:ie.fid,registrationStatus:0}),ge}}),_e.apply(this,arguments)}function Se(Y){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,y.Z)(function*(Y){let ie=yield Ut(Y.appConfig);for(;1===ie.registrationStatus;)yield Ar(100),ie=yield Ut(Y.appConfig);if(0===ie.registrationStatus){const{installationEntry:ge,registrationPromise:ot}=yield hi(Y);return ot||ge}return ie})).apply(this,arguments)}function Ut(Y){return si(Y,ie=>{if(!ie)throw vt.create("installation-not-found");return ln(ie)})}function ln(Y){return function En(Y){return 1===Y.registrationStatus&&Y.registrationTime+ht<Date.now()}(Y)?{fid:Y.fid,registrationStatus:0}:Y}function pr(){return(pr=(0,y.Z)(function*({appConfig:Y,heartbeatServiceProvider:ie},ge){const ot=function br(Y,{fid:ie}){return`${xt(Y)}/${ie}/authTokens:generate`}(Y,ge),kt=function Nt(Y,{refreshToken:ie}){const ge=Ft(Y);return ge.append("Authorization",function Bn(Y){return`${an} ${Y}`}(ie)),ge}(Y,ge),$t=ie.getImmediate({optional:!0});if($t){const Kn=yield $t.getHeartbeatsHeader();Kn&&kt.append("x-firebase-client",Kn)}const sn={method:"POST",headers:kt,body:JSON.stringify({installation:{sdkVersion:It,appId:Y.appId}})},Mn=yield tn(()=>fetch(ot,sn));if(Mn.ok)return on(yield Mn.json());throw yield Xt("Generate Auth Token",Mn)})).apply(this,arguments)}function Gn(Y){return ai.apply(this,arguments)}function ai(){return ai=(0,y.Z)(function*(Y,ie=!1){let ge;const ot=yield si(Y.appConfig,$t=>{if(!jt($t))throw vt.create("not-registered");const Ht=$t.authToken;if(!ie&&function Sn(Y){return 2===Y.requestStatus&&!function Rn(Y){const ie=Date.now();return ie<Y.creationTime||Y.creationTime+Y.expiresIn<ie+Me}(Y)}(Ht))return $t;if(1===Ht.requestStatus)return ge=function Gi(Y,ie){return Li.apply(this,arguments)}(Y,ie),$t;{if(!navigator.onLine)throw vt.create("app-offline");const sn=function or(Y){const ie={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Y),{authToken:ie})}($t);return ge=function Xe(Y,ie){return pt.apply(this,arguments)}(Y,sn),sn}});return ge?yield ge:ot.authToken}),ai.apply(this,arguments)}function Li(){return(Li=(0,y.Z)(function*(Y,ie){let ge=yield Dt(Y.appConfig);for(;1===ge.authToken.requestStatus;)yield Ar(100),ge=yield Dt(Y.appConfig);const ot=ge.authToken;return 0===ot.requestStatus?Gn(Y,ie):ot})).apply(this,arguments)}function Dt(Y){return si(Y,ie=>{if(!jt(ie))throw vt.create("not-registered");return function kr(Y){return 1===Y.requestStatus&&Y.requestTime+ht<Date.now()}(ie.authToken)?Object.assign(Object.assign({},ie),{authToken:{requestStatus:0}}):ie})}function pt(){return pt=(0,y.Z)(function*(Y,ie){try{const ge=yield function ir(Y,ie){return pr.apply(this,arguments)}(Y,ie),ot=Object.assign(Object.assign({},ie),{authToken:ge});return yield mi(Y.appConfig,ot),ge}catch(ge){if(!Tt(ge)||401!==ge.customData.serverCode&&404!==ge.customData.serverCode){const ot=Object.assign(Object.assign({},ie),{authToken:{requestStatus:0}});yield mi(Y.appConfig,ot)}else yield ii(Y.appConfig);throw ge}}),pt.apply(this,arguments)}function jt(Y){return void 0!==Y&&2===Y.registrationStatus}function ni(){return(ni=(0,y.Z)(function*(Y){const ie=Y,{installationEntry:ge,registrationPromise:ot}=yield hi(ie);return ot?ot.catch(console.error):Gn(ie).catch(console.error),ge.fid})).apply(this,arguments)}function ar(){return ar=(0,y.Z)(function*(Y,ie=!1){const ge=Y;return yield function Zr(Y){return ts.apply(this,arguments)}(ge),(yield Gn(ge,ie)).token}),ar.apply(this,arguments)}function ts(){return(ts=(0,y.Z)(function*(Y){const{registrationPromise:ie}=yield hi(Y);ie&&(yield ie)})).apply(this,arguments)}function Ze(Y){return vt.create("missing-app-config-values",{valueName:Y})}const Rt="installations",q=Y=>{const ie=Y.getProvider("app").getImmediate(),ge=function Et(Y){if(!Y||!Y.options)throw Ze("App Configuration");if(!Y.name)throw Ze("App Name");const ie=["projectId","apiKey","appId"];for(const ge of ie)if(!Y.options[ge])throw Ze(ge);return{appName:Y.name,projectId:Y.options.projectId,apiKey:Y.options.apiKey,appId:Y.options.appId}}(ie);return{app:ie,appConfig:ge,heartbeatServiceProvider:(0,_._getProvider)(ie,"heartbeat"),_delete:()=>Promise.resolve()}},pe=Y=>{const ie=Y.getProvider("app").getImmediate(),ge=(0,_._getProvider)(ie,Rt).getImmediate();return{getId:()=>function jr(Y){return ni.apply(this,arguments)}(ge),getToken:kt=>function Gr(Y){return ar.apply(this,arguments)}(ge,kt)}};(function ue(){(0,_._registerComponent)(new re.wA(Rt,q,"PUBLIC")),(0,_._registerComponent)(new re.wA("installations-internal",pe,"PRIVATE"))})(),(0,_.registerVersion)(lt,it),(0,_.registerVersion)(lt,it,"esm2017")},7879:(Cn,mt,P)=>{"use strict";P.d(mt,{Am:()=>Ce,Ub:()=>Ve,Yd:()=>G,in:()=>_});const y=[];var _=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(_||{});const re={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},se=_.INFO,xe={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},ze=(he,ne,...me)=>{if(ne<he.logLevel)return;const Ne=(new Date).toISOString(),be=xe[ne];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[be](`[${Ne}]  ${he.name}:`,...me)};class G{constructor(ne){this.name=ne,this._logLevel=se,this._logHandler=ze,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in _))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?re[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...ne),this._logHandler(this,_.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...ne),this._logHandler(this,_.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,_.INFO,...ne),this._logHandler(this,_.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,_.WARN,...ne),this._logHandler(this,_.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...ne),this._logHandler(this,_.ERROR,...ne)}}function Ve(he){y.forEach(ne=>{ne.setLogLevel(he)})}function Ce(he,ne){for(const me of y){let Ne=null;ne&&ne.level&&(Ne=re[ne.level]),me.userLogHandler=null===he?null:(be,qe,...ut)=>{const ce=ut.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");qe>=(null!=Ne?Ne:be.logLevel)&&he({level:_[qe].toLowerCase(),message:ce,args:ut,type:be.name})}}}},2650:(Cn,mt,P)=>{"use strict";P.d(mt,{Gb:()=>Ut,LP:()=>Gn,pQ:()=>Gi,ps:()=>Li});var y=P(5861),re=(P(2591),P(4537)),se=P(9240),xe=P(9058),ze=P(534);const G="/firebase-messaging-sw.js",Ve="/firebase-cloud-messaging-push-scope",Ce="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",he="https://fcmregistrations.googleapis.com/v1",ne="google.c.a.c_id",me="google.c.a.c_l",Ne="google.c.a.ts";var ut=function(Dt){return Dt.PUSH_RECEIVED="push-received",Dt.NOTIFICATION_CLICKED="notification-clicked",Dt}(ut||{});function ce(Dt){const Xe=new Uint8Array(Dt);return btoa(String.fromCharCode(...Xe)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ke(Dt){const pt=(Dt+"=".repeat((4-Dt.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),jt=atob(pt),Sn=new Uint8Array(jt.length);for(let Rn=0;Rn<jt.length;++Rn)Sn[Rn]=jt.charCodeAt(Rn);return Sn}const St="fcm_token_details_db",Bt=5,$e="fcm_token_object_Store";function je(){return je=(0,y.Z)(function*(Dt){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Rn=>Rn.name).includes(St))return null;let Xe=null;return(yield(0,se.X3)(St,Bt,{upgrade:(jt=(0,y.Z)(function*(Sn,Rn,or,kr){var jr;if(Rn<2||!Sn.objectStoreNames.contains($e))return;const ni=kr.objectStore($e),Gr=yield ni.index("fcmSenderId").get(Dt);if(yield ni.clear(),Gr)if(2===Rn){const ar=Gr;if(!ar.auth||!ar.p256dh||!ar.endpoint)return;Xe={token:ar.fcmToken,createTime:null!==(jr=ar.createTime)&&void 0!==jr?jr:Date.now(),subscriptionOptions:{auth:ar.auth,p256dh:ar.p256dh,endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:"string"==typeof ar.vapidKey?ar.vapidKey:ce(ar.vapidKey)}}}else if(3===Rn){const ar=Gr;Xe={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:ce(ar.auth),p256dh:ce(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:ce(ar.vapidKey)}}}else if(4===Rn){const ar=Gr;Xe={token:ar.fcmToken,createTime:ar.createTime,subscriptionOptions:{auth:ce(ar.auth),p256dh:ce(ar.p256dh),endpoint:ar.endpoint,swScope:ar.swScope,vapidKey:ce(ar.vapidKey)}}}}),function(Rn,or,kr,jr){return jt.apply(this,arguments)})})).close(),yield(0,se.Lj)(St),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),function z(Dt){if(!Dt||!Dt.subscriptionOptions)return!1;const{subscriptionOptions:Xe}=Dt;return"number"==typeof Dt.createTime&&Dt.createTime>0&&"string"==typeof Dt.token&&Dt.token.length>0&&"string"==typeof Xe.auth&&Xe.auth.length>0&&"string"==typeof Xe.p256dh&&Xe.p256dh.length>0&&"string"==typeof Xe.endpoint&&Xe.endpoint.length>0&&"string"==typeof Xe.swScope&&Xe.swScope.length>0&&"string"==typeof Xe.vapidKey&&Xe.vapidKey.length>0}(Xe)?Xe:null;var jt}),je.apply(this,arguments)}const Re="firebase-messaging-database",ve=1,we="firebase-messaging-store";let We=null;function lt(){return We||(We=(0,se.X3)(Re,ve,{upgrade:(Dt,Xe)=>{0===Xe&&Dt.createObjectStore(we)}})),We}function it(Dt){return ht.apply(this,arguments)}function ht(){return ht=(0,y.Z)(function*(Dt){const Xe=Q(Dt),jt=yield(yield lt()).transaction(we).objectStore(we).get(Xe);if(jt)return jt;{const Sn=yield function Ee(Dt){return je.apply(this,arguments)}(Dt.appConfig.senderId);if(Sn)return yield It(Dt,Sn),Sn}}),ht.apply(this,arguments)}function It(Dt,Xe){return an.apply(this,arguments)}function an(){return(an=(0,y.Z)(function*(Dt,Xe){const pt=Q(Dt),Sn=(yield lt()).transaction(we,"readwrite");return yield Sn.objectStore(we).put(Xe,pt),yield Sn.done,Xe})).apply(this,arguments)}function Me(){return(Me=(0,y.Z)(function*(Dt){const Xe=Q(Dt),jt=(yield lt()).transaction(we,"readwrite");yield jt.objectStore(we).delete(Xe),yield jt.done})).apply(this,arguments)}function Q({appConfig:Dt}){return Dt.appId}const Le=new xe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vt(Dt,Xe){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,y.Z)(function*(Dt,Xe){const pt=yield Nt(Dt),jt=nn(Xe),Sn={method:"POST",headers:pt,body:JSON.stringify(jt)};let Rn;try{Rn=yield(yield fetch(Ft(Dt.appConfig),Sn)).json()}catch(or){throw Le.create("token-subscribe-failed",{errorInfo:null==or?void 0:or.toString()})}if(Rn.error)throw Le.create("token-subscribe-failed",{errorInfo:Rn.error.message});if(!Rn.token)throw Le.create("token-subscribe-no-token");return Rn.token})).apply(this,arguments)}function on(){return(on=(0,y.Z)(function*(Dt,Xe){const pt=yield Nt(Dt),jt=nn(Xe.subscriptionOptions),Sn={method:"PATCH",headers:pt,body:JSON.stringify(jt)};let Rn;try{Rn=yield(yield fetch(`${Ft(Dt.appConfig)}/${Xe.token}`,Sn)).json()}catch(or){throw Le.create("token-update-failed",{errorInfo:null==or?void 0:or.toString()})}if(Rn.error)throw Le.create("token-update-failed",{errorInfo:Rn.error.message});if(!Rn.token)throw Le.create("token-update-no-token");return Rn.token})).apply(this,arguments)}function Xt(Dt,Xe){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,y.Z)(function*(Dt,Xe){const jt={method:"DELETE",headers:yield Nt(Dt)};try{const Rn=yield(yield fetch(`${Ft(Dt.appConfig)}/${Xe}`,jt)).json();if(Rn.error)throw Le.create("token-unsubscribe-failed",{errorInfo:Rn.error.message})}catch(Sn){throw Le.create("token-unsubscribe-failed",{errorInfo:null==Sn?void 0:Sn.toString()})}})).apply(this,arguments)}function Ft({projectId:Dt}){return`${he}/projects/${Dt}/registrations`}function Nt(Dt){return tn.apply(this,arguments)}function tn(){return(tn=(0,y.Z)(function*({appConfig:Dt,installations:Xe}){const pt=yield Xe.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Dt.apiKey,"x-goog-firebase-installations-auth":`FIS ${pt}`})})).apply(this,arguments)}function nn({p256dh:Dt,auth:Xe,endpoint:pt,vapidKey:jt}){const Sn={web:{endpoint:pt,auth:Xe,p256dh:Dt}};return jt!==Ce&&(Sn.web.applicationPubKey=jt),Sn}const xn=6048e5;function $n(){return $n=(0,y.Z)(function*(Dt){const Xe=yield function Yr(Dt,Xe){return qr.apply(this,arguments)}(Dt.swRegistration,Dt.vapidKey),pt={vapidKey:Dt.vapidKey,swScope:Dt.swRegistration.scope,endpoint:Xe.endpoint,auth:ce(Xe.getKey("auth")),p256dh:ce(Xe.getKey("p256dh"))},jt=yield it(Dt.firebaseDependencies);if(jt){if(function Hn(Dt,Xe){return Xe.vapidKey===Dt.vapidKey&&Xe.endpoint===Dt.endpoint&&Xe.auth===Dt.auth&&Xe.p256dh===Dt.p256dh}(jt.subscriptionOptions,pt))return Date.now()>=jt.createTime+xn?function Hr(Dt,Xe){return sr.apply(this,arguments)}(Dt,{token:jt.token,createTime:Date.now(),subscriptionOptions:pt}):jt.token;try{yield Xt(Dt.firebaseDependencies,jt.token)}catch(Sn){console.warn(Sn)}return Fr(Dt.firebaseDependencies,pt)}return Fr(Dt.firebaseDependencies,pt)}),$n.apply(this,arguments)}function tr(Dt){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,y.Z)(function*(Dt){const Xe=yield it(Dt.firebaseDependencies);Xe&&(yield Xt(Dt.firebaseDependencies,Xe.token),yield function dt(Dt){return Me.apply(this,arguments)}(Dt.firebaseDependencies));const pt=yield Dt.swRegistration.pushManager.getSubscription();return!pt||pt.unsubscribe()}),Ar.apply(this,arguments)}function sr(){return sr=(0,y.Z)(function*(Dt,Xe){try{const pt=yield function xt(Dt,Xe){return on.apply(this,arguments)}(Dt.firebaseDependencies,Xe),jt=Object.assign(Object.assign({},Xe),{token:pt,createTime:Date.now()});return yield It(Dt.firebaseDependencies,jt),pt}catch(pt){throw yield tr(Dt),pt}}),sr.apply(this,arguments)}function Fr(Dt,Xe){return mn.apply(this,arguments)}function mn(){return(mn=(0,y.Z)(function*(Dt,Xe){const jt={token:yield vt(Dt,Xe),createTime:Date.now(),subscriptionOptions:Xe};return yield It(Dt,jt),jt.token})).apply(this,arguments)}function qr(){return(qr=(0,y.Z)(function*(Dt,Xe){return(yield Dt.pushManager.getSubscription())||Dt.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ke(Xe)})})).apply(this,arguments)}function hr(Dt){const Xe={from:Dt.from,collapseKey:Dt.collapse_key,messageId:Dt.fcmMessageId};return function Br(Dt,Xe){if(!Xe.notification)return;Dt.notification={};const pt=Xe.notification.title;pt&&(Dt.notification.title=pt);const jt=Xe.notification.body;jt&&(Dt.notification.body=jt);const Sn=Xe.notification.image;Sn&&(Dt.notification.image=Sn);const Rn=Xe.notification.icon;Rn&&(Dt.notification.icon=Rn)}(Xe,Dt),function dr(Dt,Xe){Xe.data&&(Dt.data=Xe.data)}(Xe,Dt),function $r(Dt,Xe){var pt,jt,Sn,Rn,or;if(!(Xe.fcmOptions||null!==(pt=Xe.notification)&&void 0!==pt&&pt.click_action))return;Dt.fcmOptions={};const kr=null!==(Sn=null===(jt=Xe.fcmOptions)||void 0===jt?void 0:jt.link)&&void 0!==Sn?Sn:null===(Rn=Xe.notification)||void 0===Rn?void 0:Rn.click_action;kr&&(Dt.fcmOptions.link=kr);const jr=null===(or=Xe.fcmOptions)||void 0===or?void 0:or.analytics_label;jr&&(Dt.fcmOptions.analyticsLabel=jr)}(Xe,Dt),Xe}function fr(Dt,Xe){const pt=[];for(let jt=0;jt<Dt.length;jt++)pt.push(Dt.charAt(jt)),jt<Xe.length&&pt.push(Xe.charAt(jt));return pt.join("")}function xr(Dt){return Le.create("missing-app-config-values",{valueName:Dt})}fr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hi{constructor(Xe,pt,jt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Sn=function Pi(Dt){if(!Dt||!Dt.options)throw xr("App Configuration Object");if(!Dt.name)throw xr("App Name");const Xe=["projectId","apiKey","appId","messagingSenderId"],{options:pt}=Dt;for(const jt of Xe)if(!pt[jt])throw xr(jt);return{appName:Dt.name,projectId:pt.projectId,apiKey:pt.apiKey,appId:pt.appId,senderId:pt.messagingSenderId}}(Xe);this.firebaseDependencies={app:Xe,appConfig:Sn,installations:pt,analyticsProvider:jt}}_delete(){return Promise.resolve()}}function Sr(Dt){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,y.Z)(function*(Dt){try{Dt.swRegistration=yield navigator.serviceWorker.register(G,{scope:Ve}),Dt.swRegistration.update().catch(()=>{})}catch(Xe){throw Le.create("failed-service-worker-registration",{browserErrorMessage:null==Xe?void 0:Xe.message})}})).apply(this,arguments)}function gi(){return(gi=(0,y.Z)(function*(Dt,Xe){if(!Xe&&!Dt.swRegistration&&(yield Sr(Dt)),Xe||!Dt.swRegistration){if(!(Xe instanceof ServiceWorkerRegistration))throw Le.create("invalid-sw-registration");Dt.swRegistration=Xe}})).apply(this,arguments)}function Di(){return(Di=(0,y.Z)(function*(Dt,Xe){Xe?Dt.vapidKey=Xe:Dt.vapidKey||(Dt.vapidKey=Ce)})).apply(this,arguments)}function ii(Dt,Xe){return ei.apply(this,arguments)}function ei(){return ei=(0,y.Z)(function*(Dt,Xe){if(!navigator)throw Le.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Le.create("permission-blocked");return yield function mi(Dt,Xe){return Di.apply(this,arguments)}(Dt,null==Xe?void 0:Xe.vapidKey),yield function Xr(Dt,Xe){return gi.apply(this,arguments)}(Dt,null==Xe?void 0:Xe.serviceWorkerRegistration),function Bn(Dt){return $n.apply(this,arguments)}(Dt)}),ei.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(Dt,Xe,pt){const jt=function hi(Dt){switch(Dt){case ut.NOTIFICATION_CLICKED:return"notification_open";case ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Xe);(yield Dt.firebaseDependencies.analyticsProvider.get()).logEvent(jt,{message_id:pt[ne],message_name:pt[me],message_time:pt[Ne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oi(){return oi=(0,y.Z)(function*(Dt,Xe){const pt=Xe.data;if(!pt.isFirebaseMessaging)return;Dt.onMessageHandler&&pt.messageType===ut.PUSH_RECEIVED&&("function"==typeof Dt.onMessageHandler?Dt.onMessageHandler(hr(pt)):Dt.onMessageHandler.next(hr(pt)));const jt=pt.data;(function Ei(Dt){return"object"==typeof Dt&&!!Dt&&ne in Dt})(jt)&&"1"===jt["google.c.a.e"]&&(yield function si(Dt,Xe,pt){return pi.apply(this,arguments)}(Dt,pt.messageType,jt))}),oi.apply(this,arguments)}const st="@firebase/messaging",_e=Dt=>{const Xe=new Hi(Dt.getProvider("app").getImmediate(),Dt.getProvider("installations-internal").getImmediate(),Dt.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",pt=>function ti(Dt,Xe){return oi.apply(this,arguments)}(Xe,pt)),Xe},Se=Dt=>{const Xe=Dt.getProvider("messaging").getImmediate();return{getToken:jt=>ii(Xe,jt)}};function Ut(){return ln.apply(this,arguments)}function ln(){return(ln=(0,y.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function ir(){return(ir=(0,y.Z)(function*(Dt){if(!navigator)throw Le.create("only-available-in-window");return Dt.swRegistration||(yield Sr(Dt)),tr(Dt)})).apply(this,arguments)}function Gn(Dt,Xe){return ai.apply(this,arguments)}function ai(){return(ai=(0,y.Z)(function*(Dt,Xe){return ii(Dt=(0,xe.m9)(Dt),Xe)})).apply(this,arguments)}function Gi(Dt){return function En(Dt){return ir.apply(this,arguments)}(Dt=(0,xe.m9)(Dt))}function Li(Dt,Xe){return function pr(Dt,Xe){if(!navigator)throw Le.create("only-available-in-window");return Dt.onMessageHandler=Xe,()=>{Dt.onMessageHandler=null}}(Dt=(0,xe.m9)(Dt),Xe)}!function Fe(){(0,ze._registerComponent)(new re.wA("messaging",_e,"PUBLIC")),(0,ze._registerComponent)(new re.wA("messaging-internal",Se,"PRIVATE")),(0,ze.registerVersion)(st,"0.12.4"),(0,ze.registerVersion)(st,"0.12.4","esm2017")}()},9240:(Cn,mt,P)=>{"use strict";P.d(mt,{Lj:()=>$e,X3:()=>Bt});var y=P(5861);const _=(ve,we)=>we.some(We=>ve instanceof We);let re,se;const G=new WeakMap,Ve=new WeakMap,Ce=new WeakMap,he=new WeakMap,ne=new WeakMap;let be={get(ve,we,We){if(ve instanceof IDBTransaction){if("done"===we)return Ve.get(ve);if("objectStoreNames"===we)return ve.objectStoreNames||Ce.get(ve);if("store"===we)return We.objectStoreNames[1]?void 0:We.objectStore(We.objectStoreNames[0])}return ke(ve[we])},set:(ve,we,We)=>(ve[we]=We,!0),has:(ve,we)=>ve instanceof IDBTransaction&&("done"===we||"store"===we)||we in ve};function ce(ve){return"function"==typeof ve?function ut(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...we){return ve.apply(St(this),we),ke(G.get(this))}:function(...we){return ke(ve.apply(St(this),we))}:function(we,...We){const lt=ve.call(St(this),we,...We);return Ce.set(lt,we.sort?we.sort():[we]),ke(lt)}}(ve):(ve instanceof IDBTransaction&&function Ne(ve){if(Ve.has(ve))return;const we=new Promise((We,lt)=>{const it=()=>{ve.removeEventListener("complete",ht),ve.removeEventListener("error",It),ve.removeEventListener("abort",It)},ht=()=>{We(),it()},It=()=>{lt(ve.error||new DOMException("AbortError","AbortError")),it()};ve.addEventListener("complete",ht),ve.addEventListener("error",It),ve.addEventListener("abort",It)});Ve.set(ve,we)}(ve),_(ve,function xe(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,be):ve)}function ke(ve){if(ve instanceof IDBRequest)return function me(ve){const we=new Promise((We,lt)=>{const it=()=>{ve.removeEventListener("success",ht),ve.removeEventListener("error",It)},ht=()=>{We(ke(ve.result)),it()},It=()=>{lt(ve.error),it()};ve.addEventListener("success",ht),ve.addEventListener("error",It)});return we.then(We=>{We instanceof IDBCursor&&G.set(We,ve)}).catch(()=>{}),ne.set(we,ve),we}(ve);if(he.has(ve))return he.get(ve);const we=ce(ve);return we!==ve&&(he.set(ve,we),ne.set(we,ve)),we}const St=ve=>ne.get(ve);function Bt(ve,we,{blocked:We,upgrade:lt,blocking:it,terminated:ht}={}){const It=indexedDB.open(ve,we),an=ke(It);return lt&&It.addEventListener("upgradeneeded",dt=>{lt(ke(It.result),dt.oldVersion,dt.newVersion,ke(It.transaction))}),We&&It.addEventListener("blocked",()=>We()),an.then(dt=>{ht&&dt.addEventListener("close",()=>ht()),it&&dt.addEventListener("versionchange",()=>it())}).catch(()=>{}),an}function $e(ve,{blocked:we}={}){const We=indexedDB.deleteDatabase(ve);return we&&We.addEventListener("blocked",()=>we()),ke(We).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],z=new Map;function Re(ve,we){if(!(ve instanceof IDBDatabase)||we in ve||"string"!=typeof we)return;if(z.get(we))return z.get(we);const We=we.replace(/FromIndex$/,""),lt=we!==We,it=je.includes(We);if(!(We in(lt?IDBIndex:IDBObjectStore).prototype)||!it&&!Ee.includes(We))return;const ht=function(){var It=(0,y.Z)(function*(an,...dt){const Me=this.transaction(an,it?"readwrite":"readonly");let Q=Me.store;return lt&&(Q=Q.index(dt.shift())),(yield Promise.all([Q[We](...dt),it&&Me.done]))[0]});return function(dt){return It.apply(this,arguments)}}();return z.set(we,ht),ht}!function qe(ve){be=ve(be)}(ve=>({...ve,get:(we,We,lt)=>Re(we,We)||ve.get(we,We,lt),has:(we,We)=>!!Re(we,We)||ve.has(we,We)}))},7311:(Cn,mt,P)=>{"use strict";P.d(mt,{Br:()=>rr,We:()=>Yr,eh:()=>qr,dr:()=>Br,BJ:()=>dr,oU:()=>$r,cs:()=>ms,yp:()=>fr,YG:()=>Hi,Sm:()=>Sr,PM:()=>Jr,FN:()=>Xr,Dq:()=>Di,W2:()=>pi,x4:()=>hi,Mj:()=>ti,fr:()=>_e,Gu:()=>Fe,gu:()=>Ut,pK:()=>pr,Ie:()=>br,Q$:()=>Xe,q_:()=>pt,ki:()=>_t,jP:()=>nr,t9:()=>q,n0:()=>pe,yq:()=>ge,ZU:()=>ot,UN:()=>Fi,yW:()=>kt,g2:()=>$t,wd:()=>sn,sr:()=>lr,Pc:()=>tl,r4:()=>vs,IN:()=>Ri,SH:()=>qn,t4:()=>Ct,Dh:()=>Cs,YI:()=>ct,Fo:()=>et,QI:()=>$n,j9:()=>tr,yF:()=>bi});var y=P(5861),_=P(5879),re=P(6223),se=P(7582),xe=P(4829),ze=P(5592),G=P(1631),Ve=P(4266),Ce=P(4674),he=P(7400);const ne=["addListener","removeListener"],me=["addEventListener","removeEventListener"],Ne=["on","off"];function be(M,S,g,C){if((0,Ce.m)(g)&&(C=g,g=void 0),C)return be(M,S,g).pipe((0,he.Z)(C));const[U,rt]=function ke(M){return(0,Ce.m)(M.addEventListener)&&(0,Ce.m)(M.removeEventListener)}(M)?me.map(zt=>Qn=>M[zt](S,Qn,g)):function ut(M){return(0,Ce.m)(M.addListener)&&(0,Ce.m)(M.removeListener)}(M)?ne.map(qe(M,S)):function ce(M){return(0,Ce.m)(M.on)&&(0,Ce.m)(M.off)}(M)?Ne.map(qe(M,S)):[];if(!U&&(0,Ve.z)(M))return(0,G.z)(zt=>be(zt,S,g))((0,xe.Xf)(M));if(!U)throw new TypeError("Invalid event target");return new ze.y(zt=>{const Qn=(...zr)=>zt.next(1<zr.length?zr:zr[0]);return U(Qn),()=>rt(Qn)})}function qe(M,S){return g=>C=>M[g](S,C)}var St=P(8645),Bt=P(5619),$e=P(2572),Ee=P(2096),je=P(8857),z=P(1450),Re=P(2181),ve=P(4664),we=P(3997),We=P(6814),it=P(6953);const It=P(7876).i,Me=["*"],Q=["outlet"],de=["tabsInner"],Le=[[["","slot","top"]],"*"],vt=["[slot=top]","*"];function Tt(M,S){if(1&M&&(_.TgZ(0,"div",1),_.GkF(1,2),_.qZA()),2&M){const g=_.oxw();_.xp6(1),_.Q6J("ngTemplateOutlet",g.template)}}const on=M=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(M):"function"==typeof requestAnimationFrame?requestAnimationFrame(M):setTimeout(M);let Xt=(()=>{class M{constructor(g,C){this.injector=g,this.el=C,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(g){this.el.nativeElement.value=this.lastValue=g,Zt(this.el)}handleValueChange(g,C){g===this.el.nativeElement&&(C!==this.lastValue&&(this.lastValue=C,this.onChange(C)),Zt(this.el))}_handleBlurEvent(g){g===this.el.nativeElement&&(this.onTouched(),Zt(this.el))}registerOnChange(g){this.onChange=g}registerOnTouched(g){this.onTouched=g}setDisabledState(g){this.el.nativeElement.disabled=g}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let g;try{g=this.injector.get(re.a5)}catch{}if(!g)return;g.statusChanges&&(this.statusChanges=g.statusChanges.subscribe(()=>Zt(this.el)));const C=g.control;C&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(rt=>{if(typeof C[rt]<"u"){const zt=C[rt].bind(C);C[rt]=(...Qn)=>{zt(...Qn),Zt(this.el)}}})}}return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.zs3),_.Y36(_.SBq))},M.\u0275dir=_.lG2({type:M,hostBindings:function(g,C){1&g&&_.NdJ("ionBlur",function(rt){return C._handleBlurEvent(rt.target)})}}),M})();const Zt=M=>{on(()=>{const S=M.nativeElement,g=null!=S.value&&S.value.toString().length>0,C=Ft(S);Nt(S,C);const U=S.closest("ion-item");U&&Nt(U,g?[...C,"item-has-value"]:C)})},Ft=M=>{const S=M.classList,g=[];for(let C=0;C<S.length;C++){const U=S.item(C);null!==U&&tn(U,"ng-")&&g.push(`ion-${U.substring(3)}`)}return g},Nt=(M,S)=>{const g=M.classList;g.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),g.add(...S)},tn=(M,S)=>M.substring(0,S.length)===S;let $n=(()=>{class M extends Xt{constructor(g,C){super(g,C)}_handleChangeEvent(g){this.handleValueChange(g,g.value)}}return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.zs3),_.Y36(_.SBq))},M.\u0275dir=_.lG2({type:M,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(g,C){1&g&&_.NdJ("ionChange",function(rt){return C._handleChangeEvent(rt.target)})},features:[_._Bn([{provide:re.JU,useExisting:M,multi:!0}]),_.qOj]}),M})(),tr=(()=>{class M extends Xt{constructor(g,C){super(g,C)}_handleInputEvent(g){this.handleValueChange(g,g.value)}}return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.zs3),_.Y36(_.SBq))},M.\u0275dir=_.lG2({type:M,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(g,C){1&g&&_.NdJ("ionInput",function(rt){return C._handleInputEvent(rt.target)})},features:[_._Bn([{provide:re.JU,useExisting:M,multi:!0}]),_.qOj]}),M})();const Ar=(M,S)=>{const g=M.prototype;S.forEach(C=>{Object.defineProperty(g,C,{get(){return this.el[C]},set(U){this.z.runOutsideAngular(()=>this.el[C]=U)}})})},Hr=(M,S)=>{const g=M.prototype;S.forEach(C=>{g[C]=function(){const U=arguments;return this.z.runOutsideAngular(()=>this.el[C].apply(this.el,U))}})},sr=(M,S,g)=>{g.forEach(C=>M[C]=be(S,C))};function mn(M){return function(g){const{defineCustomElementFn:C,inputs:U,methods:rt}=M;return void 0!==C&&C(),U&&Ar(g,U),rt&&Hr(g,rt),g}}let Yr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],M),M})(),qr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement,sr(this,this.el,["ionChange"])}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],M),M})(),Br=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-app"]],ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({})],M),M})(),dr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-avatar"]],ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({})],M),M})(),$r=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],M),M})(),fr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","mode"]})],M),M})(),Hi=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement,sr(this,this.el,["ionFocus","ionBlur"])}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],M),M})(),Sr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["collapse"]})],M),M})(),Jr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],M),M})(),Xr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["mode"]})],M),M})(),Di=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","mode"]})],M),M})(),pi=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement,sr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],M),M})(),hi=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement,sr(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],M),M})(),ti=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-datetime-button"]],inputs:{color:"color",datetime:"datetime",disabled:"disabled",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","datetime","disabled","mode"]})],M),M})(),_e=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["collapse","mode","translucent"]})],M),M})(),Fe=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["collapse","mode","translucent"]})],M),M})(),Ut=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],M),M})(),pr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement,sr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],M),M})(),br=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],M),M})(),Xe=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","mode","position"]})],M),M})(),pt=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],M),M})(),q=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement,sr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],M),M})(),pe=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["disabled","value"]})],M),M})(),ge=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","mode","selectedTab","translucent"]})],M),M})(),ot=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],M),M})(),kt=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","mode"]})],M),M})(),$t=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement,sr(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],M),M})(),sn=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","size"]})],M),M})(),lr=(()=>{let M=class{constructor(g,C,U){this.z=U,g.detach(),this.el=C.nativeElement}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(g,C){1&g&&(_.F$t(),_.Hsn(0))},encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["color","mode"]})],M),M})(),wr=(()=>{class M{get(g,C){const U=bt();return U?U.get(g,C):null}getBoolean(g,C){const U=bt();return!!U&&U.getBoolean(g,C)}getNumber(g,C){const U=bt();return U?U.getNumber(g,C):0}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const ft=new _.OlP("USERCONFIG"),bt=()=>{if(typeof window<"u"){const M=window.Ionic;if(null!=M&&M.config)return M.config}return null};let Ct=(()=>{class M{constructor(g,C){this.doc=g,this.backButton=new St.x,this.keyboardDidShow=new St.x,this.keyboardDidHide=new St.x,this.pause=new St.x,this.resume=new St.x,this.resize=new St.x,C.run(()=>{var U;let rt;this.win=g.defaultView,this.backButton.subscribeWithPriority=function(zt,Qn){return this.subscribe(zr=>zr.register(zt,Ii=>C.run(()=>Qn(Ii))))},Nn(this.pause,g,"pause"),Nn(this.resume,g,"resume"),Nn(this.backButton,g,"ionBackButton"),Nn(this.resize,this.win,"resize"),Nn(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Nn(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(zt=>{rt=zt}),null!==(U=this.win)&&void 0!==U&&U.cordova?g.addEventListener("deviceready",()=>{rt("cordova")},{once:!0}):rt("dom")})}is(g){return(0,z.n$)(this.win,g)}platforms(){return(0,z.AK)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(g){return dn(this.win.location.href,g)}isLandscape(){return!this.isPortrait()}isPortrait(){var g,C;return null===(g=(C=this.win).matchMedia)||void 0===g?void 0:g.call(C,"(orientation: portrait)").matches}testUserAgent(g){const C=this.win.navigator;return!!(null!=C&&C.userAgent&&C.userAgent.indexOf(g)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return M.\u0275fac=function(g){return new(g||M)(_.LFG(We.K0),_.LFG(_.R0b))},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const dn=(M,S)=>{S=S.replace(/[[\]\\]/g,"\\$&");const C=new RegExp("[\\?&]"+S+"=([^&#]*)").exec(M);return C?decodeURIComponent(C[1].replace(/\+/g," ")):null},Nn=(M,S,g)=>{S&&S.addEventListener(g,C=>{M.next(null!=C?C.detail:void 0)})};let qn=(()=>{class M{constructor(g,C,U,rt){this.location=C,this.serializer=U,this.router=rt,this.direction=Pn,this.animated=Xn,this.guessDirection="forward",this.lastNavId=-1,rt&&rt.events.subscribe(zt=>{if(zt instanceof je.OD){const Qn=zt.restoredState?zt.restoredState.navigationId:zt.id;this.guessDirection=Qn<this.lastNavId?"back":"forward",this.guessAnimation=zt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?zt.id:Qn}}),g.backButton.subscribeWithPriority(0,zt=>{this.pop(),zt()})}navigateForward(g,C={}){return this.setDirection("forward",C.animated,C.animationDirection,C.animation),this.navigate(g,C)}navigateBack(g,C={}){return this.setDirection("back",C.animated,C.animationDirection,C.animation),this.navigate(g,C)}navigateRoot(g,C={}){return this.setDirection("root",C.animated,C.animationDirection,C.animation),this.navigate(g,C)}back(g={animated:!0,animationDirection:"back"}){return this.setDirection("back",g.animated,g.animationDirection,g.animation),this.location.back()}pop(){var g=this;return(0,y.Z)(function*(){let C=g.topOutlet;for(;C;){if(yield C.pop())return!0;C=C.parentOutlet}return!1})()}setDirection(g,C,U,rt){this.direction=g,this.animated=kn(g,C,U),this.animationBuilder=rt}setTopOutlet(g){this.topOutlet=g}consumeTransition(){let C,g="root";const U=this.animationBuilder;return"auto"===this.direction?(g=this.guessDirection,C=this.guessAnimation):(C=this.animated,g=this.direction),this.direction=Pn,this.animated=Xn,this.animationBuilder=void 0,{direction:g,animation:C,animationBuilder:U}}navigate(g,C){if(Array.isArray(g))return this.router.navigate(g,C);{const U=this.serializer.parse(g.toString());return void 0!==C.queryParams&&(U.queryParams={...C.queryParams}),void 0!==C.fragment&&(U.fragment=C.fragment),this.router.navigateByUrl(U,C)}}}return M.\u0275fac=function(g){return new(g||M)(_.LFG(Ct),_.LFG(We.Ye),_.LFG(je.Hx),_.LFG(je.F0,8))},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const kn=(M,S,g)=>{if(!1!==S){if(void 0!==g)return g;if("forward"===M||"back"===M)return M;if("root"===M&&!0===S)return"forward"}},Pn="auto",Xn=void 0;class vi{constructor(S={}){this.data=S}get(S){return this.data[S]}}let Os=(()=>{class M{constructor(){this.zone=(0,_.f3M)(_.R0b),this.applicationRef=(0,_.f3M)(_.z2F)}create(g,C,U){return new yi(g,C,this.applicationRef,this.zone,U)}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac}),M})();class yi{constructor(S,g,C,U,rt){this.environmentInjector=S,this.injector=g,this.applicationRef=C,this.zone=U,this.elementReferenceKey=rt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(S,g,C,U){return this.zone.run(()=>new Promise(rt=>{const zt={...C};void 0!==this.elementReferenceKey&&(zt[this.elementReferenceKey]=S),rt(ji(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,S,g,zt,U,this.elementReferenceKey))}))}removeViewFromDom(S,g){return this.zone.run(()=>new Promise(C=>{const U=this.elRefMap.get(g);if(U){U.destroy(),this.elRefMap.delete(g);const rt=this.elEventsMap.get(g);rt&&(rt(),this.elEventsMap.delete(g))}C()}))}}const ji=(M,S,g,C,U,rt,zt,Qn,zr,Ii,Gs)=>{const mo=_.zs3.create({providers:_r(zr),parent:g}),Ws=(0,_.LMc)(Qn,{environmentInjector:S,elementInjector:mo}),oo=Ws.instance,Io=Ws.location.nativeElement;if(zr&&(Gs&&void 0!==oo[Gs]&&console.error(`[Ionic Error]: ${Gs} is a reserved property when using ${zt.tagName.toLowerCase()}. Rename or remove the "${Gs}" property from ${Qn.name}.`),Object.assign(oo,zr)),Ii)for(const Ho of Ii)Io.classList.add(Ho);const Xo=Is(M,oo,Io);return zt.appendChild(Io),C.attachView(Ws.hostView),U.set(Io,Ws),rt.set(Io,Xo),Io},Ti=[z.kx,z.re,z.EQ,z.Jd,z.F8],Is=(M,S,g)=>M.run(()=>{const C=Ti.filter(U=>"function"==typeof S[U]).map(U=>{const rt=zt=>S[U](zt.detail);return g.addEventListener(U,rt),()=>g.removeEventListener(U,rt)});return()=>C.forEach(U=>U())}),ws=new _.OlP("NavParamsToken"),_r=M=>[{provide:ws,useValue:M},{provide:vi,useFactory:Ns,deps:[ws]}],Ns=M=>new vi(M),js=(M,S)=>((M=M.filter(g=>g.stackId!==S.stackId)).push(S),M),yt=(M,S)=>{const g=M.createUrlTree(["."],{relativeTo:S});return M.serializeUrl(g)},at=(M,S)=>{if(!M)return;const g=Gt(S);for(let C=0;C<g.length;C++){if(C>=M.length)return g[C];if(g[C]!==M[C])return}},Gt=M=>M.split("/").map(S=>S.trim()).filter(S=>""!==S),cn=M=>{M&&(M.ref.destroy(),M.unlistenEvents())};class _n{constructor(S,g,C,U,rt,zt){this.containerEl=g,this.router=C,this.navCtrl=U,this.zone=rt,this.location=zt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==S?Gt(S):void 0}createView(S,g){var C;const U=yt(this.router,g),rt=null==S||null===(C=S.location)||void 0===C?void 0:C.nativeElement,zt=Is(this.zone,S.instance,rt);return{id:this.nextId++,stackId:at(this.tabsPrefix,U),unlistenEvents:zt,element:rt,ref:S,url:U}}getExistingView(S){const g=yt(this.router,S),C=this.views.find(U=>U.url===g);return C&&C.ref.changeDetectorRef.reattach(),C}setActive(S){var g,C;const U=this.navCtrl.consumeTransition();let{direction:rt,animation:zt,animationBuilder:Qn}=U;const zr=this.activeView,Ii=((M,S)=>!S||M.stackId!==S.stackId)(S,zr);Ii&&(rt="back",zt=void 0);const Gs=this.views.slice();let mo;const Ws=this.router;Ws.getCurrentNavigation?mo=Ws.getCurrentNavigation():null!==(g=Ws.navigations)&&void 0!==g&&g.value&&(mo=Ws.navigations.value),null!==(C=mo)&&void 0!==C&&null!==(C=C.extras)&&void 0!==C&&C.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const oo=this.views.includes(S),Io=this.insertView(S,rt);oo||S.ref.changeDetectorRef.detectChanges();const Xo=S.animationBuilder;return void 0===Qn&&"back"===rt&&!Ii&&void 0!==Xo&&(Qn=Xo),zr&&(zr.animationBuilder=Qn),this.zone.runOutsideAngular(()=>this.wait(()=>(zr&&zr.ref.changeDetectorRef.detach(),S.ref.changeDetectorRef.reattach(),this.transition(S,zr,zt,this.canGoBack(1),!1,Qn).then(()=>er(S,Io,Gs,this.location,this.zone)).then(()=>({enteringView:S,direction:rt,animation:zt,tabSwitch:Ii})))))}canGoBack(S,g=this.getActiveStackId()){return this.getStack(g).length>S}pop(S,g=this.getActiveStackId()){return this.zone.run(()=>{const C=this.getStack(g);if(C.length<=S)return Promise.resolve(!1);const U=C[C.length-S-1];let rt=U.url;const zt=U.savedData;if(zt){var Qn;const Ii=zt.get("primary");null!=Ii&&null!==(Qn=Ii.route)&&void 0!==Qn&&null!==(Qn=Qn._routerState)&&void 0!==Qn&&Qn.snapshot.url&&(rt=Ii.route._routerState.snapshot.url)}const{animationBuilder:zr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(rt,{...U.savedExtras,animation:zr}).then(()=>!0)})}startBackTransition(){const S=this.activeView;if(S){const g=this.getStack(S.stackId),C=g[g.length-2],U=C.animationBuilder;return this.wait(()=>this.transition(C,S,"back",this.canGoBack(2),!0,U))}return Promise.resolve()}endBackTransition(S){S?(this.skipTransition=!0,this.pop(1)):this.activeView&&Or(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(S){const g=this.getStack(S);return g.length>0?g[g.length-1]:void 0}getRootUrl(S){const g=this.getStack(S);return g.length>0?g[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(cn),this.activeView=void 0,this.views=[]}getStack(S){return this.views.filter(g=>g.stackId===S)}insertView(S,g){return this.activeView=S,this.views=((M,S,g)=>"root"===g?js(M,S):"forward"===g?((M,S)=>(M.indexOf(S)>=0?M=M.filter(C=>C.stackId!==S.stackId||C.id<=S.id):M.push(S),M))(M,S):((M,S)=>M.indexOf(S)>=0?M.filter(C=>C.stackId!==S.stackId||C.id<=S.id):js(M,S))(M,S))(this.views,S,g),this.views.slice()}transition(S,g,C,U,rt,zt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(g===S)return Promise.resolve(!1);const Qn=S?S.element:void 0,zr=g?g.element:void 0,Ii=this.containerEl;return Qn&&Qn!==zr&&(Qn.classList.add("ion-page"),Qn.classList.add("ion-page-invisible"),Qn.parentElement!==Ii&&Ii.appendChild(Qn),Ii.commit)?Ii.commit(Qn,zr,{duration:void 0===C?0:void 0,direction:C,showGoBack:U,progressAnimation:rt,animationBuilder:zt}):Promise.resolve(!1)}wait(S){var g=this;return(0,y.Z)(function*(){void 0!==g.runningTask&&(yield g.runningTask,g.runningTask=void 0);const C=g.runningTask=S();return C.finally(()=>g.runningTask=void 0),C})()}}const er=(M,S,g,C,U)=>"function"==typeof requestAnimationFrame?new Promise(rt=>{requestAnimationFrame(()=>{Or(M,S,g,C,U),rt()})}):Promise.resolve(),Or=(M,S,g,C,U)=>{U.run(()=>g.filter(rt=>!S.includes(rt)).forEach(cn)),S.forEach(rt=>{const Qn=C.path().split("?")[0].split("#")[0];if(rt!==M&&rt.url!==Qn){const zr=rt.element;zr.setAttribute("aria-hidden","true"),zr.classList.add("ion-page-hidden"),rt.ref.changeDetectorRef.detach()}})};let nr=(()=>{class M{constructor(g,C,U,rt,zt,Qn,zr,Ii){this.parentOutlet=Ii,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Bt.X(null),this.activated=null,this._activatedRoute=null,this.name=je.eC,this.stackEvents=new _.vpe,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.parentContexts=(0,_.f3M)(je.y6),this.location=(0,_.f3M)(_.s_b),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)(Ai,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,_.f3M)(wr),this.navCtrl=(0,_.f3M)(qn),this.nativeEl=rt.nativeElement,this.name=g||je.eC,this.tabsPrefix="true"===C?yt(zt,zr):void 0,this.stackCtrl=new _n(this.tabsPrefix,this.nativeEl,zt,this.navCtrl,Qn,U),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(g){this.nativeEl.animation=g}set animated(g){this.nativeEl.animated=g}set swipeGesture(g){this._swipeGesture=g,this.nativeEl.swipeHandler=g?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:C=>this.stackCtrl.endBackTransition(C)}:void 0}ngOnDestroy(){var g;this.stackCtrl.destroy(),null===(g=this.inputBinder)||void 0===g||g.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const g=this.getContext();null!=g&&g.route&&this.activateWith(g.route,g.injector)}new Promise(g=>(0,z.hh)(this.nativeEl,g)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(g,C){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const C=this.getContext();this.activatedView.savedData=new Map(C.children.contexts);const U=this.activatedView.savedData.get("primary");if(U&&C.route&&(U.route={...C.route}),this.activatedView.savedExtras={},C.route){const rt=C.route.snapshot;this.activatedView.savedExtras.queryParams=rt.queryParams,this.activatedView.savedExtras.fragment=rt.fragment}}const g=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,C){var U;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=g;let rt,zt=this.stackCtrl.getExistingView(g);if(zt){rt=this.activated=zt.ref;const zr=zt.savedData;zr&&(this.getContext().children.contexts=zr),this.updateActivatedRouteProxy(rt.instance,g)}else{var Qn;const zr=g._futureSnapshot,Ii=this.parentContexts.getOrCreateContext(this.name).children,Gs=new Bt.X(null),mo=this.createActivatedRouteProxy(Gs,g),Ws=new Ki(mo,Ii,this.location.injector),oo=null!==(Qn=zr.routeConfig.component)&&void 0!==Qn?Qn:zr.component;rt=this.activated=this.location.createComponent(oo,{index:this.location.length,injector:Ws,environmentInjector:null!=C?C:this.environmentInjector}),Gs.next(rt.instance),zt=this.stackCtrl.createView(this.activated,g),this.proxyMap.set(rt.instance,mo),this.currentActivatedRoute$.next({component:rt.instance,activatedRoute:g})}null===(U=this.inputBinder)||void 0===U||U.bindActivatedRouteToOutletComponent(this),this.activatedView=zt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(zt).then(zr=>{this.activateEvents.emit(rt.instance),this.stackEvents.emit(zr)})}canGoBack(g=1,C){return this.stackCtrl.canGoBack(g,C)}pop(g=1,C){return this.stackCtrl.pop(g,C)}getLastUrl(g){const C=this.stackCtrl.getLastUrl(g);return C?C.url:void 0}getLastRouteView(g){return this.stackCtrl.getLastUrl(g)}getRootView(g){return this.stackCtrl.getRootUrl(g)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(g,C){const U=new je.gz;return U._futureSnapshot=C._futureSnapshot,U._routerState=C._routerState,U.snapshot=C.snapshot,U.outlet=C.outlet,U.component=C.component,U._paramMap=this.proxyObservable(g,"paramMap"),U._queryParamMap=this.proxyObservable(g,"queryParamMap"),U.url=this.proxyObservable(g,"url"),U.params=this.proxyObservable(g,"params"),U.queryParams=this.proxyObservable(g,"queryParams"),U.fragment=this.proxyObservable(g,"fragment"),U.data=this.proxyObservable(g,"data"),U}proxyObservable(g,C){return g.pipe((0,Re.h)(U=>!!U),(0,ve.w)(U=>this.currentActivatedRoute$.pipe((0,Re.h)(rt=>null!==rt&&rt.component===U),(0,ve.w)(rt=>rt&&rt.activatedRoute[C]),(0,we.x)())))}updateActivatedRouteProxy(g,C){const U=this.proxyMap.get(g);if(!U)throw new Error("Could not find activated route proxy for view");U._futureSnapshot=C._futureSnapshot,U._routerState=C._routerState,U.snapshot=C.snapshot,U.outlet=C.outlet,U.component=C.component,this.currentActivatedRoute$.next({component:g,activatedRoute:C})}}return M.\u0275fac=function(g){return new(g||M)(_.$8M("name"),_.$8M("tabs"),_.Y36(We.Ye),_.Y36(_.SBq),_.Y36(je.F0),_.Y36(_.R0b),_.Y36(je.gz),_.Y36(M,12))},M.\u0275dir=_.lG2({type:M,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),M})();class Ki{constructor(S,g,C){this.route=S,this.childContexts=g,this.parent=C}get(S,g){return S===je.gz?this.route:S===je.y6?this.childContexts:this.parent.get(S,g)}}const Ai=new _.OlP("");let Mi=(()=>{class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(g){this.unsubscribeFromRouteData(g),this.subscribeToRouteData(g)}unsubscribeFromRouteData(g){var C;null===(C=this.outletDataSubscriptions.get(g))||void 0===C||C.unsubscribe(),this.outletDataSubscriptions.delete(g)}subscribeToRouteData(g){const{activatedRoute:C}=g,U=(0,$e.a)([C.queryParams,C.params,C.data]).pipe((0,ve.w)(([rt,zt,Qn],zr)=>(Qn={...rt,...zt,...Qn},0===zr?(0,Ee.of)(Qn):Promise.resolve(Qn)))).subscribe(rt=>{if(!g.isActivated||!g.activatedComponentRef||g.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(g);const zt=(0,_.qFp)(C.component);if(zt)for(const{templateName:Qn}of zt.inputs)g.activatedComponentRef.setInput(Qn,rt[Qn]);else this.unsubscribeFromRouteData(g)});this.outletDataSubscriptions.set(g,U)}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac}),M})(),Fi=(()=>{class M{constructor(g){this.navCtrl=g,this.ionTabsWillChange=new _.vpe,this.ionTabsDidChange=new _.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onPageSelected(g){const C=g.enteringView.stackId;g.tabSwitch&&void 0!==C&&(this.ionTabsWillChange.emit({tab:C}),this.tabBar&&(this.tabBar.selectedTab=C),this.ionTabsDidChange.emit({tab:C}))}select(g){const C="string"==typeof g,U=C?g:g.detail.tab,rt=this.outlet.getActiveStackId()===U,zt=`${this.outlet.tabsPrefix}/${U}`;if(C||g.stopPropagation(),rt){const Qn=this.outlet.getActiveStackId(),zr=this.outlet.getLastRouteView(Qn);if((null==zr?void 0:zr.url)===zt)return;const Ii=this.outlet.getRootView(U);return this.navCtrl.navigateRoot(zt,{...Ii&&zt===Ii.url&&Ii.savedExtras,animated:!0,animationDirection:"back"})}{const Qn=this.outlet.getLastRouteView(U);return this.navCtrl.navigateRoot((null==Qn?void 0:Qn.url)||zt,{...null==Qn?void 0:Qn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(g=>{const C=g.el.getAttribute("slot");C!==this.tabBarSlot&&(this.tabBarSlot=C,this.relocateTabBar())})}relocateTabBar(){const g=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(g):this.tabsInner.nativeElement.after(g)}}return M.\u0275fac=function(g){return new(g||M)(_.Y36(qn))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-tabs"]],contentQueries:function(g,C,U){if(1&g&&(_.Suo(U,ge,5),_.Suo(U,ge,4)),2&g){let rt;_.iGM(rt=_.CRH())&&(C.tabBar=rt.first),_.iGM(rt=_.CRH())&&(C.tabBars=rt)}},viewQuery:function(g,C){if(1&g&&(_.Gf(Q,5,nr),_.Gf(de,7,_.SBq)),2&g){let U;_.iGM(U=_.CRH())&&(C.outlet=U.first),_.iGM(U=_.CRH())&&(C.tabsInner=U.first)}},hostBindings:function(g,C){1&g&&_.NdJ("ionTabButtonClick",function(rt){return C.select(rt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:vt,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(g,C){1&g&&(_.F$t(Le),_.Hsn(0),_.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),_.NdJ("stackEvents",function(rt){return C.onPageSelected(rt)}),_.qZA()(),_.Hsn(5,1))},dependencies:[nr],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),M})(),ms=(()=>{class M{constructor(g,C,U){this.routerOutlet=g,this.navCtrl=C,this.config=U}onClick(g){var C;const U=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(C=this.routerOutlet)&&void 0!==C&&C.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),g.preventDefault()):null!=U&&(this.navCtrl.navigateBack(U,{animation:this.routerAnimation}),g.preventDefault())}}return M.\u0275fac=function(g){return new(g||M)(_.Y36(nr,8),_.Y36(qn),_.Y36(wr))},M.\u0275dir=_.lG2({type:M,selectors:[["ion-back-button"]],hostBindings:function(g,C){1&g&&_.NdJ("click",function(rt){return C.onClick(rt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),M})(),ct=(()=>{class M{constructor(g,C,U,rt,zt){this.locationStrategy=g,this.navCtrl=C,this.elementRef=U,this.router=rt,this.routerLink=zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var g;if(null!==(g=this.routerLink)&&void 0!==g&&g.urlTree){const C=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=C}}onClick(g){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),g.preventDefault()}}return M.\u0275fac=function(g){return new(g||M)(_.Y36(We.S$),_.Y36(qn),_.Y36(_.SBq),_.Y36(je.F0),_.Y36(je.rH,8))},M.\u0275dir=_.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(g,C){1&g&&_.NdJ("click",function(rt){return C.onClick(rt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[_.TTD]}),M})(),et=(()=>{class M{constructor(g,C,U,rt,zt){this.locationStrategy=g,this.navCtrl=C,this.elementRef=U,this.router=rt,this.routerLink=zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var g;if(null!==(g=this.routerLink)&&void 0!==g&&g.urlTree){const C=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=C}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return M.\u0275fac=function(g){return new(g||M)(_.Y36(We.S$),_.Y36(qn),_.Y36(_.SBq),_.Y36(je.F0),_.Y36(je.rH,8))},M.\u0275dir=_.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(g,C){1&g&&_.NdJ("click",function(){return C.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[_.TTD]}),M})(),_t=(()=>{let M=class{constructor(g,C,U){this.z=U,this.isCmpOpen=!1,this.el=C.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,g.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,g.detectChanges()}),sr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return M.\u0275fac=function(g){return new(g||M)(_.Y36(_.sBO),_.Y36(_.SBq),_.Y36(_.R0b))},M.\u0275cmp=_.Xpm({type:M,selectors:[["ion-modal"]],contentQueries:function(g,C,U){if(1&g&&_.Suo(U,_.Rgc,5),2&g){let rt;_.iGM(rt=_.CRH())&&(C.template=rt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(g,C){1&g&&_.YNc(0,Tt,2,1,"div",0),2&g&&_.Q6J("ngIf",C.isCmpOpen||C.keepContentsMounted)},dependencies:[We.O5,We.tP],encapsulation:2,changeDetection:0}),M=(0,se.gn)([mn({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],M),M})();class un{constructor(S){this.ctrl=S}create(S){return this.ctrl.create(S||{})}dismiss(S,g,C){return this.ctrl.dismiss(S,g,C)}getTop(){return this.ctrl.getTop()}}let rr=(()=>{class M extends un{constructor(){super(z.Cl)}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Ri=(()=>{class M extends un{constructor(){super(z.Fy),this.angularDelegate=(0,_.f3M)(Os),this.injector=(0,_.f3M)(_.zs3),this.environmentInjector=(0,_.f3M)(_.lqb)}create(g){return super.create({...g,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac}),M})(),Cs=(()=>{class M extends un{constructor(){super(z.oq),this.angularDelegate=(0,_.f3M)(Os),this.injector=(0,_.f3M)(_.zs3),this.environmentInjector=(0,_.f3M)(_.lqb)}create(g){return super.create({...g,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac}),M})(),bi=(()=>{class M extends un{constructor(){super(z.Mn)}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();class vs{shouldDetach(S){return!1}shouldAttach(S){return!1}store(S,g){}retrieve(S){return null}shouldReuseRoute(S,g){if(S.routeConfig!==g.routeConfig)return!1;const C=S.params,U=g.params,rt=Object.keys(C),zt=Object.keys(U);if(rt.length!==zt.length)return!1;for(const Qn of rt)if(U[Qn]!==C[Qn])return!1;return!0}}const Es=(M,S,g)=>()=>{if(S.defaultView&&typeof window<"u"){(0,z.qc)({...M,_zoneGate:rt=>g.run(rt)});const U="__zone_symbol__addEventListener"in S.body?"__zone_symbol__addEventListener":"addEventListener";return function lt(){var M=[];if(typeof window<"u"){var S=window;(!S.customElements||S.Element&&(!S.Element.prototype.closest||!S.Element.prototype.matches||!S.Element.prototype.remove||!S.Element.prototype.getRootNode))&&M.push(P.e(6748).then(P.t.bind(P,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||S.NodeList&&!S.NodeList.prototype.forEach||!S.fetch||!function(){try{var C=new URL("b","http://a");return C.pathname="c%20d","http://a/c%20d"===C.href&&C.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&M.push(P.e(2214).then(P.t.bind(P,2668,23)))}return Promise.all(M)}().then(()=>((M,S)=>typeof window>"u"?Promise.resolve():(0,it.p)().then(()=>(It(),(0,it.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),S))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:on,jmp:rt=>g.runOutsideAngular(rt),ael(rt,zt,Qn,zr){rt[U](zt,Qn,zr)},rel(rt,zt,Qn,zr){rt.removeEventListener(zt,Qn,zr)}}))}};let tl=(()=>{class M{static forRoot(g){return{ngModule:M,providers:[{provide:ft,useValue:g},{provide:_.ip1,useFactory:Es,multi:!0,deps:[ft,We.K0,_.R0b]},{provide:Ai,useFactory:Ro,deps:[je.F0]}]}}}return M.\u0275fac=function(g){return new(g||M)},M.\u0275mod=_.oAB({type:M}),M.\u0275inj=_.cJS({providers:[Os,Ri,Cs],imports:[We.ez]}),M})();function Ro(M){return null!=M&&M.componentInputBindingEnabled?new Mi:null}},5861:(Cn,mt,P)=>{"use strict";function y(re,se,xe,ze,G,Ve,Ce){try{var he=re[Ve](Ce),ne=he.value}catch(me){return void xe(me)}he.done?se(ne):Promise.resolve(ne).then(ze,G)}function _(re){return function(){var se=this,xe=arguments;return new Promise(function(ze,G){var Ve=re.apply(se,xe);function Ce(ne){y(Ve,ze,G,Ce,he,"next",ne)}function he(ne){y(Ve,ze,G,Ce,he,"throw",ne)}Ce(void 0)})}}P.d(mt,{Z:()=>_})},7582:(Cn,mt,P)=>{"use strict";function se(Q,de){var Le={};for(var vt in Q)Object.prototype.hasOwnProperty.call(Q,vt)&&de.indexOf(vt)<0&&(Le[vt]=Q[vt]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Tt=0;for(vt=Object.getOwnPropertySymbols(Q);Tt<vt.length;Tt++)de.indexOf(vt[Tt])<0&&Object.prototype.propertyIsEnumerable.call(Q,vt[Tt])&&(Le[vt[Tt]]=Q[vt[Tt]])}return Le}function xe(Q,de,Le,vt){var on,Tt=arguments.length,xt=Tt<3?de:null===vt?vt=Object.getOwnPropertyDescriptor(de,Le):vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xt=Reflect.decorate(Q,de,Le,vt);else for(var Xt=Q.length-1;Xt>=0;Xt--)(on=Q[Xt])&&(xt=(Tt<3?on(xt):Tt>3?on(de,Le,xt):on(de,Le))||xt);return Tt>3&&xt&&Object.defineProperty(de,Le,xt),xt}function me(Q,de,Le,vt){return new(Le||(Le=Promise))(function(xt,on){function Xt(Nt){try{Ft(vt.next(Nt))}catch(tn){on(tn)}}function Zt(Nt){try{Ft(vt.throw(Nt))}catch(tn){on(tn)}}function Ft(Nt){Nt.done?xt(Nt.value):function Tt(xt){return xt instanceof Le?xt:new Le(function(on){on(xt)})}(Nt.value).then(Xt,Zt)}Ft((vt=vt.apply(Q,de||[])).next())})}function $e(Q){return this instanceof $e?(this.v=Q,this):new $e(Q)}function Ee(Q,de,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,vt=Le.apply(Q,de||[]),xt=[];return Tt={},on("next"),on("throw"),on("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt;function on(nn){vt[nn]&&(Tt[nn]=function(xn){return new Promise(function(Bn,$n){xt.push([nn,xn,Bn,$n])>1||Xt(nn,xn)})})}function Xt(nn,xn){try{!function Zt(nn){nn.value instanceof $e?Promise.resolve(nn.value.v).then(Ft,Nt):tn(xt[0][2],nn)}(vt[nn](xn))}catch(Bn){tn(xt[0][3],Bn)}}function Ft(nn){Xt("next",nn)}function Nt(nn){Xt("throw",nn)}function tn(nn,xn){nn(xn),xt.shift(),xt.length&&Xt(xt[0][0],xt[0][1])}}function z(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,de=Q[Symbol.asyncIterator];return de?de.call(Q):(Q=function ut(Q){var de="function"==typeof Symbol&&Symbol.iterator,Le=de&&Q[de],vt=0;if(Le)return Le.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&vt>=Q.length&&(Q=void 0),{value:Q&&Q[vt++],done:!Q}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),Le={},vt("next"),vt("throw"),vt("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function vt(xt){Le[xt]=Q[xt]&&function(on){return new Promise(function(Xt,Zt){!function Tt(xt,on,Xt,Zt){Promise.resolve(Zt).then(function(Ft){xt({value:Ft,done:Xt})},on)}(Xt,Zt,(on=Q[xt](on)).done,on.value)})}}}P.d(mt,{FC:()=>Ee,KL:()=>z,_T:()=>se,gn:()=>xe,mG:()=>me,qq:()=>$e}),"function"==typeof SuppressedError&&SuppressedError}},Cn=>{Cn(Cn.s=7978)}]);