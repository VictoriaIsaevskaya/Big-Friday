"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4492],{4492:(I,m,a)=>{a.r(m),a.d(m,{DashboardModule:()=>G});var f=a(6814),s=a(6223),g=a(8857),i=a(7311),p=a(2884),o=a(5879);let b=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[f.ez,s.u5,i.Pc,s.UX,p.q]}),n})();var y=a(5861),v=a(8645),x=a(9773),P=a(9397);let _=(()=>{class n{constructor(r){this.popoverController=r}closePopover(){this.popoverController.dismiss()}}return n.\u0275fac=function(r){return new(r||n)(o.Y36(i.Dh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-expandable-text"]],inputs:{text:"text"},standalone:!0,features:[o.jDz],decls:3,vars:1,template:function(r,t){1&r&&(o.TgZ(0,"ion-list")(1,"ion-item"),o._uU(2),o.qZA()()),2&r&&(o.xp6(2),o.hij(" ",t.text," "))},dependencies:[i.Pc,i.Ie,i.q_,f.ez,g.Bz],styles:["[_ngcontent-%COMP%]:root{--ion-background-color: #e0e0e0;--ion-color-primary: #a17d63;--ion-text-color-primary: #4b2e36;--ion-text-color-secondary: #7d402e;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: ghostwhite;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}@media (prefers-color-scheme: dark){body[_ngcontent-%COMP%]{color-scheme:light}}ion-list[_ngcontent-%COMP%]{--background: var(--ion-color-dark);--ion-item-background: var(--ion-color-dark);--ion-color-base: var(--ion-color-secondary-contrast);border:1px solid rgba(255,255,255,.1);box-shadow:0 4px 6px #0000001a;border-radius:5px}ion-item[_ngcontent-%COMP%]{--color: var(--ion-color-light);--padding-start: 20px;--padding-end: 20px;--min-height: 50px}ion-item[_ngcontent-%COMP%]:hover{--background: var(--ion-color-dark-shade)}ion-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid rgba(255,255,255,.1)}"]}),n})(),u=(()=>{class n{constructor(r){this.el=r}}return n.\u0275fac=function(r){return new(r||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","appOverflowCheck",""]],standalone:!0}),n})();var C=a(5945),h=a(7140),k=a(4666);const w=["popover"],F=["fieldInput"];function M(n,e){if(1&n){const r=o.EpF();o.TgZ(0,"ion-icon",16),o.NdJ("click",function(c){o.CHM(r);const l=o.oxw().$implicit,d=o.oxw(2);return o.KtG(d.showFullText(c,d.profileForm.get(l.controlName).value))}),o.qZA()}}function O(n,e){if(1&n){const r=o.EpF();o.ynx(0),o.TgZ(1,"ion-item",10),o._UZ(2,"ion-icon",11)(3,"ion-input",12,13),o.YNc(5,M,1,0,"ion-icon",14),o.TgZ(6,"ion-icon",15),o.NdJ("click",function(){const l=o.CHM(r).$implicit,d=o.oxw(2);return o.KtG(d.toggleFieldEdit(l))}),o.qZA()(),o.BQk()}if(2&n){const r=e.$implicit,t=o.oxw(2);o.xp6(2),o.Q6J("name",r.icon),o.xp6(1),o.Q6J("readonly",!r.isEditing)("placeholder",r.placeholder)("formControlName",r.controlName),o.xp6(2),o.Q6J("ngIf",r.isOverflowing&&!t.isEditing),o.xp6(1),o.ekj("active",r.isEditing)}}function T(n,e){if(1&n){const r=o.EpF();o.TgZ(0,"form",7)(1,"ion-list"),o.YNc(2,O,7,7,"ng-container",8),o.qZA(),o.TgZ(3,"ion-button",9),o.NdJ("click",function(){o.CHM(r);const c=o.oxw();return o.KtG(c.saveProfile())}),o._uU(4," Save "),o.qZA()()}if(2&n){const r=o.oxw();o.Q6J("formGroup",r.profileForm),o.xp6(2),o.Q6J("ngForOf",r.formFieldsMap),o.xp6(1),o.Q6J("disabled",!r.formEdited)}}let E=(()=>{class n{ngAfterViewInit(){setTimeout(()=>{this.checkOverflow()},500)}checkOverflow(){this.fieldInputs.toArray().forEach((r,t)=>{const l=r.el.nativeElement.querySelector("input");l&&(this.formFieldsMap[t].isOverflowing=!this.formFieldsMap[t].isEditing&&l.scrollWidth>l.clientWidth)})}constructor(r,t,c){this.fb=r,this.store=t,this.popoverController=c,this.destroy$=new v.x,this.formFieldsMap=C.G,this.formEdited=!1,this.isEditing=!1}ngOnInit(){this.initializeProfileForm(),this.profileForm.valueChanges.pipe((0,x.R)(this.destroy$),(0,P.b)(()=>this.formEdited=!0)).subscribe()}showFullText(r,t){var c=this;return(0,y.Z)(function*(){return yield(yield c.popoverController.create({component:_,event:r,translucent:!0,componentProps:{text:Array.isArray(t)?t.join(" "):t},side:"left",alignment:"start"})).present()})()}initializeProfileForm(){const{username:r,about:t,preferredLanguages:c,interests:l,ageGroup:d}=this.store.selectSnapshot(h.aF.userPreferences);this.profileForm=this.fb.group({about:t,ageGroup:d,username:[r,s.kI.required],preferredLanguages:[c],interests:[l]})}toggleEdit(){this.isEditing=!this.isEditing}saveProfile(){var r;null!==(r=this.profileForm)&&void 0!==r&&r.valid&&(this.store.dispatch(new h.bc({preferences:this.profileForm.value})),this.toggleEdit())}toggleFieldEdit(r){r.isEditing=!r.isEditing,this.checkOverflow()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(r){return new(r||n)(o.Y36(s.qu),o.Y36(k.yh),o.Y36(i.Dh))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(r,t){if(1&r&&(o.Gf(w,5),o.Gf(F,5,u)),2&r){let c;o.iGM(c=o.CRH())&&(t.popover=c.first),o.iGM(c=o.CRH())&&(t.fieldInputs=c)}},decls:9,vars:1,consts:[[1,"form-content"],["pageTitle","Your dashboard","backRedirectionLink","/home"],[1,"form-container"],[1,"intro-text"],[1,"avatar-section"],["src","assets/images/avatar.jpg"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[4,"ngFor","ngForOf"],["expand","block",1,"single-btn","align-block-center",3,"disabled","click"],["lines","none",1,"form-item"],["slot","start","color","primary",3,"name"],["appOverflowCheck","",3,"readonly","placeholder","formControlName"],["fieldInput",""],["class","ellipsis-icon","name","ellipsis-horizontal",3,"click",4,"ngIf"],["name","pencil-outline","slot","end",1,"pencil-icon",3,"click"],["name","ellipsis-horizontal",1,"ellipsis-icon",3,"click"]],template:function(r,t){1&r&&(o.TgZ(0,"ion-content",0),o._UZ(1,"app-page-header",1),o.TgZ(2,"ion-content",2)(3,"p",3),o._uU(4," Update your dashboard information to get a personalized experience. "),o.qZA(),o.TgZ(5,"div",4)(6,"ion-avatar"),o._UZ(7,"img",5),o.qZA()(),o.YNc(8,T,5,3,"form",6),o.qZA()()),2&r&&(o.xp6(8),o.Q6J("ngIf",t.profileForm))},dependencies:[f.sg,f.O5,s._Y,s.JJ,s.JL,i.BJ,i.YG,i.W2,i.gu,i.pK,i.Ie,i.q_,i.j9,s.sg,s.u,p.q,u],styles:["[_ngcontent-%COMP%]:root{--ion-background-color: #e0e0e0;--ion-color-primary: #a17d63;--ion-text-color-primary: #4b2e36;--ion-text-color-secondary: #7d402e;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: ghostwhite;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}@media (prefers-color-scheme: dark){body[_ngcontent-%COMP%]{color-scheme:light}}.error-message[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:.8em;margin-top:5px}.action-button[_ngcontent-%COMP%]{margin-top:10px}.logout-button[_ngcontent-%COMP%]{margin-top:30px}.avatar-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:30px}ion-avatar[_ngcontent-%COMP%]{width:100px;height:100px;border:2px solid var(--ion-color-primary);overflow:hidden}ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.ellipsis-icon[_ngcontent-%COMP%]{margin-top:10px;margin-left:5px}.pencil-icon[_ngcontent-%COMP%]{margin:0;padding:0;opacity:.3}.pencil-icon.active[_ngcontent-%COMP%]{opacity:1}"]}),n})();const Z=[{icon:"pencil-outline",title:"Edit Profile",description:"Click to view and edit your profile details.",link:"profile"},{icon:"calendar-outline",title:"Upcoming Events",description:"Check out events you've marked for the future.",link:"upcoming-events"},{icon:"time-outline",title:"Past Events",description:"Review events you've attended in the past.",link:"past-events"}];function D(n,e){if(1&n){const r=o.EpF();o.TgZ(0,"ion-card",3),o.NdJ("click",function(){const l=o.CHM(r).$implicit,d=o.oxw();return o.KtG(d.goToActivity(l.link))}),o._UZ(1,"ion-icon",4),o.TgZ(2,"ion-card-content")(3,"ion-card-title"),o._uU(4),o.qZA(),o._uU(5),o.qZA()()}if(2&n){const r=e.$implicit;o.xp6(1),o.Q6J("name",r.icon),o.xp6(3),o.Oqu(r.title),o.xp6(1),o.hij(" ",r.description," ")}}const A=[{path:"",component:(()=>{class n{constructor(r){this.router=r,this.dashboardCards=Z}goToActivity(r){this.router.navigate("chats"===r?["chats"]:["/dashboard",r])}}return n.\u0275fac=function(r){return new(r||n)(o.Y36(g.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:3,vars:2,consts:[[3,"fullscreen"],["pageTitle","Dashboard","backRedirectionLink","/home"],["class","activity-card",3,"click",4,"ngFor","ngForOf"],[1,"activity-card",3,"click"],[1,"activity-icon",3,"name"]],template:function(r,t){1&r&&(o.TgZ(0,"ion-content",0),o._UZ(1,"app-page-header",1),o.YNc(2,D,6,3,"ion-card",2),o.qZA()),2&r&&(o.Q6J("fullscreen",!0),o.xp6(2),o.Q6J("ngForOf",t.dashboardCards))},dependencies:[f.sg,i.PM,i.FN,i.Dq,i.W2,i.gu,p.q]}),n})()},{path:"profile",component:E}];let J=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g.Bz.forChild(A),g.Bz]}),n})(),G=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[f.ez,s.u5,i.Pc,J,s.UX,p.q,g.Bz,b]}),n})()}}]);